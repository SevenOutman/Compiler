function d3_scaleExtent(a){var b=a[0],c=a[a.length-1];return c>b?[b,c]:[c,b]}function d3_scaleRange(a){return a.rangeExtent?a.rangeExtent():d3_scaleExtent(a.range())}function d3_svg_axisSubdivide(a,b,c){var i,j,e,f,g,h,d=[];if(c&&b.length>1){for(e=d3_scaleExtent(a.domain()),f=-1,g=b.length,h=(b[1]-b[0])/++c;++f<g;)for(i=c;--i>0;)(j=+b[f]-i*h)>=e[0]&&d.push(j);for(--f,i=0;++i<c&&(j=+b[f]+i*h)<e[1];)d.push(j)}return d}function d3_svg_brushRedrawX(a,b){a.fg.attr({x:b[0][0],width:b[1][0]-b[0][0]}),a.resizerSet.forEach(function(a){var c=a.data("resizeOrient");"n"===c||"s"===c||"w"===c||"nw"===c||"sw"===c?a.attr({x:b[0][0]-2}):a.attr({x:b[1][0]-2}),("n"===c||"s"===c)&&a.attr({width:b[1][0]-b[0][0]})})}function d3_svg_brushRedrawY(a,b){a.fg.attr({y:b[0][1],height:b[1][1]-b[0][1]}),a.resizerSet.forEach(function(a){var c=a.data("resizeOrient");"n"===c||"e"===c||"w"===c||"nw"===c||"ne"===c?a.attr({y:b[0][1]-3}):a.attr({y:b[1][1]-4}),("e"===c||"w"===c)&&a.attr({height:b[1][1]-b[0][1]})})}function d3_svg_brushMove1(a,b,c){var i,j,d=d3_scaleRange(b),e=d[0],f=d[1],g=d3_svg_brushOffset[c],h=d3_svg_brushExtent[1][c]-d3_svg_brushExtent[0][c];d3_svg_brushDrag&&(e-=g,f-=h+g),i=Math.max(e,Math.min(f,a[c])),d3_svg_brushDrag?j=(i+=g)+h:(d3_svg_brushCenter&&(g=Math.max(e,Math.min(f,2*d3_svg_brushCenter[c]-i))),i>g?(j=i,i=g):j=g),d3_svg_brushExtent[0][c]=i,d3_svg_brushExtent[1][c]=j}function d3_svg_brushMove(a){var b,c;d3_svg_brushOffset&&(b=$(d3_svg_brushTarget).offset(),c=[a.pageX-b.left,a.pageY-b.top],d3_svg_brushDrag||(a.altKey?(d3_svg_brushCenter||(d3_svg_brushCenter=[(d3_svg_brushExtent[0][0]+d3_svg_brushExtent[1][0])/2,(d3_svg_brushExtent[0][1]+d3_svg_brushExtent[1][1])/2]),d3_svg_brushOffset[0]=d3_svg_brushExtent[+(c[0]<d3_svg_brushCenter[0])][0],d3_svg_brushOffset[1]=d3_svg_brushExtent[+(c[1]<d3_svg_brushCenter[1])][1]):d3_svg_brushCenter=null),d3_svg_brushX&&(d3_svg_brushMove1(c,d3_svg_brushX,0),d3_svg_brushRedrawX(d3_svg_brushEls,d3_svg_brushExtent)),d3_svg_brushY&&(d3_svg_brushMove1(c,d3_svg_brushY,1),d3_svg_brushRedrawY(d3_svg_brushEls,d3_svg_brushExtent)),d3_svg_brushDispatch("brush"))}function d3_svg_brushKeydown(a){32===a.keyCode&&d3_svg_brushTarget&&!d3_svg_brushDrag&&(d3_svg_brushCenter=null,d3_svg_brushOffset[0]-=d3_svg_brushExtent[1][0],d3_svg_brushOffset[1]-=d3_svg_brushExtent[1][1],d3_svg_brushDrag=2,a.stopPropagation())}function d3_svg_brushKeyup(a){32===a.keyCode&&2===d3_svg_brushDrag&&(d3_svg_brushOffset[0]+=d3_svg_brushExtent[1][0],d3_svg_brushOffset[1]+=d3_svg_brushExtent[1][1],d3_svg_brushDrag=0,a.stopPropagation())}function d3_svg_brushUp(a){d3_svg_brushOffset&&(d3_svg_brushMove(a),d3_svg_brushEls.resizerSet.forEach(function(a){var b=a.data("resizeOrient"),c=d3_svg_brush.empty()?0:6;"n"===b||"s"===b?a.attr({height:c}):a.attr({width:c})}),d3_svg_brushDispatch("brushend"),d3_svg_brush=d3_svg_brushDispatch=d3_svg_brushTarget=d3_svg_brushX=d3_svg_brushY=d3_svg_brushExtent=d3_svg_brushDrag=d3_svg_brushResize=d3_svg_brushCenter=d3_svg_brushOffset=d3_svg_brushEls=null,a.stopPropagation())}var JSON,DataV,Chart,Axis,d3_svg_brush,d3_svg_brushDispatch,d3_svg_brushTarget,d3_svg_brushX,d3_svg_brushY,d3_svg_brushExtent,d3_svg_brushDrag,d3_svg_brushResize,d3_svg_brushCenter,d3_svg_brushOffset,d3_svg_brushEls,d3_svg_brushCursor,vml_brushCursor,Brush,FloatTag,theme,Tree;Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e,f,g,h;if(null==this)throw new TypeError(" this is null or not defined");if(f=Object(this),g=f.length>>>0,"[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=Array(g),e=0;g>e;)e in f&&(h=f[e],h=a.call(c,h,e,f),d[e]=h),e++;return d}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var d,b=0,c=this.length>>0;if("function"!=typeof a)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===c)throw new TypeError("Array length is 0 and no second argument");d=this[0],b=1}else d=arguments[1];for(;c>b;)b in this&&(d=a.call(void 0,d,this[b],b,this)),++b;return d}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d,e,f,g;if(null==this)throw new TypeError(" this is null or not defined");if(e=Object(this),f=e.length>>>0,"[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;)d in e&&(g=e[d],a.call(c,g,d,e)),d++}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c,d,e,f,g;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=[],f=0;d>f;f++)f in c&&(g=c[f],a.call(b,g,f,c)&&e.push(g));return e}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(null==this)throw new TypeError;if(c=Object(this),d=c.length>>>0,"function"!=typeof a)throw new TypeError;for(e=0;d>e;e++)if(e in c&&!a.call(b,c[e],e,c))return!1;return!0}),JSON||(JSON={}),function(){function w(a){return 10>a?"0"+a:a}function G(a){return t.lastIndex=0,t.test(a)?'"'+a.replace(t,function(a){var b=P[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function h(a,b){var c,d,e,f,i,g=B,j=b[a];switch(j&&"object"==typeof j&&"function"==typeof j.toJSON&&(j=j.toJSON(a)),"function"==typeof M&&(j=M.call(b,a,j)),typeof j){case"string":return G(j);case"number":return isFinite(j)?String(j):"null";case"boolean":case"null":return String(j);case"object":if(!j)return"null";if(B+=y,i=[],"[object Array]"===Object.prototype.toString.apply(j)){for(f=j.length,c=0;f>c;c+=1)i[c]=h(c,j)||"null";return e=0===i.length?"[]":B?"[\n"+B+i.join(",\n"+B)+"\n"+g+"]":"["+i.join(",")+"]",B=g,e}if(M&&"object"==typeof M)for(f=M.length,c=0;f>c;c+=1)"string"==typeof M[c]&&(d=M[c],(e=h(d,j))&&i.push(G(d)+(B?": ":":")+e));else for(d in j)Object.prototype.hasOwnProperty.call(j,d)&&(e=h(d,j))&&i.push(G(d)+(B?": ":":")+e);return e=0===i.length?"{}":B?"{\n"+B+i.join(",\n"+B)+"\n"+g+"}":"{"+i.join(",")+"}",B=g,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+w(this.getUTCMonth()+1)+"-"+w(this.getUTCDate())+"T"+w(this.getUTCHours())+":"+w(this.getUTCMinutes())+":"+w(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,B,y,P={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},M;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){var d;if(y=B="","number"==typeof c)for(d=0;c>d;d+=1)y+=" ";else"string"==typeof c&&(y=c);if((M=b)&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw Error("JSON.stringify");return h("",{"":a})}),"function"!=typeof JSON.parse&&(JSON.parse=function(h,t){function w(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=w(e,c),void 0!==d?e[c]=d:delete e[c]);return t.call(a,b,e)}var B,h=String(h);if(r.lastIndex=0,r.test(h)&&(h=h.replace(r,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return B=eval("("+h+")"),"function"==typeof t?w({"":B},""):B;throw new SyntaxError("JSON.parse")})}(),function(){function a(a){for(var b=-1,c=a.length,d=[];++b<c;)d.push(a[b]);return d}function b(){return this}function c(a,b,c){return function(){var d=c.apply(b,arguments);return arguments.length?a:d}}function d(a){return null!=a&&!isNaN(a)}function e(a){return a.length}function f(a){return null==a}function g(a){return a.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function h(){}function i(a){function b(){for(var f,b=c,d=-1,e=b.length;++d<e;)(f=b[d].on)&&f.apply(this,arguments);return a}var c=[],d={};return b.on=function(b,e){var f,g;return arguments.length<2?(f=d[b])&&f.on:((f=d[b])&&(f.on=null,c=c.slice(0,g=c.indexOf(f)).concat(c.slice(g+1)),delete d[b]),e&&c.push(d[b]={on:e}),a)},b}function j(a,b){return b-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-b))/Math.LN10):1)}function k(a){return a+""}function l(a){for(var b=a.lastIndexOf("."),c=b>=0?a.substring(b):(b=a.length,""),d=[];b>0;)d.push(a.substring(b-=3,b+3));return d.reverse().join(",")+c}function m(a){return function(b){return 1-a(1-b)}}function n(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function o(a){return a}function p(a){return function(b){return Math.pow(b,a)}}function q(a){return 1-Math.cos(a*Math.PI/2)}function r(a){return Math.pow(2,10*(a-1))}function s(a){return 1-Math.sqrt(1-a*a)}function t(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function u(){d3.event.stopPropagation(),d3.event.preventDefault()}function v(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return(c-a)*b}}function w(a,b){return b=b-(a=+a)?1/(b-a):0,function(c){return Math.max(0,Math.min(1,(c-a)*b))}}function x(a,b,c){return new y(a,b,c)}function y(a,b,c){this.r=a,this.g=b,this.b=c}function z(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function A(a,b,c){var g,h,d=0,e=0,f=0;if(g=/([a-z]+)\((.*)\)/i.exec(a))switch(h=g[2].split(","),g[1]){case"hsl":return c(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100);case"rgb":return b(C(h[0]),C(h[1]),C(h[2]))}return(c=vc[a])?b(c.r,c.g,c.b):(null!=a&&"#"===a.charAt(0)&&(4===a.length?(d=a.charAt(1),d+=d,e=a.charAt(2),e+=e,f=a.charAt(3),f+=f):7===a.length&&(d=a.substring(1,3),e=a.substring(3,5),f=a.substring(5,7)),d=parseInt(d,16),e=parseInt(e,16),f=parseInt(f,16)),b(d,e,f))}function B(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),f=e-d,g=(e+d)/2;return f?(d=.5>g?f/(e+d):f/(2-e-d),a=60*(a==e?(b-c)/f+(c>b?6:0):b==e?(c-a)/f+2:(a-b)/f+4)):d=a=0,D(a,d,g)}function C(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function D(a,b,c){return new E(a,b,c)}function E(a,b,c){this.h=a,this.s=b,this.l=c}function F(a,b,c){function d(a){return a>360?a-=360:0>a&&(a+=360),60>a?e+(f-e)*a/60:180>a?f:240>a?e+(f-e)*(240-a)/60:e}var e,f,a=a%360;return 0>a&&(a+=360),b=0>b?0:b>1?1:b,c=0>c?0:c>1?1:c,f=.5>=c?c*(1+b):c+b-c*b,e=2*c-f,x(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function G(a){return kc(a,Cc),a}function H(a){return function(){return xc(a,this)}}function I(a){return function(){return yc(a,this)}}function J(a,b){function c(){if(b=this.classList)return b.add(a);var b=this.className,c=null!=b.baseVal,d=c?b.baseVal:b;f.lastIndex=0,f.test(d)||(d=g(d+" "+a),c?b.baseVal=d:this.className=d)}function d(){if(b=this.classList)return b.remove(a);var b=this.className,c=null!=b.baseVal,d=c?b.baseVal:b,d=g(d.replace(f," "));c?b.baseVal=d:this.className=d}function e(){(b.apply(this,arguments)?c:d).call(this)}var h,i,f=RegExp("(^|\\s+)"+d3.requote(a)+"(\\s+|$)","g");return arguments.length<2?(h=this.node(),(i=h.classList)?i.contains(a):(i=h.className,f.lastIndex=0,f.test(null!=i.baseVal?i.baseVal:i))):this.each("function"==typeof b?e:b?c:d)}function K(a){return arguments.length||(a=d3.ascending),function(b,c){return a(b&&b.__data__,c&&c.__data__)}}function L(a,b,c){kc(a,Hc);var d={},e=d3.dispatch("start","end"),f=Kc;return a.id=b,a.time=c,a.tween=function(b,c){return arguments.length<2?d[b]:(null==c?delete d[b]:d[b]=c,a)},a.ease=function(b){return arguments.length?(f="function"==typeof b?b:d3.ease.apply(d3,arguments),a):f},a.each=function(b,c){return arguments.length<2?O.call(a,b):(e.on(b,c),a)},d3.timer(function(g){return a.each(function(h,i,j){function k(a){if(r.active>b)return m();r.active=b;for(var f in d)(f=d[f].call(o,h,i))&&n.push(f);return e.start.call(o,h,i),l(a)||d3.timer(l,0,c),1}function l(a){if(r.active!==b)return m();for(var a=(a-p)/q,c=f(a),d=n.length;d>0;)n[--d].call(o,c);return a>=1?(m(),Jc=b,e.end.call(o,h,i),Jc=0,1):void 0}function m(){return--r.count||delete o.__transition__,1}var n=[],o=this,p=a[j][i].delay,q=a[j][i].duration,r=o.__transition__||(o.__transition__={active:0,count:0});++r.count,g>=p?k(g):d3.timer(k,p,c)}),1},0,c),a}function M(a,b,c){return""!=c&&Gc}function N(a,b){function c(a,c,d){return a=b.call(this,a,c),null==a?""!=d&&Gc:d!=a&&e(d,a)}function d(a,c,d){return d!=b&&e(d,b)}var e="transform"==a?d3.interpolateTransform:d3.interpolate;return"function"==typeof b?c:null==b?M:(b+="",d)}function O(a){var b,c,d,e,f,g;for(b=0,c=this.length;c>b;b++)for(d=this[b],e=0,f=d.length;f>e;e++)g=d[e],g&&a.call(g=g.node,g.__data__,e,b);return this}function P(){for(var a,b=Date.now(),c=Lc;c;)a=b-c.then,a>=c.delay&&(c.flush=c.callback(a)),c=c.next;a=Q()-b,a>24?(isFinite(a)&&(clearTimeout(Nc),Nc=setTimeout(P,a)),Mc=0):(Mc=1,Oc(P))}function Q(){for(var a=null,b=Lc,c=1/0;b;)b.flush?b=a?a.next=b.next:Lc=b.next:(c=Math.min(c,b.then+b.delay),b=(a=b).next);return c}function R(a){var b=[a.a,a.b],c=[a.c,a.d],d=S(b),e=b[0]*c[0]+b[1]*c[1],f=-e;c[0]=c[0]+f*b[0],c[1]=c[1]+f*b[1],f=S(c)||0,b[0]*c[1]<c[0]*b[1]&&(b[0]=-1*b[0],b[1]=-1*b[1],d=-1*d,e=-1*e),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Pc,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Pc:0}function S(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]=a[0]/b,a[1]=a[1]/b),b}function T(a){var b=a[0],a=a[a.length-1];return a>b?[b,a]:[a,b]}function U(a){return a.rangeExtent?a.rangeExtent():T(a.range())}function V(a,b){var g,c=0,d=a.length-1,e=a[c],f=a[d];return e>f&&(g=c,c=d,d=g,g=e,e=f,f=g),(g=f-e)&&(b=b(g),a[c]=b.floor(e),a[d]=b.ceil(f)),a}function W(){return Math}function X(a,b,c,d){function e(){var e=2==a.length?ab:bb,i=d?w:v;return g=e(a,b,i,c),h=e(b,a,i,d3.interpolate),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(d3.interpolateRound)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return d3.range.apply(d3,$(a,b))},f.tickFormat=function(b){return _(a,b)},f.nice=function(){return V(a,Z),e()},f.copy=function(){return X(a,b,c,d)},e()}function Y(a,b){return d3.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Z(a){return a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1),{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}}function $(a,b){var c=T(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),d=b/d*e;return.15>=d?e=10*e:.35>=d?e=5*e:.75>=d&&(e=2*e),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function _(a,b){return d3.format(",."+Math.max(0,-Math.floor(Math.log($(a,b)[2])/Math.LN10+.01))+"f")}function ab(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function bb(a,b,c,d){var e=[],f=[],g=0,h=a.length-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=d3.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function cb(a,b){function c(c){return a(b(c))}var d=b.pow;return c.invert=function(b){return d(a.invert(b))},c.domain=function(e){return arguments.length?(b=e[0]<0?eb:db,d=b.pow,a.domain(e.map(b)),c):a.domain().map(d)},c.nice=function(){return a.domain(V(a.domain(),W)),c},c.ticks=function(){var f,g,h,i,c=T(a.domain()),e=[];if(c.every(isFinite)){if(f=Math.floor(c[0]),g=Math.ceil(c[1]),h=d(c[0]),c=d(c[1]),b===eb)for(e.push(d(f));f++<g;)for(i=9;i>0;i--)e.push(d(f)*i);else{for(;g>f;f++)for(i=1;10>i;i++)e.push(d(f)*i);e.push(d(f))}for(f=0;e[f]<h;f++);for(g=e.length;e[g-1]>c;g--);e=e.slice(f,g)}return e},c.tickFormat=function(a,e){if(arguments.length<2&&(e=Qc),arguments.length<1)return e;var h,f=a/c.ticks().length,g=b===eb?(h=-1e-12,Math.floor):(h=1e-12,Math.ceil);return function(a){return a/d(g(b(a)+h))<f?e(a):""}},c.copy=function(){return cb(a.copy(),b)},Y(c,a)}function db(a){return Math.log(0>a?0:a)/Math.LN10}function eb(a){return-Math.log(a>0?0:-a)/Math.LN10}function fb(a,b){function c(b){return a(d(b))}var d=gb(b),e=gb(1/b);return c.invert=function(b){return e(a.invert(b))},c.domain=function(b){return arguments.length?(a.domain(b.map(d)),c):a.domain().map(e)},c.ticks=function(a){var b=c.domain();return d3.range.apply(d3,$(b,a))},c.tickFormat=function(a){return _(c.domain(),a)},c.nice=function(){return c.domain(V(c.domain(),Z))},c.exponent=function(a){if(!arguments.length)return b;var f=c.domain();return d=gb(b=a),e=gb(1/b),c.domain(f)},c.copy=function(){return fb(a.copy(),b)},Y(c,a)}function gb(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function hb(a,b){function c(b){return f[((e[b]||(e[b]=a.push(b)))-1)%f.length]}function d(b,c){return d3.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e={};for(var h,f=-1,g=d.length;++f<g;)e[h=d[f]]||(e[h]=a.push(h));return c[b.t](b.x,b.p)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",x:a},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=(j-i)/(a.length-1+h);return f=d(a.length<2?(i+j)/2:i+k*h/2,k),g=0,b={t:"rangePoints",x:e,p:h},c},c.rangeBands=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=(e[1]-i)/(a.length+h);return f=d(i+j*h,j),g=j*(1-h),b={t:"rangeBands",x:e,p:h},c},c.rangeRoundBands=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=Math.floor((j-i)/(a.length+h));return f=d(i+Math.round((j-i-(a.length-h)*k)/2),k),g=Math.round(k*(1-h)),b={t:"rangeRoundBands",x:e,p:h},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return"range"===b.t?T(b.x):b.x},c.copy=function(){return hb(a,b)},c.domain(a)}function ib(a,b){function c(){var c=0,f=b.length;for(e=[];++c<f;)e[c-1]=d3.quantile(a,c/f);return d}function d(a){return isNaN(a=+a)?0/0:b[d3.bisect(e,a)]}var e;return d.domain=function(b){return arguments.length?(a=b.filter(function(a){return!isNaN(a)}).sort(d3.ascending),c()):a},d.range=function(a){return arguments.length?(b=a,c()):b},d.quantiles=function(){return e},d.copy=function(){return ib(a,b)},c()}function jb(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.copy=function(){return jb(a,b,c)},e()}function kb(a){return a.innerRadius}function lb(a){return a.outerRadius}function mb(a){return a.startAngle}function nb(a){return a.endAngle}function ob(a){function b(b){return b.length<1?null:"M"+f(a(pb(this,b,c,d)),g)}var c=qb,d=rb,e="linear",f=Xc[e],g=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.interpolate=function(a){return arguments.length?(f=Xc[e=a],b):e},b.tension=function(a){return arguments.length?(g=a,b):g},b}function pb(a,b,c,d){var j,e=[],f=-1,g=b.length,h="function"==typeof c,i="function"==typeof d;if(h&&i)for(;++f<g;)e.push([c.call(a,j=b[f],f),d.call(a,j,f)]);else if(h)for(;++f<g;)e.push([c.call(a,b[f],f),d]);else if(i)for(;++f<g;)e.push([c,d.call(a,b[f],f)]);else for(;++f<g;)e.push([c,d]);return e}function qb(a){return a[0]}function rb(a){return a[1]}function sb(a){return 1e-4>a?Math.round(1e4*a)/1e4:a}function tb(a){for(var b=0,c=a.length,d=a[0],e=[sb(d[0]),",",sb(d[1])];++b<c;)e.push("L",sb((d=a[b])[0]),",",sb(d[1]));return e.join("")}function ub(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function vb(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function wb(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return tb(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1)for(h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1],e=2;e<b.length;e++,i++)f=a[i],h=b[e],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];return c&&(c=a[i],d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+c[0]+","+c[1]),d}function xb(a,b){for(var e,c=[],d=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)e=f,f=g,g=a[h],c.push([d*(g[0]-e[0]),d*(g[1]-e[1])]);return c}function yb(a){if(a.length<3)return tb(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],e=[e,",",f];for(Ab(e,g,h);++b<c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Ab(e,g,h);for(b=-1;++b<2;)g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Ab(e,g,h);return e.join("")}function zb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Ab(a,b,c){a.push("C",zb(Yc,b),",",zb(Yc,c),",",zb(Zc,b),",",zb(Zc,c),",",zb($c,b),",",zb($c,c))}function Bb(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Cb(a){for(var b,e,f,c=-1,d=a.length;++c<d;)b=a[c],e=b[0],f=b[1]+Vc,b[0]=e*Math.cos(f),b[1]=e*Math.sin(f);return a}function Db(a){function b(b){if(b.length<1)return null;var g=pb(this,b,c,e),b=pb(this,b,c===d?function(a,b){return g[b][0]}:d,e===f?function(a,b){return g[b][1]}:f);return"M"+h(a(b),j)+"L"+i(a(g.reverse()),j)+"Z"}var g,h,i,c=qb,d=qb,e=0,f=rb,j=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.interpolate=function(a){return arguments.length?(h=Xc[g=a],i=h.reverse||h,b):g},b.tension=function(a){return arguments.length?(j=a,b):j},b.interpolate("linear")}function Eb(a){return a.source}function Fb(a){return a.target}function Gb(a){return a.radius}function Hb(a){return[a.x,a.y]}function Ib(a,b){var d,e,c=(a.ownerSVGElement||a).createSVGPoint();return 0>_c&&(window.scrollX||window.scrollY)&&(d=d3.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),e=d[0][0].getScreenCTM(),_c=!(e.f||e.e),d.remove()),_c?(c.x=b.pageX,c.y=b.pageY):(c.x=b.clientX,c.y=b.clientY),c=c.matrixTransform(a.getScreenCTM().inverse()),[c.x,c.y]}function Jb(){return 64}function Kb(){return"circle"}function Lb(a,b){a.attr("transform",function(a){return"translate("+b(a)+",0)"})}function Mb(a,b){a.attr("transform",function(a){return"translate(0,"+b(a)+")"})}function Nb(a,b){a.select(".extent").attr("x",b[0][0]),a.selectAll(".n,.s,.w,.nw,.sw").attr("x",b[0][0]-2),a.selectAll(".e,.ne,.se").attr("x",b[1][0]-3),a.selectAll(".extent,.n,.s").attr("width",b[1][0]-b[0][0])}function Ob(a,b){a.select(".extent").attr("y",b[0][1]),a.selectAll(".n,.e,.w,.nw,.ne").attr("y",b[0][1]-3),a.selectAll(".s,.se,.sw").attr("y",b[1][1]-4),a.selectAll(".extent,.e,.w").attr("height",b[1][1]-b[0][1])}function Pb(){32==d3.event.keyCode&&fd&&!jd&&(ld=null,md[0]=md[0]-id[1][0],md[1]=md[1]-id[1][1],jd=2,u())}function Qb(){32==d3.event.keyCode&&2==jd&&(md[0]=md[0]+id[1][0],md[1]=md[1]+id[1][1],jd=0,u())}function Rb(){if(md){var a=d3.svg.mouse(fd),b=d3.select(fd);jd||(d3.event.altKey?(ld||(ld=[(id[0][0]+id[1][0])/2,(id[0][1]+id[1][1])/2]),md[0]=id[+(a[0]<ld[0])][0],md[1]=id[+(a[1]<ld[1])][1]):ld=null),gd&&(Sb(a,gd,0),Nb(b,id)),hd&&(Sb(a,hd,1),Ob(b,id)),ed("brush")}}function Sb(a,b,c){var d=U(b),b=d[0],e=d[1],d=md[c],f=id[1][c]-id[0][c];jd&&(b-=d,e-=f+d),a=Math.max(b,Math.min(e,a[c])),jd?b=(a+=d)+f:(ld&&(d=Math.max(b,Math.min(e,2*ld[c]-a))),a>d?(b=a,a=d):b=d),id[0][c]=a,id[1][c]=b}function Tb(){md&&(Rb(),d3.select(fd).selectAll(".resize").style("pointer-events",dd.empty()?"none":"all"),ed("brushend"),dd=ed=fd=gd=hd=id=jd=kd=ld=md=null,u())}function Ub(a){var b=Vb(),c=d3.event,d=d3.event={type:a};b&&(d.x=b[0]+sd[0],d.y=b[1]+sd[1],d.dx=b[0]-td[0],d.dy=b[1]-td[1],ud=ud|d.dx|d.dy,td=b);try{od[a].apply(qd,rd)}finally{d3.event=c}c.stopPropagation(),c.preventDefault()}function Vb(){var a=qd.parentNode,b=d3.event.changedTouches;return a&&(b?d3.svg.touches(a,b)[0]:d3.svg.mouse(a))}function Wb(){if(qd){if(!qd.parentNode)return Xb();Ub("drag"),u()}}function Xb(){qd&&(Ub("dragend"),ud&&(u(),ud=d3.event.target===pd),od=pd=qd=rd=sd=td=null)}function Yb(){ud&&(u(),ud=0)}function Zb(a){return[a[0]-Ad[0],a[1]-Ad[1],Ad[2]]}function $b(){for(var d,a=d3.svg.touches(Ed),b=-1,c=a.length;++b<c;)yd[(d=a[b]).identifier]=Zb(d);return a}function _b(){var b,c,a=d3.svg.touches(Ed);switch(a.length){case 1:a=a[0],dc(Ad[2],a,yd[a.identifier]);break;case 2:b=a[0],c=a[1],a=[(b[0]+c[0])/2,(b[1]+c[1])/2],b=yd[b.identifier],c=yd[c.identifier],c=[(b[0]+c[0])/2,(b[1]+c[1])/2,b[2]],dc(Math.log(d3.event.scale)/Math.LN2+b[2],a,c)}}function ac(){xd=null,wd&&(Gd=1,dc(Ad[2],d3.svg.mouse(Ed),wd))}function bc(){wd&&(Gd&&(u(),Gd=Dd===d3.event.target),Ad=Bd=Cd=Dd=Ed=Fd=wd=null)}function cc(){Gd&&(u(),Gd=0)}function dc(a,b,c){function d(a,b,c){a.domain(a.range().map(function(d){return a.invert((d-c)*e/f+b)}))}var a=ec(a,2),e=Math.pow(2,Ad[2]),f=Math.pow(2,a),a=Math.pow(2,(Ad[2]=a)-c[2]),g=Ad[0],h=Ad[1],i=Ad[0]=ec(b[0]-c[0]*a,0,f),j=Ad[1]=ec(b[1]-c[1]*a,1,f),b=d3.event;d3.event={scale:f,translate:[i,j],transform:function(a,b){a&&d(a,g,i),b&&d(b,h,j)}};try{Cd.apply(Ed,Fd)}finally{d3.event=b}b.preventDefault()}function ec(a,b,c){var d=Bd[b],e=d[0],d=d[1];return 3===arguments.length?Math.max(d*(1/0===d?-1/0:1/c-1),Math.min(e===-1/0?1/0:e,a/c))*c:Math.max(e,Math.min(d,a))}var gc,hc,ic,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,wc,vc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Mc,Nc,Lc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,yd,zd,Hd;Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(fc){"undefined"!=typeof CSSStyleDeclaration&&(gc=CSSStyleDeclaration.prototype,hc=gc.setProperty,gc.setProperty=function(a,b,c){hc.call(this,a,b+"",c)})}d3={version:"2.7.4"},ic=function(a){return Array.prototype.slice.call(a)};try{ic(document.documentElement.childNodes)[0].nodeType}catch(jc){ic=a}kc=[].__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},d3.functor=function(a){return"function"==typeof a?a:function(){return a}},d3.rebind=function(a,b){for(var f,d=1,e=arguments.length;++d<e;)a[f=arguments[d]]=c(a,b,b[f]);return a},d3.ascending=function(a,b){return b>a?-1:a>b?1:a>=b?0:0/0},d3.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:0/0},d3.mean=function(a,b){var e,c=a.length,f=0,g=-1,h=0;if(1===arguments.length)for(;++g<c;)d(e=a[g])&&(f+=(e-f)/++h);else for(;++g<c;)d(e=b.call(a,a[g],g))&&(f+=(e-f)/++h);return h?f:void 0},d3.median=function(a,b){return arguments.length>1&&(a=a.map(b)),a=a.filter(d),a.length?d3.quantile(a.sort(d3.ascending),.5):void 0},d3.min=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(f=a[c])&&e>f&&(e=f)}else{for(;++c<d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&e>f&&(e=f)}return e},d3.max=function(a,b){var e,f,c=-1,d=a.length;if(1===arguments.length){for(;++c<d&&(null==(e=a[c])||e!=e);)e=void 0;for(;++c<d;)null!=(f=a[c])&&f>e&&(e=f)}else{for(;++c<d&&(null==(e=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&f>e&&(e=f)}return e},d3.extent=function(a,b){var e,f,g,c=-1,d=a.length;if(1===arguments.length){for(;++c<d&&(null==(e=g=a[c])||e!=e);)e=g=void 0;for(;++c<d;)null!=(f=a[c])&&(e>f&&(e=f),f>g&&(g=f))}else{for(;++c<d&&(null==(e=g=b.call(a,a[c],c))||e!=e);)e=void 0;for(;++c<d;)null!=(f=b.call(a,a[c],c))&&(e>f&&(e=f),f>g&&(g=f))}return[e,g]},d3.random={normal:function(a,b){return arguments.length<2&&(b=1),arguments.length<1&&(a=0),function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||d>1);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}}},d3.sum=function(a,b){var e,c=0,d=a.length,f=-1;if(1===arguments.length)for(;++f<d;)isNaN(e=+a[f])||(c+=e);else for(;++f<d;)isNaN(e=+b.call(a,a[f],f))||(c+=e);return c},d3.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=a[d-1];return(c-=d)?e+c*(a[d]-e):e},d3.transpose=function(a){return d3.zip.apply(d3,a)},d3.zip=function(){var a,b,c,f,d,g;if(!(f=arguments.length))return[];for(a=-1,b=d3.min(arguments,e),c=Array(b);++a<b;)for(d=-1,g=c[a]=Array(f);++d<f;)g[d]=arguments[d][a];return c},d3.bisectLeft=function(a,b,c,d){for(arguments.length<3&&(c=0),arguments.length<4&&(d=a.length);d>c;){var e=c+d>>1;a[e]<b?c=e+1:d=e}return c},d3.bisect=d3.bisectRight=function(a,b,c,d){for(arguments.length<3&&(c=0),arguments.length<4&&(d=a.length);d>c;){var e=c+d>>1;b<a[e]?d=e:c=e+1}return c},d3.first=function(a,b){var f,c=0,d=a.length,e=a[0];for(1===arguments.length&&(b=d3.ascending);++c<d;)b.call(a,e,f=a[c])>0&&(e=f);return e},d3.last=function(a,b){var f,c=0,d=a.length,e=a[0];for(1===arguments.length&&(b=d3.ascending);++c<d;)b.call(a,e,f=a[c])<=0&&(e=f);return e},d3.nest=function(){function a(b,e){if(e>=d.length)return g?g.call(c,b):f?b.sort(f):b;for(var k,l,h=-1,i=b.length,j=d[e++],m={};++h<i;)(k=j(l=b[h]))in m?m[k].push(l):m[k]=[l];for(k in m)m[k]=a(m[k],e);return m}function b(a,c){if(c>=d.length)return a;var h,f=[],g=e[c++];for(h in a)f.push({key:h,values:b(a[h],c)});return g&&f.sort(function(a,b){return g(a.key,b.key)}),f}var f,g,c={},d=[],e=[];return c.map=function(b){return a(b,0)},c.entries=function(c){return b(a(c,0),0)},c.key=function(a){return d.push(a),c},c.sortKeys=function(a){return e[d.length-1]=a,c},c.sortValues=function(a){return f=a,c},c.rollup=function(a){return g=a,c},c},d3.keys=function(a){var c,b=[];for(c in a)b.push(c);return b},d3.values=function(a){var c,b=[];for(c in a)b.push(a[c]);return b},d3.entries=function(a){var c,b=[];for(c in a)b.push({key:c,value:a[c]});return b},d3.permute=function(a,b){for(var c=[],d=-1,e=b.length;++d<e;)c[d]=a[b[d]];return c},d3.merge=function(a){return Array.prototype.concat.apply([],a)},d3.split=function(a,b){var e,c=[],d=[],g=-1,h=a.length;for(arguments.length<2&&(b=f);++g<h;)b.call(d,e=a[g],g)?d=[]:(d.length||c.push(d),d.push(e));return c},d3.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),1/0==(b-a)/c)throw Error("infinite range");var f,d=[],e=-1;if(0>c)for(;(f=a+c*++e)>b;)d.push(f);else for(;(f=a+c*++e)<b;)d.push(f);return d},d3.requote=function(a){return a.replace(lc,"\\$&")},lc=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,d3.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)},d3.xhr=function(a,b,c){var d;window.XMLHttpRequest?d=new XMLHttpRequest:window.ActiveXObject&&(d=new ActiveXObject("Microsoft.XMLHTTP")),arguments.length<3?(c=b,b=null):b&&d.overrideMimeType&&d.overrideMimeType(b),d.open("GET",a,!0),b&&d.setRequestHeader("Accept",b),d.onreadystatechange=function(){4===d.readyState&&c(d.status<300?d:null)},d.send(null)},d3.text=function(a,b,c){arguments.length<3&&(c=b,b=null),d3.xhr(a,b,function(a){c(a&&a.responseText)})},d3.json=function(a,b){d3.text(a,"application/json",function(a){b(a?JSON.parse(a):null)})},d3.html=function(a,b){d3.text(a,"text/html",function(a){if(null!=a){var c=document.createRange();c.selectNode(document.body),a=c.createContextualFragment(a)}b(a)})},d3.xml=function(a,b,c){arguments.length<3&&(c=b,b=null),d3.xhr(a,b,function(a){c(a&&a.responseXML)})},mc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},d3.ns={prefix:mc,qualify:function(a){var b=a.indexOf(":");return 0>b?a in mc?{space:mc[a],local:a}:a:{space:mc[a.substring(0,b)],local:a.substring(b+1)}
}},d3.dispatch=function(){for(var a=new h,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=i(a);return a},h.prototype.on=function(a,b){var c=a.indexOf("."),d="";return c>0&&(d=a.substring(c+1),a=a.substring(0,c)),arguments.length<2?this[a].on(d):this[a].on(d,b)},d3.format=function(a){var a=nc.exec(a),b=a[1]||" ",c=a[3]||"",d=a[5],e=+a[6],f=a[7],g=a[8],h=a[9],i=1,j="",m=!1;switch(g&&(g=+g.substring(1)),d&&(b="0",f&&(e-=Math.floor((e-1)/4))),h){case"n":f=!0,h="g";break;case"%":i=100,j="%",h="f";break;case"p":i=100,j="%",h="r";break;case"d":m=!0,g=0;break;case"s":i=-1,h="r"}return"r"==h&&!g&&(h="g"),h=oc[h]||k,function(a){var k,n;return m&&a%1?"":(k=0>a&&(a=-a)?"−":c,0>i?(n=d3.formatPrefix(a,g),a*=n.scale,j=n.symbol):a*=i,a=h(a,g),d?(n=a.length+k.length,e>n&&(a=Array(e-n+1).join(b)+a),f&&(a=l(a)),a=k+a):(f&&(a=l(a)),a=k+a,n=a.length,e>n&&(a=Array(e-n+1).join(b)+a)),a+j)}},nc=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,oc={g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return d3.round(a,b=j(a,b)).toFixed(Math.max(0,Math.min(20,b)))}},pc=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(function(a,b){return{scale:Math.pow(10,3*(8-b)),symbol:a}}),d3.formatPrefix=function(a,b){var c=0;return a&&(0>a&&(a=-1*a),b&&(a=d3.round(a,j(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((0>=c?c+1:c-1)/3)))),pc[8+c/3]},qc=p(2),rc=p(3),sc={linear:function(){return o},poly:p,quad:function(){return qc},cubic:function(){return rc},sin:function(){return q},exp:function(){return r},circle:function(){return s},elastic:function(a,b){var c;return arguments.length<2&&(b=.45),arguments.length<1?(a=1,c=b/4):c=b/(2*Math.PI)*Math.asin(1/a),function(d){return 1+a*Math.pow(2,10*-d)*Math.sin(2*(d-c)*Math.PI/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return t}},tc={"in":function(a){return a},out:m,"in-out":n,"out-in":function(a){return n(m(a))}},d3.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.substring(0,b):a,b=b>=0?a.substring(b+1):"in",d=tc[b](sc[c].apply(null,Array.prototype.slice.call(arguments,1)));return function(a){return 0>=a?0:a>=1?1:d(a)}},d3.event=null,d3.interpolate=function(a,b){for(var d,c=d3.interpolators.length;--c>=0&&!(d=d3.interpolators[c](a,b)););return d},d3.interpolateNumber=function(a,b){return b-=a,function(c){return a+b*c}},d3.interpolateRound=function(a,b){return b-=a,function(c){return Math.round(a+b*c)}},d3.interpolateString=function(a,b){var c,d,h,i,e=0,f=[],g=[];for(d=uc.lastIndex=0;c=uc.exec(b);++d)c.index&&f.push(b.substring(e,c.index)),g.push({i:f.length,x:c[0]}),f.push(null),e=uc.lastIndex;for(e<b.length&&f.push(b.substring(e)),d=0,h=g.length;(c=uc.exec(a))&&h>d;++d)if(i=g[d],i.x==c[0]){if(i.i)if(null==f[i.i+1])for(f[i.i-1]=f[i.i-1]+i.x,f.splice(i.i,1),c=d+1;h>c;++c)g[c].i--;else for(f[i.i-1]=f[i.i-1]+(i.x+f[i.i+1]),f.splice(i.i,2),c=d+1;h>c;++c)g[c].i=g[c].i-2;else if(null==f[i.i+1])f[i.i]=i.x;else for(f[i.i]=i.x+f[i.i+1],f.splice(i.i+1,1),c=d+1;h>c;++c)g[c].i--;g.splice(d,1),h--,d--}else i.x=d3.interpolateNumber(parseFloat(c[0]),parseFloat(i.x));for(;h>d;)i=g.pop(),null==f[i.i+1]?f[i.i]=i.x:(f[i.i]=i.x+f[i.i+1],f.splice(i.i+1,1)),h--;return 1===f.length?null==f[0]?g[0].x:function(){return b}:function(a){for(d=0;h>d;++d)f[(i=g[d]).i]=i.x(a);return f.join("")}},d3.interpolateTransform=function(a,b){var e,c=[],d=[],f=d3.transform(a),g=d3.transform(b),h=f.translate,i=g.translate,j=f.rotate,k=g.rotate,l=f.skew,m=g.skew,f=f.scale,g=g.scale;return h[0]!=i[0]||h[1]!=i[1]?(c.push("translate(",null,",",null,")"),d.push({i:1,x:d3.interpolateNumber(h[0],i[0])},{i:3,x:d3.interpolateNumber(h[1],i[1])})):i[0]||i[1]?c.push("translate("+i+")"):c.push(""),j!=k?d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:d3.interpolateNumber(j,k)}):k&&c.push(c.pop()+"rotate("+k+")"),l!=m?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:d3.interpolateNumber(l,m)}):m&&c.push(c.pop()+"skewX("+m+")"),f[0]!=g[0]||f[1]!=g[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:d3.interpolateNumber(f[0],g[0])},{i:e-2,x:d3.interpolateNumber(f[1],g[1])})):(1!=g[0]||1!=g[1])&&c.push(c.pop()+"scale("+g+")"),e=d.length,function(a){for(var f,b=-1;++b<e;)c[(f=d[b]).i]=f.x(a);return c.join("")}},d3.interpolateRgb=function(a,b){var a=d3.rgb(a),b=d3.rgb(b),c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+z(Math.round(c+f*a))+z(Math.round(d+g*a))+z(Math.round(e+h*a))}},d3.interpolateHsl=function(a,b){var a=d3.hsl(a),b=d3.hsl(b),c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return function(a){return F(c+f*a,d+g*a,e+h*a).toString()}},d3.interpolateArray=function(a,b){var h,c=[],d=[],e=a.length,f=b.length,g=Math.min(a.length,b.length);for(h=0;g>h;++h)c.push(d3.interpolate(a[h],b[h]));for(;e>h;++h)d[h]=a[h];for(;f>h;++h)d[h]=b[h];return function(a){for(h=0;g>h;++h)d[h]=c[h](a);return d}},d3.interpolateObject=function(a,b){var e,c={},d={};for(e in a)e in b?c[e]=("transform"==e?d3.interpolateTransform:d3.interpolate)(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}},uc=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g,d3.interpolators=[d3.interpolateObject,function(a,b){return b instanceof Array&&d3.interpolateArray(a,b)},function(a,b){return("string"==typeof a||"string"==typeof b)&&d3.interpolateString(a+"",b+"")},function(a,b){return("string"==typeof b?b in vc||/^(#|rgb\(|hsl\()/.test(b):b instanceof y||b instanceof E)&&d3.interpolateRgb(a,b)},function(a,b){return!isNaN(a=+a)&&!isNaN(b=+b)&&d3.interpolateNumber(a,b)}],d3.rgb=function(a,b,c){return 1===arguments.length?a instanceof y?x(a.r,a.g,a.b):A(""+a,x,F):x(~~a,~~b,~~c)},y.prototype.brighter=function(a){var a=Math.pow(.7,arguments.length?a:1),b=this.r,c=this.g,d=this.b;return b||c||d?(b&&30>b&&(b=30),c&&30>c&&(c=30),d&&30>d&&(d=30),x(Math.min(255,Math.floor(b/a)),Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(d/a)))):x(30,30,30)},y.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),x(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b))},y.prototype.hsl=function(){return B(this.r,this.g,this.b)},y.prototype.toString=function(){return"#"+z(this.r)+z(this.g)+z(this.b)},vc={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(wc in vc)vc[wc]=A(vc[wc],x,F);d3.hsl=function(a,b,c){return 1===arguments.length?a instanceof E?D(a.h,a.s,a.l):A(""+a,B,D):D(+a,+b,+c)},E.prototype.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),D(this.h,this.s,this.l/a)},E.prototype.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),D(this.h,this.s,a*this.l)},E.prototype.rgb=function(){return F(this.h,this.s,this.l)},E.prototype.toString=function(){return this.rgb().toString()},xc=function(a,b){return b.querySelector(a)},yc=function(a,b){return b.querySelectorAll(a)},zc=document.documentElement,Ac=zc.matchesSelector||zc.webkitMatchesSelector||zc.mozMatchesSelector||zc.msMatchesSelector||zc.oMatchesSelector,Bc=function(a,b){return Ac.call(a,b)},"function"==typeof Sizzle&&(xc=function(a,b){return Sizzle(a,b)[0]},yc=function(a,b){return Sizzle.uniqueSort(Sizzle(a,b))},Bc=Sizzle.matchesSelector),Cc=[],d3.selection=function(){return Ec},d3.selection.prototype=Cc,Cc.select=function(a){var c,d,e,f,g,h,i,j,b=[];for("function"!=typeof a&&(a=H(a)),g=-1,h=this.length;++g<h;)for(b.push(c=[]),c.parentNode=(e=this[g]).parentNode,i=-1,j=e.length;++i<j;)(f=e[i])?(c.push(d=a.call(f,f.__data__,i)),d&&"__data__"in f&&(d.__data__=f.__data__)):c.push(null);return G(b)},Cc.selectAll=function(a){var c,d,e,f,g,h,i,b=[];for("function"!=typeof a&&(a=I(a)),e=-1,f=this.length;++e<f;)for(g=this[e],h=-1,i=g.length;++h<i;)(d=g[h])&&(b.push(c=ic(a.call(d,d.__data__,h))),c.parentNode=d);return G(b)},Cc.attr=function(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b)}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}if(a=d3.ns.qualify(a),arguments.length<2){var i=this.node();return a.local?i.getAttributeNS(a.space,a.local):i.getAttribute(a)}return this.each(null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e)},Cc.classed=function(a,b){var c=a.split(Dc),d=c.length,e=-1;if(arguments.length>1){for(;++e<d;)J.call(this,c[e],b);return this}for(;++e<d;)if(!J.call(this,c[e]))return!1;return!0},Dc=/\s+/g,Cc.style=function(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return arguments.length<3&&(c=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(a):this.each(null==b?d:"function"==typeof b?f:e)},Cc.property=function(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return arguments.length<2?this.node()[a]:this.each(null==b?c:"function"==typeof b?e:d)},Cc.text=function(a){return arguments.length<1?this.node().textContent:this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a})},Cc.html=function(a){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a})},Cc.append=function(a){function b(){return this.appendChild(document.createElementNS(this.namespaceURI,a))}function c(){var b=document.createElementNS(a.space,a.local);return this.appendChild(b)}return a=d3.ns.qualify(a),this.select(a.local?c:b)},Cc.insert=function(a,b){function c(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),xc(b,this))}function d(){return this.insertBefore(document.createElementNS(a.space,a.local),xc(b,this))}return a=d3.ns.qualify(a),this.select(a.local?d:c)},Cc.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this)})},Cc.data=function(a,b){function c(a,c){var g,o,p,q,h=a.length,i=c.length,j=Math.min(h,i),k=Math.max(h,i),l=[],m=[],n=[];if(b){for(j={},k=[],p=c.length,g=-1;++g<h;)q=b.call(o=a[g],o.__data__,g),q in j?n[p++]=o:j[q]=o,k.push(q);for(g=-1;++g<i;)(o=j[q=b.call(c,p=c[g],g)])?(o.__data__=p,l[g]=o,m[g]=n[g]=null):(m[g]={__data__:p},l[g]=n[g]=null),delete j[q];for(g=-1;++g<h;)k[g]in j&&(n[g]=a[g])}else{for(g=-1;++g<j;)o=a[g],p=c[g],o?(o.__data__=p,l[g]=o,m[g]=n[g]=null):(m[g]={__data__:p},l[g]=n[g]=null);for(;i>g;++g)m[g]={__data__:c[g]},l[g]=n[g]=null;for(;k>g;++g)n[g]=a[g],m[g]=l[g]=null}m.update=l,m.parentNode=l.parentNode=n.parentNode=a.parentNode,d.push(m),e.push(l),f.push(n)}var i,d=[],e=[],f=[],g=-1,h=this.length;if("function"==typeof a)for(;++g<h;)c(i=this[g],a.call(i,i.parentNode.__data__,g));else for(;++g<h;)c(i=this[g],a);return g=G(e),g.enter=function(){var a=d;return kc(a,Fc),a},g.exit=function(){return G(f)},g},Cc.filter=function(a){var c,d,e,f,g,h,i,j,b=[];for("function"!=typeof a&&(f=a,a=function(){return Bc(this,f)}),g=0,h=this.length;h>g;g++)for(b.push(c=[]),c.parentNode=(d=this[g]).parentNode,i=0,j=d.length;j>i;i++)(e=d[i])&&a.call(e,e.__data__,i)&&c.push(e);return G(b)},Cc.map=function(a){return this.each(function(){this.__data__=a.apply(this,arguments)})},Cc.order=function(){var a,b,f,c,d,e;for(a=-1,b=this.length;++a<b;)for(c=this[a],d=c.length-1,e=c[d];--d>=0;)(f=c[d])&&(e&&e!==f.nextSibling&&e.parentNode.insertBefore(f,e),e=f);return this},Cc.sort=function(a){for(var a=K.apply(this,arguments),b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Cc.on=function(a,b,c){arguments.length<3&&(c=!1);var d="__on"+a,e=a.indexOf(".");return e>0&&(a=a.substring(0,e)),arguments.length<2?(e=this.node()[d])&&e._:this.each(function(e,f){function g(a){var c=d3.event;d3.event=a;try{b.call(h,h.__data__,f)}finally{d3.event=c}}var h=this;h[d]&&h.removeEventListener(a,h[d],c),b&&h.addEventListener(a,h[d]=g,c),g._=b})},Cc.each=function(a){var b,c,d,e,f,g;for(b=-1,c=this.length;++b<c;)for(d=this[b],e=-1,f=d.length;++e<f;)g=d[e],g&&a.call(g,g.__data__,e,b);return this},Cc.call=function(a){return a.apply(this,(arguments[0]=this,arguments)),this},Cc.empty=function(){return!this.node()},Cc.node=function(){var a,b,c,d,e,f;for(a=0,b=this.length;b>a;a++)for(c=this[a],d=0,e=c.length;e>d;d++)if(f=c[d])return f;return null},Cc.transition=function(){var b,c,a,d,e,f,g,h;for(a=[],d=-1,e=this.length;++d<e;)for(a.push(b=[]),f=this[d],g=-1,h=f.length;++g<h;)b.push((c=f[g])?{node:c,delay:0,duration:250}:null);return L(a,Jc||++Ic,Date.now())},Ec=G([[document]]),Ec[0].parentNode=zc,d3.select=function(a){return"string"==typeof a?Ec.select(a):G([[a]])},d3.selectAll=function(a){return"string"==typeof a?Ec.selectAll(a):G([ic(a)])},Fc=[],Fc.append=Cc.append,Fc.insert=Cc.insert,Fc.empty=Cc.empty,Fc.node=Cc.node,Fc.select=function(a){var c,d,e,f,g,b,h,i,j,k;for(b=[],h=-1,i=this.length;++h<i;)for(e=(f=this[h]).update,b.push(c=[]),c.parentNode=f.parentNode,j=-1,k=f.length;++j<k;)(g=f[j])?(c.push(e[j]=d=a.call(f.parentNode,g.__data__,j)),d.__data__=g.__data__):c.push(null);return G(b)},Gc={},Hc=[],Ic=0,Jc=0,Kc=d3.ease("cubic-in-out"),Hc.call=Cc.call,d3.transition=function(){return Ec.transition()},d3.transition.prototype=Hc,Hc.select=function(a){var c,d,e,f,g,h,i,j,b=[];for("function"!=typeof a&&(a=H(a)),f=-1,g=this.length;++f<g;)for(b.push(c=[]),h=this[f],i=-1,j=h.length;++i<j;)(e=h[i])&&(d=a.call(e.node,e.node.__data__,i))?("__data__"in e.node&&(d.__data__=e.node.__data__),c.push({node:d,delay:e.delay,duration:e.duration})):c.push(null);return L(b,this.id,this.time).ease(this.ease())},Hc.selectAll=function(a){var c,d,e,f,g,h,i,j,k,l,b=[];for("function"!=typeof a&&(a=I(a)),f=-1,g=this.length;++f<g;)for(h=this[f],i=-1,j=h.length;++i<j;)if(e=h[i])for(d=a.call(e.node,e.node.__data__,i),b.push(c=[]),k=-1,l=d.length;++k<l;)c.push({node:d[k],delay:e.delay,duration:e.duration});return L(b,this.id,this.time).ease(this.ease())},Hc.attr=function(a,b){return this.attrTween(a,N(a,b))},Hc.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d===Gc?(this.removeAttribute(e),null):d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d===Gc?(this.removeAttributeNS(e.space,e.local),null):d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=d3.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Hc.style=function(a,b,c){return arguments.length<3&&(c=""),this.styleTween(a,N(a,b),c)},Hc.styleTween=function(a,b,c){return arguments.length<3&&(c=""),this.tween("style."+a,function(d,e){var f=b.call(this,d,e,window.getComputedStyle(this,null).getPropertyValue(a));return f===Gc?(this.style.removeProperty(a),null):f&&function(b){this.style.setProperty(a,f(b),c)}})},Hc.text=function(a){return this.tween("text",function(b,c){this.textContent="function"==typeof a?a.call(this,b,c):a})},Hc.remove=function(){return this.each("end.transition",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this)})},Hc.delay=function(a){var b=this;return b.each("function"==typeof a?function(c,d,e){b[e][d].delay=+a.apply(this,arguments)}:(a=+a,function(c,d,e){b[e][d].delay=a}))},Hc.duration=function(a){var b=this;return b.each("function"==typeof a?function(c,d,e){b[e][d].duration=+a.apply(this,arguments)}:(a=+a,function(c,d,e){b[e][d].duration=a}))},Hc.transition=function(){return this.select(b)},Lc=null,d3.timer=function(a,b,c){var d=!1,e=Lc;if(arguments.length<3){if(arguments.length<2)b=0;else if(!isFinite(b))return;c=Date.now()}for(;e;){if(e.callback===a){e.then=c,e.delay=b,d=!0;break}e=e.next}d||(Lc={callback:a,then:c,delay:b,next:Lc}),Mc||(Nc=clearTimeout(Nc),Mc=1,Oc(P))},d3.timer.flush=function(){for(var a,b=Date.now(),c=Lc;c;)a=b-c.then,c.delay||(c.flush=c.callback(a)),c=c.next;Q()},Oc=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17)},d3.transform=function(a){var b=document.createElementNS(d3.ns.prefix.svg,"g"),c={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(a){return b.setAttribute("transform",a),a=b.transform.baseVal.consolidate(),new R(a?a.matrix:c)})(a)},R.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"},Pc=180/Math.PI,d3.scale={},d3.scale.linear=function(){return X([0,1],[0,1],d3.interpolate,!1)},d3.scale.log=function(){return cb(d3.scale.linear(),db)},Qc=d3.format(".0e"),db.pow=function(a){return Math.pow(10,a)},eb.pow=function(a){return-Math.pow(10,-a)},d3.scale.pow=function(){return fb(d3.scale.linear(),1)},d3.scale.sqrt=function(){return d3.scale.pow().exponent(.5)},d3.scale.ordinal=function(){return hb([],{t:"range",x:[]})},d3.scale.category10=function(){return d3.scale.ordinal().range(Rc)},d3.scale.category20=function(){return d3.scale.ordinal().range(Sc)},d3.scale.category20b=function(){return d3.scale.ordinal().range(Tc)},d3.scale.category20c=function(){return d3.scale.ordinal().range(Uc)},Rc=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Sc=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Tc=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Uc=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],d3.scale.quantile=function(){return ib([],[])},d3.scale.quantize=function(){return jb(0,1,[0,1])},d3.svg={},d3.svg.arc=function(){function a(){var a=b.apply(this,arguments),f=c.apply(this,arguments),g=d.apply(this,arguments)+Vc,h=e.apply(this,arguments)+Vc,i=(g>h&&(i=g,g=h,h=i),h-g),j=i<Math.PI?"0":"1",k=Math.cos(g),g=Math.sin(g),l=Math.cos(h),h=Math.sin(h);return i>=Wc?a?"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"M0,"+a+"A"+a+","+a+" 0 1,0 0,"+-a+"A"+a+","+a+" 0 1,0 0,"+a+"Z":"M0,"+f+"A"+f+","+f+" 0 1,1 0,"+-f+"A"+f+","+f+" 0 1,1 0,"+f+"Z":a?"M"+f*k+","+f*g+"A"+f+","+f+" 0 "+j+",1 "+f*l+","+f*h+"L"+a*l+","+a*h+"A"+a+","+a+" 0 "+j+",0 "+a*k+","+a*g+"Z":"M"+f*k+","+f*g+"A"+f+","+f+" 0 "+j+",1 "+f*l+","+f*h+"L0,0Z"}var b=kb,c=lb,d=mb,e=nb;return a.innerRadius=function(c){return arguments.length?(b=d3.functor(c),a):b},a.outerRadius=function(b){return arguments.length?(c=d3.functor(b),a):c},a.startAngle=function(b){return arguments.length?(d=d3.functor(b),a):d},a.endAngle=function(b){return arguments.length?(e=d3.functor(b),a):e},a.centroid=function(){var a=(b.apply(this,arguments)+c.apply(this,arguments))/2,f=(d.apply(this,arguments)+e.apply(this,arguments))/2+Vc;return[Math.cos(f)*a,Math.sin(f)*a]},a},Vc=-Math.PI/2,Wc=2*Math.PI-1e-6,d3.svg.line=function(){return ob(Object)},Xc={linear:tb,"step-before":ub,"step-after":vb,basis:yb,"basis-open":function(a){if(a.length<4)return tb(a);for(var e,b=[],c=-1,d=a.length,f=[0],g=[0];++c<3;)e=a[c],f.push(e[0]),g.push(e[1]);for(b.push(zb($c,f)+","+zb($c,g)),--c;++c<d;)e=a[c],f.shift(),f.push(e[0]),g.shift(),g.push(e[1]),Ab(b,f,g);return b.join("")},"basis-closed":function(a){for(var b,f,c=-1,d=a.length,e=d+4,g=[],h=[];++c<4;)f=a[c%d],g.push(f[0]),h.push(f[1]);for(b=[zb($c,g),",",zb($c,h)],--c;++c<e;)f=a[c%d],g.shift(),g.push(f[0]),h.shift(),h.push(f[1]),Ab(b,g,h);return b.join("")},bundle:function(a,b){for(var i,j,c=a.length-1,d=a[0][0],e=a[0][1],f=a[c][0]-d,g=a[c][1]-e,h=-1;++h<=c;)i=a[h],j=h/c,i[0]=b*i[0]+(1-b)*(d+j*f),i[1]=b*i[1]+(1-b)*(e+j*g);return yb(a)},cardinal:function(a,b){return a.length<3?tb(a):a[0]+wb(a,xb(a,b))},"cardinal-open":function(a,b){return a.length<4?tb(a):a[1]+wb(a.slice(1,a.length-1),xb(a,b))},"cardinal-closed":function(a,b){return a.length<3?tb(a):a[0]+wb((a.push(a[0]),a),xb([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){var d,e,f,g,b,c,h,i,j;if(a.length<3)a=tb(a);else{for(b=a[0],c=[],d=0,e=a.length-1,h=[],f=a[1],g=h[0]=Bb(a[0],f);++d<e;)h[d]=g+(g=Bb(f,f=a[d+1]));for(h[d]=g,i=-1,j=a.length-1;++i<j;)d=Bb(a[i],a[i+1]),Math.abs(d)<1e-6?h[i]=h[i+1]=0:(e=h[i]/d,f=h[i+1]/d,g=e*e+f*f,g>9&&(g=3*d/Math.sqrt(g),h[i]=g*e,h[i+1]=g*f));for(i=-1;++i<=j;)g=(a[Math.min(j,i+1)][0]-a[Math.max(0,i-1)][0])/(6*(1+h[i]*h[i])),c.push([g||0,h[i]*g||0]);a=b+wb(a,c)}return a}},Yc=[0,2/3,1/3,0],Zc=[0,1/3,2/3,0],$c=[0,1/6,2/3,1/6],d3.svg.line.radial=function(){var a=ob(Cb);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},ub.reverse=vb,vb.reverse=ub,d3.svg.area=function(){return Db(Object)},d3.svg.area.radial=function(){var a=Db(Cb);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},d3.svg.chord=function(){function a(a,e){var f=b(this,c,a,e),g=b(this,d,a,e);return"M"+f.p0+("A"+f.r+","+f.r+" 0 "+ +(f.a1-f.a0>Math.PI)+",1 "+f.p1)+(f.a0==g.a0&&f.a1==g.a1?"Q 0,0 "+f.p0:"Q 0,0 "+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-g.a0>Math.PI)+",1 "+g.p1)+("Q 0,0 "+f.p0))+"Z"}function b(a,b,c,d){var h=b.call(a,c,d),b=e.call(a,h,d),c=f.call(a,h,d)+Vc,a=g.call(a,h,d)+Vc;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}var c=Eb,d=Fb,e=Gb,f=mb,g=nb;return a.radius=function(b){return arguments.length?(e=d3.functor(b),a):e},a.source=function(b){return arguments.length?(c=d3.functor(b),a):c},a.target=function(b){return arguments.length?(d=d3.functor(b),a):d},a.startAngle=function(b){return arguments.length?(f=d3.functor(b),a):f},a.endAngle=function(b){return arguments.length?(g=d3.functor(b),a):g},a},d3.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,f=[f,{x:f.x,y:h},{x:g.x,y:h},g],f=f.map(d);return"M"+f[0]+"C"+f[1]+" "+f[2]+" "+f[3]}var b=Eb,c=Fb,d=Hb;return a.source=function(c){return arguments.length?(b=d3.functor(c),a):b},a.target=function(b){return arguments.length?(c=d3.functor(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},d3.svg.diagonal.radial=function(){var a=d3.svg.diagonal(),b=Hb,c=a.projection;return a.projection=function(a){var d,e;return arguments.length?(e=b=a,d=c(function(){var a=e.apply(this,arguments),b=a[0],a=a[1]+Vc;return[b*Math.cos(a),b*Math.sin(a)]})):d=b,d},a},d3.svg.mouse=function(a){return Ib(a,d3.event)},_c=/WebKit/.test(navigator.userAgent)?-1:0,d3.svg.touches=function(a,b){return arguments.length<2&&(b=d3.event.touches),b?ic(b).map(function(b){var c=Ib(a,b);return c.identifier=b.identifier,c}):[]},d3.svg.symbol=function(){function a(a,d){return(ad[b.call(this,a,d)]||ad.circle)(c.call(this,a,d))}var b=Kb,c=Jb;return a.type=function(c){return arguments.length?(b=d3.functor(c),a):b},a.size=function(b){return arguments.length?(c=d3.functor(b),a):c},a},ad={circle:function(a){return a=Math.sqrt(a/Math.PI),"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"},cross:function(a){return a=Math.sqrt(a/5)/2,"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){var a=Math.sqrt(a/(2*cd)),b=a*cd;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){return a=Math.sqrt(a)/2,"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){var a=Math.sqrt(a/bd),b=a*bd/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){var a=Math.sqrt(a/bd),b=a*bd/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}},d3.svg.symbolTypes=d3.keys(ad),bd=Math.sqrt(3),cd=Math.tan(30*Math.PI/180),d3.svg.axis=function(){function a(a){a.each(function(k,l,m){var q,r,w,x,s,t,u,v,y,z,A,n=d3.select(this),o=a.delay?function(b){var c=Jc;try{return Jc=a.id,b.transition().delay(a[m][l].delay).duration(a[m][l].duration).ease(a.ease())}finally{Jc=c}}:Object,p=b.ticks?b.ticks.apply(b,h):b.domain();if(k=null==i?b.tickFormat?b.tickFormat.apply(b,h):String:i,q=j,r=[],q&&p.length>1){for(s=T(b.domain()),t=-1,u=p.length,v=(p[1]-p[0])/++q;++t<u;)for(w=q;--w>0;)(x=+p[t]-w*v)>=s[0]&&r.push(x);for(--t,w=0;++w<q&&(x=+p[t]+w*v)<s[1];)r.push(x)}switch(s=n.selectAll(".minor").data(r,String),x=s.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),q=o(s.exit()).style("opacity",1e-6).remove(),s=o(s).style("opacity",1),t=n.selectAll("g").data(p,String),p=t.enter().insert("g","path").style("opacity",1e-6),r=o(t.exit()).style("opacity",1e-6).remove(),t=o(t).style("opacity",1),u=U(b),n=n.selectAll(".domain").data([0]),n.enter().append("path").attr("class","domain"),o=o(n),z=b.copy(),n=this.__chart__||z,this.__chart__=z,p.append("line").attr("class","tick"),p.append("text"),t.select("text").text(k),c){case"bottom":y=Lb,x.attr("y2",e),s.attr("x2",0).attr("y2",e),p.select("line").attr("y2",d),p.select("text").attr("y",Math.max(d,0)+g),t.select("line").attr("x2",0).attr("y2",d),t.select("text").attr("x",0).attr("y",Math.max(d,0)+g).attr("dy",".71em").attr("text-anchor","middle"),o.attr("d","M"+u[0]+","+f+"V0H"+u[1]+"V"+f);break;case"top":y=Lb,x.attr("y2",-e),s.attr("x2",0).attr("y2",-e),p.select("line").attr("y2",-d),p.select("text").attr("y",-(Math.max(d,0)+g)),t.select("line").attr("x2",0).attr("y2",-d),t.select("text").attr("x",0).attr("y",-(Math.max(d,0)+g)).attr("dy","0em").attr("text-anchor","middle"),o.attr("d","M"+u[0]+","+-f+"V0H"+u[1]+"V"+-f);break;case"left":y=Mb,x.attr("x2",-e),s.attr("x2",-e).attr("y2",0),p.select("line").attr("x2",-d),p.select("text").attr("x",-(Math.max(d,0)+g)),t.select("line").attr("x2",-d).attr("y2",0),t.select("text").attr("x",-(Math.max(d,0)+g)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),o.attr("d","M"+-f+","+u[0]+"H0V"+u[1]+"H"+-f);break;case"right":y=Mb,x.attr("x2",e),s.attr("x2",e).attr("y2",0),p.select("line").attr("x2",d),p.select("text").attr("x",Math.max(d,0)+g),t.select("line").attr("x2",d).attr("y2",0),t.select("text").attr("x",Math.max(d,0)+g).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),o.attr("d","M"+f+","+u[0]+"H0V"+u[1]+"H"+f)}b.ticks?(p.call(y,n),t.call(y,z),r.call(y,z),x.call(y,n),s.call(y,z),q.call(y,z)):(A=z.rangeBand()/2,k=function(a){return z(a)+A},p.call(y,k),t.call(y,k))})}var i,b=d3.scale.linear(),c="bottom",d=6,e=6,f=6,g=3,h=[10],j=0;return a.scale=function(c){return arguments.length?(b=c,a):b},a.orient=function(b){return arguments.length?(c=b,a):c},a.ticks=function(){return arguments.length?(h=arguments,a):h},a.tickFormat=function(b){return arguments.length?(i=b,a):i},a.tickSize=function(b,c){if(!arguments.length)return d;var h=arguments.length-1;return d=+b,e=h>1?+c:d,f=h>0?+arguments[h]:d,a},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(b){return arguments.length?(j=+b,a):j},a},d3.svg.brush=function(){function a(c){var g=d&&e?["n","e","s","w","nw","ne","se","sw"]:d?["e","w"]:e?["n","s"]:[];c.each(function(){var c=d3.select(this).on("mousedown.brush",b),h=c.selectAll(".background").data([0]),i=c.selectAll(".extent").data([0]),j=c.selectAll(".resize").data(g,String);h.enter().append("rect").attr("class","background").style("visibility","hidden").style("pointer-events","all").style("cursor","crosshair"),i.enter().append("rect").attr("class","extent").style("cursor","move"),j.enter().append("rect").attr("class",function(a){return"resize "+a}).attr("width",6).attr("height",6).style("visibility","hidden").style("cursor",function(a){return nd[a]}),j.style("pointer-events",a.empty()?"none":"all"),j.exit().remove(),d&&(i=U(d),h.attr("x",i[0]).attr("width",i[1]-i[0]),Nb(c,f)),e&&(i=U(e),h.attr("y",i[0]).attr("height",i[1]-i[0]),Ob(c,f))})}function b(){var g,h,b=d3.select(d3.event.target);dd=a,fd=this,id=f,md=d3.svg.mouse(fd),(jd=b.classed("extent"))?(md[0]=f[0][0]-md[0],md[1]=f[0][1]-md[1]):b.classed("resize")?(kd=d3.event.target.__data__,md[0]=f[+/w$/.test(kd)][0],md[1]=f[+/^n/.test(kd)][1]):d3.event.altKey&&(ld=md.slice()),gd=!/^(n|s)$/.test(kd)&&d,hd=!/^(e|w)$/.test(kd)&&e,g=this,h=arguments,ed=function(b){var d=d3.event;try{d3.event={type:b,target:a},c[b].apply(g,h)}finally{d3.event=d}},ed("brushstart"),Rb(),u()}var d,e,c=d3.dispatch("brushstart","brush","brushend"),f=[[0,0],[0,0]];return a.x=function(b){return arguments.length?(d=b,a):d},a.y=function(b){return arguments.length?(e=b,a):e},a.extent=function(b){var c,g,h,i,j;return arguments.length?(d&&(c=b[0],g=b[1],e&&(c=c[0],g=g[0]),d.invert&&(c=d(c),g=d(g)),c>g&&(j=c,c=g,g=j),f[0][0]=c,f[1][0]=g),e&&(h=b[0],i=b[1],d&&(h=h[1],i=i[1]),e.invert&&(h=e(h),i=e(i)),h>i&&(j=h,h=i,i=j),f[0][1]=h,f[1][1]=i),a):(d&&(c=f[0][0],g=f[1][0],d.invert&&(c=d.invert(c),g=d.invert(g)),c>g&&(j=c,c=g,g=j)),e&&(h=f[0][1],i=f[1][1],e.invert&&(h=e.invert(h),i=e.invert(i)),h>i&&(j=h,h=i,i=j)),d&&e?[[c,h],[g,i]]:d?[c,g]:e&&[h,i])
},a.clear=function(){return f[0][0]=f[0][1]=f[1][0]=f[1][1]=0,a},a.empty=function(){return d&&f[0][0]===f[1][0]||e&&f[0][1]===f[1][1]},d3.select(window).on("mousemove.brush",Rb).on("mouseup.brush",Tb).on("keydown.brush",Pb).on("keyup.brush",Qb),d3.rebind(a,c,"on")},nd={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},d3.behavior={},d3.behavior.drag=function(){function a(){this.on("mousedown.drag",c).on("touchstart.drag",c),d3.select(window).on("mousemove.drag",Wb).on("touchmove.drag",Wb).on("mouseup.drag",Xb,!0).on("touchend.drag",Xb,!0).on("click.drag",Yb,!0)}function b(){od=d,pd=d3.event.target,qd=this,rd=arguments,td=Vb(),e?(sd=e.apply(qd,rd),sd=[sd.x-td[0],sd.y-td[1]]):sd=[0,0],ud=0}function c(){b.apply(this,arguments),Ub("dragstart")}var d=d3.dispatch("drag","dragstart","dragend"),e=null;return a.origin=function(b){return arguments.length?(e=b,a):e},d3.rebind(a,d,"on")},d3.behavior.zoom=function(){function a(){this.on("mousedown.zoom",c).on("mousewheel.zoom",d).on("DOMMouseScroll.zoom",d).on("dblclick.zoom",e).on("touchstart.zoom",f),d3.select(window).on("mousemove.zoom",ac).on("mouseup.zoom",bc).on("touchmove.zoom",_b).on("touchend.zoom",$b).on("click.zoom",cc,!0)}function b(){Ad=g,Bd=i,Cd=h.zoom,Dd=d3.event.target,Ed=this,Fd=arguments}function c(){b.apply(this,arguments),wd=Zb(d3.svg.mouse(Ed)),Gd=0,d3.event.preventDefault(),window.focus()}function d(){b.apply(this,arguments),xd||(xd=Zb(d3.svg.mouse(Ed))),vd||(vd=d3.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var c,a=d3.event;try{vd.scrollTop=1e3,vd.dispatchEvent(a),c=1e3-vd.scrollTop}catch(d){c=a.wheelDelta||5*-a.detail}dc(.005*c+g[2],d3.svg.mouse(Ed),xd)}function e(){b.apply(this,arguments);var a=d3.svg.mouse(Ed);dc(d3.event.shiftKey?Math.ceil(g[2]-1):Math.floor(g[2]+1),a,Zb(a))}function f(){b.apply(this,arguments);var c,a=$b(),d=Date.now();1===a.length&&300>d-zd&&dc(1+Math.floor(g[2]),c=a[0],yd[c.identifier]),zd=d}var g=[0,0,0],h=d3.dispatch("zoom"),i=Hd;return a.extent=function(b){return arguments.length?(i=null==b?Hd:b,a):i},d3.rebind(a,h,"on")},yd={},zd=0,Hd=[[-1/0,1/0],[-1/0,1/0],[-1/0,1/0]]}(),function(){function a(a){var d,e,f,g,h,c=a.source;if(a=a.target,e=a,c===e)d=c;else{for(d=b(c),e=b(e),f=d.pop(),g=e.pop(),h=null;f===g;)h=f,f=d.pop(),g=e.pop();d=h}for(e=[c];c!==d;)c=c.parent,e.push(c);for(c=e.length;a!==d;)e.splice(c,0,a),a=a.parent;return e}function b(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function c(a){a.fixed=2|a.fixed}function e(a){a!==T&&(a.fixed=1&a.fixed)}function f(){g(),T.fixed=1&T.fixed,S=T=null}function g(){T.px=d3.event.x,T.py=d3.event.y,S.resume()}function h(a,b,c){var j,f,g,i,d=0,e=0;if(a.charge=0,!a.leaf)for(f=a.nodes,g=f.length,i=-1;++i<g;)j=f[i],null!=j&&(h(j,b,c),a.charge=a.charge+j.charge,d+=j.charge*j.cx,e+=j.charge*j.cy);a.point&&(a.leaf||(a.point.x=a.point.x+(Math.random()-.5),a.point.y=a.point.y+(Math.random()-.5)),b*=c[a.point.index],a.charge=a.charge+(a.pointCharge=b),d+=b*a.point.x,e+=b*a.point.y),a.cx=d/a.charge,a.cy=e/a.charge}function i(){return 20}function j(){return 1}function k(a){return a.x}function l(a){return a.y}function m(a,b,c){a.y0=b,a.y=c}function n(a){for(var e,b=1,c=0,d=a[0][1],f=a.length;f>b;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function o(a){return a.reduce(p,0)}function p(a,b){return a+b[1]}function q(a,b){return r(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function r(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function s(a){return[d3.min(a),d3.max(a)]}function t(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=x,a.nodes=function(b){return X=!0,(a.nodes=a)(b)},a}function u(a){return a.children}function v(a){return a.value}function w(a,b){return b.value-a.value}function x(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function y(a,b){return a.value-b.value}function z(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function A(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function B(a){a._pack_next=a._pack_prev=a}function C(a){delete a._pack_next,delete a._pack_prev}function D(a){var i,j,k,l,m,c,d,e,f,g,h,n,o,p,q,b=a.children;if(b&&b.length){if(b.forEach(D),c=function(a){d=Math.min(a.x-a.r,d),e=Math.max(a.x+a.r,e),f=Math.min(a.y-a.r,f),g=Math.max(a.y+a.r,g)},d=1/0,e=-1/0,f=1/0,g=-1/0,h=b.length,b.forEach(B),i=b[0],i.x=-i.r,i.y=0,c(i),h>1&&(j=b[1],j.x=j.r,j.y=0,c(j),h>2))for(k=b[2],F(i,j,k),c(k),z(i,k),i._pack_prev=k,z(k,j),j=i._pack_next,n=3;h>n;n++){for(F(i,j,k=b[n]),o=0,p=1,q=1,l=j._pack_next;l!==j;l=l._pack_next,p++)if(A(l,k)){o=1;break}if(1==o)for(m=i._pack_prev;m!==l._pack_prev&&!A(m,k);m=m._pack_prev,q++);o?(q>p||p==q&&j.r<i.r?(k=i,l=j=l,k._pack_next=l,l._pack_prev=k):(l=i=m,k=j,l._pack_next=k,k._pack_prev=l),n--):(z(i,k),j=k,c(k))}for(c=(d+e)/2,i=(f+g)/2,n=j=0;h>n;n++)m=b[n],m.x=m.x-c,m.y=m.y-i,j=Math.max(j,m.r+Math.sqrt(m.x*m.x+m.y*m.y));b.forEach(C),a.r=j}else a.r=Math.sqrt(a.value)}function E(a,b,c,d){var f,e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r=a.r*d,e)for(a=-1,f=e.length;++a<f;)E(e[a],b,c,d)}function F(a,b,c){var g,h,d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;d&&(e||f)?(g=b.r+c.r,b=Math.sqrt(e*e+f*f),h=Math.max(-1,Math.min(1,(d*d+b*b-g*g)/(2*d*b))),g=Math.acos(h),b=h*(d/=b),d=Math.sin(g)*d,c.x=a.x+b*e+d*f,c.y=a.y+b*f-d*e):(c.x=a.x+d,c.y=a.y)}function G(a){var b=a.children;return b&&b.length?G(b[0]):a}function H(a){var c,b=a.children;return b&&(c=b.length)?H(b[c-1]):a}function I(a,b){return a.parent==b.parent?1:2}function J(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function K(a){var c,b=a.children;return b&&(c=b.length)?b[c-1]:a._tree.thread}function L(a,b){var d,e,f,c=a.children;if(c&&(e=c.length))for(f=-1;++f<e;)b(d=L(c[f],b),a)>0&&(a=d);return a}function M(a,b){return a.x-b.x}function N(a,b){return b.x-a.x}function O(a,b){return a.depth-b.depth}function P(a,b){function c(a,d){var f,i,g,h,e=a.children;if(e&&(i=e.length))for(g=null,h=-1;++h<i;)f=e[h],c(f,g),g=f;b(a,d)}c(a,null)}function Q(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function R(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}var S,T,U,V,W,X;d3.layout={},d3.layout.bundle=function(){return function(b){for(var c=[],d=-1,e=b.length;++d<e;)c.push(a(b[d]));return c}},d3.layout.chord=function(){function a(){var n,o,p,q,r,s,t,u,v,w,a={},c=[],l=d3.range(g),m=[];for(d=[],e=[],n=0,q=-1;++q<g;){for(o=0,r=-1;++r<g;)o+=f[q][r];c.push(o),m.push(d3.range(g)),n+=o}for(i&&l.sort(function(a,b){return i(c[a],c[b])}),j&&m.forEach(function(a,b){a.sort(function(a,c){return j(f[b][a],f[b][c])})}),n=(2*Math.PI-h*g)/n,o=0,q=-1;++q<g;){for(p=o,r=-1;++r<g;)s=l[q],t=m[s][r],u=f[s][t],v=o,w=o+=u*n,a[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u};e.push({index:s,startAngle:p,endAngle:o,value:(o-p)/n}),o+=h}for(q=-1;++q<g;)for(r=q-1;++r<g;)l=a[q+"-"+r],m=a[r+"-"+q],(l.value||m.value)&&d.push(l.value<m.value?{source:m,target:l}:{source:l,target:m});k&&b()}function b(){d.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var d,e,f,g,i,j,k,c={},h=0;return c.matrix=function(a){return arguments.length?(g=(f=a)&&f.length,d=e=null,c):f},c.padding=function(a){return arguments.length?(h=a,d=e=null,c):h},c.sortGroups=function(a){return arguments.length?(i=a,d=e=null,c):i},c.sortSubgroups=function(a){return arguments.length?(j=a,d=null,c):j},c.sortChords=function(a){return arguments.length?(k=a,d&&b(),c):k},c.chords=function(){return d||a(),d},c.groups=function(){return e||a(),e},c},d3.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var d=b.cx-a.x,f=b.cy-a.y,g=1/Math.sqrt(d*d+f*f);if(u>(e-c)*g)return c=b.charge*g*g,a.px=a.px-d*c,a.py=a.py-f*c,!0;b.point&&isFinite(g)&&(c=b.pointCharge*g*g,a.px=a.px-d*c,a.py=a.py-f*c)}return!b.charge}}function b(){var d,e,f,g,i,j,k,b=v.length,c=w.length;for(d=0;c>d;++d)e=w[d],f=e.source,g=e.target,j=g.x-f.x,k=g.y-f.y,(i=j*j+k*k)&&(i=o*y[d]*((i=Math.sqrt(i))-x[d])/i,j*=i,k*=i,g.x=g.x-j*(i=f.weight/(g.weight+f.weight)),g.y=g.y-k*i,f.x=f.x+j*(i=1-i),f.y=f.y+k*i);if((i=o*t)&&(j=m[0]/2,k=m[1]/2,d=-1,i))for(;++d<b;)e=v[d],e.x=e.x+(j-e.x)*i,e.y=e.y+(k-e.y)*i;if(s)for(h(c=d3.geom.quadtree(v),o,z),d=-1;++d<b;)(e=v[d]).fixed||c.visit(a(e));for(d=-1;++d<b;)e=v[d],e.fixed?(e.x=e.px,e.y=e.py):(e.x=e.x-(e.px-(e.px=e.x))*p,e.y=e.y-(e.py-(e.py=e.y))*p);return l.tick({type:"tick",alpha:o}),(o=.99*o)<.005}function d(a){c(T=a),S=k}var n,o,x,y,z,k={},l=d3.dispatch("tick"),m=[1,1],p=.9,q=i,r=j,s=-30,t=.1,u=.8,v=[],w=[];return k.nodes=function(a){return arguments.length?(v=a,k):v},k.links=function(a){return arguments.length?(w=a,k):w},k.size=function(a){return arguments.length?(m=a,k):m},k.linkDistance=function(a){return arguments.length?(q=d3.functor(a),k):q},k.distance=k.linkDistance,k.linkStrength=function(a){return arguments.length?(r=d3.functor(a),k):r},k.friction=function(a){return arguments.length?(p=a,k):p},k.charge=function(a){return arguments.length?(s="function"==typeof a?a:+a,k):s},k.gravity=function(a){return arguments.length?(t=a,k):t},k.theta=function(a){return arguments.length?(u=a,k):u},k.start=function(){function a(a,f){var g,k,i,j;if(!h){for(h=[],c=0;d>c;++c)h[c]=[];for(c=0;e>c;++c)g=w[c],h[g.source.index].push(g.target),h[g.target.index].push(g.source)}for(g=h[b],i=-1,j=g.length;++i<j;)if(!isNaN(k=g[i][a]))return k;return Math.random()*f}var b,c,h,i,d=v.length,e=w.length,f=m[0],g=m[1];for(b=0;d>b;++b)(i=v[b]).index=b,i.weight=0;for(x=[],y=[],b=0;e>b;++b)i=w[b],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),x[b]=q.call(this,i,b),y[b]=r.call(this,i,b),++i.source.weight,++i.target.weight;for(b=0;d>b;++b)i=v[b],isNaN(i.x)&&(i.x=a("x",f)),isNaN(i.y)&&(i.y=a("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(z=[],"function"==typeof s)for(b=0;d>b;++b)z[b]=+s.call(this,v[b],b);else for(b=0;d>b;++b)z[b]=s;return k.resume()},k.resume=function(){return o=.1,d3.timer(b),k},k.stop=function(){return o=0,k},k.drag=function(){n||(n=d3.behavior.drag().origin(Object).on("dragstart",d).on("drag",g).on("dragend",f)),this.on("mouseover.force",c).on("mouseout.force",e).call(n)},d3.rebind(k,l,"on")},d3.layout.partition=function(){function a(b,c,d,e){var h,i,g,f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(h=f.length))for(g=-1,d=b.value?d/b.value:0;++g<h;)a(i=f[g],c,b=i.value*d,e),c+=b}function b(a){var c,e,d;if(a=a.children,c=0,a&&(e=a.length))for(d=-1;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=d3.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},t(c,d)},d3.layout.pie=function(){function a(g){var m,i=g.map(function(c,d){return+b.call(a,c,d)}),j=+("function"==typeof e?e.apply(this,arguments):e),k=(("function"==typeof f?f.apply(this,arguments):f)-e)/d3.sum(i),l=d3.range(g.length);return null!=c&&l.sort(c===U?function(a,b){return i[b]-i[a]}:function(a,b){return c(g[a],g[b])}),m=[],l.forEach(function(a){m[a]={data:g[a],value:d=i[a],startAngle:j,endAngle:j+=d*k}}),m}var b=Number,c=U,e=0,f=2*Math.PI;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(e=b,a):e},a.endAngle=function(b){return arguments.length?(f=b,a):f},a},U={},d3.layout.stack=function(){function a(h,i){var o,p,q,j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i),j=d3.permute(j,l),k=d3.permute(k,l),l=d.call(a,k,i),m=j.length,n=j[0].length;for(p=0;n>p;++p)for(e.call(a,j[0][p],q=l[p],k[0][p][1]),o=1;m>o;++o)e.call(a,j[o][p],q+=k[o-1][p][1],k[o][p][1]);return h}var b=Object,c=V["default"],d=W.zero,e=m,f=k,g=l;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:V[b],a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:W[b],a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a},V={"inside-out":function(a){for(var c,b=a.length,d=a.map(n),e=a.map(o),f=d3.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,i=[],j=[],a=0;b>a;++a)c=f[a],h>g?(g+=e[c],i.push(c)):(h+=e[c],j.push(c));return j.reverse().concat(i)},reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},W={silhouette:function(a){var f,g,h,b=a.length,c=a[0].length,d=[],e=0,i=[];for(g=0;c>g;++g){for(h=f=0;b>f;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;c>g;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var e,f,g,h,i,j,k,l,m,b=a.length,c=a[0],d=c.length,n=[];for(n[0]=l=m=0,f=1;d>f;++f){for(h=e=0;b>e;++e)h+=a[e][f][1];for(i=e=0,k=c[f][0]-c[f-1][0];b>e;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);e>g;++g)j+=(a[g][f][1]-a[g][f-1][1])/k;i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0,m>l&&(m=l)}for(f=0;d>f;++f)n[f]=n[f]-m;return n},expand:function(a){var e,f,g,b=a.length,c=a[0].length,d=1/b,h=[];for(f=0;c>f;++f){for(g=e=0;b>e;e++)g+=a[e][f][1];if(g)for(e=0;b>e;e++)a[e][f][1]=a[e][f][1]/g;else for(e=0;b>e;e++)a[e][f][1]=d}for(f=0;c>f;++f)h[f]=0;return h},zero:function(a){for(var b=-1,a=a[0].length,c=[];++b<a;)c[b]=0;return c}},d3.layout.histogram=function(){function a(a,f){for(var k,g=[],h=a.map(c,this),i=d.call(this,h,f),j=e.call(this,i,h,f),f=-1,l=h.length,m=j.length-1,n=b?1:1/l;++f<m;)k=g[f]=[],k.dx=j[f+1]-(k.x=j[f]),k.y=0;for(f=-1;++f<l;)k=h[f],k>=i[0]&&k<=i[1]&&(k=g[d3.bisect(j,k,1,m)-1],k.y=k.y+n,k.push(a[f]));return g}var b=!0,c=Number,d=s,e=q;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=d3.functor(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return r(a,b)}:d3.functor(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},d3.layout.hierarchy=function(){function a(b,h,i){var l,m,n,j=f.call(c,b,h),k=X?b:{data:b};if(k.depth=h,i.push(k),j&&(l=j.length)){for(b=-1,m=k.children=[],n=0,h+=1;++b<l;)d=a(j[b],h,i),d.parent=k,m.push(d),n+=d.value;e&&m.sort(e),g&&(k.value=n)}else g&&(k.value=+g.call(c,b,h)||0);return k}function b(a,d){var i,h,j,e=a.children,f=0;if(e&&(i=e.length))for(h=-1,j=d+1;++h<i;)f+=b(e[h],j);else g&&(f=+g.call(c,X?a:a.data,d)||0);return g&&(a.value=f),f}function c(b){var c=[];return a(b,0,c),c}var e=w,f=u,g=v;return c.sort=function(a){return arguments.length?(e=a,c):e},c.children=function(a){return arguments.length?(f=a,c):f},c.value=function(a){return arguments.length?(g=a,c):g},c.revalue=function(a){return b(a,0),a},c},X=!1,d3.layout.pack=function(){function a(a,d){var g,h,i,e=b.call(this,a,d),f=e[0];return f.x=0,f.y=0,D(f),g=c[0],h=c[1],i=1/Math.max(2*f.r/g,2*f.r/h),E(f,g/2,h/2,i),e}var b=d3.layout.hierarchy().sort(y),c=[1,1];return a.size=function(b){return arguments.length?(c=b,a):c},t(a,b)},d3.layout.cluster=function(){function a(a,e){var h,j,k,l,m,f=b.call(this,a,e),g=f[0],i=0;return P(g,function(a){var b=a.children;b&&b.length?(a.x=b.reduce(function(a,b){return a+b.x},0)/b.length,a.y=1+d3.max(b,function(a){return a.y})):(a.x=h?i+=c(a,h):0,a.y=0,h=a)}),j=G(g),k=H(g),l=j.x-c(j,k)/2,m=k.x+c(k,j)/2,P(g,function(a){a.x=(a.x-l)/(m-l)*d[0],a.y=(1-(g.y?a.y/g.y:1))*d[1]}),f}var b=d3.layout.hierarchy().sort(null).value(null),c=I,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},t(a,b)},d3.layout.tree=function(){function a(a,e){function f(a,b){var g,i,k,h,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,d=a.children,e=a._tree;if(d&&(g=d.length)){for(h=d[0],j=h,l=-1;++l<g;){if(k=d[l],f(k,i),m=k,i){for(n=m,o=m,p=m.parent.children[0],q=n._tree.mod,r=o._tree.mod,s=i._tree.mod,t=p._tree.mod,u=void 0;i=K(i),n=J(n),i&&n;)p=J(p),o=K(o),o._tree.ancestor=m,u=i._tree.prelim+s-n._tree.prelim-q+c(i,n),u>0&&(v=i._tree.ancestor.parent==m.parent?i._tree.ancestor:j,w=m,x=u,v=v._tree,w=w._tree,y=x/(w.number-v.number),v.change=v.change+y,w.change=w.change-y,w.shift=w.shift+x,w.prelim=w.prelim+x,w.mod=w.mod+x,q+=u,r+=u),s+=i._tree.mod,q+=n._tree.mod,t+=p._tree.mod,r+=o._tree.mod;i&&!K(o)&&(o._tree.thread=i,o._tree.mod=o._tree.mod+(s-r)),n&&!J(p)&&(p._tree.thread=n,p._tree.mod=p._tree.mod+(q-t),j=m)}i=k}for(g=d=0,l=a.children,m=l.length;--m>=0;)j=l[m]._tree,j.prelim=j.prelim+d,j.mod=j.mod+d,d+=j.shift+(g+=j.change);h=.5*(h._tree.prelim+k._tree.prelim),b?(e.prelim=b._tree.prelim+c(a,b),e.mod=e.prelim-h):e.prelim=h}else b&&(e.prelim=b._tree.prelim+c(a,b))}function g(a,b){var c,e,d;if(a.x=a._tree.prelim+b,c=a.children,c&&(e=c.length))for(d=-1,b+=a._tree.mod;++d<e;)g(c[d],b)}var j,k,l,m,n,o,h=b.call(this,a,e),i=h[0];return P(i,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),f(i),g(i,-i._tree.prelim),j=L(i,N),k=L(i,M),l=L(i,O),m=j.x-c(j,k)/2,n=k.x+c(k,j)/2,o=l.depth||1,P(i,function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=a.depth/o*d[1],delete a._tree}),h}var b=d3.layout.hierarchy().sort(null).value(null),c=I,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},t(a,b)},d3.layout.treemap=function(){function a(a,b){for(var e,f,c=-1,d=a.length;++c<d;)f=(e=a[c]).value*(0>b?0:b),e.area=isNaN(f)||0>=f?0:f}function b(c){var f,g,h,i,k,l,n,o,p,q,r,e=c.children;if(e&&e.length){for(f=j(c),g=[],h=e.slice(),i=1/0,k=Math.min(f.dx,f.dy),a(h,f.dx*f.dy/c.value),g.area=0;(c=h.length)>0;){for(g.push(c=h[c-1]),g.area=g.area+c.area,c=k,l=g.area,n=void 0,o=0,p=1/0,q=-1,r=g.length;++q<r;)(n=g[q].area)&&(p>n&&(p=n),n>o&&(o=n));l*=l,c*=c,(c=l?Math.max(c*o*m/l,l/(c*p*m)):1/0)<=i?(h.pop(),i=c):(g.area=g.area-g.pop().area,d(g,k,f,!1),k=Math.min(f.dx,f.dy),g.length=g.area=0,i=1/0)}g.length&&(d(g,k,f,!0),g.length=g.area=0),e.forEach(b)}}function c(b){var f,g,h,e=b.children;if(e&&e.length){for(f=j(b),g=e.slice(),h=[],a(g,f.dx*f.dy/b.value),h.area=0;b=g.pop();)h.push(b),h.area=h.area+b.area,null!=b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,d){var k,e=-1,f=a.length,h=c.x,i=c.y,j=b?g(a.area/b):0;if(b==c.dx){for((d||j>c.dy)&&(j=c.dy);++e<f;)k=a[e],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(c.x+c.dx-h,j?g(k.area/j):0);k.z=!0,k.dx=k.dx+(c.x+c.dx-h),c.y=c.y+j,c.dy=c.dy-j}else{for((d||j>c.dx)&&(j=c.dx);++e<f;)k=a[e],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(c.y+c.dy-i,j?g(k.area/j):0);k.z=!1,k.dy=k.dy+(c.y+c.dy-i),c.x=c.x+j,c.dx=c.dx-j}}function e(d){var d=l||f(d),e=d[0];return e.x=0,e.y=0,e.dx=h[0],e.dy=h[1],l&&f.revalue(e),a([e],e.dx*e.dy/e.value),(l?c:b)(e),k&&(l=d),d}var l,f=d3.layout.hierarchy(),g=Math.round,h=[1,1],i=null,j=Q,k=!1,m=.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(h=a,e):h},e.padding=function(a){function b(b){var c=a.call(e,b,b.depth);return null==c?Q(b):R(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return R(b,a)}if(!arguments.length)return i;var d;return j=null==(i=a)?Q:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,e},e.round=function(a){return arguments.length?(g=a?Math.round:Number,e):g!=Number},e.sticky=function(a){return arguments.length?(k=a,l=null,e):k},e.ratio=function(a){return arguments.length?(m=a,e):m},t(e,f)}}(),function(){function a(a){return a.map(b).join(",")}function b(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}d3.csv=function(a,b){d3.text(a,"text/csv",function(a){b(a&&d3.csv.parse(a))})},d3.csv.parse=function(a){var b;return d3.csv.parseRows(a,function(a,c){if(c){for(var d={},e=-1,f=b.length;++e<f;)d[b[e]]=a[e];return d}return b=a,null})},d3.csv.parseRows=function(a,b){function c(){var b,c,f;if(g.lastIndex>=a.length)return e;if(j)return j=!1,d;if(b=g.lastIndex,34===a.charCodeAt(b)){for(c=b;c++<a.length;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;c++}return g.lastIndex=c+2,f=a.charCodeAt(c+1),13===f?(j=!0,10===a.charCodeAt(c+2)&&g.lastIndex++):10===f&&(j=!0),a.substring(b+1,c).replace(/""/g,'"')}return(c=g.exec(a))?(j=44!==c[0].charCodeAt(0),a.substring(b,c.index)):(g.lastIndex=a.length,a.substring(b))}var i,j,k,d={},e={},f=[],g=/\r\n|[,\r\n]/g,h=0;for(g.lastIndex=0;(i=c())!==e;){for(k=[];i!==d&&i!==e;)k.push(i),i=c();(!b||(k=b(k,h++)))&&f.push(k)}return f},d3.csv.format=function(b){return b.map(a).join("\n")}}(),function(){function a(a,b,c,d){for(var e,f=0,g=b.length,h=c.length;g>f;){if(d>=h)return-1;if(e=b.charCodeAt(f++),37==e){if(e=w[b.charAt(f++)],!e||(d=e(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function b(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setDate(+b[0]),c+b[0].length):-1}function c(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setHours(+b[0]),c+b[0].length):-1}function d(a,b){return~~((b-a)/864e5-(b.getTimezoneOffset()-a.getTimezoneOffset())/1440)}function e(){this._=new Date(Date.UTC.apply(this,arguments))}function f(a){return a.toISOString()}function g(a,b,c){return function(d,e,f){var g=a(d),h=[];if(d>g&&b(g),f>1)for(;e>g;)d=new Date(+g),c(d)%f||h.push(d),b(g);else for(;e>g;)h.push(new Date(+g)),b(g);return h}}function h(a){a.setTime(a.getTime()+6e4)}function i(a){a.setTime(a.getTime()+36e5)}function j(a,b,c){function d(b){return a(b)}return d.invert=function(b){return k(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(k)},d.ticks=function(c,e){var h,g=d.domain(),f=g[0];if(g=g[g.length-1],f=g>f?[f,g]:[g,f],"function"!=typeof c){if(g=(f[1]-f[0])/c,h=d3.bisect(H,g),h==H.length)return b.year(f,c);if(!h)return a.ticks(c).map(k);Math.log(g/H[h-1])<Math.log(H[h]/g)&&--h,c=b[h],e=c[1],c=c[0]}return c(f[0],new Date(+f[1]+1),e)},d.tickFormat=function(){return c},d.copy=function(){return j(a.copy(),b,c)},d3.rebind(d,a,"range","rangeRound","interpolate","clamp")}function k(a){return new Date(a)}function l(a){return function(b){for(var c=a.length-1,d=a[c];!d[1](b);)d=a[--c];return d[0](b)}}function m(a){var b=new Date(a,0,1);return b.setFullYear(a),b}function n(a){var b=a.getFullYear(),c=m(b),d=m(b+1);return b+(a-c)/(d-c)}function o(a){var b=new Date(Date.UTC(a,0,1));return b.setUTCFullYear(a),b}function p(a){var b=a.getUTCFullYear(),c=o(b),d=o(b+1);return b+(a-c)/(d-c)}var q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;d3.time={},q=Date,d3.time.format=function(b){function c(a){for(var g,h,c=[],e=-1,f=0;++e<d;)37==b.charCodeAt(e)&&(c.push(b.substring(f,e),(h=v[g=b.charAt(++e)])?h(a):g),f=e+1);return c.push(b.substring(f,e)),c.join("")}var d=b.length;return c.parse=function(c){var d=new q(1900,0,1);return a(d,b,c,0)!=c.length?null:(d.hour12&&(c=d.getHours()%12,d.setHours(d.hour12pm?c+12:c)),delete d.hour12,delete d.hour12pm,d)},c.toString=function(){return b},c},r=d3.format("02d"),s=d3.format("03d"),t=d3.format("04d"),u=d3.format("2d"),v={a:function(a){return z[a.getDay()].substring(0,3)},A:function(a){return z[a.getDay()]},b:function(a){return D[a.getMonth()].substring(0,3)},B:function(a){return D[a.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(a){return r(a.getDate())},e:function(a){return u(a.getDate())},H:function(a){return r(a.getHours())},I:function(a){return r(a.getHours()%12||12)},j:function(a){return s(1+d(new q(a.getFullYear(),0,1),a))},L:function(a){return s(a.getMilliseconds())},m:function(a){return r(a.getMonth()+1)},M:function(a){return r(a.getMinutes())},p:function(a){return a.getHours()>=12?"PM":"AM"},S:function(a){return r(a.getSeconds())},U:function(a){var b=new q(a.getFullYear(),0,1);return r(~~((d(b,a)+b.getDay())/7))},w:function(a){return a.getDay()},W:function(a){var b=new q(a.getFullYear(),0,1);return r(~~((d(b,a)+(b.getDay()+6)%7)/7))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(a){return r(a.getFullYear()%100)},Y:function(a){return t(a.getFullYear()%1e4)},Z:function(a){var b=a.getTimezoneOffset(),a=b>0?"-":"+",c=~~(Math.abs(b)/60),b=Math.abs(b)%60;return a+r(c)+r(b)},"%":function(){return"%"}},w={a:function(a,b,c){return b.substring(c,c+=3).toLowerCase()in x?c:-1},A:function(a,b,c){return y.lastIndex=0,(a=y.exec(b.substring(c,c+10)))?c+a[0].length:-1},b:function(a,b,c){return b=A[b.substring(c,c+=3).toLowerCase()],null==b?-1:(a.setMonth(b),c)},B:function(a,b,c){return B.lastIndex=0,(b=B.exec(b.substring(c,c+12)))?(a.setMonth(C[b[0].toLowerCase()]),c+b[0].length):-1},c:function(b,c,d){return a(b,v.c.toString(),c,d)},d:b,e:b,H:c,I:function(a,b,d){return a.hour12=!0,c(a,b,d)},L:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+3)))?(a.setMilliseconds(+b[0]),c+b[0].length):-1},m:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setMonth(b[0]-1),c+b[0].length):-1},M:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setMinutes(+b[0]),c+b[0].length):-1},p:function(a,b,c){return b=F[b.substring(c,c+=2).toLowerCase()],null==b?-1:(a.hour12pm=b,c)},S:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setSeconds(+b[0]),c+b[0].length):-1},x:function(b,c,d){return a(b,v.x.toString(),c,d)},X:function(b,c,d){return a(b,v.X.toString(),c,d)},y:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+2)))?(a.setFullYear(1e3*~~((new Date).getFullYear()/1e3)+ +b[0]),c+b[0].length):-1},Y:function(a,b,c){return E.lastIndex=0,(b=E.exec(b.substring(c,c+4)))?(a.setFullYear(b[0]),c+b[0].length):-1}},x={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3},y=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/gi,z=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],A={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},B=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi,C={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},D=["January","February","March","April","May","June","July","August","September","October","November","December"],E=/\s*\d+/,F={am:0,pm:1},d3.time.format.utc=function(a){function b(a){try{q=e;var b=new q;return b._=a,c(b)}finally{q=Date}}var c=d3.time.format(a);return b.parse=function(a){try{q=e;var b=c.parse(a);return b&&b._}finally{q=Date}},b.toString=c.toString,b},e.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.getTime()},setDate:function(a){this._.setUTCDate(a)},setDay:function(a){this._.setUTCDay(a)},setFullYear:function(a){this._.setUTCFullYear(a)},setHours:function(a){this._.setUTCHours(a)},setMilliseconds:function(a){this._.setUTCMilliseconds(a)},setMinutes:function(a){this._.setUTCMinutes(a)},setMonth:function(a){this._.setUTCMonth(a)},setSeconds:function(a){this._.setUTCSeconds(a)}},G=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ"),d3.time.format.iso=Date.prototype.toISOString?f:G,f.parse=function(a){return new Date(a)},f.toString=G.toString,d3.time.second=function(a){return new Date(1e3*~~(a/1e3))},d3.time.second.utc=d3.time.second,d3.time.seconds=g(d3.time.second,function(a){a.setTime(a.getTime()+1e3)},function(a){return a.getSeconds()}),d3.time.seconds.utc=d3.time.seconds,d3.time.minute=function(a){return new Date(6e4*~~(a/6e4))},d3.time.minute.utc=d3.time.minute,d3.time.minutes=g(d3.time.minute,h,function(a){return a.getMinutes()}),d3.time.minutes.utc=g(d3.time.minute,h,function(a){return a.getUTCMinutes()}),d3.time.hour=function(a){var b=a.getTimezoneOffset()/60;return new Date(36e5*(~~(a/36e5-b)+b))},d3.time.hour.utc=function(a){return new Date(36e5*~~(a/36e5))},d3.time.hours=g(d3.time.hour,i,function(a){return a.getHours()}),d3.time.hours.utc=g(d3.time.hour.utc,i,function(a){return a.getUTCHours()}),d3.time.day=function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},d3.time.day.utc=function(a){return new Date(864e5*~~(a/864e5))},d3.time.days=g(d3.time.day,function(a){a.setDate(a.getDate()+1)},function(a){return a.getDate()-1}),d3.time.days.utc=g(d3.time.day.utc,function(a){a.setUTCDate(a.getUTCDate()+1)},function(a){return a.getUTCDate()-1}),d3.time.week=function(a){return(a=d3.time.day(a)).setDate(a.getDate()-a.getDay()),a},d3.time.week.utc=function(a){return(a=d3.time.day.utc(a)).setUTCDate(a.getUTCDate()-a.getUTCDay()),a},d3.time.weeks=g(d3.time.week,function(a){a.setDate(a.getDate()+7)},function(a){return~~((a-new Date(a.getFullYear(),0,1))/6048e5)}),d3.time.weeks.utc=g(d3.time.week.utc,function(a){a.setUTCDate(a.getUTCDate()+7)},function(a){return~~((a-Date.UTC(a.getUTCFullYear(),0,1))/6048e5)}),d3.time.month=function(a){return new Date(a.getFullYear(),a.getMonth(),1)},d3.time.month.utc=function(a){return new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),1))},d3.time.months=g(d3.time.month,function(a){a.setMonth(a.getMonth()+1)},function(a){return a.getMonth()}),d3.time.months.utc=g(d3.time.month.utc,function(a){a.setUTCMonth(a.getUTCMonth()+1)},function(a){return a.getUTCMonth()}),d3.time.year=function(a){return new Date(a.getFullYear(),0,1)},d3.time.year.utc=function(a){return new Date(Date.UTC(a.getUTCFullYear(),0,1))},d3.time.years=g(d3.time.year,function(a){a.setFullYear(a.getFullYear()+1)},function(a){return a.getFullYear()}),d3.time.years.utc=g(d3.time.year.utc,function(a){a.setUTCFullYear(a.getUTCFullYear()+1)},function(a){return a.getUTCFullYear()}),H=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],I=[[d3.time.seconds,1],[d3.time.seconds,5],[d3.time.seconds,15],[d3.time.seconds,30],[d3.time.minutes,1],[d3.time.minutes,5],[d3.time.minutes,15],[d3.time.minutes,30],[d3.time.hours,1],[d3.time.hours,3],[d3.time.hours,6],[d3.time.hours,12],[d3.time.days,1],[d3.time.days,2],[d3.time.weeks,1],[d3.time.months,1],[d3.time.months,3],[d3.time.years,1]],G=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(a){return a.getMonth()}],[d3.time.format("%b %d"),function(a){return 1!=a.getDate()}],[d3.time.format("%a %d"),function(a){return a.getDay()&&1!=a.getDate()}],[d3.time.format("%I %p"),function(a){return a.getHours()}],[d3.time.format("%I:%M"),function(a){return a.getMinutes()}],[d3.time.format(":%S"),function(a){return a.getSeconds()}],[d3.time.format(".%L"),function(a){return a.getMilliseconds()}]],J=d3.scale.linear(),K=l(G),I.year=function(a,b){return J.domain(a.map(n)).ticks(b).map(m)},d3.time.scale=function(){return j(d3.scale.linear(),I,K)},L=[[d3.time.seconds.utc,1],[d3.time.seconds.utc,5],[d3.time.seconds.utc,15],[d3.time.seconds.utc,30],[d3.time.minutes.utc,1],[d3.time.minutes.utc,5],[d3.time.minutes.utc,15],[d3.time.minutes.utc,30],[d3.time.hours.utc,1],[d3.time.hours.utc,3],[d3.time.hours.utc,6],[d3.time.hours.utc,12],[d3.time.days.utc,1],[d3.time.days.utc,2],[d3.time.weeks.utc,1],[d3.time.months.utc,1],[d3.time.months.utc,3],[d3.time.years.utc,1]],G=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(a){return a.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(a){return 1!=a.getUTCDate()}],[d3.time.format.utc("%a %d"),function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],[d3.time.format.utc("%I %p"),function(a){return a.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(a){return a.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(a){return a.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(a){return a.getUTCMilliseconds()
}]],M=l(G),L.year=function(a,b){return J.domain(a.map(p)).ticks(b).map(o)},d3.time.scale.utc=function(){return j(d3.scale.linear(),L,M)}}(),function(){function a(a){return a.map(b).join(",")}function b(a){return/[",\n]/.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}d3.csv=function(a,b){d3.text(a,"text/csv",function(a){b(a&&d3.csv.parse(a))})},d3.csv.parse=function(a){var b;return d3.csv.parseRows(a,function(a,c){if(c){for(var d={},e=-1,f=b.length;++e<f;)d[b[e]]=a[e];return d}return b=a,null})},d3.csv.parseRows=function(a,b){function j(){var b,e,g,h;if(f.lastIndex>=a.length)return d;if(i)return i=!1,c;if(b=f.lastIndex,34===a.charCodeAt(b)){for(e=b;e++<a.length;)if(34===a.charCodeAt(e)){if(34!==a.charCodeAt(e+1))break;e++}return f.lastIndex=e+2,g=a.charCodeAt(e+1),13===g?(i=!0,10===a.charCodeAt(e+2)&&f.lastIndex++):10===g&&(i=!0),a.substring(b+1,e).replace(/""/g,'"')}return(h=f.exec(a))?(i=44!==h[0].charCodeAt(0),a.substring(b,h.index)):(f.lastIndex=a.length,a.substring(b))}var h,i,k,c={},d={},e=[],f=/\r\n|[,\r\n]/g,g=0;for(f.lastIndex=0;(h=j())!==d;){for(k=[];h!==c&&h!==d;)k.push(h),h=j();(!b||(k=b(k,g++)))&&e.push(k)}return e},d3.csv.format=function(b){return b.map(a).join("\n")}}(),function(){function a(a){var d,e,f,g,h,c=a.source;if(a=a.target,e=a,c===e)d=c;else{for(d=b(c),e=b(e),f=d.pop(),g=e.pop(),h=null;f===g;)h=f,f=d.pop(),g=e.pop();d=h}for(e=[c];c!==d;)c=c.parent,e.push(c);for(c=e.length;a!==d;)e.splice(c,0,a),a=a.parent;return e}function b(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function c(a){a.fixed|=2}function e(a){a!==X&&(a.fixed&=1)}function f(){g(),X.fixed&=1,W=X=null}function g(){X.px=d3.event.x,X.py=d3.event.y,W.resume()}function h(a,b,c){var j,f,g,i,d=0,e=0;if(a.charge=0,!a.leaf)for(f=a.nodes,g=f.length,i=-1;++i<g;)j=f[i],null!=j&&(h(j,b,c),a.charge+=j.charge,d+=j.charge*j.cx,e+=j.charge*j.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y),a.cx=d/a.charge,a.cy=e/a.charge}function i(){return 20}function j(){return 1}function k(a){return a.x}function l(a){return a.y}function m(a,b,c){a.y0=b,a.y=c}function n(a){for(var e,b=1,c=0,d=a[0][1],f=a.length;f>b;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function o(a){return a.reduce(p,0)}function p(a,b){return a+b[1]}function q(a,b){return r(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function r(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function s(a){return[d3.min(a),d3.max(a)]}function t(a,b){return d3.rebind(a,b,"sort","children","value"),a.links=x,a.nodes=function(b){return _=!0,(a.nodes=a)(b)},a}function u(a){return a.children}function v(a){return a.value}function w(a,b){return b.value-a.value}function x(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function y(a,b){return a.value-b.value}function z(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function A(a,b){a._pack_next=b,b._pack_prev=a}function B(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return e*e-c*c-d*d>.001}function C(a){function b(a){c=Math.min(a.x-a.r,c),d=Math.max(a.x+a.r,d),e=Math.min(a.y-a.r,e),f=Math.max(a.y+a.r,f)}var h,i,j,k,l,m,n,o,p,c=1/0,d=-1/0,e=1/0,f=-1/0,g=a.length;if(a.forEach(D),h=a[0],h.x=-h.r,h.y=0,b(h),g>1&&(i=a[1],i.x=i.r,i.y=0,b(i),g>2))for(j=a[2],H(h,i,j),b(j),z(h,j),h._pack_prev=j,z(j,i),i=h._pack_next,m=3;g>m;m++){for(H(h,i,j=a[m]),n=0,o=1,p=1,k=i._pack_next;k!==i;k=k._pack_next,o++)if(B(k,j)){n=1;break}if(1==n)for(l=h._pack_prev;l!==k._pack_prev&&!B(l,j);l=l._pack_prev,p++);n?(p>o||o==p&&i.r<h.r?A(h,i=k):A(h=l,i),m--):(z(h,j),i=j,b(j))}for(h=(c+d)/2,i=(e+f)/2,m=j=0;g>m;m++)k=a[m],k.x-=h,k.y-=i,j=Math.max(j,k.r+Math.sqrt(k.x*k.x+k.y*k.y));return a.forEach(E),j}function D(a){a._pack_next=a._pack_prev=a}function E(a){delete a._pack_next,delete a._pack_prev}function F(a){var b=a.children;b&&b.length?(b.forEach(F),a.r=C(b)):a.r=Math.sqrt(a.value)}function G(a,b,c,d){var f,e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(a=-1,f=e.length;++a<f;)G(e[a],b,c,d)}function H(a,b,c){var g,h,d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;d&&(e||f)?(g=b.r+c.r,b=Math.sqrt(e*e+f*f),h=Math.max(-1,Math.min(1,(d*d+b*b-g*g)/(2*d*b))),g=Math.acos(h),b=h*(d/=b),d=Math.sin(g)*d,c.x=a.x+b*e+d*f,c.y=a.y+b*f-d*e):(c.x=a.x+d,c.y=a.y)}function I(a){return 1+d3.max(a,function(a){return a.y})}function J(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function K(a){var b=a.children;return b&&b.length?K(b[0]):a}function L(a){var c,b=a.children;return b&&(c=b.length)?L(b[c-1]):a}function M(a,b){return a.parent==b.parent?1:2}function N(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread}function O(a){var c,b=a.children;return b&&(c=b.length)?b[c-1]:a._tree.thread}function P(a,b){var d,e,f,c=a.children;if(c&&(e=c.length))for(f=-1;++f<e;)0<b(d=P(c[f],b),a)&&(a=d);return a}function Q(a,b){return a.x-b.x}function R(a,b){return b.x-a.x}function S(a,b){return a.depth-b.depth}function T(a,b){function c(a,d){var f,i,g,h,e=a.children;if(e&&(i=e.length))for(g=null,h=-1;++h<i;)f=e[h],c(f,g),g=f;b(a,d)}c(a,null)}function U(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function V(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return 0>e&&(c+=e/2,e=0),0>f&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}var W,X,Y,Z,$,_;d3.layout={},d3.layout.bundle=function(){return function(b){for(var c=[],d=-1,e=b.length;++d<e;)c.push(a(b[d]));return c}},d3.layout.chord=function(){function a(){var n,o,p,q,r,s,t,u,v,w,a={},c=[],l=d3.range(g),m=[];for(d=[],e=[],n=0,q=-1;++q<g;){for(o=0,r=-1;++r<g;)o+=f[q][r];c.push(o),m.push(d3.range(g)),n+=o}for(i&&l.sort(function(a,b){return i(c[a],c[b])}),j&&m.forEach(function(a,b){a.sort(function(a,c){return j(f[b][a],f[b][c])})}),n=(2*Math.PI-h*g)/n,o=0,q=-1;++q<g;){for(p=o,r=-1;++r<g;)s=l[q],t=m[s][r],u=f[s][t],v=o,w=o+=u*n,a[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u};e.push({index:s,startAngle:p,endAngle:o,value:(o-p)/n}),o+=h}for(q=-1;++q<g;)for(r=q-1;++r<g;)l=a[q+"-"+r],m=a[r+"-"+q],(l.value||m.value)&&d.push(l.value<m.value?{source:m,target:l}:{source:l,target:m});k&&b()}function b(){d.sort(function(a,b){return k((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var d,e,f,g,i,j,k,c={},h=0;return c.matrix=function(a){return arguments.length?(g=(f=a)&&f.length,d=e=null,c):f},c.padding=function(a){return arguments.length?(h=a,d=e=null,c):h},c.sortGroups=function(a){return arguments.length?(i=a,d=e=null,c):i},c.sortSubgroups=function(a){return arguments.length?(j=a,d=null,c):j},c.sortChords=function(a){return arguments.length?(k=a,d&&b(),c):k},c.chords=function(){return d||a(),d},c.groups=function(){return e||a(),e},c},d3.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var d=b.cx-a.x,f=b.cy-a.y,g=1/Math.sqrt(d*d+f*f);if(u>(e-c)*g)return c=b.charge*g*g,a.px-=d*c,a.py-=f*c,!0;b.point&&isFinite(g)&&(c=b.pointCharge*g*g,a.px-=d*c,a.py-=f*c)}return!b.charge}}function b(){var d,e,f,g,i,j,k,b=v.length,c=w.length;for(d=0;c>d;++d)e=w[d],f=e.source,g=e.target,j=g.x-f.x,k=g.y-f.y,(i=j*j+k*k)&&(i=o*y[d]*((i=Math.sqrt(i))-x[d])/i,j*=i,k*=i,g.x-=j*(i=f.weight/(g.weight+f.weight)),g.y-=k*i,f.x+=j*(i=1-i),f.y+=k*i);if((i=o*t)&&(j=m[0]/2,k=m[1]/2,d=-1,i))for(;++d<b;)e=v[d],e.x+=(j-e.x)*i,e.y+=(k-e.y)*i;if(s)for(h(c=d3.geom.quadtree(v),o,z),d=-1;++d<b;)(e=v[d]).fixed||c.visit(a(e));for(d=-1;++d<b;)e=v[d],e.fixed?(e.x=e.px,e.y=e.py):(e.x-=(e.px-(e.px=e.x))*p,e.y-=(e.py-(e.py=e.y))*p);return l.tick({type:"tick",alpha:o}),.005>(o*=.99)}function d(a){c(X=a),W=k}var n,o,x,y,z,k={},l=d3.dispatch("tick"),m=[1,1],p=.9,q=i,r=j,s=-30,t=.1,u=.8,v=[],w=[];return k.nodes=function(a){return arguments.length?(v=a,k):v},k.links=function(a){return arguments.length?(w=a,k):w},k.size=function(a){return arguments.length?(m=a,k):m},k.linkDistance=function(a){return arguments.length?(q=d3.functor(a),k):q},k.distance=k.linkDistance,k.linkStrength=function(a){return arguments.length?(r=d3.functor(a),k):r},k.friction=function(a){return arguments.length?(p=a,k):p},k.charge=function(a){return arguments.length?(s="function"==typeof a?a:+a,k):s},k.gravity=function(a){return arguments.length?(t=a,k):t},k.theta=function(a){return arguments.length?(u=a,k):u},k.start=function(){function a(a,f){var g,k,i,j;if(!h){for(h=[],c=0;d>c;++c)h[c]=[];for(c=0;e>c;++c)g=w[c],h[g.source.index].push(g.target),h[g.target.index].push(g.source)}for(g=h[b],i=-1,j=g.length;++i<j;)if(!isNaN(k=g[i][a]))return k;return Math.random()*f}var b,c,h,i,d=v.length,e=w.length,f=m[0],g=m[1];for(b=0;d>b;++b)(i=v[b]).index=b,i.weight=0;for(x=[],y=[],b=0;e>b;++b)i=w[b],"number"==typeof i.source&&(i.source=v[i.source]),"number"==typeof i.target&&(i.target=v[i.target]),x[b]=q.call(this,i,b),y[b]=r.call(this,i,b),++i.source.weight,++i.target.weight;for(b=0;d>b;++b)i=v[b],isNaN(i.x)&&(i.x=a("x",f)),isNaN(i.y)&&(i.y=a("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(z=[],"function"==typeof s)for(b=0;d>b;++b)z[b]=+s.call(this,v[b],b);else for(b=0;d>b;++b)z[b]=s;return k.resume()},k.resume=function(){return o=.1,d3.timer(b),k},k.stop=function(){return o=0,k},k.drag=function(){n||(n=d3.behavior.drag().origin(Object).on("dragstart",d).on("drag",g).on("dragend",f)),this.on("mouseover.force",c).on("mouseout.force",e).call(n)},d3.rebind(k,l,"on")},d3.layout.partition=function(){function a(b,c,d,e){var h,i,g,f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(h=f.length))for(g=-1,d=b.value?d/b.value:0;++g<h;)a(i=f[g],c,b=i.value*d,e),c+=b}function b(a){var c,e,d;if(a=a.children,c=0,a&&(e=a.length))for(d=-1;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=d3.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},t(c,d)},d3.layout.pie=function(){function a(g){var m,i=g.map(function(c,d){return+b.call(a,c,d)}),j=+("function"==typeof e?e.apply(this,arguments):e),k=(("function"==typeof f?f.apply(this,arguments):f)-e)/d3.sum(i),l=d3.range(g.length);return null!=c&&l.sort(c===Y?function(a,b){return i[b]-i[a]}:function(a,b){return c(g[a],g[b])}),m=[],l.forEach(function(a){m[a]={data:g[a],value:d=i[a],startAngle:j,endAngle:j+=d*k}}),m}var b=Number,c=Y,e=0,f=2*Math.PI;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(e=b,a):e},a.endAngle=function(b){return arguments.length?(f=b,a):f},a},Y={},d3.layout.stack=function(){function a(h,i){var o,p,q,j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i),j=d3.permute(j,l),k=d3.permute(k,l),l=d.call(a,k,i),m=j.length,n=j[0].length;for(p=0;n>p;++p)for(e.call(a,j[0][p],q=l[p],k[0][p][1]),o=1;m>o;++o)e.call(a,j[o][p],q+=k[o-1][p][1],k[o][p][1]);return h}var b=Object,c=Z["default"],d=$.zero,e=m,f=k,g=l;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:Z[b],a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:$[b],a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a},Z={"inside-out":function(a){for(var c,b=a.length,d=a.map(n),e=a.map(o),f=d3.range(b).sort(function(a,b){return d[a]-d[b]}),g=0,h=0,i=[],j=[],a=0;b>a;++a)c=f[a],h>g?(g+=e[c],i.push(c)):(h+=e[c],j.push(c));return j.reverse().concat(i)},reverse:function(a){return d3.range(a.length).reverse()},"default":function(a){return d3.range(a.length)}},$={silhouette:function(a){var f,g,h,b=a.length,c=a[0].length,d=[],e=0,i=[];for(g=0;c>g;++g){for(h=f=0;b>f;f++)h+=a[f][g][1];h>e&&(e=h),d.push(h)}for(g=0;c>g;++g)i[g]=(e-d[g])/2;return i},wiggle:function(a){var e,f,g,h,i,j,k,l,m,b=a.length,c=a[0],d=c.length,n=[];for(n[0]=l=m=0,f=1;d>f;++f){for(h=e=0;b>e;++e)h+=a[e][f][1];for(i=e=0,k=c[f][0]-c[f-1][0];b>e;++e){for(g=0,j=(a[e][f][1]-a[e][f-1][1])/(2*k);e>g;++g)j+=(a[g][f][1]-a[g][f-1][1])/k;i+=j*a[e][f][1]}n[f]=l-=h?i/h*k:0,m>l&&(m=l)}for(f=0;d>f;++f)n[f]-=m;return n},expand:function(a){var e,f,g,b=a.length,c=a[0].length,d=1/b,h=[];for(f=0;c>f;++f){for(g=e=0;b>e;e++)g+=a[e][f][1];if(g)for(e=0;b>e;e++)a[e][f][1]/=g;else for(e=0;b>e;e++)a[e][f][1]=d}for(f=0;c>f;++f)h[f]=0;return h},zero:function(a){for(var b=-1,a=a[0].length,c=[];++b<a;)c[b]=0;return c}},d3.layout.histogram=function(){function a(a,f){for(var k,g=[],h=a.map(c,this),i=d.call(this,h,f),j=e.call(this,i,h,f),f=-1,l=h.length,m=j.length-1,n=b?1:1/l;++f<m;)k=g[f]=[],k.dx=j[f+1]-(k.x=j[f]),k.y=0;for(f=-1;++f<l;)k=h[f],k>=i[0]&&k<=i[1]&&(k=g[d3.bisect(j,k,1,m)-1],k.y+=n,k.push(a[f]));return g}var b=!0,c=Number,d=s,e=q;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=d3.functor(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return r(a,b)}:d3.functor(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},d3.layout.hierarchy=function(){function a(b,h,i){var l,m,n,j=f.call(c,b,h),k=_?b:{data:b};if(k.depth=h,i.push(k),j&&(l=j.length)){for(b=-1,m=k.children=[],n=0,h+=1;++b<l;)d=a(j[b],h,i),d.parent=k,m.push(d),n+=d.value;e&&m.sort(e),g&&(k.value=n)}else g&&(k.value=+g.call(c,b,h)||0);return k}function b(a,d){var i,h,j,e=a.children,f=0;if(e&&(i=e.length))for(h=-1,j=d+1;++h<i;)f+=b(e[h],j);else g&&(f=+g.call(c,_?a:a.data,d)||0);return g&&(a.value=f),f}function c(b){var c=[];return a(b,0,c),c}var e=w,f=u,g=v;return c.sort=function(a){return arguments.length?(e=a,c):e},c.children=function(a){return arguments.length?(f=a,c):f},c.value=function(a){return arguments.length?(g=a,c):g},c.revalue=function(a){return b(a,0),a},c},_=!1,d3.layout.pack=function(){function a(a,d){var g,h,i,e=b.call(this,a,d),f=e[0];return f.x=0,f.y=0,F(f),g=c[0],h=c[1],i=1/Math.max(2*f.r/g,2*f.r/h),G(f,g/2,h/2,i),e}var b=d3.layout.hierarchy().sort(y),c=[1,1];return a.size=function(b){return arguments.length?(c=b,a):c},t(a,b)},d3.layout.cluster=function(){function a(a,e){var h,j,k,l,m,f=b.call(this,a,e),g=f[0],i=0;return T(g,function(a){var b=a.children;b&&b.length?(a.x=J(b),a.y=I(b)):(a.x=h?i+=c(a,h):0,a.y=0,h=a)}),j=K(g),k=L(g),l=j.x-c(j,k)/2,m=k.x+c(k,j)/2,T(g,function(a){a.x=(a.x-l)/(m-l)*d[0],a.y=(1-(g.y?a.y/g.y:1))*d[1]}),f}var b=d3.layout.hierarchy().sort(null).value(null),c=M,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},t(a,b)},d3.layout.tree=function(){function a(a,e){function f(a,b){var g,i,k,h,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,d=a.children,e=a._tree;if(d&&(g=d.length)){for(h=d[0],j=h,l=-1;++l<g;){if(k=d[l],f(k,i),m=k,i){for(n=m,o=m,p=m.parent.children[0],q=n._tree.mod,r=o._tree.mod,s=i._tree.mod,t=p._tree.mod,u=void 0;i=O(i),n=N(n),i&&n;)p=N(p),o=O(o),o._tree.ancestor=m,u=i._tree.prelim+s-n._tree.prelim-q+c(i,n),u>0&&(v=i._tree.ancestor.parent==m.parent?i._tree.ancestor:j,w=m,x=u,v=v._tree,w=w._tree,y=x/(w.number-v.number),v.change+=y,w.change-=y,w.shift+=x,w.prelim+=x,w.mod+=x,q+=u,r+=u),s+=i._tree.mod,q+=n._tree.mod,t+=p._tree.mod,r+=o._tree.mod;i&&!O(o)&&(o._tree.thread=i,o._tree.mod+=s-r),n&&!N(p)&&(p._tree.thread=n,p._tree.mod+=q-t,j=m)}i=k}for(g=d=0,l=a.children,m=l.length;0<=--m;)j=l[m]._tree,j.prelim+=d,j.mod+=d,d+=j.shift+(g+=j.change);h=.5*(h._tree.prelim+k._tree.prelim),b?(e.prelim=b._tree.prelim+c(a,b),e.mod=e.prelim-h):e.prelim=h}else b&&(e.prelim=b._tree.prelim+c(a,b))}function g(a,b){var c,e,d;if(a.x=a._tree.prelim+b,c=a.children,c&&(e=c.length))for(d=-1,b+=a._tree.mod;++d<e;)g(c[d],b)}var j,k,l,m,n,o,h=b.call(this,a,e),i=h[0];return T(i,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0}}),f(i),g(i,-i._tree.prelim),j=P(i,R),k=P(i,Q),l=P(i,S),m=j.x-c(j,k)/2,n=k.x+c(k,j)/2,o=l.depth||1,T(i,function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=a.depth/o*d[1],delete a._tree}),h}var b=d3.layout.hierarchy().sort(null).value(null),c=M,d=[1,1];return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(d=b,a):d},t(a,b)},d3.layout.treemap=function(){function a(a,b){for(var e,f,c=-1,d=a.length;++c<d;)f=(e=a[c]).value*(0>b?0:b),e.area=isNaN(f)||0>=f?0:f}function b(c){var f,g,h,i,k,l,n,o,p,q,r,e=c.children;if(e&&e.length){for(f=j(c),g=[],h=e.slice(),i=1/0,k=Math.min(f.dx,f.dy),a(h,f.dx*f.dy/c.value),g.area=0;0<(c=h.length);){for(g.push(c=h[c-1]),g.area+=c.area,c=k,l=g.area,n=void 0,o=0,p=1/0,q=-1,r=g.length;++q<r;)(n=g[q].area)&&(p>n&&(p=n),n>o&&(o=n));l*=l,c*=c,(c=l?Math.max(c*o*m/l,l/(c*p*m)):1/0)<=i?(h.pop(),i=c):(g.area-=g.pop().area,d(g,k,f,!1),k=Math.min(f.dx,f.dy),g.length=g.area=0,i=1/0)}g.length&&(d(g,k,f,!0),g.length=g.area=0),e.forEach(b)}}function c(b){var f,g,h,e=b.children;if(e&&e.length){for(f=j(b),g=e.slice(),h=[],a(g,f.dx*f.dy/b.value),h.area=0;b=g.pop();)h.push(b),h.area+=b.area,null!=b.z&&(d(h,b.z?f.dx:f.dy,f,!g.length),h.length=h.area=0);e.forEach(c)}}function d(a,b,c,d){var k,e=-1,f=a.length,h=c.x,i=c.y,j=b?g(a.area/b):0;if(b==c.dx){for((d||j>c.dy)&&(j=c.dy);++e<f;)k=a[e],k.x=h,k.y=i,k.dy=j,h+=k.dx=Math.min(c.x+c.dx-h,j?g(k.area/j):0);k.z=!0,k.dx+=c.x+c.dx-h,c.y+=j,c.dy-=j}else{for((d||j>c.dx)&&(j=c.dx);++e<f;)k=a[e],k.x=h,k.y=i,k.dx=j,i+=k.dy=Math.min(c.y+c.dy-i,j?g(k.area/j):0);k.z=!1,k.dy+=c.y+c.dy-i,c.x+=j,c.dx-=j}}function e(d){var d=l||f(d),e=d[0];return e.x=0,e.y=0,e.dx=h[0],e.dy=h[1],l&&f.revalue(e),a([e],e.dx*e.dy/e.value),(l?c:b)(e),k&&(l=d),d}var l,f=d3.layout.hierarchy(),g=Math.round,h=[1,1],i=null,j=U,k=!1,m=.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(h=a,e):h},e.padding=function(a){function b(b){var c=a.call(e,b,b.depth);return null==c?U(b):V(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return V(b,a)}if(!arguments.length)return i;var d;return j=null==(i=a)?U:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,e},e.round=function(a){return arguments.length?(g=a?Math.round:Number,e):g!=Number},e.sticky=function(a){return arguments.length?(k=a,l=null,e):k},e.ratio=function(a){return arguments.length?(m=a,e):m},t(e,f)}}(),function(a){var h,i,b="0.3.4",c="hasOwnProperty",d=/[\.\/]/,e="*",f=function(){},g=function(a,b){return a-b},j={n:{}},k=function(a,b){var n,t,u,d=i,e=Array.prototype.slice.call(arguments,2),f=k.listeners(a),l=0,o=[],p={},q=[],r=h;for(h=a,i=0,t=0,u=f.length;u>t;t++)"zIndex"in f[t]&&(o.push(f[t].zIndex),f[t].zIndex<0&&(p[f[t].zIndex]=f[t]));for(o.sort(g);o[l]<0;)if(n=p[o[l++]],q.push(n.apply(b,e)),i)return i=d,q;for(t=0;u>t;t++)if(n=f[t],"zIndex"in n)if(n.zIndex==o[l]){if(q.push(n.apply(b,e)),i)break;do if(l++,n=p[o[l]],n&&q.push(n.apply(b,e)),i)break;while(n)}else p[n.zIndex]=n;else if(q.push(n.apply(b,e)),i)break;return i=d,h=r,q.length?q:null};k.listeners=function(a){var f,g,h,i,k,l,m,n,b=a.split(d),c=j,o=[c],p=[];for(i=0,k=b.length;k>i;i++){for(n=[],l=0,m=o.length;m>l;l++)for(c=o[l].n,g=[c[b[i]],c[e]],h=2;h--;)f=g[h],f&&(n.push(f),p=p.concat(f.f||[]));o=n}return p},k.on=function(a,b){var g,h,c=a.split(d),e=j;for(g=0,h=c.length;h>g;g++)e=e.n,!e[c[g]]&&(e[c[g]]={n:{}}),e=e[c[g]];for(e.f=e.f||[],g=0,h=e.f.length;h>g;g++)if(e.f[g]==b)return f;return e.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.stop=function(){i=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(h):h},k.off=k.unbind=function(a,b){var g,h,i,k,l,m,n,p,f=a.split(d),o=[j];for(k=0,l=f.length;l>k;k++)for(m=0;m<o.length;m+=i.length-2){if(i=[m,1],g=o[m].n,f[k]!=e)g[f[k]]&&i.push(g[f[k]]);else for(h in g)g[c](h)&&i.push(g[h]);o.splice.apply(o,i)}for(k=0,l=o.length;l>k;k++)for(g=o[k];g.n;){if(b){if(g.f){for(m=0,n=g.f.length;n>m;m++)if(g.f[m]==b){g.f.splice(m,1);break}!g.f.length&&delete g.f}for(h in g.n)if(g.n[c](h)&&g.n[h].f){for(p=g.n[h].f,m=0,n=p.length;n>m;m++)if(p[m]==b){p.splice(m,1);break}!p.length&&delete g.n[h].f}}else{delete g.f;for(h in g.n)g.n[c](h)&&g.n[h].f&&delete g.n[h].f}g=g.n}},k.once=function(a,b){var c=function(){var d=b.apply(this,arguments);return k.unbind(a,c),d};return k.on(a,c)},k.version=b,k.toString=function(){return"You are running Eve "+b},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(){function a(c){var d,e;return a.is(c,"function")?b?c():eve.on("raphael.DOMload",c):a.is(c,E)?a._engine.create[m](a,c.splice(0,3+a.is(c[0],C))).add(c):(d=Array.prototype.slice.call(arguments,0),a.is(d[d.length-1],"function")?(e=d.pop(),b?e.call(a._engine.create[m](a,d)):eve.on("raphael.DOMload",function(){e.call(a._engine.create[m](a,d))})):a._engine.create[m](a,arguments))}function mb(a){var b,c;if(Object(a)!==a)return a;b=new a.constructor;for(c in a)a[g](c)&&(b[c]=mb(a[c]));return b}function ub(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function vb(a,b,c){function d(){var e=Array.prototype.slice.call(arguments,0),f=e.join("␀"),h=d.cache=d.cache||{},i=d.count=d.count||[];return h[g](f)?(ub(i,f),c?c(h[f]):h[f]):(i.length>=1e3&&delete h[i.shift()],i.push(f),h[f]=a[m](b,e),c?c(h[f]):h[f])}return d}function xb(){return this.hex}function yb(a,b){var d,e,f,c=[];for(d=0,e=a.length;e-2*!b>d;d+=2)f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}],b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y]);return c}function Ab(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function Bb(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s;for(null==i&&(i=1),i=i>1?1:0>i?0:i,j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,o=0;k>o;o++)p=j*l[o]+j,q=Ab(p,a,c,e,g),r=Ab(p,b,d,f,h),s=q*q+r*r,n+=m[o]*w.sqrt(s);return j*n}function Cb(a,b,c,d,e,f,g,h,i){if(!(0>i||Bb(a,b,c,d,e,f,g,h)<i)){var m,j=1,k=j/2,l=j-k,n=.01;for(m=Bb(a,b,c,d,e,f,g,h,l);z(m-i)>n;)k/=2,l+=(i>m?1:-1)*k,m=Bb(a,b,c,d,e,f,g,h,l);return l}}function Db(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o;if(!(x(a,c)<y(e,g)||y(a,c)>x(e,g)||x(b,d)<y(f,h)||y(b,d)>x(f,h)||(i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g),!k||(l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2),n<+y(a,c).toFixed(2)||n>+x(a,c).toFixed(2)||n<+y(e,g).toFixed(2)||n>+x(e,g).toFixed(2)||o<+y(b,d).toFixed(2)||o>+x(b,d).toFixed(2)||o<+y(f,h).toFixed(2)||o>+x(f,h).toFixed(2)))))return{x:l,y:m}}function Gb(b,c,d){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,A,e=a.bezierBBox(b),f=a.bezierBBox(c);if(!a.isBBoxIntersect(e,f))return d?0:[];for(g=Bb.apply(0,b),h=Bb.apply(0,c),i=~~(g/5),j=~~(h/5),k=[],l=[],m={},n=d?0:[],o=0;i+1>o;o++)p=a.findDotsAtSegment.apply(a,b.concat(o/i)),k.push({x:p.x,y:p.y,t:o/i});for(o=0;j+1>o;o++)p=a.findDotsAtSegment.apply(a,c.concat(o/j)),l.push({x:p.x,y:p.y,t:o/j});for(o=0;i>o;o++)for(q=0;j>q;q++)if(r=k[o],s=k[o+1],t=l[q],u=l[q+1],v=z(s.x-r.x)<.001?"y":"x",w=z(u.x-t.x)<.001?"y":"x",x=Db(r.x,r.y,s.x,s.y,t.x,t.y,u.x,u.y),x){if(m[x.x.toFixed(4)]==x.y.toFixed(4))continue;m[x.x.toFixed(4)]=x.y.toFixed(4),y=r.t+z((x[v]-r[v])/(s[v]-r[v]))*(s.t-r.t),A=t.t+z((x[w]-t[w])/(u[w]-t[w]))*(u.t-t.t),y>=0&&1>=y&&A>=0&&1>=A&&(d?n++:n.push({x:x.x,y:x.y,t1:y,t2:A}))}return n}function Hb(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(b=a._path2curve(b),c=a._path2curve(c),o=d?0:[],p=0,q=b.length;q>p;p++)if(r=b[p],"M"==r[0])e=i=r[1],f=j=r[2];else for("C"==r[0]?(m=[e,f].concat(r.slice(1)),e=m[6],f=m[7]):(m=[e,f,e,f,i,j,i,j],e=i,f=j),s=0,t=c.length;t>s;s++)if(u=c[s],"M"==u[0])g=k=u[1],h=l=u[2];else if("C"==u[0]?(n=[g,h].concat(u.slice(1)),g=n[6],h=n[7]):(n=[g,h,g,h,k,l,k,l],g=k,h=l),v=Gb(m,n,d),d)o+=v;else{for(w=0,x=v.length;x>w;w++)v[w].segment1=p,v[w].segment2=s,v[w].bez1=m,v[w].bez2=n;o=o.concat(v)}return o}function bc(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function qc(){return this.x+q+this.y+q+this.width+" × "+this.height}function Cc(a,b,c,d,e,f){function m(a){return((i*a+h)*a+g)*a}function n(a,b){var c=o(a,b);return((l*c+k)*c+j)*c}function o(a,b){var c,d,e,f,j,k;for(e=a,k=0;8>k;k++){if(f=m(e)-a,z(f)<b)return e;if(j=(3*i*e+2*h)*e+g,z(j)<1e-6)break;e-=f/j}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=m(e),z(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var g=3*b,h=3*(d-b)-g,i=1-g-h,j=3*c,k=3*(e-c)-j,l=1-j-k;return n(a,1/(200*f))}function Dc(a,b){var e,c=[],d={};if(this.ms=b,this.times=1,a){for(e in a)a[g](e)&&(d[Q(e)]=a[e],c.push(Q(e)));c.sort(db)}this.anim=d,this.top=c[c.length-1],this.percents=c}function Ec(b,d,e,f,h,i){var j,k,l,o,p,q,t,u,v,w,x,y,z,A,B,D,E,F,G,H,I,J,K,L,M,O,P,R;if(e=Q(e),t=b.ms,u={},v={},w={},f){for(y=0,z=yc.length;z>y;y++)if(x=yc[y],x.el.id==d.id&&x.anim==b){x.percent!=e?(yc.splice(y,1),l=1):k=x,d.attr(x.totalOrigin);break}}else f=+v;for(y=0,z=b.percents.length;z>y;y++){if(b.percents[y]==e||b.percents[y]>f*b.top){e=b.percents[y],p=b.percents[y-1]||0,t=t/b.top*(e-p),o=b.percents[y+1],j=b.anim[e];break}f&&d.attr(b.anim[b.percents[y]])}if(j){if(k)k.initstatus=f,k.start=new Date-k.ms*f;else{for(A in j)if(j[g](A)&&(U[g](A)||d.paper.customAttributes[g](A)))switch(u[A]=d.attr(A),null==u[A]&&(u[A]=T[A]),v[A]=j[A],U[A]){case C:w[A]=(v[A]-u[A])/t;break;case"colour":u[A]=a.getRGB(u[A]),B=a.getRGB(v[A]),w[A]={r:(B.r-u[A].r)/t,g:(B.g-u[A].g)/t,b:(B.b-u[A].b)/t};break;case"path":for(D=Rb(u[A],v[A]),E=D[1],u[A]=D[0],w[A]=[],y=0,z=u[A].length;z>y;y++)for(w[A][y]=[0],F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(E[y][F]-u[A][y][F])/t;break;case"transform":if(H=d._,I=ac(H[A],v[A]))for(u[A]=I.from,v[A]=I.to,w[A]=[],w[A].real=!0,y=0,z=u[A].length;z>y;y++)for(w[A][y]=[u[A][y][0]],F=1,G=u[A][y].length;G>F;F++)w[A][y][F]=(v[A][y][F]-u[A][y][F])/t;else J=d.matrix||new bc,K={_:{transform:H.transform},getBBox:function(){return d.getBBox(1)}},u[A]=[J.a,J.b,J.c,J.d,J.e,J.f],$b(K,v[A]),v[A]=K._.transform,w[A]=[(K.matrix.a-J.a)/t,(K.matrix.b-J.b)/t,(K.matrix.c-J.c)/t,(K.matrix.d-J.d)/t,(K.matrix.e-J.e)/t,(K.matrix.f-J.f)/t];break;case"csv":if(L=r(j[A])[s](c),M=r(u[A])[s](c),"clip-rect"==A)for(u[A]=M,w[A]=[],y=M.length;y--;)w[A][y]=(L[y]-u[A][y])/t;v[A]=L;break;default:for(L=[][n](j[A]),M=[][n](u[A]),w[A]=[],y=d.paper.customAttributes[A].length;y--;)w[A][y]=((L[y]||0)-(M[y]||0))/t}if(O=j.easing,P=a.easing_formulas[O],P||(P=r(O).match(N),P&&5==P.length?(R=P,P=function(a){return Cc(a,+R[1],+R[2],+R[3],+R[4],t)}):P=fb),q=j.start||b.start||+new Date,x={anim:b,percent:e,timestamp:q,start:q+(b.del||0),status:0,initstatus:f||0,stop:!1,ms:t,easing:P,from:u,diff:w,to:v,el:d,callback:j.callback,prev:p,next:o,repeat:i||b.times,origin:d.attr(),totalOrigin:h},yc.push(x),f&&!k&&!l&&(x.stop=!0,x.start=new Date-t*f,1==yc.length))return Ac();l&&(x.start=new Date-x.ms*f),1==yc.length&&zc(Ac)}eve("raphael.anim.start."+d.id,d,b)}}function Fc(a){for(var b=0;b<yc.length;b++)yc[b].el.paper==a&&yc.splice(b--,1)}var b,k,c,d,e,g,h,i,j,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,H,L,M,N,O,Q,R,S,T,U,W,X,Y,Z,$,_,bb,db,eb,fb,gb,hb,ib,jb,lb,kb,ob,pb,qb,rb,sb,tb,zb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Tb,Yb,$b,_b,ac,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Gc,Hc,Ic;if(a.version="2.1.0",a.eve=eve,c=/[, ]+/,d={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},e=/\{(\d+)\}/g,g="hasOwnProperty",h={doc:document,win:window},i={was:Object.prototype[g].call(h.win,"Raphael"),is:h.win.Raphael},j=function(){this.ca=this.customAttributes={}},m="apply",n="concat",o="createTouch"in h.doc,p="",q=" ",r=String,s="split",t="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[s](q),u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},v=r.prototype.toLowerCase,w=Math,x=w.max,y=w.min,z=w.abs,A=w.pow,B=w.PI,C="number",D="string",E="array",H=Object.prototype.toString,a._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,L=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,M={NaN:1,Infinity:1,"-Infinity":1},N=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,O=w.round,Q=parseFloat,R=parseInt,S=r.prototype.toUpperCase,T=a._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},U=a._availableAnimAttrs={blur:C,"clip-rect":"csv",cx:C,cy:C,fill:"colour","fill-opacity":C,"font-size":C,height:C,opacity:C,path:"path",r:C,rx:C,ry:C,stroke:"colour","stroke-opacity":C,"stroke-width":C,transform:"transform",width:C,x:C,y:C},W=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,X={hs:1,rg:1},Y=/,?([achlmqrstvxz]),?/gi,Z=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,$=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,_=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,a._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,bb={},db=function(a,b){return Q(a)-Q(b)},eb=function(){},fb=function(a){return a},gb=a._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},hb=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},ib=a._getPath={path:function(a){return a.attr("path")
    },circle:function(a){var b=a.attrs;return hb(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return hb(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return gb(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return gb(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return gb(b.x,b.y,b.width,b.height)}},jb=a.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=Rb(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a},a._g=h,a.type=h.win.SVGAngle||h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==a.type){if(kb=h.doc.createElement("div"),kb.innerHTML='<v:shape adj="1"/>',lb=kb.firstChild,lb.style.behavior="url(#default#VML)",!lb||"object"!=typeof lb.adj)return a.type=p;kb=null}a.svg=!(a.vml="VML"==a.type),a._Paper=j,a.fn=k=j.prototype=a.prototype,a._id=0,a._oid=0,a.is=function(a,b){return b=v.call(b),"finite"==b?!M[g](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||H.call(a).slice(8,-1).toLowerCase()==b},a.angle=function(b,c,d,e,f,g){if(null==f){var h=b-d,i=c-e;return h||i?(180+180*w.atan2(-i,-h)/B+360)%360:0}return a.angle(b,c,f,g)-a.angle(d,e,f,g)},a.rad=function(a){return a%360*B/180},a.deg=function(a){return 180*a/B%360},a.snapTo=function(b,c,d){var e,f;if(d=a.is(d,"finite")?d:10,a.is(b,E)){for(e=b.length;e--;)if(z(b[e]-c)<=d)return b[e]}else{if(b=+b,f=c%b,d>f)return c-f;if(f>b-d)return c-f+b}return c},a.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=0|16*w.random(),c="x"==a?b:8|3&b;return c.toString(16)}),a.setWindow=function(b){eve("raphael.setWindow",a,h.win,b),h.win=b,h.doc=h.win.document,a._engine.initWin&&a._engine.initWin(h.win)},ob=function(b){var c,d,e,g,i;if(a.vml){c=/^\s+|\s+$/g;try{e=new ActiveXObject("htmlfile"),e.write("<body>"),e.close(),d=e.body}catch(f){d=createPopup().document.body}g=d.createTextRange(),ob=vb(function(a){try{d.style.color=r(a).replace(c,p);var b=g.queryCommandValue("ForeColor");return b=(255&b)<<16|65280&b|(16711680&b)>>>16,"#"+("000000"+b.toString(16)).slice(-6)}catch(e){return"none"}})}else i=h.doc.createElement("i"),i.title="Raphaël Colour Picker",i.style.display="none",h.doc.body.appendChild(i),ob=vb(function(a){return i.style.color=a,h.doc.defaultView.getComputedStyle(i,p).getPropertyValue("color")});return ob(b)},pb=function(){return"hsb("+[this.h,this.s,this.b]+")"},qb=function(){return"hsl("+[this.h,this.s,this.l]+")"},rb=function(){return this.hex},sb=function(b,c,d){if(null==c&&a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r),null==c&&a.is(b,D)){var e=a.getRGB(b);b=e.r,c=e.g,d=e.b}return(b>1||c>1||d>1)&&(b/=255,c/=255,d/=255),[b,c,d]},tb=function(b,c,d,e){b*=255,c*=255,d*=255;var f={r:b,g:c,b:d,hex:a.rgb(b,c,d),toString:rb};return a.is(e,"finite")&&(f.opacity=e),f},a.color=function(b){var c;return a.is(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):a.is(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.hex=c.hex):(a.is(b,"string")&&(b=a.getRGB(b)),a.is(b,"object")&&"r"in b&&"g"in b&&"b"in b?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1)),b.toString=rb,b},a.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-z(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],tb(e,f,g,d)},a.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-z(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],tb(e,f,g,d)},a.rgb2hsb=function(a,b,c){c=sb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=x(a,b,c),g=f-y(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=60*((d+360)%6)/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:pb}},a.rgb2hsl=function(a,b,c){c=sb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=x(a,b,c),h=y(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=60*((d+360)%6)/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:qb}},a._path2string=function(){return this.join(",").replace(Y,"$1")},a._preload=function(a,b){var c=h.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,h.doc.body.removeChild(this)},c.onerror=function(){h.doc.body.removeChild(this)},h.doc.body.appendChild(c),c.src=a},a.getRGB=vb(function(b){if(!b||(b=r(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xb};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:xb};!(X[g](b.toLowerCase().substring(0,2))||"#"==b.charAt())&&(b=ob(b));var d,e,f,h,i,j,k=b.match(L);return k?(k[2]&&(f=R(k[2].substring(5),16),e=R(k[2].substring(3,5),16),d=R(k[2].substring(1,3),16)),k[3]&&(f=R((i=k[3].charAt(3))+i,16),e=R((i=k[3].charAt(2))+i,16),d=R((i=k[3].charAt(1))+i,16)),k[4]&&(j=k[4][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),"rgba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100)),k[5]?(j=k[5][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"°"==j[0].slice(-1))&&(d/=360),"hsba"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsb2rgb(d,e,f,h)):k[6]?(j=k[6][s](W),d=Q(j[0]),"%"==j[0].slice(-1)&&(d*=2.55),e=Q(j[1]),"%"==j[1].slice(-1)&&(e*=2.55),f=Q(j[2]),"%"==j[2].slice(-1)&&(f*=2.55),("deg"==j[0].slice(-3)||"°"==j[0].slice(-1))&&(d/=360),"hsla"==k[1].toLowerCase().slice(0,4)&&(h=Q(j[3])),j[3]&&"%"==j[3].slice(-1)&&(h/=100),a.hsl2rgb(d,e,f,h)):(k={r:d,g:e,b:f,toString:xb},k.hex="#"+(16777216|f|e<<8|d<<16).toString(16).slice(1),a.is(h,"finite")&&(k.opacity=h),k)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:xb}},a),a.hsb=vb(function(b,c,d){return a.hsb2rgb(b,c,d).hex}),a.hsl=vb(function(b,c,d){return a.hsl2rgb(b,c,d).hex}),a.rgb=vb(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),a.getColor=function(a){var b=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.getColor.start={h:0,s:1,b:b.b})),c.hex},a.getColor.reset=function(){delete this.start},a.parsePathString=function(b){var c,d,e;return b?(c=zb(b),c.arr?Jb(c.arr):(d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[],a.is(b,E)&&a.is(b[0],E)&&(e=Jb(b)),e.length||r(b).replace(Z,function(a,b,c){var f=[],g=b.toLowerCase();if(c.replace(_,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b][n](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)e.push([b][n](f));else for(;f.length>=d[g]&&(e.push([b][n](f.splice(0,d[g]))),d[g]););}),e.toString=a._path2string,c.arr=Jb(e),e)):null},a.parseTransformString=vb(function(b){if(!b)return null;var d=[];return a.is(b,E)&&a.is(b[0],E)&&(d=Jb(b)),d.length||r(b).replace($,function(a,b,c){var e=[];v.call(b),c.replace(_,function(a,b){b&&e.push(+b)}),d.push([b][n](e))}),d.toString=a._path2string,d}),zb=function(a){var b=zb.ps=zb.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[g](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]},a.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=A(j,3),l=A(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,x=j*e+i*g,y=j*f+i*h,z=90-180*w.atan2(q-s,r-t)/B;return(q>s||t>r)&&(z+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:x,y:y},alpha:z}},a.bezierBBox=function(b,c,d,e,f,g,h,i){a.is(b,"array")||(b=[b,c,d,e,f,g,h,i]);var j=Qb.apply(null,b);return{x:j.min.x,y:j.min.y,x2:j.max.x,y2:j.max.y,width:j.max.x-j.min.x,height:j.max.y-j.min.y}},a.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},a.isBBoxIntersect=function(b,c){var d=a.isPointInsideBBox;return d(c,b.x,b.y)||d(c,b.x2,b.y)||d(c,b.x,b.y2)||d(c,b.x2,b.y2)||d(b,c.x,c.y)||d(b,c.x2,c.y)||d(b,c.x,c.y2)||d(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y)},a.pathIntersection=function(a,b){return Hb(a,b)},a.pathIntersectionNumber=function(a,b){return Hb(a,b,1)},a.isPointInsidePath=function(b,c,d){var e=a.pathBBox(b);return a.isPointInsideBBox(e,c,d)&&1==Hb(b,[["M",c,d],["H",e.x2+10]],1)%2},a._removedFactory=function(a){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+a+"” of removed object",a)}},Ib=a.pathBBox=function(a){var g,c,d,e,f,h,i,j,k,l,o,p,q,b=zb(a);if(b.bbox)return b.bbox;if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(a=Rb(a),c=0,d=0,e=[],f=[],h=0,i=a.length;i>h;h++)g=a[h],"M"==g[0]?(c=g[1],d=g[2],e.push(c),f.push(d)):(j=Qb(c,d,g[1],g[2],g[3],g[4],g[5],g[6]),e=e[n](j.min.x,j.max.x),f=f[n](j.min.y,j.max.y),c=g[5],d=g[6]);return k=y[m](0,e),l=y[m](0,f),o=x[m](0,e),p=x[m](0,f),q={x:k,y:l,x2:o,y2:p,width:o-k,height:p-l},b.bbox=mb(q),q},Jb=function(b){var c=mb(b);return c.toString=a._path2string,c},Kb=a._pathToRelative=function(b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,c=zb(b);if(c.rel)return Jb(c.rel);for(a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b)),d=[],e=0,f=0,g=0,h=0,i=0,"M"==b[0][0]&&(e=b[0][1],f=b[0][2],g=e,h=f,i++,d.push(["M",e,f])),j=i,k=b.length;k>j;j++){if(l=d[j]=[],m=b[j],m[0]!=v.call(m[0]))switch(l[0]=v.call(m[0]),l[0]){case"a":l[1]=m[1],l[2]=m[2],l[3]=m[3],l[4]=m[4],l[5]=m[5],l[6]=+(m[6]-e).toFixed(3),l[7]=+(m[7]-f).toFixed(3);break;case"v":l[1]=+(m[1]-f).toFixed(3);break;case"m":g=m[1],h=m[2];default:for(n=1,o=m.length;o>n;n++)l[n]=+(m[n]-(n%2?e:f)).toFixed(3)}else for(l=d[j]=[],"m"==m[0]&&(g=m[1]+e,h=m[2]+f),p=0,q=m.length;q>p;p++)d[j][p]=m[p];switch(r=d[j].length,d[j][0]){case"z":e=g,f=h;break;case"h":e+=+d[j][r-1];break;case"v":f+=+d[j][r-1];break;default:e+=+d[j][r-2],f+=+d[j][r-1]}}return d.toString=a._path2string,c.rel=Jb(d),d},Lb=a._pathToAbsolute=function(b){var d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,c=zb(b);if(c.abs)return Jb(c.abs);if(a.is(b,E)&&a.is(b&&b[0],E)||(b=a.parsePathString(b)),!b||!b.length)return[["M",0,0]];for(d=[],e=0,f=0,g=0,h=0,i=0,"M"==b[0][0]&&(e=+b[0][1],f=+b[0][2],g=e,h=f,i++,d[0]=["M",e,f]),j=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),m=i,o=b.length;o>m;m++){if(d.push(k=[]),l=b[m],l[0]!=S.call(l[0]))switch(k[0]=S.call(l[0]),k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+e),k[7]=+(l[7]+f);break;case"V":k[1]=+l[1]+f;break;case"H":k[1]=+l[1]+e;break;case"R":for(p=[e,f][n](l.slice(1)),q=2,r=p.length;r>q;q++)p[q]=+p[q]+e,p[++q]=+p[q]+f;d.pop(),d=d[n](yb(p,j));break;case"M":g=+l[1]+e,h=+l[2]+f;default:for(q=1,r=l.length;r>q;q++)k[q]=+l[q]+(q%2?e:f)}else if("R"==l[0])p=[e,f][n](l.slice(1)),d.pop(),d=d[n](yb(p,j)),k=["R"][n](l.slice(-2));else for(s=0,t=l.length;t>s;s++)k[s]=l[s];switch(k[0]){case"Z":e=g,f=h;break;case"H":e=k[1];break;case"V":f=k[1];break;case"M":g=k[k.length-2],h=k[k.length-1];default:e=k[k.length-2],f=k[k.length-1]}}return d.toString=a._path2string,c.abs=Jb(d),d},Mb=function(a,b,c,d){return[a,b,c,d,c,d]},Nb=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},Ob=function(a,b,c,d,e,f,g,h,i,j){var o,t,u,v,x,y,A,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,k=120*B/180,l=B/180*(+e||0),m=[],p=vb(function(a,b,c){var d=a*w.cos(c)-b*w.sin(c),e=a*w.sin(c)+b*w.cos(c);return{x:d,y:e}});if(j?(E=j[0],F=j[1],C=j[2],D=j[3]):(o=p(a,b,-l),a=o.x,b=o.y,o=p(h,i,-l),h=o.x,i=o.y,w.cos(B/180*e),w.sin(B/180*e),t=(a-h)/2,u=(b-i)/2,v=t*t/(c*c)+u*u/(d*d),v>1&&(v=w.sqrt(v),c=v*c,d=v*d),x=c*c,y=d*d,A=(f==g?-1:1)*w.sqrt(z((x*y-x*u*u-y*t*t)/(x*u*u+y*t*t))),C=A*c*u/d+(a+h)/2,D=A*-d*t/c+(b+i)/2,E=w.asin(((b-D)/d).toFixed(9)),F=w.asin(((i-D)/d).toFixed(9)),E=C>a?B-E:E,F=C>h?B-F:F,0>E&&(E=2*B+E),0>F&&(F=2*B+F),g&&E>F&&(E-=2*B),!g&&F>E&&(F-=2*B)),G=F-E,z(G)>k&&(H=F,I=h,J=i,F=E+k*(g&&F>E?1:-1),h=C+c*w.cos(F),i=D+d*w.sin(F),m=Ob(h,i,c,d,e,0,g,I,J,[F,H,C,D])),G=F-E,K=w.cos(E),L=w.sin(E),M=w.cos(F),N=w.sin(F),O=w.tan(G/4),P=4/3*c*O,Q=4/3*d*O,R=[a,b],S=[a+P*L,b-Q*K],T=[h+P*N,i-Q*M],U=[h,i],S[0]=2*R[0]-S[0],S[1]=2*R[1]-S[1],j)return[S,T,U][n](m);for(m=[S,T,U][n](m).join()[s](","),V=[],W=0,X=m.length;X>W;W++)V[W]=W%2?p(m[W-1],m[W],l).y:p(m[W],m[W+1],l).x;return V},Pb=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:A(j,3)*a+3*A(j,2)*i*c+3*j*i*i*e+A(i,3)*g,y:A(j,3)*b+3*A(j,2)*i*d+3*j*i*i*f+A(i,3)*h}},Qb=vb(function(a,b,c,d,e,f,g,h){var q,i=e-2*c+a-(g-2*e+c),j=2*(c-a)-2*(e-c),k=a-c,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,o=[b,h],p=[a,g];return z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=Pb(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=Pb(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),i=f-2*d+b-(h-2*f+d),j=2*(d-b)-2*(f-d),k=b-d,l=(-j+w.sqrt(j*j-4*i*k))/2/i,n=(-j-w.sqrt(j*j-4*i*k))/2/i,z(l)>"1e12"&&(l=.5),z(n)>"1e12"&&(n=.5),l>0&&1>l&&(q=Pb(a,b,c,d,e,f,g,h,l),p.push(q.x),o.push(q.y)),n>0&&1>n&&(q=Pb(a,b,c,d,e,f,g,h,n),p.push(q.x),o.push(q.y)),{min:{x:y[m](0,p),y:y[m](0,o)},max:{x:x[m](0,p),y:x[m](0,o)}}}),Rb=a._path2curve=vb(function(a,b){var d,e,f,g,h,i,j,k,l,o,p,q,r,c=!b&&zb(a);if(!b&&c.curve)return Jb(c.curve);d=Lb(a),e=b&&Lb(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=function(a,b){var c,d;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][n](Ob[m](0,[b.x,b.y][n](a.slice(1))));break;case"S":c=b.x+(b.x-(b.bx||b.x)),d=b.y+(b.y-(b.by||b.y)),a=["C",c,d][n](a.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x)),b.qy=b.y+(b.y-(b.qy||b.y)),a=["C"][n](Nb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][n](Nb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][n](Mb(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][n](Mb(b.x,b.y,a[1],b.y));break;case"V":a=["C"][n](Mb(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][n](Mb(b.x,b.y,b.X,b.Y))}return a},i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"][n](c.splice(0,6)));a.splice(b,1),l=x(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=x(d.length,e&&e.length||0))};for(k=0,l=x(d.length,e&&e.length||0);l>k;k++)d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k),o=d[k],p=e&&e[k],q=o.length,r=e&&p.length,f.x=o[q-2],f.y=o[q-1],f.bx=Q(o[q-4])||f.x,f.by=Q(o[q-3])||f.y,g.bx=e&&(Q(p[r-4])||g.x),g.by=e&&(Q(p[r-3])||g.y),g.x=e&&p[r-2],g.y=e&&p[r-1];return e||(c.curve=Jb(d)),e?[d,e]:d},null,Jb),a._parseDots=vb(function(b){var d,e,f,g,h,i,j,k,c=[];for(d=0,e=b.length;e>d;d++){if(f={},g=b[d].match(/^([^:]*):?([\d\.]*)/),f.color=a.getRGB(g[1]),f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),c.push(f)}for(d=1,e=c.length-1;e>d;d++)if(!c[d].offset){for(h=Q(c[d-1].offset||0),i=0,j=d+1;e>j;j++)if(c[j].offset){i=c[j].offset;break}for(i||(i=100,j=e),i=Q(i),k=(i-h)/(j-d+1);j>d;d++)h+=k,c[d].offset=h+"%"}return c}),Tb=a._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)},a._tofront=function(a,b){b.top!==a&&(Tb(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},a._toback=function(a,b){b.bottom!==a&&(Tb(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},a._insertafter=function(a,b,c){Tb(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},a._insertbefore=function(a,b,c){Tb(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},Yb=a.toMatrix=function(a,b){var c=Ib(a),d={_:{transform:p},getBBox:function(){return c}};return $b(d,b),d.matrix},a.transformPath=function(a,b){return jb(a,Yb(a,b))},$b=a._extractTransform=function(b,c){var d,e,f,g,h,i,j,k,l,m,u,v,w,x,y,n,o,q,s,t;if(null==c)return b._.transform;if(c=r(c).replace(/\.{3}|\u2026/g,b._.transform||p),d=a.parseTransformString(c),e=0,f=0,g=0,h=1,i=1,j=b._,k=new bc,j.transform=d||[],d)for(l=0,m=d.length;m>l;l++)n=d[l],o=n.length,q=r(n[0]).toLowerCase(),s=n[0]!=q,t=s?k.invert():0,"t"==q&&3==o?s?(u=t.x(0,0),v=t.y(0,0),w=t.x(n[1],n[2]),x=t.y(n[1],n[2]),k.translate(w-u,x-v)):k.translate(n[1],n[2]):"r"==q?2==o?(y=y||b.getBBox(1),k.rotate(n[1],y.x+y.width/2,y.y+y.height/2),e+=n[1]):4==o&&(s?(w=t.x(n[2],n[3]),x=t.y(n[2],n[3]),k.rotate(n[1],w,x)):k.rotate(n[1],n[2],n[3]),e+=n[1]):"s"==q?2==o||3==o?(y=y||b.getBBox(1),k.scale(n[1],n[o-1],y.x+y.width/2,y.y+y.height/2),h*=n[1],i*=n[o-1]):5==o&&(s?(w=t.x(n[3],n[4]),x=t.y(n[3],n[4]),k.scale(n[1],n[2],w,x)):k.scale(n[1],n[2],n[3],n[4]),h*=n[1],i*=n[2]):"m"==q&&7==o&&k.add(n[1],n[2],n[3],n[4],n[5],n[6]),j.dirtyT=1,b.matrix=k;b.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,1==h&&1==i&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1},_b=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},ac=a._equaliseTransform=function(b,c){c=r(c).replace(/\.{3}|\u2026/g,b),b=a.parseTransformString(b)||[],c=a.parseTransformString(c)||[];for(var h,i,j,k,d=x(b.length,c.length),e=[],f=[],g=0;d>g;g++){if(j=b[g]||_b(c[g]),k=c[g]||_b(j),j[0]!=k[0]||"r"==j[0].toLowerCase()&&(j[2]!=k[2]||j[3]!=k[3])||"s"==j[0].toLowerCase()&&(j[3]!=k[3]||j[4]!=k[4]))return;for(e[g]=[],f[g]=[],h=0,i=x(j.length,k.length);i>h;h++)h in j&&(e[g][h]=j[h]),h in k&&(f[g][h]=k[h])}return{from:e,to:f}},a._getContainer=function(b,c,d,e){var f;return f=null!=e||a.is(b,"object")?b:h.doc.getElementById(b),null!=f?f.tagName?null==c?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:c,height:d}:{container:1,x:b,y:c,width:d,height:e}:void 0},a.pathToRelative=Kb,a._engine={},a.path2curve=Rb,a.matrix=function(a,b,c,d,e,f){return new bc(a,b,c,d,e,f)},function(b){function c(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var b=w.sqrt(c(a));a[0]&&(a[0]/=b),a[1]&&(a[1]/=b)}b.add=function(a,b,c,d,e,f){var j,k,l,m,g=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],i=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof bc&&(i=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),j=0;3>j;j++)for(k=0;3>k;k++){for(m=0,l=0;3>l;l++)m+=h[j][l]*i[l][k];g[j][k]=m}this.a=g[0][0],this.b=g[1][0],this.c=g[0][1],this.d=g[1][1],this.e=g[0][2],this.f=g[1][2]},b.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new bc(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},b.clone=function(){return new bc(this.a,this.b,this.c,this.d,this.e,this.f)},b.translate=function(a,b){this.add(1,0,0,1,a,b)},b.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},b.rotate=function(b,c,d){b=a.rad(b),c=c||0,d=d||0;var e=+w.cos(b).toFixed(9),f=+w.sin(b).toFixed(9);this.add(e,f,-f,e,c,d),this.add(1,0,0,1,-c,-d)},b.x=function(a,b){return a*this.a+b*this.c+this.e},b.y=function(a,b){return a*this.b+b*this.d+this.f},b.get=function(a){return+this[r.fromCharCode(97+a)].toFixed(4)},b.toString=function(){return a.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},b.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},b.split=function(){var e,f,g,b={};return b.dx=this.e,b.dy=this.f,e=[[this.a,this.c],[this.b,this.d]],b.scalex=w.sqrt(c(e[0])),d(e[0]),b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear],b.scaley=w.sqrt(c(e[1])),d(e[1]),b.shear/=b.scaley,f=-e[0][1],g=e[1][1],0>g?(b.rotate=a.deg(w.acos(g)),0>f&&(b.rotate=360-b.rotate)):b.rotate=a.deg(w.asin(f)),b.isSimple=!(+b.shear.toFixed(9)||b.scalex.toFixed(9)!=b.scaley.toFixed(9)&&b.rotate),b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate,b.noRotation=!+b.shear.toFixed(9)&&!b.rotate,b},b.toTransformString=function(a){var b=a||this[s]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:p)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:p)+(b.rotate?"r"+[b.rotate,0,0]:p)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(bc.prototype),cc=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/),k.safari="Apple Computer, Inc."==navigator.vendor&&(cc&&cc[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&cc&&cc[1]<8?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:eb,dc=function(){this.returnValue=!1},ec=function(){return this.originalEvent.preventDefault()},fc=function(){this.cancelBubble=!0},gc=function(){return this.originalEvent.stopPropagation()},hc=function(){return h.doc.addEventListener?function(a,b,c,d){var e=o&&u[b]?u[b]:b,f=function(e){var l,m,n,f=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,i=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,j=e.clientX+i,k=e.clientY+f;if(o&&u[g](b))for(l=0,m=e.targetTouches&&e.targetTouches.length;m>l;l++)if(e.targetTouches[l].target==a){n=e,e=e.targetTouches[l],e.originalEvent=n,e.preventDefault=ec,e.stopPropagation=gc;break}return c.call(d,e,j,k)};return a.addEventListener(e,f,!1),function(){return a.removeEventListener(e,f,!1),!0}}:h.doc.attachEvent?function(a,b,c,d){var f,e=function(a){a=a||h.win.event;var b=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||dc,a.stopPropagation=a.stopPropagation||fc,c.call(d,a,f,g)};return a.attachEvent("on"+b,e),f=function(){return a.detachEvent("on"+b,e),!0}}:void 0}(),ic=[],jc=function(a){for(var f,j,i,l,k,m,n,p,b=a.clientX,c=a.clientY,d=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,e=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft,g=ic.length;g--;){if(f=ic[g],o){for(i=a.touches.length;i--;)if(j=a.touches[i],j.identifier==f.el._drag.id){b=j.clientX,c=j.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();k=f.el.node,m=k.nextSibling,n=k.parentNode,p=k.style.display,h.win.opera&&n.removeChild(k),k.style.display="none",l=f.el.paper.getElementByPoint(b,c),k.style.display=p,h.win.opera&&(m?n.insertBefore(k,m):n.appendChild(k)),l&&eve("raphael.drag.over."+f.el.id,f.el,l),b+=e,c+=d,eve("raphael.drag.move."+f.el.id,f.move_scope||f.el,b-f.el._drag.x,c-f.el._drag.y,b,c,a)}},kc=function(b){a.unmousemove(jc).unmouseup(kc);for(var d,c=ic.length;c--;)d=ic[c],d.el._drag={},eve("raphael.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,b);ic=[]},lc=a.el={};for(mc=t.length;mc--;)!function(b){a[b]=lc[b]=function(c,d){return a.is(c,"function")&&(this.events=this.events||[],this.events.push({name:b,f:c,unbind:hc(this.shape||this.node||h.doc,b,c,d||this)})),this},a["un"+b]=lc["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&c[d].f==a)return c[d].unbind(),c.splice(d,1),!c.length&&delete this.events,this;return this}}(t[mc]);lc.data=function(b,c){var e,d=bb[this.id]=bb[this.id]||{};if(1==arguments.length){if(a.is(b,"object")){for(e in b)b[g](e)&&this.data(e,b[e]);return this}return eve("raphael.data.get."+this.id,this,d[b],b),d[b]}return d[b]=c,eve("raphael.data.set."+this.id,this,c,b),this},lc.removeData=function(a){return null==a?bb[this.id]={}:bb[this.id]&&delete bb[this.id][a],this},lc.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},lc.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)},nc=[],lc.drag=function(b,c,d,e,f,g){function i(i){(i.originalEvent||i).preventDefault();var j=h.doc.documentElement.scrollTop||h.doc.body.scrollTop,k=h.doc.documentElement.scrollLeft||h.doc.body.scrollLeft;this._drag.x=i.clientX+k,this._drag.y=i.clientY+j,this._drag.id=i.identifier,!ic.length&&a.mousemove(jc).mouseup(kc),ic.push({el:this,move_scope:e,start_scope:f,end_scope:g}),c&&eve.on("raphael.drag.start."+this.id,c),b&&eve.on("raphael.drag.move."+this.id,b),d&&eve.on("raphael.drag.end."+this.id,d),eve("raphael.drag.start."+this.id,f||e||this,i.clientX+k,i.clientY+j,i)}return this._drag={},nc.push({el:this,start:i}),this.mousedown(i),this},lc.onDragOver=function(a){a?eve.on("raphael.drag.over."+this.id,a):eve.unbind("raphael.drag.over."+this.id)},lc.undrag=function(){for(var b=nc.length;b--;)nc[b].el==this&&(this.unmousedown(nc[b].start),nc.splice(b,1),eve.unbind("raphael.drag.*."+this.id));!nc.length&&a.unmousemove(jc).unmouseup(kc)},k.circle=function(b,c,d){var e=a._engine.circle(this,b||0,c||0,d||0);return this.__set__&&this.__set__.push(e),e},k.rect=function(b,c,d,e,f){var g=a._engine.rect(this,b||0,c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.ellipse=function(b,c,d,e){var f=a._engine.ellipse(this,b||0,c||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},k.path=function(b){b&&!a.is(b,D)&&!a.is(b[0],E)&&(b+=p);var c=a._engine.path(a.format[m](a,arguments),this);return this.__set__&&this.__set__.push(c),c},k.image=function(b,c,d,e,f){var g=a._engine.image(this,b||"about:blank",c||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},k.text=function(b,c,d){var e=a._engine.text(this,b||0,c||0,r(d));return this.__set__&&this.__set__.push(e),e},k.set=function(b){!a.is(b,"array")&&(b=Array.prototype.splice.call(arguments,0,arguments.length));var c=new Gc(b);return this.__set__&&this.__set__.push(c),c},k.setStart=function(a){this.__set__=a||this.set()},k.setFinish=function(){var b=this.__set__;return delete this.__set__,b},k.setSize=function(b,c){return a._engine.setSize.call(this,b,c)},k.setViewBox=function(b,c,d,e,f){return a._engine.setViewBox.call(this,b,c,d,e,f)},k.top=k.bottom=null,k.raphael=a,oc=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,i=b.top+(h.win.pageYOffset||e.scrollTop||d.scrollTop)-f,j=b.left+(h.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:i,x:j}},k.getElementByPoint=function(a,b){var f,g,i,c=this,d=c.canvas,e=h.doc.elementFromPoint(a,b);if(h.win.opera&&"svg"==e.tagName&&(f=oc(d),g=d.createSVGRect(),g.x=a-f.x,g.y=b-f.y,g.width=g.height=1,i=d.getIntersectionList(g,null),i.length&&(e=i[i.length-1])),!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},k.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},k.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},k.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},lc.isPointInside=function(b,c){var d=this.realPath=this.realPath||ib[this.type](this);return a.isPointInsidePath(d,b,c)},lc.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=ib[this.type](this),b.bboxwt=Ib(this.realPath),b.bboxwt.toString=qc,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=ib[this.type](this)),b.bbox=Ib(jb(this.realPath,this.matrix)),b.bbox.toString=qc,b.dirty=b.dirtyT=0),b.bbox)},lc.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},lc.glow=function(a){var b,c,d,e,f,g;if("text"==this.type)return null;for(a=a||{},b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||ib[this.type](this),f=this.matrix?jb(f,this.matrix):f,g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)},sc=function(b,c,d,e,f,g,h,i,j){return null==j?Bb(b,c,d,e,f,g,h,i):a.findDotsAtSegment(b,c,d,e,f,g,h,i,Cb(b,c,d,e,f,g,h,i,j))},tc=function(b,c){return function(d,e,f){var g,h,i,j,m,k,l,n,o,p;for(d=Rb(d),k="",l={},n=0,o=0,p=d.length;p>o;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=sc(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(c&&!l.start){if(m=sc(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),k+=["C"+m.start.x,m.start.y,m.m.x,m.m.y,m.x,m.y],f)return k;l.start=k,k=["M"+m.x,m.y+"C"+m.n.x,m.n.y,m.end.x,m.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!b&&!c)return m=sc(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:m.x,y:m.y,alpha:m.alpha}}n+=j,g=+i[5],h=+i[6]}k+=i.shift()+i}return l.end=k,m=b?n:c?l:a.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),m.alpha&&(m={x:m.x,y:m.y,alpha:m.alpha}),m}},uc=tc(1),vc=tc(),wc=tc(0,1),a.getTotalLength=uc,a.getPointAtLength=vc,a.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return wc(a,b).end;var d=wc(a,c,1);return b?wc(d,b).end:d},lc.getTotalLength=function(){return"path"==this.type?this.node.getTotalLength?this.node.getTotalLength():uc(this.attrs.path):void 0},lc.getPointAtLength=function(a){return"path"==this.type?vc(this.attrs.path,a):void 0},lc.getSubpath=function(b,c){return"path"==this.type?a.getSubpath(this.attrs.path,b,c):void 0},xc=a.easing_formulas={linear:function(a){return a},"<":function(a){return A(a,1.7)},">":function(a){return A(a,.48)},"<>":function(a){var b=.48-a/1.04,c=w.sqrt(.1734+b*b),d=c-b,e=A(z(d),1/3)*(0>d?-1:1),f=-c-b,g=A(z(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:A(2,-10*a)*w.sin((a-.075)*2*B/.3)+1},bounce:function(a){var d,b=7.5625,c=2.75;return 1/c>a?d=b*a*a:2/c>a?(a-=1.5/c,d=b*a*a+.75):2.5/c>a?(a-=2.25/c,d=b*a*a+.9375):(a-=2.625/c,d=b*a*a+.984375),d}},xc.easeIn=xc["ease-in"]=xc["<"],xc.easeOut=xc["ease-out"]=xc[">"],xc.easeInOut=xc["ease-in-out"]=xc["<>"],xc["back-in"]=xc.backIn,xc["back-out"]=xc.backOut,yc=[],zc=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,16)},Ac=function(){for(var d,p,s,e,f,h,i,j,k,m,o,r,t,u,v,w,x,y,z,A,b=+new Date,c=0;c<yc.length;c++)if(d=yc[c],!(d.el.removed||d.paused||(e=b-d.start,f=d.ms,h=d.easing,i=d.from,j=d.diff,k=d.to,d.t,m=d.el,o={},r={},d.initstatus?(e=(d.initstatus*d.anim.top-d.prev)/(d.percent-d.prev)*f,d.status=d.initstatus,delete d.initstatus,d.stop&&yc.splice(c--,1)):d.status=(d.prev+(d.percent-d.prev)*(e/f))/d.anim.top,0>e)))if(f>e){t=h(e/f);for(u in i)if(i[g](u)){switch(U[u]){case C:p=+i[u]+t*f*j[u];break;case"colour":p="rgb("+[Bc(O(i[u].r+t*f*j[u].r)),Bc(O(i[u].g+t*f*j[u].g)),Bc(O(i[u].b+t*f*j[u].b))].join(",")+")";break;case"path":for(p=[],v=0,w=i[u].length;w>v;v++){for(p[v]=[i[u][v][0]],x=1,y=i[u][v].length;y>x;x++)p[v][x]=+i[u][v][x]+t*f*j[u][v][x];
    p[v]=p[v].join(q)}p=p.join(q);break;case"transform":if(j[u].real)for(p=[],v=0,w=i[u].length;w>v;v++)for(p[v]=[i[u][v][0]],x=1,y=i[u][v].length;y>x;x++)p[v][x]=i[u][v][x]+t*f*j[u][v][x];else z=function(a){return+i[u][a]+t*f*j[u][a]},p=[["m",z(0),z(1),z(2),z(3),z(4),z(5)]];break;case"csv":if("clip-rect"==u)for(p=[],v=4;v--;)p[v]=+i[u][v]+t*f*j[u][v];break;default:for(A=[][n](i[u]),p=[],v=m.paper.customAttributes[u].length;v--;)p[v]=+A[v]+t*f*j[u][v]}o[u]=p}m.attr(o),function(a,b,c){setTimeout(function(){eve("raphael.anim.frame."+a,b,c)})}(m.id,m,d.anim)}else{if(function(b,c,d){setTimeout(function(){eve("raphael.anim.frame."+c.id,c,d),eve("raphael.anim.finish."+c.id,c,d),a.is(b,"function")&&b.call(c)})}(d.callback,m,d.anim),m.attr(k),yc.splice(c--,1),d.repeat>1&&!d.next){for(s in k)k[g](s)&&(r[s]=d.totalOrigin[s]);d.el.attr(r),Ec(d.anim,d.el,d.anim.percents[0],null,d.totalOrigin,d.repeat-1)}d.next&&!d.stop&&Ec(d.anim,d.el,d.next,null,d.totalOrigin,d.repeat)}a.svg&&m&&m.paper&&m.paper.safari(),yc.length&&zc(Ac)},Bc=function(a){return a>255?255:0>a?0:a},lc.animateWith=function(b,c,d,e,f,g){var i,l,m,h=this;if(h.removed)return g&&g.call(h),h;for(i=d instanceof Dc?d:a.animation(d,e,f,g),Ec(i,h,i.percents[0],null,h.attr()),l=0,m=yc.length;m>l;l++)if(yc[l].anim==c&&yc[l].el==b){yc[m-1].start=yc[l].start;break}return h},lc.onAnimation=function(a){return a?eve.on("raphael.anim.frame."+this.id,a):eve.unbind("raphael.anim.frame."+this.id),this},Dc.prototype.delay=function(a){var b=new Dc(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},Dc.prototype.repeat=function(a){var b=new Dc(this.anim,this.ms);return b.del=this.del,b.times=w.floor(x(a,0))||1,b},a.animation=function(b,c,d,e){if(b instanceof Dc)return b;(a.is(d,"function")||!d)&&(e=e||d||null,d=null),b=Object(b),c=+c||0;var h,i,f={};for(i in b)b[g](i)&&Q(i)!=i&&Q(i)+"%"!=i&&(h=!0,f[i]=b[i]);return h?(d&&(f.easing=d),e&&(f.callback=e),new Dc({100:f},c)):new Dc(b,c)},lc.animate=function(b,c,d,e){var g,f=this;return f.removed?(e&&e.call(f),f):(g=b instanceof Dc?b:a.animation(b,c,d,e),Ec(g,f,g.percents[0],null,f.attr()),f)},lc.setTime=function(a,b){return a&&null!=b&&this.status(a,y(b,a.ms)/a.ms),this},lc.status=function(a,b){var e,f,c=[],d=0;if(null!=b)return Ec(a,this,-1,y(b,1)),this;for(e=yc.length;e>d;d++)if(f=yc[d],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}return a?0:c},lc.pause=function(a){for(var b=0;b<yc.length;b++)yc[b].el.id!=this.id||a&&yc[b].anim!=a||eve("raphael.anim.pause."+this.id,this,yc[b].anim)!==!1&&(yc[b].paused=!0);return this},lc.resume=function(a){var b,c;for(b=0;b<yc.length;b++)yc[b].el.id!=this.id||a&&yc[b].anim!=a||(c=yc[b],eve("raphael.anim.resume."+this.id,this,c.anim)!==!1&&(delete c.paused,this.status(c.anim,c.status)));return this},lc.stop=function(a){for(var b=0;b<yc.length;b++)yc[b].el.id!=this.id||a&&yc[b].anim!=a||eve("raphael.anim.stop."+this.id,this,yc[b].anim)!==!1&&yc.splice(b--,1);return this},eve.on("raphael.remove",Fc),eve.on("raphael.clear",Fc),lc.toString=function(){return"Raphaël’s object"},Gc=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)!a[b]||a[b].constructor!=lc.constructor&&a[b].constructor!=Gc||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Hc=Gc.prototype,Hc.push=function(){var a,b,c,d;for(c=0,d=arguments.length;d>c;c++)a=arguments[c],!a||a.constructor!=lc.constructor&&a.constructor!=Gc||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},Hc.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},Hc.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(Ic in lc)lc[g](Ic)&&(Hc[Ic]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][m](c,b)})}}(Ic));Hc.attr=function(b,c){var d,e,f,g;if(b&&a.is(b,E)&&a.is(b[0],"object"))for(d=0,e=b.length;e>d;d++)this.items[d].attr(b[d]);else for(f=0,g=this.items.length;g>f;f++)this.items[f].attr(b,c);return this},Hc.clear=function(){for(;this.length;)this.pop()},Hc.splice=function(a,b){var g,d,e,f,h;for(a=0>a?x(this.length+a,0):a,b=x(0,y(this.length-a,b)),d=[],e=[],f=[],g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;b>g;g++)e.push(this[a+g]);for(;g<this.length-a;g++)d.push(this[a+g]);for(h=f.length,g=0;g<h+d.length;g++)this.items[a+g]=this[a+g]=h>g?f[g]:d[g-h];for(g=this.items.length=this.length-=b-h;this[g];)delete this[g++];return new Gc(e)},Hc.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},Hc.animate=function(b,c,d,e){var h,j,f,g,i,k;if((a.is(d,"function")||!d)&&(e=d||null),f=this.items.length,g=f,i=this,!f)return this;for(e&&(j=function(){!--f&&e.call(i)}),d=a.is(d,D)?d:j,k=a.animation(b,c,d,j),h=this.items[--g].animate(k);g--;)this.items[g]&&!this.items[g].removed&&this.items[g].animateWith(h,k,k);return this},Hc.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},Hc.getBBox=function(){var e,f,a=[],b=[],c=[],d=[];for(e=this.items.length;e--;)this.items[e].removed||(f=this.items[e].getBBox(),a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height));return a=y[m](0,a),b=y[m](0,b),c=x[m](0,c),d=x[m](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},Hc.clone=function(a){a=new Gc;for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},Hc.toString=function(){return"Raphaël‘s set"},a.registerFont=function(a){var b,c,d,e,f,h;if(!a.face)return a;this.fonts=this.fonts||{},b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(d in a.face)a.face[g](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=R(a.face["units-per-em"],10);for(e in a.glyphs)if(a.glyphs[g](e)&&(f=a.glyphs[e],b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k))for(h in f.k)f[g](h)&&(b.glyphs[e].k[h]=f.k[h])}return a},k.getFont=function(b,c,d,e){var f,h,i,j,k,l;if(e=e||"normal",d=d||"normal",c=+c||{normal:400,bold:700,lighter:300,bolder:800}[c]||400,a.fonts){if(f=a.fonts[b],!f){h=new RegExp("(^|\\s)"+b.replace(/[^\w\d\s+!~.:_-]/g,p)+"(\\s|$)","i");for(i in a.fonts)if(a.fonts[g](i)&&h.test(i)){f=a.fonts[i];break}}if(f)for(k=0,l=f.length;l>k&&(j=f[k],j.face["font-weight"]!=c||j.face["font-style"]!=d&&j.face["font-style"]||j.face["font-stretch"]!=e);k++);return j}},k.print=function(b,d,e,f,g,h,i){var n,j,k,l,m,o,q,t,u,v,w,z,A,B;if(h=h||"middle",i=x(y(i||0,1),-1),j=r(e)[s](p),k=0,l=0,m=p,a.is(f,e)&&(f=this.getFont(f)),f)for(n=(g||16)/f.face["units-per-em"],o=f.face.bbox[s](c),q=+o[0],t=o[3]-o[1],u=0,v=+o[1]+("baseline"==h?t+ +f.face.descent:t/2),w=0,z=j.length;z>w;w++)"\n"==j[w]?(k=0,B=0,l=0,u+=t):(A=l&&f.glyphs[j[w-1]]||{},B=f.glyphs[j[w]],k+=l?(A.w||f.w)+(A.k&&A.k[j[w]]||0)+f.w*i:0,l=1),B&&B.d&&(m+=a.transformPath(B.d,["t",k*n,u*n,"s",n,n,q,v,"t",(b-q)/n,(d-v)/n]));return this.path(m).attr({fill:"#000",stroke:"none"})},k.add=function(b){if(a.is(b,"array"))for(var h,c=this.set(),e=0,f=b.length;f>e;e++)h=b[e]||{},d[g](h.type)&&c.push(this[h.type]().attr(h));return c},a.format=function(b,c){var d=a.is(c,E)?[0][n](c):arguments;return b&&a.is(b,D)&&d.length-1&&(b=b.replace(e,function(a,b){return null==d[++b]?p:d[b]})),b||p},a.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),a.ninja=function(){return i.was?h.win.Raphael=i.is:delete Raphael,a},a.st=Hc,function(b,c,d){function e(){/in/.test(b.readyState)?setTimeout(e,9):a.eve("raphael.DOMload")}null==b.readyState&&b.addEventListener&&(b.addEventListener(c,d=function(){b.removeEventListener(c,d,!1),b.readyState="complete"},!1),b.readyState="loading"),e()}(document,"DOMContentLoaded"),i.was?h.win.Raphael=a:Raphael=a,eve.on("raphael.DOMload",function(){b=!0})}(),window.Raphael.svg&&function(a){var q,r,s,t,u,v,w,x,y,z,A,B,C,b="hasOwnProperty",c=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=a.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};a.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version},q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[b](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),c(e[f])):d.setAttribute(f,c(e[f])))}else d=a._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(b,e){var t,u,v,w,x,y,j="linear",k=b.id+e,m=.5,n=.5,o=b.node,p=b.paper,r=o.style,s=a._g.doc.getElementById(k);if(!s){if(e=c(e).replace(a._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){if(t=e.shift(),t=-d(t),isNaN(t))return null;u=[0,0,f.cos(a.rad(t)),f.sin(a.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1),u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}if(w=a._parseDots(e),!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),b.gradient&&k!=b.gradient.id&&(p.defs.removeChild(b.gradient),delete b.gradient),!b.gradient)for(s=q(j+"Gradient",{id:k}),b.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:b.matrix.invert()}),p.defs.appendChild(s),x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){var s,t,u,v,w,g,h,i,j,k,m,n,r,x,y,z,A,B,D,C,E,F;if("path"==d.type){for(g=c(e).toLowerCase().split("-"),h=d.paper,i=f?"end":"start",j=d.node,k=d.attrs,m=k["stroke-width"],n=g.length,r="classic",x=3,y=3,z=5;n--;)switch(g[n]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":r=g[n];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}"open"==r?(x+=2,y+=2,z+=2,u=1,v=f?4:1,w={fill:"none",stroke:k.stroke}):(v=u=x/2,w={fill:k.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=r?(A="raphael-marker-"+r,B="raphael-marker-"+i+r+x+y,a._g.doc.getElementById(A)?p[A]++:(h.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[r],id:A})),p[A]=1),C=a._g.doc.getElementById(B),C?(p[B]++,D=C.getElementsByTagName("use")[0]):(C=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:v,refY:y/2}),D=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),C.appendChild(D),h.defs.appendChild(C),p[B]=1),q(D,w),E=u*("diamond"!=r&&"oval"!=r),f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-E*m):(s=E*m,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),w={},w["marker-"+i]="url(#"+B+")",(t||s)&&(w.d=Raphael.getSubpath(k.path,s,t)),q(j,w),d._.arrows[i+"Path"]=A,d._.arrows[i+"Marker"]=B,d._.arrows[i+"dx"]=E,d._.arrows[i+"Type"]=r,d._.arrows[i+"String"]=e):(f?(s=d._.arrows.startdx*m||0,t=a.getTotalLength(k.path)-s):(s=0,t=a.getTotalLength(k.path)-(d._.arrows.enddx*m||0)),d._.arrows[i+"Path"]&&q(j,{d:Raphael.getSubpath(k.path,s,t)}),delete d._.arrows[i+"Path"],delete d._.arrows[i+"Marker"],delete d._.arrows[i+"dx"],delete d._.arrows[i+"Type"],delete d._.arrows[i+"String"]);for(w in p)p[b](w)&&!p[w]&&(F=a._g.doc.getElementById(w),F&&F.parentNode.removeChild(F))}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,b,d){if(b=u[c(b).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=b.length;h--;)g[h]=b[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var o,p,u,w,x,z,A,B,C,D,E,F,G,H,I,i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(o in f)if(f[b](o)){if(!a._availableAttrs[b](o))continue;switch(p=f[o],k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":case"target":u=i.parentNode,"a"!=u.tagName.toLowerCase()&&(w=q("a"),u.insertBefore(w,i),w.appendChild(i),u=w),"target"==o?u.setAttributeNS(n,"show","blank"==p?"new":p):u.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":x=c(p).split(j),4==x.length&&(d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode),z=q("clipPath"),A=q("rect"),z.id=a.createUUID(),q(A,{x:x[0],y:x[1],width:x[2],height:x[3]}),z.appendChild(A),d.paper.defs.appendChild(z),q(i,{"clip-path":"url(#"+z.id+")"}),d.clip=A),p||(B=i.getAttribute("clip-path"),B&&(C=a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g,l)),C&&C.parentNode.removeChild(C),q(i,{"clip-path":l}),delete d.clip));break;case"path":"path"==d.type&&(q(i,{d:p?k.path=a._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":if(D=c(p).match(a._ISURL)){z=q("pattern"),E=q("image"),z.id=a.createUUID(),q(z,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(E,{x:0,y:0,"xlink:href":D[1]}),z.appendChild(E),function(b){a._preload(D[1],function(){var a=this.offsetWidth,c=this.offsetHeight;q(b,{width:a,height:c}),q(E,{width:a,height:c}),d.paper.safari()})}(z),d.paper.defs.appendChild(z),q(i,{fill:"url(#"+z.id+")"}),d.pattern=z,d.pattern&&s(d);break}if(F=a.getRGB(p),F.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p)){("opacity"in k||"fill-opacity"in k)&&(G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)}))),k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!a.is(k.opacity,"undefined")&&a.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!a.is(k["fill-opacity"],"undefined")&&a.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});F[b]("opacity")&&q(i,{"fill-opacity":F.opacity>1?F.opacity/100:F.opacity});case"stroke":F=a.getRGB(p),i.setAttribute(o,F.hex),"stroke"==o&&F[b]("opacity")&&q(i,{"stroke-opacity":F.opacity>1?F.opacity/100:F.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=c(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[b]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){G=a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),G&&(H=G.getElementsByTagName("stop"),q(H[H.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px"),I=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()}),i.style[I]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){var g,h,i,m,j,k,n,o,p,r;if("text"==d.type&&(f[b]("text")||f[b]("font")||f[b]("font-size")||f[b]("x")||f[b]("y"))){if(g=d.attrs,h=d.node,i=h.firstChild?e(a._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10,f[b]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(j=c(f.text).split("\n"),k=[],n=0,o=j.length;o>n;n++)m=q("tspan"),n&&q(m,{dy:i*x,x:g.x}),m.appendChild(a._g.doc.createTextNode(j[n])),h.appendChild(m),k[n]=m}else for(k=h.getElementsByTagName("tspan"),n=0,o=k.length;o>n;n++)n?q(k[n],{dy:i*x,x:g.x}):q(k[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1,p=d._getBBox(),r=g.y-(p.y+p.height/2),r&&a.is(r,"finite")&&q(k[0],{dy:r})}},z=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.matrix=a.matrix(),this.realPath=null,this.paper=c,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},A=a.el,z.prototype=A,A.constructor=z,a._engine.path=function(a,b){var d,c=q("path");return b.canvas&&b.canvas.appendChild(c),d=new z(c,b),d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,b,e){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,b,e]])),this},A.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(j),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this},A.translate=function(a,b){return this.removed?this:(a=c(a).split(j),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this.transform(this._.transform.concat([["t",a,b]])),this)},A.transform=function(c){var e,d=this._;return null==c?d.transform:(a._extractTransform(this,c),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),(1!=d.sx||1!=d.sy)&&(e=this.attrs[b]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":e})),this)},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){var b,c;if(!this.removed&&this.node.parentNode){b=this.paper,b.__set__&&b.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&b.defs.removeChild(this.gradient),a._tear(this,b),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(c in this)this[c]="function"==typeof this[c]?a._removedFactory(c):null;this.removed=!0}},A._getBBox=function(){var a,b;"none"==this.node.style.display&&(this.show(),a=!0),b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(c,d){var e,f,g,h,i,l,m,n,o,p;if(this.removed)return this;if(null==c){e={};for(f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if("fill"==c&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==c)return this._.transform;for(g=c.split(j),h={},i=0,l=g.length;l>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return l-1?h:h[g[0]]}if(null==d&&a.is(c,"array")){for(h={},i=0,l=c.length;l>i;i++)h[c[i]]=this.attr(c[i]);return h}null!=d?(m={},m[c]=d):null!=c&&a.is(c,"object")&&(m=c);for(n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[b](n)&&m[b](n)&&a.is(this.paper.customAttributes[n],"function")){o=this.paper.customAttributes[n].apply(this,[].concat(m[n])),this.attrs[n]=m[n];for(p in o)o[b](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var b=this.paper;return b.top!=this&&a._tofront(this,b),this},A.toBack=function(){if(this.removed)return this;var b=this.node.parentNode;return"a"==b.tagName.toLowerCase()?b.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):b.firstChild!=this.node&&b.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper),this.paper,this},A.insertAfter=function(b){if(this.removed)return this;var c=b.node||b[b.length-1].node;return c.nextSibling?c.parentNode.insertBefore(this.node,c.nextSibling):c.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this},A.insertBefore=function(b){if(this.removed)return this;var c=b.node||b[0].node;return c.parentNode.insertBefore(this.node,c),a._insertbefore(this,b,this.paper),this},A.blur=function(b){var d,e,c=this;0!==+b?(d=q("filter"),e=q("feGaussianBlur"),c.attrs.blur=b,d.id=a.createUUID(),q(e,{stdDeviation:+b||1.5}),d.appendChild(e),c.paper.defs.appendChild(d),c._blur=d,q(c.node,{filter:"url(#"+d.id+")"})):(c._blur&&(c._blur.parentNode.removeChild(c._blur),delete c._blur,delete c.attrs.blur),c.node.removeAttribute("filter"))},a._engine.circle=function(a,b,c,d){var f,e=q("circle");return a.canvas&&a.canvas.appendChild(e),f=new z(e,a),f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},a._engine.rect=function(a,b,c,d,e,f){var h,g=q("rect");return a.canvas&&a.canvas.appendChild(g),h=new z(g,a),h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},a._engine.ellipse=function(a,b,c,d,e){var g,f=q("ellipse");return a.canvas&&a.canvas.appendChild(f),g=new z(f,a),g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},a._engine.image=function(a,b,c,d,e,f){var h,g=q("image");return q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g),h=new z(g,a),h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},a._engine.text=function(b,c,d,e){var g,f=q("text");return b.canvas&&b.canvas.appendChild(f),g=new z(f,b),g.attrs={x:c,y:d,"text-anchor":"middle",text:e,font:a._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},a._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},a._engine.create=function(){var j,h,i,b=a._getContainer.apply(0,arguments),c=b&&b.container,d=b.x,e=b.y,f=b.width,g=b.height;if(!c)throw new Error("SVG container not found.");return h=q("svg"),i="overflow:hidden;",d=d||0,e=e||0,f=f||512,g=g||342,q(h,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==c?(h.style.cssText=i+"position:absolute;left:"+d+"px;top:"+e+"px",a._g.doc.body.appendChild(h),j=1):(h.style.cssText=i+"position:relative",c.firstChild?c.insertBefore(h,c.firstChild):c.appendChild(h)),c=new a._Paper,c.width=f,c.height=g,c.canvas=h,c.clear(),c._left=c._top=0,j&&(c.renderfix=function(){}),c.renderfix(),c},a._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var j,l,f=g(c/this.width,d/this.height),h=this.top,i=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(f=1),delete this._vbSize,j="0 0 "+this.width+m+this.height):(this._vbSize=f,j=a+m+b+m+c+m+d),q(this.canvas,{viewBox:j,preserveAspectRatio:i});f&&h;)l="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":l}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[a,b,c,d,!!e],this},a.prototype.renderfix=function(){var c,e,f,a=this.canvas,b=a.style;try{c=a.getScreenCTM()||a.createSVGMatrix()}catch(d){c=a.createSVGMatrix()}e=-c.e%1,f=-c.f%1,(e||f)&&(e&&(this._left=(this._left+e)%1,b.left=this._left+"px"),f&&(this._top=(this._top+f)%1,b.top=this._top+"px"))},a.prototype.clear=function(){a.eve("raphael.clear",this);for(var b=this.canvas;b.firstChild;)b.removeChild(b.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël "+a.version)),b.appendChild(this.desc),b.appendChild(this.defs=q("defs"))},a.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null},B=a.st;for(C in A)A[b](C)&&!B[b](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}(window.Raphael),window.Raphael.vml&&function(a){var A,B,C,D,E,F,G,H,b="hasOwnProperty",c=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=a.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(b){var g,i,j,h,k,l,m,r,d=/[ahqstv]/gi,e=a._pathToAbsolute;if(c(b).match(d)&&(e=a._path2curve),d=/[clmz]/g,e==a._pathToAbsolute&&!c(b).match(d))return g=c(b).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});for(h=e(b),g=[],k=0,l=h.length;l>k;k++){for(i=h[k],j=h[k][0].toLowerCase(),"z"==j&&(j="x"),m=1,r=i.length;r>m;m++)j+=f(i[m]*u)+(m!=r-1?",":o);g.push(j)}return g.join(n)},y=function(b,c,d){var e=a.matrix();return e.rotate(-b,.5,.5),{dx:e.x(c,d),dy:e.y(c,d)}},z=function(a,b,c,d,e,f){var t,v,g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",r=u/b,s=u/c;m.visibility="hidden",b&&c&&(l.coordsize=i(r)+n+i(s),m.rotation=f*(0>b*c?-1:1),f&&(t=y(f,d,e),d=t.dx,e=t.dy),0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-r+n+e*-s,(k||g.fillsize)&&(v=l.getElementsByTagName(j),v=v&&v[0],l.removeChild(v),k&&(t=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),v.position=t.dx*o+n+t.dy*o),g.fillsize&&(v.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(v)),m.visibility="visible")};a.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},A=function(a,b,d){for(var k,e=c(b).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}k=a.node.getElementsByTagName("stroke")[0],k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){var l,m,p,r,s,t,y,B,D,E,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_;e.attrs=e.attrs||{},l=e.node,m=e.attrs,p=l.style,r=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),s=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),t=e;for(y in i)i[b](y)&&(m[y]=i[y]);if(r&&(m.path=a._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||r)&&(l.path=x(~c(m.path).toLowerCase().indexOf("r")?a._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),s&&(B=+m.cx,D=+m.cy,E=+m.rx||+m.r||0,G=+m.ry||+m.r||0,l.path=a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((B-E)*u),f((D-G)*u),f((B+E)*u),f((D+G)*u),f(B*u))),"clip-rect"in i&&(H=c(i["clip-rect"]).split(k),4==H.length&&(H[2]=+H[2]+ +H[0],H[3]=+H[3]+ +H[1],I=l.clipRect||a._g.doc.createElement("div"),J=I.style,J.clip=a.format("rect({1}px {2}px {3}px {0}px)",H),l.clipRect||(J.position="absolute",J.top=0,J.left=0,J.width=e.paper.width+"px",J.height=e.paper.height+"px",l.parentNode.insertBefore(I,l),I.appendChild(l),l.clipRect=I)),i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")),e.textpath&&(K=e.textpath.style,i.font&&(K.font=i.font),i["font-family"]&&(K.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(K.fontSize=i["font-size"]),i["font-weight"]&&(K.fontWeight=i["font-weight"]),i["font-style"]&&(K.fontStyle=i["font-style"])),"arrow-start"in i&&A(t,i["arrow-start"]),"arrow-end"in i&&A(t,i["arrow-end"],1),(null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"])&&(L=l.getElementsByTagName(j),M=!1,L=L&&L[0],!L&&(M=L=F(j)),"image"==e.type&&i.src&&(L.src=i.src),i.fill&&(L.on=!0),(null==L.on||"none"==i.fill||null===i.fill)&&(L.on=!1),L.on&&i.fill&&(N=c(i.fill).match(a._ISURL),N?(L.parentNode==l&&l.removeChild(L),L.rotate=!0,L.src=N[1],L.type="tile",O=e.getBBox(1),L.position=O.x+n+O.y,e._.fillpos=[O.x,O.y],a._preload(N[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})):(L.color=a.getRGB(i.fill).hex,L.src=o,L.type="solid",a.getRGB(i.fill).error&&(t.type in{circle:1,ellipse:1}||"r"!=c(i.fill).charAt())&&C(t,i.fill,L)&&(m.fill="none",m.gradient=i.fill,L.rotate=!1))),("fill-opacity"in i||"opacity"in i)&&(P=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1),P=h(g(P,0),1),L.opacity=P,L.src&&(L.color="none")),l.appendChild(L),Q=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],R=!1,!Q&&(R=Q=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(Q.on=!0),("none"==i.stroke||null===i.stroke||null==Q.on||0==i.stroke||0==i["stroke-width"])&&(Q.on=!1),S=a.getRGB(i.stroke),Q.on&&i.stroke&&(Q.color=S.hex),P=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+S.o+1||2)-1),T=.75*(d(i["stroke-width"])||1),P=h(g(P,0),1),null==i["stroke-width"]&&(T=m["stroke-width"]),i["stroke-width"]&&(Q.weight=T),T&&1>T&&(P*=T)&&(Q.weight=1),Q.opacity=P,i["stroke-linejoin"]&&(Q.joinstyle=i["stroke-linejoin"]||"miter"),Q.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(Q.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]&&(U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},Q.dashstyle=U[b](i["stroke-dasharray"])?U[i["stroke-dasharray"]]:o),R&&l.appendChild(Q)),"text"==t.type){t.paper.canvas.style.display=o,V=t.paper.span,W=100,X=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/),p=V.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),X=d(m["font-size"]||X&&X[0])||10,p.fontSize=X*W+"px",t.textpath.string&&(V.innerHTML=c(t.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),Y=V.getBoundingClientRect(),t.W=m.w=(Y.right-Y.left)/W,t.H=m.h=(Y.bottom-Y.top)/W,t.X=m.x,t.Y=m.y+t.H/2,("x"in i||"y"in i)&&(t.path.v=a.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1)),Z=["x","y","text","font","font-family","font-weight","font-style","font-size"];
    for($=0,_=Z.length;_>$;$++)if(Z[$]in i){t._.dirty=1;break}switch(m["text-anchor"]){case"start":t.textpath.style["v-text-align"]="left",t.bbx=t.W/2;break;case"end":t.textpath.style["v-text-align"]="right",t.bbx=-t.W/2;break;default:t.textpath.style["v-text-align"]="center",t.bbx=0}t.textpath.style["v-text-kern"]=!0}},C=function(b,f,g){var i,l,m,p,q,r,s,t;if(b.attrs=b.attrs||{},b.attrs,i=Math.pow,l="linear",m=".5 .5",b.attrs.gradient=f,f=c(f).replace(a._radial_gradient,function(a,b,c){return l="radial",b&&c&&(b=d(b),c=d(c),i(b-.5,2)+i(c-.5,2)>.25&&(c=e.sqrt(.25-i(b-.5,2))*(2*(c>.5)-1)+.5),m=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==l&&(p=f.shift(),p=-d(p),isNaN(p)))return null;if(q=a._parseDots(f),!q)return null;if(b=b.shape||b.node,q.length){for(b.removeChild(g),g.on=!0,g.method="none",g.color=q[0].color,g.color2=q[q.length-1].color,r=[],s=0,t=q.length;t>s;s++)q[s].offset&&r.push(q[s].offset+n+q[s].color);g.colors=r.length?r.join():"0% "+g.color,"radial"==l?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=m,g.angle=0):(g.type="gradient",g.angle=(270-p)%360),b.appendChild(g)}return 1},D=function(b,c){this[0]=this.node=b,b.raphael=!0,this.id=a._oid++,b.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=c,this.matrix=a.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!c.bottom&&(c.bottom=this),this.prev=c.top,c.top&&(c.top.next=this),c.top=this,this.next=null},E=a.el,D.prototype=E,E.constructor=D,E.transform=function(b){var f,d,e,j,g,h,i,k,l,m,p,q,r;return null==b?this._.transform:(d=this.paper._viewBoxShift,e=d?"s"+[d.scale,d.scale]+"-1-1t"+[d.dx,d.dy]:o,d&&(f=b=c(b).replace(/\.{3}|\u2026/g,this._.transform||o)),a._extractTransform(this,e+b),g=this.matrix.clone(),h=this.skew,i=this.node,k=~c(this.attrs.fill).indexOf("-"),l=!c(this.attrs.fill).indexOf("url("),g.translate(-.5,-.5),l||k||"image"==this.type?(h.matrix="1 0 0 1",h.offset="0 0",j=g.split(),k&&j.noRotation||!j.isSimple?(i.style.filter=g.toFilter(),m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y,i.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)):(i.style.filter=o,z(this,j.scalex,j.scaley,j.dx,j.dy,j.rotate))):(i.style.filter=o,h.matrix=c(g),h.offset=g.offset()),f&&(this._.transform=f),this)},E.rotate=function(a,b,e){if(this.removed)return this;if(null!=a){if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(b=e),null==b||null==e){var f=this.getBBox(1);b=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,b,e]])),this}},E.translate=function(a,b){return this.removed?this:(a=c(a).split(k),a.length-1&&(b=d(a[1])),a=d(a[0])||0,b=+b||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=b),this.transform(this._.transform.concat([["t",a,b]])),this)},E.scale=function(a,b,e,f){if(this.removed)return this;if(a=c(a).split(k),a.length-1&&(b=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==b&&(b=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,b,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),a.eve.unbind("raphael.*.*."+this.id),a._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;this.removed=!0}},E.attr=function(c,d){var e,f,g,h,i,m,n,o,p,q;if(this.removed)return this;if(null==c){e={};for(f in this.attrs)this.attrs[b](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&a.is(c,"string")){if(c==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(g=c.split(k),h={},i=0,m=g.length;m>i;i++)c=g[i],h[c]=c in this.attrs?this.attrs[c]:a.is(this.paper.customAttributes[c],"function")?this.paper.customAttributes[c].def:a._availableAttrs[c];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&a.is(c,"array")){for(h={},i=0,m=c.length;m>i;i++)h[c[i]]=this.attr(c[i]);return h}null!=d&&(n={},n[c]=d),null==d&&a.is(c,"object")&&(n=c);for(o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[b](o)&&n[b](o)&&a.is(this.paper.customAttributes[o],"function")){p=this.paper.customAttributes[o].apply(this,[].concat(n[o])),this.attrs[o]=n[o];for(q in p)p[b](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&a._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),a._toback(this,this.paper)),this)},E.insertAfter=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[b.length-1]),b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):b.node.parentNode.appendChild(this.node),a._insertafter(this,b,this.paper),this)},E.insertBefore=function(b){return this.removed?this:(b.constructor==a.st.constructor&&(b=b[0]),b.node.parentNode.insertBefore(this.node,b.node),a._insertbefore(this,b,this.paper),this)},E.blur=function(b){var c=this.node.runtimeStyle,d=c.filter;d=d.replace(r,o),0!==+b?(this.attrs.blur=b,c.filter=d+n+m+".Blur(pixelradius="+(+b||1.5)+")",c.margin=a.format("-{0}px 0 0 -{0}px",f(+b||1.5))):(c.filter=d,c.margin=0,delete this.attrs.blur)},a._engine.path=function(a,b){var d,e,f,c=F("shape");return c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin,d=new D(c,b),e={fill:"none",stroke:"#000"},a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c),f=F("skew"),f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},a._engine.rect=function(b,c,d,e,f,g){var h=a._rectPath(c,d,e,f,g),i=b.path(h),j=i.attrs;return i.X=j.x=c,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},a._engine.ellipse=function(a,b,c,d,e){var f=a.path();return f.attrs,f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},a._engine.circle=function(a,b,c,d){var e=a.path();return e.attrs,e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},a._engine.image=function(b,c,d,e,f,g){var h=a._rectPath(d,e,f,g),i=b.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=c,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=c,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},a._engine.text=function(b,d,e,g){var k,l,m,h=F("shape"),i=F("path"),j=F("textpath");return d=d||0,e=e||0,g=g||"",i.v=a.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=c(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0",k=new D(h,b),l={fill:"#000",stroke:"none",font:a._availableAttrs.font,text:g},k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=c(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),b.canvas.appendChild(h),m=F("skew"),m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},a._engine.setSize=function(b,c){var d=this.canvas.style;return this.width=b,this.height=c,b==+b&&(b+="px"),c==+c&&(c+="px"),d.width=b,d.height=c,d.clip="rect(0 "+b+" "+c+" 0)",this._viewBox&&a._engine.setViewBox.apply(this,this._viewBox),this},a._engine.setViewBox=function(b,c,d,e,f){a.eve("raphael.setViewBox",this,this._viewBox,[b,c,d,e,f]);var k,l,h=this.width,i=this.height,j=1/g(d/h,e/i);return f&&(k=i/e,l=h/d,h>d*k&&(b-=(h-d*k)/2/k),i>e*l&&(c-=(i-e*l)/2/l)),this._viewBox=[b,c,d,e,!!f],this._viewBoxShift={dx:-b,dy:-c,scale:j},this.forEach(function(a){a.transform("...")}),this},a._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},a._engine.initWin(a._g.win),a._engine.create=function(){var i,j,k,b=a._getContainer.apply(0,arguments),c=b.container,d=b.height,f=b.width,g=b.x,h=b.y;if(!c)throw new Error("VML container not found.");return i=new a._Paper,j=i.canvas=a._g.doc.createElement("div"),k=j.style,g=g||0,h=h||0,f=f||512,d=d||342,i.width=f,i.height=d,f==+f&&(f+="px"),d==+d&&(d+="px"),i.coordsize=1e3*u+n+1e3*u,i.coordorigin="0 0",i.span=a._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",j.appendChild(i.span),k.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",f,d),1==c?(a._g.doc.body.appendChild(j),k.left=g+"px",k.top=h+"px",k.position="absolute"):c.firstChild?c.insertBefore(j,c.firstChild):c.appendChild(j),i.renderfix=function(){},i},a.prototype.clear=function(){a.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=a._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},a.prototype.remove=function(){a.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?a._removedFactory(b):null;return!0},G=a.st;for(H in E)E[b](H)&&!G[b](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}(window.Raphael),function(){var b,a=function(){return this instanceof a?(this._callbacks={},this._fired={},void 0):new a};a.prototype.addListener=function(a,b){return this._callbacks=this._callbacks||{},this._callbacks[a]=this._callbacks[a]||[],this._callbacks[a].push(b),this},a.prototype.bind=a.prototype.addListener,a.prototype.on=a.prototype.addListener,a.prototype.await=a.prototype.addListener,a.prototype.removeListener=function(a,b){var d,e,f,c=this._callbacks;if(a){if(c)if(b){if(f=c[a],!f)return this;for(e=f.length,d=0;e>d;d++)if(b===f[d]){f[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},a.prototype.unbind=a.prototype.removeListener,a.prototype.removeAllListeners=function(a){return this.unbind(a)},a.prototype.trigger=function(a){var c,d,e,f,g,h,i,j=2;if(!(d=this._callbacks))return this;for(;j--;)if(e=j?a:"all",c=d[e])for(h=0,i=c.length;i>h;h++)(f=c[h])?(g=j?Array.prototype.slice.call(arguments,1):arguments,f.apply(this,g)):(c.splice(h,1),h--,i--);return this},a.prototype.emit=a.prototype.trigger,a.prototype.fire=a.prototype.trigger,a.prototype.once=function(a,b){var c=this,d=function(){b.apply(c,arguments),c.unbind(a,d)};return this.bind(a,d),this},a.prototype.immediate=function(a,b,c){return this.bind(a,b),this.trigger(a,c),this},b=function(){var f,i,j,k,l,m,e=this,g=0,h=arguments.length,n=0,o={};if(3>h)return this;if(l=Array.prototype.slice.apply(arguments,[0,h-2]),k=arguments[h-2],m=arguments[h-1],"function"!=typeof k)return this;for(f=l.length,i=function(a){var b=m?"once":"bind";e[b](a,function(b){e._fired[a]=e._fired[a]||{},e._fired[a].data=b,o[a]||(o[a]=!0,n++)})},g=0;f>g;g++)i(l[g]);j=function(){if(!(f>n)){var a=[];for(g=0;f>g;g++)a.push(e._fired[l[g]].data);m&&e.unbind("all",j),k.apply(null,a)}},e.bind("all",j)},a.prototype.all=function(){var e=Array.prototype.concat.apply([],arguments);return e.push(!0),b.apply(this,e),this},a.prototype.assign=a.prototype.all,a.prototype.tail=function(){var a=Array.prototype.concat.apply([],arguments);return a.push(!1),b.apply(this,a),this},a.prototype.assignAll=a.prototype.tail,a.prototype.assignAlways=a.prototype.tail,a.prototype.after=function(a,b,c){if(0===b)return c.call(null,[]),this;var f,d=this,e=[];return f=function(g,h){g===a&&(b--,e.push(h),1>b&&(d.unbind("all",f),c.apply(null,[e])))},d.bind("all",f),this},a.prototype.any=function(){var b,c,a=this,d=arguments.length,e=arguments[d-1],f=Array.prototype.slice.apply(arguments,[0,d-1]),g=f.length,h=f.join("_");for(a.once(h,e),c=function(b){a.bind(b,function(c){a.trigger(h,{data:c,eventName:b})})},b=0;g>b;b++)c(f[b])},a.prototype.not=function(a,b){var c=this;c.bind("all",function(c,d){c!==a&&b(d)})},a.create=function(){var b=new a;return arguments.length&&b.assign.apply(b,Array.prototype.slice.call(arguments)),b},"undefined"!=typeof exports?exports.EventProxy=a:this.EventProxy=a}(),DataV=function(){},DataV.version="0.0.1",DataV.Themes={},DataV.Themes["default"]=DataV.Themes.theme0={COLOR_ARGS:[["#3dc6f4","#8ce3ff"],["#214fd9","#7396ff"],["#4f21d9","#9673ff"],["#c43df2","#e38cff"],["#d8214f","#ff7396"],["#f3c53c","#ffe38c"]]},DataV.Themes.theme1={COLOR_ARGS:[["#e72e8b","#ff7fbf"],["#d94f21","#ff9673"],["#f3c53c","#ffe38c"],["#8be62f","#bfff7f"],["#14cc14","#66ff66"],["#2fe68a","#7fffc0"]]},DataV.Themes.theme2={COLOR_ARGS:[["#2f8ae7","#7fc0ff"],["#8a2ee7","#bf7fff"],["#f33dc6","#ff8ce3"],["#8be62f","#bfff7f"],["#14cc14","#66ff66"],["#2fe68a","#7fffc0"]]},DataV.Themes.theme3={COLOR_ARGS:[["#2f8ae7","#896DA3"],["#8e34df","#FFADA6"],["#f738c0","#65FCFC"],["#84e653","#555566"],["#0cc53e","#db3f7c"],["#00e793s","#db3f7c"]]},DataV.Themes.theme4={COLOR_ARGS:[["#d94f21","#7a88d1"],["#579ce2","#87bdf4"],["#3bb4df","#7fd1ef"],["#a380ff","#baa0ff"],["#a164c5","#c28fe1"],["#d93a92","#ec74b6"],["#b82377","#d569a7"],["#bb3ca3","#d381c2"],["#da2d57","#ec6b8a"],["#4ca716","#4ca716"],["#5b63c2","#8e93d7"],["#15a9a3","#4ecac5"],["#a9ab48","#e8c670"],["#2aa5f5","#73c4fa"],["#f67e10","#feb648"],["#1faa77","#62c8a2"],["#eb4f20","#f58563"],["#ffc000","#ffd659"],["#f16ebc","#f6a1d3"],["#d23457","#e27b92"]]},DataV.Themes.current="default",DataV.Themes._currentTheme=null,DataV.Themes.get=function(a){return DataV.Themes._currentTheme||(DataV.Themes._currentTheme=DataV.Themes[DataV.Themes.current]),DataV.Themes._currentTheme[a]||DataV.Themes["default"][a]},DataV.Themes.set=function(a,b){if(arguments.length<2)throw new Error("Arguments format error. should be: (themsName, theme)");if("object"!=typeof b)throw new Error("second argument theme should be a json object");if(!b["COLOR_ARGS"])throw new Error("theme.COLOR_ARGS needed");if(!b["COLOR_ARGS"]instanceof Array)throw new Error("theme.COLOR_ARGS should be an array");if(!(b["COLOR_ARGS"][0]instanceof Array))throw new Error("theme.COLOR_ARGS[0] should be an array");DataV.Themes[a]=b},DataV.changeTheme=function(a){var b=DataV.Themes[a];return b&&(DataV.Themes.current=a,DataV.Themes._currentTheme=null),!!b},DataV.getColor=function(){var a=DataV.Themes,b=a.get("COLOR_ARGS");return b},DataV.getDiscreteColor=function(){var c,d,e,a=DataV.Themes,b=a.get("COLOR_ARGS");if(b.constructor!==Array)throw new Error("The color should be Array");if(c=b.length,d=[],b[0]===Array)for(e=0;colorLineCount>e;e++)getColor.push(b[e][0]);else d=b;return function(a){var b=d;return b[a%thisolorCount]}},DataV.gradientColor=function(a,b){var c,e,f;if(a.constructor!==Array)throw new Error("The color should be Array");return c=a[0],e=a.length,1===e?(f=Raphael.color(a[0]),endColor=Raphael.hsb(f.h/360,(f.s-30)/100,1)):endColor=a[e-1],b=b||"normal ","special"===b?function(a){var j,k,l,m,n,b=Raphael.color(c),d=Raphael.color(endColor),f=360*b.h,g=360*d.h,h=20*b.h,i=20*d.h;return h>=i?(j=360-f+g,k=e-h+i):(j=g-f,k=i-h),l=(f+j*a)/360,m=(70+5*Math.abs(4-(h+k*a)%8))/100,n=(100-5*Math.abs(4-(h+k*a)%8))/100,Raphael.hsb(l,m,n)}:d3.interpolateRgb.apply(null,[c,endColor])},DataV.json=function(a,b){d3.json(a,b)},DataV.csv=function(a,b){d3.text(a,"text/csv",function(a){b(a&&d3.csv.parseRows(a))})},Chart=function(){this.type="Chart"},Chart.prototype.getType=function(){return this.type},DataV.Chart=Chart,DataV.extend=function(a,b){"function"!=typeof a&&(b=a,a=function(){}),b=b||{};var c=function(){a.apply(this,arguments),this.constructor===a&&this.initialize&&this.initialize.apply(this,arguments)};return c.prototype=new a,c.prototype.constructor=a,$.extend(c.prototype,b),c},Axis=function(){function n(n){var o=a.ticks?a.ticks.apply(a,g):a.domain(),p=void 0===h?a.tickFormat?a.tickFormat.apply(a,g):String:h,q=d3_svg_axisSubdivide(a,o,i),r=d3_scaleRange(a),s=n.set();switch(b){case"bottom":q.forEach(function(b){var f=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+f+","+d+"V0").attr(l))}),o.forEach(function(b){var g=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+g+","+c+"V0").attr(j)),s.push(n.text(g,Math.max(c,0)+f+2,"function"==typeof p?p(b):p).attr({"text-anchor":"middle"}).attr(k))}),s.push(n.path("M"+r[0]+","+e+"V0H"+r[1]+"V"+e).attr(m));break;case"top":q.forEach(function(b){var f=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+f+","+-d+"V0").attr(l))}),o.forEach(function(b){var g=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+g+","+-c+"V0").attr(j)),s.push(n.text(g,-(Math.max(c,0)+f+2),"function"==typeof p?p(b):p).attr({"text-anchor":"middle"}).attr(k))}),s.push(n.path("M"+r[0]+","+-e+"V0H"+r[1]+"V"+-e).attr(m));break;case"left":q.forEach(function(b){var f=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+-d+","+f+"H0").attr(l))}),o.forEach(function(b){var g=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+-c+","+g+"H0").attr(j)),s.push(n.text(-(Math.max(c,0)+f),g,"function"==typeof p?p(b):p).attr({"text-anchor":"end"}).attr(k))}),s.push(n.path("M"+-e+","+r[0]+"H0V"+r[1]+"H"+-e).attr(m));break;case"right":q.forEach(function(b){var f=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+d+","+f+"H0").attr(l))}),o.forEach(function(b){var g=a.ticks?a(b):a(b)+a.rangeBand()/2;s.push(n.path("M"+c+","+g+"H0").attr(j)),s.push(n.text(Math.max(c,0)+f,g,"function"==typeof p?p(b):p).attr({"text-anchor":"start"}).attr(k))}),s.push(n.path("M"+e+","+r[0]+"H0V"+r[1]+"H"+e).attr(m))}return s}var h,a=d3.scale.linear(),b="bottom",c=6,d=6,e=6,f=3,g=[10],i=0,j={},k={},l={},m={};return n.scale=function(b){return arguments.length?(a=b,n):a},n.orient=function(a){return arguments.length?(b=a,n):b},n.ticks=function(){return arguments.length?(g=arguments,n):g},n.tickFormat=function(a){return arguments.length?(h=a,n):h},n.tickSize=function(a,b){if(!arguments.length)return c;var g=arguments.length-1;return c=+a,d=g>1?+b:c,e=g>0?+arguments[g]:c,n},n.tickPadding=function(a){return arguments.length?(f=+a,n):f},n.tickSubdivide=function(a){return arguments.length?(i=+a,n):i},n.tickAttr=function(a){return arguments.length?(j=a,n):j},n.tickTextAttr=function(a){return arguments.length?(k=a,n):k},n.minorTickAttr=function(a){return arguments.length?(l=a,n):l},n.domainAttr=function(a){return arguments.length?(m=a,n):m},n},DataV.Axis=Axis,d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vml_brushCursor={n:"row-resize",e:"col-resize",s:"row-resize",w:"col-resize",nw:"all-scroll",ne:"all-scroll",se:"all-scroll",sw:"all-scroll"},Brush=function(){function q(a){var f,e=a.target;d3_svg_brush=r,d3_svg_brushTarget=$(o.paper.canvas).parent(),d3_svg_brushExtent=d,f=$(d3_svg_brushTarget).offset(),d3_svg_brushOffset=[a.pageX-f.left,a.pageY-f.top],d3_svg_brushEls=o,d3_svg_brushDrag="fg"===e.__brushNodeType__?!0:!1,d3_svg_brushDrag?(d3_svg_brushOffset[0]=d[0][0]-d3_svg_brushOffset[0],d3_svg_brushOffset[1]=d[0][1]-d3_svg_brushOffset[1]):/^resize/.test(e.__brushNodeType__)?(d3_svg_brushResize=e.__brushNodeType__.split("_")[1],d3_svg_brushOffset[0]=d[+/w$/.test(d3_svg_brushResize)][0],d3_svg_brushOffset[1]=d[+/^n/.test(d3_svg_brushResize)][1]):a.altKey&&(d3_svg_brushCenter=d3_svg_brushOffset.slice()),d3_svg_brushX=!/^(n|s)$/.test(d3_svg_brushResize)&&b,d3_svg_brushY=!/^(e|w)$/.test(d3_svg_brushResize)&&c,d3_svg_brushDispatch=s(this,arguments),d3_svg_brushDispatch("brushstart"),d3_svg_brushMove(a),a.stopPropagation()}function r(a){var l=b&&c?["n","e","s","w","nw","ne","se","sw"]:b?["e","w"]:c?["n","s"]:[];return b&&(e=d3_scaleRange(b),f=e[0],h=e[1]-e[0]),c&&(e=d3_scaleRange(c),g=e[0],i=e[1]-e[0]),o.paper=a,o.brushSet=a.set(),o.resizerSet=a.set(),o.bg=a.rect(f,g,h,i).attr({fill:"#dddddd",stroke:"none",cursor:"crosshair"}).attr(j),o.bg.node.__brushNodeType__="bg",o.bg.node.ondragstart=function(){return!1},p="brush"+o.bg.id,o.bg.node.setAttribute("class","brush bg rvml "+p),o.bg.node.setAttribute("className","brush bg rvml "+p),o.fg=a.rect(f,g,b?0:h,c?0:i).attr({fill:"steelblue",stroke:"none",cursor:"move"}).attr(k),o.fg.node.__brushNodeType__="fg",o.fg.node.ondragstart=function(){return!1},o.fg.node.setAttribute("class","brush fg rvml "+p),o.fg.node.setAttribute("className","brush fg rvml "+p),l.forEach(function(d){var e=a.rect(f,g,b?6:h,c?6:i).data("resizeOrient",d).attr({cursor:d3_svg_brushCursor[d],fill:"white",stroke:"black",opacity:0});Raphael.vml&&e.attr({cursor:vml_brushCursor[d]}),r.empty()&&("n"===d||"s"===d?e.attr({height:0}):e.attr({width:0})),e.node.__brushNodeType__="resizer_"+d,e.node.ondragstart=function(){return!1},e.node.setAttribute("class","brush rvml "+p+" "+d3_svg_brushCursor[d]),e.node.setAttribute("className","brush rvml "+p+" "+d3_svg_brushCursor[d]),o.resizerSet.push(e)}),b&&d3_svg_brushRedrawX(o,d),c&&d3_svg_brushRedrawY(o,d),$(a.canvas).on("mousedown","."+p,q),r.brushElements=o,r}var b,c,e,f,g,h,i,p,a=d3.dispatch("brushstart","brush","brushend"),d=[[0,0],[0,0]],j={fill:"#dddddd",stroke:"none",cursor:"crosshair"},k={fill:"steelblue",stroke:"none",cursor:"move"},o={},s=function(b,c){return function(d){var e=d3.event;try{d3.event={type:d,target:r},a[d].apply(b,c)}finally{d3.event=e}}};return r.left=function(a){return arguments.length?(f=a,r):f},r.top=function(a){return arguments.length?(g=a,r):g},r.width=function(a){return arguments.length?(h=a,r):h},r.height=function(a){return arguments.length?(i=a,r):i},r.x=function(a){return arguments.length?(b=a,r):b},r.y=function(a){return arguments.length?(c=a,r):c},r.extent=function(a){var e,f,g,h,i;return arguments.length?(b&&(e=a[0],f=a[1],c&&(e=e[0],f=f[0]),b.invert&&(e=b(e),f=b(f)),e>f&&(i=e,e=f,f=i),d[0][0]=e,d[1][0]=f),c&&(g=a[0],h=a[1],b&&(g=g[1],h=h[1]),c.invert&&(g=c(g),h=c(h)),g>h&&(i=g,g=h,h=i),d[0][1]=g,d[1][1]=h),r):(b&&(e=d[0][0],f=d[1][0],b.invert&&(e=b.invert(e),f=b.invert(f)),e>f&&(i=e,e=f,f=i)),c&&(g=d[0][1],h=d[1][1],c.invert&&(g=c.invert(g),h=c.invert(h)),g>h&&(i=g,g=h,h=i)),b&&c?[[e,g],[f,h]]:b?[e,f]:c&&[g,h])},r.clear=function(){return d[0][0]=d[0][1]=d[1][0]=d[1][1]=0,r.refresh(),r},r.refresh=function(){return b&&d3_svg_brushRedrawX(o,d),c&&d3_svg_brushRedrawY(o,d),r},r.remove=function(){return $(paper.canvas).off("mousedown","."+p,q),o.fg.remove(),o.bg.remove(),o.resizerSet.remove(),r},r.empty=function(){return b&&d[0][0]===d[1][0]||c&&d[0][1]===d[1][1]},r.backgroundAttr=function(a){return arguments.length?(j=a,r):j},r.foregroundAttr=function(a){return arguments.length?(k=a,r):k},$(document).bind("mousemove",d3_svg_brushMove).bind("mouseup",d3_svg_brushUp).bind("keydown",d3_svg_brushKeydown).bind("keyup",d3_svg_brushKeyup),d3.rebind(r,a,"on")},DataV.Brush=Brush,FloatTag=function(){function c(b){var c=b,d=$("<div/>").css({border:"1px solid","border-color":$.browser.msie?"rgb(0, 0, 0)":"rgba(0, 0, 0, 0.8)","background-color":$.browser.msie?"rgb(0, 0, 0)":"rgba(0, 0, 0, 0.75)",color:"white","border-radius":"2px",padding:"12px 8px","font-size":"12px","box-shadow":"3px 3px 6px 0px rgba(0,0,0,0.58)","font-familiy":"宋体","z-index":1e4,"text-align":"center",visibility:"hidden",position:"absolute"});return $(c).append(d).mousemove({jqNode:d,container:c},a),d}var a=function(a){var g,h,c=a.data.jqNode,d=a.data.container,e={x:20,y:20},f=$(d).offset();return a.pageX&&a.pageY?(g=a.pageX-f.left,h=a.pageY-f.top,$(d).position(),b.call(this),floatTagWidth=c.outerWidth(),floatTagHeight=c.outerHeight(),floatTagWidth+g+2*e.x<=$(d).width()?g+=e.x:g=g-floatTagWidth-e.x,h>=floatTagHeight+e.y?h=h-e.y-floatTagHeight:h+=e.y,c.css("left",g+"px"),c.css("top",h+"px"),void 0):!1},b=function(){};return c.setContent=function(a){return 0===arguments.length?b:(b=a,void 0)},c},DataV.FloatTag=FloatTag,theme=DataV.Themes,Tree=DataV.extend(DataV.Chart,{initialize:function(a,b){this.type="Tree",this.container=a,this.defaults={},this.addlink={},this.treeDepth=0,this.font={},this.defaults.width=750,this.defaults.height=760,this.defaults.deep=180,this.defaults.radius=15,this.setOptions(b),this.emitter=new EventProxy,this.createCanvas()}}),Tree.prototype.on=function(a,b){this.emitter.on(a,b)},Tree.prototype.setOptions=function(a){var b;if(a)for(b in a)a.hasOwnProperty(b)&&(this.defaults[b]=a[b])},Tree.prototype.hierarchyTableToJson=function(a){var b,c,d,e;if("ID"===a[0][0]&&(a=a.slice(1)),c={},d={},a.forEach(function(a,d){var e,f,g;if(""===a[0])throw new Error("ID can not be empty(line:"+(d+1)+").");if(!a[3]){if(b)throw new Error("2 or more lines have an empty parentID(line:"+(d+1)+").");b=a[0]}if(c[a[0]])throw new Error("2 or more lines have same ID: "+a[0]+"(line:"+(d+1)+").");if(e="",a.length>4)for(f=4,g=a.length;g>f;f++)g-1>f?e=e+a[f]+",":e+=a[f];c[a[0]]={name:a[1],size:a[2],child:[],id:a[0],value:e}}),!b)throw new Error("No root node defined.");return a.forEach(function(a,b){var e,f,g,h;if(a[3]){if(f=a[3].split("."),1===f.length)e=c[a[3]],e.child.push(a[0]);else for(e=c[f[0]],e.child.push(a[0]),d[a[0]]={child:[],path:[],pnode:[]},g=1,h=f.length;h>g;g++)d[a[0]].child.push(f[g]);if(!e)throw new Error("Can not find parent with ID "+a[3]+"(line:"+(b+1)+").")}}),this.addlink=d,e=function(a){var d,b=c[a];if(0===b.child.length){if(isNaN(parseFloat(b.size)))throw new Error("Leaf node's size is not a number(ID:"+(a+1)+").");return{name:b.name,size:b.size,num:b.id,children:null,draw:!1,value:b.value}}return d=[],b.child.forEach(function(a){d.push(e(a))}),{name:b.name,children:d,num:b.id,draw:!1,value:b.value}},e(b)},Tree.prototype.setSource=function(a){var b=this.defaults;this.rawData=a,this.source=this.remapSource(a),this.source.x0=b.width/2,this.source.y0=10*b.radius,this.source.children&&this.source.children.forEach(function c(a){a.children&&(a._children=null,a.children.forEach(c))})},Tree.prototype.remapSource=function(a){return this.hierarchyTableToJson(a)},Tree.prototype.layout=function(){var c,d,a=this.defaults,b=d3.layout.tree().size([a.width,a.height]);this.nodesData=b.nodes(this.source),c=0,d=0,this.nodesData.forEach(function(a){a.depth>c&&(c=a.depth)}),this.nodesData.forEach(function(a){a.origDepth=a.depth,a.depth-=Math.max(0,c-5)}),c=Math.min(5,c),this.treeDepth=c,a.deep=a.height/(c+1),this.nodesData.forEach(function(b){b.y=3*a.radius+b.depth*a.deep,b.id=d,d++})},Tree.prototype.getColor=function(){var b,a=DataV.getColor();return b=a.length>1&&a[0].length>1?[a[0][0],a[1][0]]:a[0],DataV.gradientColor(b,"special")},Tree.prototype.createCanvas=function(){var b,c,a=this.defaults;this.canvas=new Raphael(this.container,a.width,a.height),this.canvasF=document.getElementById(this.container),canvasStyle=this.canvasF.style,canvasStyle.position="relative",this.floatTag=DataV.FloatTag()(this.canvasF),this.floatTag.css({visibility:"hidden"}),this.DOMNode=$(this.canvas.canvas),b=this,this.DOMNode.click(function(a){b.emitter.trigger("click",a)}),this.DOMNode.dblclick(function(a){b.emitter.trigger("dblclick",a)}),c=document.all?"mousewheel":"DOMMouseScroll",this.DOMNode.bind(c,function(a){b.emitter.trigger("mousewheel",a)}),this.DOMNode.bind("contextmenu",function(a){b.emitter.trigger("contextmenu",a)}),this.DOMNode.delegate("circle","click",function(a){b.emitter.trigger("circle_click",a)}),this.DOMNode.delegate("circle","mouseover",function(a){b.emitter.trigger("circle_mouseover",a)}),this.DOMNode.delegate("circle","mouseout",function(a){b.emitter.trigger("circle_mouseout",a)})},Tree.prototype.zoom=function(a){var c,b=2;null!==a&&(b=a),c=this.defaults,c.width=c.width*b,c.height<=this.treeDepth*c.deep&&(c.height=c.height*b),this.canvas.setSize(c.width,c.height),this.canvas.setViewBox(0,0,c.width,800),this.defaults=c,this.render()},Tree.prototype.getLinkPath=function(a,b,c,d){var e=this.defaults,f=a,g=b+(d-b)/2,h=c,i=d-(d-b)/2,j=[["M",a,b+e.radius],["C",f,g,h,i,c,d-e.radius]];return j},Tree.prototype.generatePaths=function(){var c,d,e,h,i,k,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,a=this.canvas;for(this.source,c=this.defaults,d=c.radius,e=this.getColor(),h=this.treeDepth,i=this.nodesData,k=this.addlink,n=a.set(),o=[],p=[],q=this,r=function(){q.update(this.data("num"))},$("#"+this.container).append(this.floatTag),s=0,t=i.length;t>s;s++)if(u=i[s],!(u.depth<0)){if(v=u.value.split(","),u.lit="1"==v[0],u.new="1"==v[1],0==u.depth){if(!u.lit)continue;delete u.parent}if(u.new&&(u.draw=!0),w=u.parent,k[u.num])for(x=0,z=k[u.num].child.length;z>x;x++)for(y=0;t>y;y++)i[y].num===k[u.num].child[x]&&(k[u.num].pnode[x]=y,k[u.num].path[x]=a.path().attr({stroke:"#939598","stroke-width":u.lit?2:.5}));w&&u.draw?(A=w.x,B=w.y):(A=u.x,B=u.y),C=null,w&&(C=a.path().attr({stroke:"#939598","stroke-width":u.lit?2:.5}),o.push(C)),D=a.circle(A,B,d).attr({fill:u.lit?e(1.5*u.origDepth):"#999",stroke:"#ffffff","stroke-width":1,"fill-opacity":.4,data:12}).data("num",s),w&&u.draw?D.animate({cx:u.x,cy:u.y},500,"backOut"):w&&D.animate({cx:u.x,cy:u.y},0,"linear"),n.push(D),u.order=n.items.length,(u.children||u._children)&&n.items.rear().click(r),u._children&&n.items.rear().attr({stroke:e(u.depth/h),"stroke-width":d,"stroke-opacity":.4,"fill-opacity":1,r:d/2}),u.children?p.push(a.text(u.x,u.y-d-7,u.name).attr({"font-size":12})):p.push(a.text(u.x,u.y+d+7,u.name).attr({"font-size":12}))}E=this.floatTag,n.forEach(function(a,b){var d,e,f,c=a.data("num");$(a.node).attr("value",i[c].value),d=p[b].attr("y"),e=a.attr("r"),f=a.attr("stroke-width"),a.mouseover(function(){var a,f,g,h,j;for(i[c]._children?this.animate({r:e+2,"stroke-opacity":.75},100):this.animate({r:e+2,"fill-opacity":.75},100),p[b].attr({"font-size":20}),b>0&&(i[c].children?p[b].animate({y:d-12},100,"backOut"):p[b].animate({y:d+12},100,"backOut")),a=function(b,c){var d=b.parent;d&&(o[b.order-2].attr({"stroke-width":4,"stroke-opacity":c}),c>.5&&(c-=.1),a(d,c))},a(i[c],.9),f=i[c].parent,g=0,h=p.length;h>g;g++)j=i[c].parent,j===f&&g!==i[c].order-1&&p[g].animate({"fill-opacity":.4});E.html('<div style = "text-align: center;margin:auto;color:#ffffff">'+i[c].name+"</div>"),E.css({visibility:"visible"})}).mouseout(function(){var a,g,h,j,k;for(E.css({visibility:"hidden"}),i[c]._children?this.animate({r:e,"stroke-width":f,"stroke-opacity":.4},100):this.animate({r:e,"fill-opacity":.4},100),p[b].attr({"font-size":12}),p[b].animate({y:d},100,"backOut"),a=function(b){var c=b.parent;c&&(o[b.order-2].attr({"stroke-width":b.lit?2:.5,"stroke-opacity":1}),a(c))},a(i[c]),g=i[c].parent,h=0,j=p.length;j>h;h++)k=i[c].parent,k===g&&h!==i[c].order-1&&p[h].animate({"fill-opacity":1})})}),n.onAnimation(function(){var b,c,d,e,f,g,h,j,l,m,p,r,a=0;for(b=1,c=n.length;c>b;b++)if(d=n[b],e=d.data("num"),f=i[e],g=f.parent,o[a].attr({path:q.getLinkPath(g.x,g.y,d.attr("cx"),d.attr("cy"))}),a++,k[f.num])for(h=0,l=k[f.num].child.length;l>h;h++)for(j=0,m=i.length;m>j;j++)p=i[n[j].attr("orig")],p.num===k[f.num].child[h]&&(r=q.getLinkPath(p.x,p.y,d.attr("cx"),d.attr("cy")),k[f.num].path[h].attr({path:r}))}),this.nodes=n,this.path=o,this.textpath=p},Tree.prototype.update=function(a){var b=this.source,c=this.defaults;b.children.forEach(function d(a){a.draw=!1,a.children&&a.children.forEach(d)}),b.children.forEach(function e(b){b.id===a?b.children?(b._children=b.children,b.children=null):(b.children=b._children,b.children&&b.children.forEach(function c(a){a.draw=!0,a.children&&a.children.forEach(c)
}),b._children=null):b.children&&b.children.forEach(e)}),this.source=b,this.source.x0=c.width/2,this.source.y0=2*c.radius,this.render()},Tree.prototype.render=function(a){if(!this.container)throw new Error("Please specify which node to render.");this.canvas.clear(),this.setOptions(a),this.canvas.setSize(this.defaults.width,this.defaults.height),this.layout(),this.generatePaths()},Tree.prototype.append=function(a){var c,d,b=this.rawData;for(c=0;c<b.length;c++)d=b[c],"1"==d[5]&&(d[5]="0");a.length<6?a.push("1"):a[5]="1",b.push(a),this.setSource(b)};$("#loading-text").text("Loading editor...");