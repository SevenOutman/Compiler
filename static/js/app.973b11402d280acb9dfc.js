webpackJsonp([2,0],[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var i=n(9),o=r(i),a=n(122),s=r(a),l=n(46),u=r(l);new o["default"]({el:"#loading-mask",store:u["default"],render:function(t){return t(s["default"])}})},function(t,e,n){var r,i,o;(function(t){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(77),l=a(s),u=n(6),c=a(u);!function(n){return"object"!=(0,c["default"])(e)||"object"!=(0,c["default"])(t)?(i=[],r=n,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o))):void(t.exports=n())}(function(){function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r?Bi(r):{},Bi(ta,r,!1),g(r);var i=r.value;"string"==typeof i&&(i=new ka(i,r.mode,null,r.lineSeparator)),this.doc=i;var o=new t.inputStyles[r.inputStyle](this),a=this.display=new e(n,i,o);a.wrapper.CodeMirror=this,f(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!Lo&&a.input.focus(),b(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Ei,keySeq:null,specialChars:null};var l=this;xo&&wo<11&&setTimeout(function(){l.display.input.reset(!0)},20),$e(this),Ki(),we(this),this.curOp.forceUpdate=!0,Jr(this,i),r.autofocus&&!Lo||l.hasFocus()?setTimeout(Wi(yn,this),20):bn(this);for(var u in ea)ea.hasOwnProperty(u)&&ea[u](this,r[u],na);k(this),r.finishInit&&r.finishInit(this);for(var c=0;c<aa.length;++c)aa[c](this);Ce(this),_o&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function e(t,e,n){var r=this;this.input=n,r.scrollbarFiller=$i("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=$i("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=$i("div",null,"CodeMirror-code"),r.selectionDiv=$i("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=$i("div",null,"CodeMirror-cursors"),r.measure=$i("div",null,"CodeMirror-measure"),r.lineMeasure=$i("div",null,"CodeMirror-measure"),r.lineSpace=$i("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=$i("div",[$i("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=$i("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=$i("div",null,null,"position: absolute; height: "+za+"px; width: 1px;"),r.gutters=$i("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=$i("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=$i("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),xo&&wo<8&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),_o||vo&&Lo||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,n.init(r)}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,It(t,100),t.state.modeGen++,t.curOp&&Re(t)}function i(t){t.options.lineWrapping?(Za(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Ja(t.display.wrapper,"CodeMirror-wrap"),p(t)),a(t),Re(t),le(t),setTimeout(function(){x(t)},100)}function o(t){var e=be(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/xe(t.display)-3);return function(i){if(Cr(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function a(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&ei(t,e)})}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),le(t)}function u(t){f(t),Re(t),setTimeout(function(){C(t)},20)}function f(t){var e=t.display.gutters,n=t.options.gutters;qi(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild($i("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",h(t)}function h(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function d(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=mr(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=vr(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function p(t){var e=t.display,n=t.doc;e.maxLine=Zr(n,n.first),e.maxLineLength=d(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=d(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function g(t){var e=Fi(t.gutters,"CodeMirror-linenumbers");e==-1&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function m(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Vt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Xt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}function v(t,e,n){this.cm=n;var r=this.vert=$i("div",[$i("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=$i("div",[$i("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(i),La(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),La(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,xo&&wo<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function y(){}function b(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Ja(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),La(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,n){"horizontal"==n?an(e,t):on(e,t)},e),e.display.scrollbars.addClass&&Za(e.display.wrapper,e.display.scrollbars.addClass)}function x(t,e){e||(e=m(t));var n=t.display.barWidth,r=t.display.barHeight;w(t,e);for(var i=0;i<4&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&O(t),w(t,m(t)),n=t.display.barWidth,r=t.display.barHeight}function w(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function _(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-qt(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=ri(e,r),a=ri(e,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?(o=s,a=ri(e,ii(Zr(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(o=ri(e,ii(Zr(e,l))-t.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function C(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=T(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function k(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=S(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild($i("div",[$i("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a)+1,r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",h(t),!0}return!1}function S(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function T(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function M(t,e,n){var r=t.display;this.viewport=e,this.visible=_(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Gt(t),this.force=n,this.dims=z(t),this.events=[]}function N(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Xt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Xt(t)+"px",e.scrollbarsClipped=!0)}function A(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return Be(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==je(t))return!1;k(t)&&(Be(t),e.dims=z(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),Po&&(o=wr(t.doc,o),a=_r(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;He(t,o,a),n.viewOffset=ii(Zr(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var l=je(t);if(!s&&0==l&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var u=Ui();return l>4&&(n.lineDiv.style.display="none"),R(t,n.updateLineNumbers,e.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,u&&Ui()!=u&&u.offsetHeight&&u.focus(),qi(n.cursorDiv),qi(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,It(t,400)),n.updateLineNumbers=null,!0}function L(t,e){for(var n=e.viewport,r=!0;(r&&t.options.lineWrapping&&e.oldDisplayWidth!=Gt(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+Vt(t.display)-Yt(t),n.top)}),e.visible=_(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&A(t,e);r=!1){O(t);var i=m(t);zt(t),D(t,i),x(t,i)}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function E(t,e){var n=new M(t,e);if(A(t,n)){O(t),L(t,n);var r=m(t);zt(t),D(t,r),x(t,r),n.finish()}}function D(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var n=e.docHeight+t.display.barHeight;t.display.heightForcer.style.top=n+"px",t.display.gutters.style.height=Math.max(n+Xt(t),e.clientHeight)+"px"}function O(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i,o=e.view[r];if(!o.hidden){if(xo&&wo<8){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var l=o.line.height-i;if(i<2&&(i=be(e)),(l>.001||l<-.001)&&(ei(o.line,i),F(o.line),o.rest))for(var u=0;u<o.rest.length;u++)F(o.rest[u])}}}function F(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function z(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:T(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function R(t,e,n){function r(e){var n=e.nextSibling;return _o&&Eo&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,s=a.firstChild,l=i.view,u=i.viewFrom,c=0;c<l.length;c++){var f=l[c];if(f.hidden);else if(f.node&&f.node.parentNode==a){for(;s!=f.node;)s=r(s);var h=o&&null!=e&&e<=u&&f.lineNumber;f.changes&&(Fi(f.changes,"gutter")>-1&&(h=!1),P(t,f,u,n)),h&&(qi(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(S(t.options,u)))),s=f.node.nextSibling}else{var d=V(t,f,u,n);a.insertBefore(d,s)}u+=f.size}for(;s;)s=r(s)}function P(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?H(t,e):"gutter"==o?$(t,e,n,r):"class"==o?j(e):"widget"==o&&q(t,e,r)}e.changes=null}function B(t){return t.node==t.text&&(t.node=$i("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),xo&&wo<8&&(t.node.style.zIndex=2)),t.node}function W(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=B(t);t.background=n.insertBefore($i("div",null,e),n.firstChild)}}function I(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Wr(t,e)}function H(t,e){var n=e.text.className,r=I(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,j(e)):n&&(e.text.className=n)}function j(t){W(t),t.line.wrapClass?B(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function $(t,e,n,r){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var i=B(e);e.gutterBackground=$i("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),i.insertBefore(e.gutterBackground,e.text)}var o=e.line.gutterMarkers;if(t.options.lineNumbers||o){var i=B(e),a=e.gutter=$i("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(t.display.input.setUneditable(a),i.insertBefore(a,e.text),e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild($i("div",S(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<t.options.gutters.length;++s){var l=t.options.gutters[s],u=o.hasOwnProperty(l)&&o[l];u&&a.appendChild($i("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function q(t,e,n){e.alignable&&(e.alignable=null);for(var r,i=e.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&e.node.removeChild(i)}U(t,e,n)}function V(t,e,n,r){var i=I(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),j(e),$(t,e,n,r),U(t,e,r),e.node}function U(t,e,n){if(X(t,e.line,e,n,!0),e.rest)for(var r=0;r<e.rest.length;r++)X(t,e.rest[r],e,n,!1)}function X(t,e,n,r,i){if(e.widgets)for(var o=B(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],u=$i("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),G(l,u,n,r),t.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,n.gutter||n.text):o.appendChild(u),Si(l,"redraw")}}function G(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function Y(t){return Bo(t.line,t.ch)}function K(t,e){return Wo(t,e)<0?e:t}function J(t,e){return Wo(t,e)<0?t:e}function Z(t){t.state.focused||(t.display.input.focus(),yn(t))}function Q(t){return t.options.readOnly||t.doc.cantEdit}function tt(t,e,n,r,i){var o=t.doc;t.display.shift=!1,r||(r=o.sel);var a=t.state.pasteIncoming||"paste"==i,s=o.splitLines(e),l=null;if(a&&r.ranges.length>1)if(Io&&Io.join("\n")==e){if(r.ranges.length%Io.length==0){l=[];for(var u=0;u<Io.length;u++)l.push(o.splitLines(Io[u]))}}else s.length==r.ranges.length&&(l=zi(s,function(t){return[t]}));for(var u=r.ranges.length-1;u>=0;u--){var c=r.ranges[u],f=c.from(),h=c.to();c.empty()&&(n&&n>0?f=Bo(f.line,f.ch-n):t.state.overwrite&&!a&&(h=Bo(h.line,Math.min(Zr(o,h.line).text.length,h.ch+Oi(s).length))));var d=t.curOp.updateInput,p={from:f,to:h,text:l?l[u%l.length]:s,origin:i||(a?"paste":t.state.cutIncoming?"cut":"+input")};Mn(t.doc,p),Si(t,"inputRead",t,p)}e&&!a&&nt(t,e),Wn(t),t.curOp.updateInput=d,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function et(t,e){var n=t.clipboardData&&t.clipboardData.getData("text/plain");if(n)return t.preventDefault(),Q(e)||e.options.disableInput||Le(e,function(){tt(e,n,0,null,"paste")}),!0}function nt(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,r=n.ranges.length-1;r>=0;r--){var i=n.ranges[r];if(!(i.head.ch>100||r&&n.ranges[r-1].head.line==i.head.line)){var o=t.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(e.indexOf(o.electricChars.charAt(s))>-1){a=Hn(t,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Zr(t.doc,i.head.line).text.slice(0,i.head.ch))&&(a=Hn(t,i.head.line,"smart"));a&&Si(t,"electricInput",t,i.head.line)}}}function rt(t){for(var e=[],n=[],r=0;r<t.doc.sel.ranges.length;r++){var i=t.doc.sel.ranges[r].head.line,o={anchor:Bo(i,0),head:Bo(i+1,0)};n.push(o),e.push(t.getRange(o.anchor,o.head))}return{text:e,ranges:n}}function it(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function ot(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Ei,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function at(){var t=$i("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=$i("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _o?t.style.width="1000px":t.setAttribute("wrap","off"),Ao&&(t.style.border="1px solid black"),it(t),e}function st(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ei,this.gracePeriod=!1}function lt(t,e){var n=te(t,e.line);if(!n||n.hidden)return null;var r=Zr(t.doc,e.line),i=Jt(n,r,e.line),o=oi(r),a="left";if(o){var s=co(o,e.ch);a=s%2?"right":"left"}var l=re(i.map,e.ch,a);return l.offset="right"==l.collapse?l.end:l.start,l}function ut(t,e){return e&&(t.bad=!0),t}function ct(t,e,n){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[n],!r)return ut(t.clipPos(Bo(t.display.viewTo-1)),!0);e=null,n=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var i=0;i<t.display.view.length;i++){var o=t.display.view[i];if(o.node==r)return ft(o,e,n)}}function ft(t,e,n){function r(e,n,r){for(var i=-1;i<(c?c.length:0);i++)for(var o=i<0?u.map:c[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==e||s==n){var l=ni(i<0?t.line:t.rest[i]),f=o[a]+r;return(r<0||s!=e)&&(f=o[a+(r?1:0)]),Bo(l,f)}}}var i=t.text.firstChild,o=!1;if(!e||!Ga(i,e))return ut(Bo(ni(t.line),0),!0);if(e==i&&(o=!0,e=i.childNodes[n],n=0,!e)){var a=t.rest?Oi(t.rest):t.line;return ut(Bo(ni(a),a.text.length),o)}var s=3==e.nodeType?e:null,l=e;for(s||1!=e.childNodes.length||3!=e.firstChild.nodeType||(s=e.firstChild,n&&(n=s.nodeValue.length));l.parentNode!=i;)l=l.parentNode;var u=t.measure,c=u.maps,f=r(s,l,n);if(f)return ut(f,o);for(var h=l.nextSibling,d=s?s.nodeValue.length-n:0;h;h=h.nextSibling){if(f=r(h,h.firstChild,0))return ut(Bo(f.line,f.ch-d),o);d+=h.textContent.length}for(var p=l.previousSibling,d=n;p;p=p.previousSibling){if(f=r(p,p.firstChild,-1))return ut(Bo(f.line,f.ch+d),o);d+=h.textContent.length}}function ht(t,e,n,r,i){function o(t){return function(e){return e.id==t}}function a(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(null!=n)return""==n&&(n=e.textContent.replace(/\u200b/g,"")),void(s+=n);var c,f=e.getAttribute("cm-marker");if(f){var h=t.findMarks(Bo(r,0),Bo(i+1,0),o(+f));return void(h.length&&(c=h[0].find())&&(s+=Qr(t.doc,c.from,c.to).join(u)))}if("false"==e.getAttribute("contenteditable"))return;for(var d=0;d<e.childNodes.length;d++)a(e.childNodes[d]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var p=e.nodeValue;if(!p)return;l&&(s+=u,l=!1),s+=p}}for(var s="",l=!1,u=t.doc.lineSeparator();a(e),e!=n;)e=e.nextSibling;return s}function dt(t,e){this.ranges=t,this.primIndex=e}function pt(t,e){this.anchor=t,this.head=e}function gt(t,e){var n=t[e];t.sort(function(t,e){return Wo(t.from(),e.from())}),e=Fi(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(Wo(o.to(),i.from())>=0){var a=J(o.from(),i.from()),s=K(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;r<=e&&--e,t.splice(--r,2,new pt(l?s:a,l?a:s))}}return new dt(t,e)}function mt(t,e){return new dt([new pt(t,e||t)],0)}function vt(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function yt(t,e){if(e.line<t.first)return Bo(t.first,0);var n=t.first+t.size-1;return e.line>n?Bo(n,Zr(t,n).text.length):bt(e,Zr(t,e.line).text.length)}function bt(t,e){var n=t.ch;return null==n||n>e?Bo(t.line,e):n<0?Bo(t.line,0):t}function xt(t,e){return e>=t.first&&e<t.first+t.size}function wt(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=yt(t,e[r]);return n}function _t(t,e,n,r){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(r){var o=Wo(n,i)<0;o!=Wo(r,i)<0?(i=n,n=r):o!=Wo(n,r)<0&&(n=r)}return new pt(i,n)}return new pt(r||n,n)}function Ct(t,e,n,r){At(t,new dt([_t(t,t.sel.primary(),e,n)],0),r)}function kt(t,e,n){for(var r=[],i=0;i<t.sel.ranges.length;i++)r[i]=_t(t,t.sel.ranges[i],e[i],null);var o=gt(r,t.sel.primIndex);At(t,o,n)}function St(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,At(t,gt(i,t.sel.primIndex),r)}function Tt(t,e,n,r){At(t,mt(e,n),r)}function Mt(t,e){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new pt(yt(t,e[n].anchor),yt(t,e[n].head))}};return Oa(t,"beforeSelectionChange",t,n),t.cm&&Oa(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?gt(n.ranges,n.ranges.length-1):e}function Nt(t,e,n){var r=t.history.done,i=Oi(r);i&&i.ranges?(r[r.length-1]=e,Lt(t,e,n)):At(t,e,n)}function At(t,e,n){Lt(t,e,n),hi(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Lt(t,e,n){(Ai(t,"beforeSelectionChange")||t.cm&&Ai(t.cm,"beforeSelectionChange"))&&(e=Mt(t,e));var r=n&&n.bias||(Wo(e.primary().head,t.sel.primary().head)<0?-1:1);Et(t,Ot(t,e,r,!0)),n&&n.scroll===!1||!t.cm||Wn(t.cm)}function Et(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,Ni(t.cm)),Si(t,"cursorActivity",t))}function Dt(t){Et(t,Ot(t,t.sel,null,!1),Pa)}function Ot(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=Ft(t,a.anchor,n,r),l=Ft(t,a.head,n,r);(i||s!=a.anchor||l!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new pt(s,l))}return i?gt(i,e.primIndex):e}function Ft(t,e,n,r){var i=!1,o=e,a=n||1;t.cantEdit=!1;t:for(;;){var s=Zr(t,o.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var u=s.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=o.ch:u.from<o.ch))&&(null==u.to||(c.inclusiveRight?u.to>=o.ch:u.to>o.ch))){if(r&&(Oa(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!c.atomic)continue;var f=c.find(a<0?-1:1);if(0==Wo(f,o)&&(f.ch+=a,f.ch<0?f=f.line>t.first?yt(t,Bo(f.line-1)):null:f.ch>s.text.length&&(f=f.line<t.first+t.size-1?Bo(f.line+1,0):null),!f)){if(i)return r?(t.cantEdit=!0,Bo(t.first,0)):Ft(t,e,n,!0);i=!0,f=e,a=-a}o=f;continue t}}return o}}function zt(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Rt(t,e){for(var n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e!==!1||a!=n.sel.primIndex){var s=n.sel.ranges[a],l=s.empty();(l||t.options.showCursorWhenSelecting)&&Pt(t,s.head,i),l||Bt(t,s,o)}return r}function Pt(t,e,n){var r=pe(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild($i("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild($i("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Bt(t,e,n){function r(t,e,n,r){e<0&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild($i("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?c-t:n)+"px; height: "+(r-e)+"px"))}function i(e,n,i){function o(n,r){return de(t,Bo(e,n),"div",f,r)}var s,l,f=Zr(a,e),h=f.text.length;return eo(oi(f),n||0,null==i?h:i,function(t,e,a){var f,d,p,g=o(t,"left");if(t==e)f=g,d=p=g.left;else{if(f=o(e-1,"right"),"rtl"==a){var m=g;g=f,f=m}d=g.left,p=f.right}null==n&&0==t&&(d=u),f.top-g.top>3&&(r(d,g.top,null,g.bottom),d=u,g.bottom<f.top&&r(d,g.bottom,null,f.top)),null==i&&e==h&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),d<u+1&&(d=u),r(d,f.top,p-d,f.bottom)}),{start:s,end:l}}var o=t.display,a=t.doc,s=document.createDocumentFragment(),l=Ut(t.display),u=l.left,c=Math.max(o.sizerWidth,Gt(t)-o.sizer.offsetLeft)-l.right,f=e.from(),h=e.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var d=Zr(a,f.line),p=Zr(a,h.line),g=br(d)==br(p),m=i(f.line,f.ch,g?d.text.length+1:null).end,v=i(h.line,g?0:null,h.ch).start;g&&(m.top<v.top-2?(r(m.right,m.top,null,m.bottom),r(u,v.top,v.left,v.bottom)):r(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&r(u,m.bottom,null,v.top)}n.appendChild(s)}function Wt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function It(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,Wi(Ht,t))}function Ht(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=la(e.mode,$t(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,s=o.text.length>t.options.maxHighlightLength,l=zr(t,o,s?la(e.mode,r):r,!0);o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<a.length;++h)f=a[h]!=o.styles[h];f&&i.push(e.frontier),o.stateAfter=s?r:la(e.mode,r)}else o.text.length<=t.options.maxHighlightLength&&Pr(t,o.text,r),o.stateAfter=e.frontier%5==0?la(e.mode,r):null;if(++e.frontier,+new Date>n)return It(t,t.options.workDelay),!0}),i.length&&Le(t,function(){for(var e=0;e<i.length;e++)Pe(t,i[e],"text")})}}function jt(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var l=Zr(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var u=Ia(l.text,null,t.options.tabSize);(null==i||r>u)&&(i=s-1,r=u)}return i}function $t(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=jt(t,e,n),a=o>r.first&&Zr(r,o-1).stateAfter;return a=a?la(r.mode,a):ua(r.mode),r.iter(o,e,function(n){Pr(t,n.text,a);var s=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?la(r.mode,a):null,++o}),n&&(r.frontier=o),a}function qt(t){return t.lineSpace.offsetTop}function Vt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Ut(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Vi(t.measure,$i("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Xt(t){return za-t.display.nativeBarWidth}function Gt(t){return t.display.scroller.clientWidth-Xt(t)-t.display.barWidth}function Yt(t){return t.display.scroller.clientHeight-Xt(t)-t.display.barHeight}function Kt(t,e,n){var r=t.options.lineWrapping,i=r&&Gt(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Jt(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if(ni(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Zt(t,e){e=br(e);var n=ni(e),r=t.display.externalMeasured=new Fe(t.doc,e,n);r.lineN=n;var i=r.built=Wr(t,r);return r.text=i.pre,Vi(t.display.lineMeasure,i.pre),r}function Qt(t,e,n,r){return ne(t,ee(t,e),n,r)}function te(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[We(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function ee(t,e){var n=ni(e),r=te(t,n);r&&!r.text?r=null:r&&r.changes&&(P(t,r,n,z(t)),t.curOp.forceUpdate=!0),r||(r=Zt(t,e));var i=Jt(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function ne(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(Kt(t,e.view,e.rect),e.hasHeights=!0),o=ie(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function re(t,e,n){for(var r,i,o,a,s=0;s<t.length;s+=3){var l=t[s],u=t[s+1];if(e<l?(i=0,o=1,a="left"):e<u?(i=e-l,o=i+1):(s==t.length-3||e==u&&t[s+3]>e)&&(o=u-l,i=o-1,e>=u&&(a="right")),null!=i){if(r=t[s+2],l==u&&n==(r.insertLeft?"left":"right")&&(a=n),"left"==n&&0==i)for(;s&&t[s-2]==t[s-3]&&t[s-1].insertLeft;)r=t[(s-=3)+2],a="left";if("right"==n&&i==u-l)for(;s<t.length-3&&t[s+3]==t[s+4]&&!t[s+5].insertLeft;)r=t[(s+=3)+2],
a="right";break}}return{node:r,start:i,end:o,collapse:a,coverStart:l,coverEnd:u}}function ie(t,e,n,r){var i,o=re(e.map,n,r),a=o.node,s=o.start,l=o.end,u=o.collapse;if(3==a.nodeType){for(var c=0;c<4;c++){for(;s&&ji(e.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&ji(e.line.text.charAt(o.coverStart+l));)++l;if(xo&&wo<9&&0==s&&l==o.coverEnd-o.coverStart)i=a.parentNode.getBoundingClientRect();else if(xo&&t.options.lineWrapping){var f=qa(a,s,l).getClientRects();i=f.length?f["right"==r?f.length-1:0]:qo}else i=qa(a,s,l).getBoundingClientRect()||qo;if(i.left||i.right||0==s)break;l=s,s-=1,u="right"}xo&&wo<11&&(i=oe(t.display.measure,i))}else{s>0&&(u=r="right");var f;i=t.options.lineWrapping&&(f=a.getClientRects()).length>1?f["right"==r?f.length-1:0]:a.getBoundingClientRect()}if(xo&&wo<9&&!s&&(!i||!i.left&&!i.right)){var h=a.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+xe(t.display),top:h.top,bottom:h.bottom}:qo}for(var d=i.top-e.rect.top,p=i.bottom-e.rect.top,g=(d+p)/2,m=e.view.measure.heights,c=0;c<m.length-1&&!(g<m[c]);c++);var v=c?m[c-1]:0,y=m[c],b={left:("right"==u?i.right:i.left)-e.rect.left,right:("left"==u?i.left:i.right)-e.rect.left,top:v,bottom:y};return i.left||i.right||(b.bogus=!0),t.options.singleCursorHeightPerLine||(b.rtop=d,b.rbottom=p),b}function oe(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!to(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function ae(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function se(t){t.display.externalMeasure=null,qi(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ae(t.display.view[e])}function le(t){se(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function ue(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ce(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function fe(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=Tr(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=ii(e);if("local"==r?a+=qt(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:ce());var l=s.left+("window"==r?0:ue());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function he(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=ue(),i-=ce();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function de(t,e,n,r,i){return r||(r=Zr(t.doc,e.line)),fe(t,r,Qt(t,r,e.ch,i),n)}function pe(t,e,n,r,i,o){function a(e,a){var s=ne(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,fe(t,r,s,n)}function s(t,e){var n=l[e],r=n.level%2;return t==no(n)&&e&&n.level<l[e-1].level?(n=l[--e],t=ro(n)-(n.level%2?0:1),r=!0):t==ro(n)&&e<l.length-1&&n.level<l[e+1].level&&(n=l[++e],t=no(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?a(t-1):a(t,r)}r=r||Zr(t.doc,e.line),i||(i=ee(t,r));var l=oi(r),u=e.ch;if(!l)return a(u);var c=co(l,u),f=s(u,c);return null!=as&&(f.other=s(u,as)),f}function ge(t,e){var n=0,e=yt(t.doc,e);t.options.lineWrapping||(n=xe(t.display)*e.ch);var r=Zr(t.doc,e.line),i=ii(r)+qt(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function me(t,e,n,r){var i=Bo(t,e);return i.xRel=r,n&&(i.outside=!0),i}function ve(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,n<0)return me(r.first,0,!0,-1);var i=ri(r,n),o=r.first+r.size-1;if(i>o)return me(r.first+r.size-1,Zr(r,o).text.length,!0,1);e<0&&(e=0);for(var a=Zr(r,i);;){var s=ye(t,a,i,e,n),l=vr(a),u=l&&l.find(0,!0);if(!l||!(s.ch>u.from.ch||s.ch==u.from.ch&&s.xRel>0))return s;i=ni(a=u.to.line)}}function ye(t,e,n,r,i){function o(r){var i=pe(t,Bo(n,r),"line",e,u);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-ii(e),s=!1,l=2*t.display.wrapper.clientWidth,u=ee(t,e),c=oi(e),f=e.text.length,h=io(e),d=oo(e),p=o(h),g=s,m=o(d),v=s;if(r>m)return me(n,d,v,1);for(;;){if(c?d==h||d==ho(e,h,1):d-h<=1){for(var y=r<p||r-p<=m-r?h:d,b=r-(y==h?p:m);ji(e.text.charAt(y));)++y;var x=me(n,y,y==h?g:v,b<-1?-1:b>1?1:0);return x}var w=Math.ceil(f/2),_=h+w;if(c){_=h;for(var C=0;C<w;++C)_=ho(e,_,1)}var k=o(_);k>r?(d=_,m=k,(v=s)&&(m+=1e3),f=w):(h=_,p=k,g=s,f-=w)}}function be(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ho){Ho=$i("pre");for(var e=0;e<49;++e)Ho.appendChild(document.createTextNode("x")),Ho.appendChild($i("br"));Ho.appendChild(document.createTextNode("x"))}Vi(t.measure,Ho);var n=Ho.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),qi(t.measure),n||1}function xe(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=$i("span","xxxxxxxxxx"),n=$i("pre",[e]);Vi(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function we(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uo},Vo?Vo.ops.push(t.curOp):t.curOp.ownsGroup=Vo={ops:[t.curOp],delayedCallbacks:[]}}function _e(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(n<e.length)}function Ce(t){var e=t.curOp,n=e.ownsGroup;if(n)try{_e(n)}finally{Vo=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;ke(n)}}function ke(t){for(var e=t.ops,n=0;n<e.length;n++)Se(e[n]);for(var n=0;n<e.length;n++)Te(e[n]);for(var n=0;n<e.length;n++)Me(e[n]);for(var n=0;n<e.length;n++)Ne(e[n]);for(var n=0;n<e.length;n++)Ae(e[n])}function Se(t){var e=t.cm,n=e.display;N(e),t.updateMaxLine&&p(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new M(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Te(t){t.updatedDisplay=t.mustUpdate&&A(t.cm,t.update)}function Me(t){var e=t.cm,n=e.display;t.updatedDisplay&&O(e),t.barMeasure=m(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Qt(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Xt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Gt(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function Ne(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&an(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.preparedSelection&&e.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&D(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&x(e,t.barMeasure),t.selectionChanged&&Wt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),!t.focus||t.focus!=Ui()||document.hasFocus&&!document.hasFocus()||Z(t.cm)}function Ae(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&L(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Gt(e),t.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,C(e)),t.scrollToPos){var i=zn(e,yt(r,t.scrollToPos.from),yt(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Fn(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Oa(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&Oa(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&Oa(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Le(t,e){if(t.curOp)return e();we(t);try{return e()}finally{Ce(t)}}function Ee(t,e){return function(){if(t.curOp)return e.apply(t,arguments);we(t);try{return e.apply(t,arguments)}finally{Ce(t)}}}function De(t){return function(){if(this.curOp)return t.apply(this,arguments);we(this);try{return t.apply(this,arguments)}finally{Ce(this)}}}function Oe(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);we(e);try{return t.apply(this,arguments)}finally{Ce(e)}}}function Fe(t,e,n){this.line=e,this.rest=xr(e),this.size=this.rest?ni(Oi(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Cr(t,e)}function ze(t,e,n){for(var r,i=[],o=e;o<n;o=r){var a=new Fe(t.doc,Zr(t.doc,o),o);r=o+a.size,i.push(a)}return i}function Re(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)Po&&wr(t.doc,e)<i.viewTo&&Be(t);else if(n<=i.viewFrom)Po&&_r(t.doc,n+r)>i.viewFrom?Be(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)Be(t);else if(e<=i.viewFrom){var o=Ie(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):Be(t)}else if(n>=i.viewTo){var o=Ie(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):Be(t)}else{var a=Ie(t,e,e,-1),s=Ie(t,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(ze(t,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):Be(t)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:e<l.lineN+l.size&&(i.externalMeasured=null))}function Pe(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[We(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);Fi(a,n)==-1&&a.push(n)}}}function Be(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function We(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,e<0)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,e<0)return r}function Ie(t,e,n,r){var i,o=We(t,e),a=t.display.view;if(!Po||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=0,l=t.display.viewFrom;s<o;s++)l+=a[s].size;if(l!=e){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-e,o++}else i=l-e;e+=i,n+=i}for(;wr(t.doc,n)!=n;){if(o==(r<0?0:a.length-1))return null;n+=r*a[o-(r<0?1:0)].size,o+=r}return{index:o,lineN:n}}function He(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=ze(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=ze(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(We(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(ze(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,We(t,n)))),r.viewTo=n}function je(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function $e(t){function e(){i.activeTouch&&(o=setTimeout(function(){i.activeTouch=null},1e3),a=i.activeTouch,a.end=+new Date)}function n(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var n=e.left-t.left,r=e.top-t.top;return n*n+r*r>400}var i=t.display;La(i.scroller,"mousedown",Ee(t,Ge)),xo&&wo<11?La(i.scroller,"dblclick",Ee(t,function(e){if(!Mi(t,e)){var n=Xe(t,e);if(n&&!Qe(t,e)&&!Ue(t.display,e)){Ma(e);var r=t.findWordAt(n);Ct(t.doc,r.anchor,r.head)}}})):La(i.scroller,"dblclick",function(e){Mi(t,e)||Ma(e)}),zo||La(i.scroller,"contextmenu",function(e){xn(t,e)});var o,a={end:0};La(i.scroller,"touchstart",function(t){if(!n(t)){clearTimeout(o);var e=+new Date;i.activeTouch={start:e,moved:!1,prev:e-a.end<=300?a:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),La(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),La(i.scroller,"touchend",function(n){var o=i.activeTouch;if(o&&!Ue(i,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=t.coordsChar(i.activeTouch,"page");a=!o.prev||r(o,o.prev)?new pt(s,s):!o.prev.prev||r(o,o.prev.prev)?t.findWordAt(s):new pt(Bo(s.line,0),yt(t.doc,Bo(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),Ma(n)}e()}),La(i.scroller,"touchcancel",e),La(i.scroller,"scroll",function(){i.scroller.clientHeight&&(on(t,i.scroller.scrollTop),an(t,i.scroller.scrollLeft,!0),Oa(t,"scroll",t))}),La(i.scroller,"mousewheel",function(e){sn(t,e)}),La(i.scroller,"DOMMouseScroll",function(e){sn(t,e)}),La(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(e){Mi(t,e)||Aa(e)},over:function(e){Mi(t,e)||(nn(t,e),Aa(e))},start:function(e){en(t,e)},drop:Ee(t,tn),leave:function(){rn(t)}};var s=i.input.getField();La(s,"keyup",function(e){gn.call(t,e)}),La(s,"keydown",Ee(t,dn)),La(s,"keypress",Ee(t,mn)),La(s,"focus",Wi(yn,t)),La(s,"blur",Wi(bn,t))}function qe(e,n,r){var i=r&&r!=t.Init;if(!n!=!i){var o=e.display.dragFunctions,a=n?La:Da;a(e.display.scroller,"dragstart",o.start),a(e.display.scroller,"dragenter",o.enter),a(e.display.scroller,"dragover",o.over),a(e.display.scroller,"dragleave",o.leave),a(e.display.scroller,"drop",o.drop)}}function Ve(t){var e=t.display;e.lastWrapHeight==e.wrapper.clientHeight&&e.lastWrapWidth==e.wrapper.clientWidth||(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Ue(t,e){for(var n=_i(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Xe(t,e,n,r){var i=t.display;if(!n&&"true"==_i(e).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=ve(t,o,a);if(r&&1==u.xRel&&(l=Zr(t.doc,u.line).text).length==u.ch){var c=Ia(l,l.length,t.options.tabSize)-l.length;u=Bo(u.line,Math.max(0,Math.round((o-Ut(t.display).left)/xe(t.display))-c))}return u}function Ge(t){var e=this,n=e.display;if(!(n.activeTouch&&n.input.supportsTouch()||Mi(e,t))){if(n.shift=t.shiftKey,Ue(n,t))return void(_o||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Qe(e,t)){var r=Xe(e,t);switch(window.focus(),Ci(t)){case 1:e.state.selectingText?e.state.selectingText(t):r?Ye(e,t,r):_i(t)==n.scroller&&Ma(t);break;case 2:_o&&(e.state.lastMiddleDown=+new Date),r&&Ct(e.doc,r),setTimeout(function(){n.input.focus()},20),Ma(t);break;case 3:zo?xn(e,t):vn(e)}}}}function Ye(t,e,n){xo?setTimeout(Wi(Z,t),0):t.curOp.focus=Ui();var r,i=+new Date;$o&&$o.time>i-400&&0==Wo($o.pos,n)?r="triple":jo&&jo.time>i-400&&0==Wo(jo.pos,n)?(r="double",$o={time:i,pos:n}):(r="single",jo={time:i,pos:n});var o,a=t.doc.sel,s=Eo?e.metaKey:e.ctrlKey;t.options.dragDrop&&ts&&!Q(t)&&"single"==r&&(o=a.contains(n))>-1&&(Wo((o=a.ranges[o]).from(),n)<0||n.xRel>0)&&(Wo(o.to(),n)>0||n.xRel<0)?Ke(t,e,n,s):Je(t,e,n,r,s)}function Ke(t,e,n,r){var i=t.display,o=+new Date,a=Ee(t,function(s){_o&&(i.scroller.draggable=!1),t.state.draggingText=!1,Da(document,"mouseup",a),Da(i.scroller,"drop",a),Math.abs(e.clientX-s.clientX)+Math.abs(e.clientY-s.clientY)<10&&(Ma(s),!r&&+new Date-200<o&&Ct(t.doc,n),_o||xo&&9==wo?setTimeout(function(){document.body.focus(),i.input.focus()},20):i.input.focus())});_o&&(i.scroller.draggable=!0),t.state.draggingText=a,i.scroller.dragDrop&&i.scroller.dragDrop(),La(document,"mouseup",a),La(i.scroller,"drop",a)}function Je(t,e,n,r,i){function o(e){if(0!=Wo(m,e))if(m=e,"rect"==r){for(var i=[],o=t.options.tabSize,a=Ia(Zr(u,n.line).text,n.ch,o),s=Ia(Zr(u,e.line).text,e.ch,o),l=Math.min(a,s),d=Math.max(a,s),p=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));p<=g;p++){var v=Zr(u,p).text,y=Ha(v,l,o);l==d?i.push(new pt(Bo(p,y),Bo(p,y))):v.length>y&&i.push(new pt(Bo(p,y),Bo(p,Ha(v,d,o))))}i.length||i.push(new pt(n,n)),At(u,gt(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=c,x=b.anchor,w=e;if("single"!=r){if("double"==r)var _=t.findWordAt(e);else var _=new pt(Bo(e.line,0),yt(u,Bo(e.line+1,0)));Wo(_.anchor,x)>0?(w=_.head,x=J(b.from(),_.anchor)):(w=_.anchor,x=K(b.to(),_.head))}var i=h.ranges.slice(0);i[f]=new pt(yt(u,x),w),At(u,gt(i,f),Ba)}}function a(e){var n=++y,i=Xe(t,e,!0,"rect"==r);if(i)if(0!=Wo(i,m)){t.curOp.focus=Ui(),o(i);var s=_(l,u);(i.line>=s.to||i.line<s.from)&&setTimeout(Ee(t,function(){y==n&&a(e)}),150)}else{var c=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;c&&setTimeout(Ee(t,function(){y==n&&(l.scroller.scrollTop+=c,a(e))}),50)}}function s(e){t.state.selectingText=!1,y=1/0,Ma(e),l.input.focus(),Da(document,"mousemove",b),Da(document,"mouseup",x),u.history.lastSelOrigin=null}var l=t.display,u=t.doc;Ma(e);var c,f,h=u.sel,d=h.ranges;if(i&&!e.shiftKey?(f=u.sel.contains(n),c=f>-1?d[f]:new pt(n,n)):(c=u.sel.primary(),f=u.sel.primIndex),e.altKey)r="rect",i||(c=new pt(n,n)),n=Xe(t,e,!0,!0),f=-1;else if("double"==r){var p=t.findWordAt(n);c=t.display.shift||u.extend?_t(u,c,p.anchor,p.head):p}else if("triple"==r){var g=new pt(Bo(n.line,0),yt(u,Bo(n.line+1,0)));c=t.display.shift||u.extend?_t(u,c,g.anchor,g.head):g}else c=_t(u,c,n);i?f==-1?(f=d.length,At(u,gt(d.concat([c]),f),{scroll:!1,origin:"*mouse"})):d.length>1&&d[f].empty()&&"single"==r&&!e.shiftKey?(At(u,gt(d.slice(0,f).concat(d.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),h=u.sel):St(u,f,c,Ba):(f=0,At(u,new dt([c],0),Ba),h=u.sel);var m=n,v=l.wrapper.getBoundingClientRect(),y=0,b=Ee(t,function(t){Ci(t)?a(t):s(t)}),x=Ee(t,s);t.state.selectingText=x,La(document,"mousemove",b),La(document,"mouseup",x)}function Ze(t,e,n,r){try{var i=e.clientX,o=e.clientY}catch(e){return!1}if(i>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&Ma(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ai(t,n))return wi(e);o-=s.top-a.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i){var c=ri(t.doc,o),f=t.options.gutters[l];return Oa(t,n,t,c,f,e),wi(e)}}}function Qe(t,e){return Ze(t,e,"gutterClick",!0)}function tn(t){var e=this;if(rn(e),!Mi(e,t)&&!Ue(e.display,t)){Ma(t),xo&&(Xo=+new Date);var n=Xe(e,t,!0),r=t.dataTransfer.files;if(n&&!Q(e))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(t,r){if(!e.options.allowDropFileTypes||Fi(e.options.allowDropFileTypes,t.type)!=-1){var s=new FileReader;s.onload=Ee(e,function(){var t=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),o[r]=t,++a==i){n=yt(e.doc,n);var l={from:n,to:n,text:e.doc.splitLines(o.join(e.doc.lineSeparator())),origin:"paste"};Mn(e.doc,l),Nt(e.doc,mt(n,Qo(l)))}}),s.readAsText(t)}},l=0;l<i;++l)s(r[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!(Eo?t.altKey:t.ctrlKey))var u=e.listSelections();if(Lt(e.doc,mt(n,n)),u)for(var l=0;l<u.length;++l)On(e.doc,"",u[l].anchor,u[l].head,"drag");e.replaceSelection(o,"around","paste"),e.display.input.focus()}}catch(t){}}}}function en(t,e){if(xo&&(!t.state.draggingText||+new Date-Xo<100))return void Aa(e);if(!Mi(t,e)&&!Ue(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!To)){var n=$i("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",So&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),So&&n.parentNode.removeChild(n)}}function nn(t,e){var n=Xe(t,e);if(n){var r=document.createDocumentFragment();Pt(t,n,r),t.display.dragCursor||(t.display.dragCursor=$i("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Vi(t.display.dragCursor,r)}}function rn(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function on(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,vo||E(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),vo&&E(t),It(t,100))}function an(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,C(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function sn(t,e){var n=Ko(e),r=n.x,i=n.y,o=t.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(r&&s||i&&l){if(i&&Eo&&_o)t:for(var u=e.target,c=o.view;u!=a;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){t.display.currentWheelTarget=u;break t}if(r&&!vo&&!So&&null!=Yo)return i&&l&&on(t,Math.max(0,Math.min(a.scrollTop+i*Yo,a.scrollHeight-a.clientHeight))),an(t,Math.max(0,Math.min(a.scrollLeft+r*Yo,a.scrollWidth-a.clientWidth))),(!i||i&&l)&&Ma(e),void(o.wheelStartX=null);if(i&&null!=Yo){var h=i*Yo,d=t.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(t.doc.height,p+h+50),E(t,{top:d,bottom:p})}Go<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Yo=(Yo*Go+n)/(Go+1),++Go)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function ln(t,e,n){if("string"==typeof e&&(e=ca[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,i=!1;try{Q(t)&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=Ra}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function un(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=ha(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&ha(e,t.options.extraKeys,n,t)||ha(e,t.options.keyMap,n,t)}function cn(t,e,n,r){var i=t.state.keySeq;if(i){if(da(e))return"handled";Jo.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,t.display.input.reset())}),e=i+" "+e}var o=un(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&Si(t,"keyHandled",t,e,n),"handled"!=o&&"multi"!=o||(Ma(n),Wt(t)),i&&!o&&/\'$/.test(e)?(Ma(n),!0):!!o}function fn(t,e){var n=pa(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?cn(t,"Shift-"+n,e,function(e){return ln(t,e,!0)})||cn(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return ln(t,e)}):cn(t,n,e,function(e){return ln(t,e)}))}function hn(t,e,n){return cn(t,"'"+n+"'",e,function(e){return ln(t,e,!0)})}function dn(t){var e=this;if(e.curOp.focus=Ui(),!Mi(e,t)){xo&&wo<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=fn(e,t);So&&(Zo=r?n:null,!r&&88==n&&!rs&&(Eo?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||pn(e)}}function pn(t){function e(t){18!=t.keyCode&&t.altKey||(Ja(n,"CodeMirror-crosshair"),Da(document,"keyup",e),Da(document,"mouseover",e))}var n=t.display.lineDiv;Za(n,"CodeMirror-crosshair"),La(document,"keyup",e),La(document,"mouseover",e)}function gn(t){16==t.keyCode&&(this.doc.sel.shift=!1),Mi(this,t)}function mn(t){var e=this;if(!(Ue(e.display,t)||Mi(e,t)||t.ctrlKey&&!t.altKey||Eo&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(So&&n==Zo)return Zo=null,void Ma(t);if(!So||t.which&&!(t.which<10)||!fn(e,t)){var i=String.fromCharCode(null==r?n:r);hn(e,t,i)||e.display.input.onKeyPress(t)}}}function vn(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,bn(t))},100)}function yn(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(Oa(t,"focus",t),t.state.focused=!0,Za(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),_o&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Wt(t))}function bn(t){t.state.delayingBlurEvent||(t.state.focused&&(Oa(t,"blur",t),t.state.focused=!1,Ja(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function xn(t,e){Ue(t.display,e)||wn(t,e)||Mi(t,e,"contextmenu")||t.display.input.onContextMenu(e)}function wn(t,e){return!!Ai(t,"gutterContextMenu")&&Ze(t,e,"gutterContextMenu",!1)}function _n(t,e){if(Wo(t,e.from)<0)return t;if(Wo(t,e.to)<=0)return Qo(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Qo(e).ch-e.to.ch),Bo(n,r)}function Cn(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new pt(_n(i.anchor,e),_n(i.head,e)))}return gt(n,t.sel.primIndex)}function kn(t,e,n){return t.line==e.line?Bo(n.line,t.ch-e.ch+n.ch):Bo(n.line+(t.line-e.line),t.ch)}function Sn(t,e,n){for(var r=[],i=Bo(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],l=kn(s.from,i,o),u=kn(Qo(s),i,o);if(i=s.to,o=u,"around"==n){var c=t.sel.ranges[a],f=Wo(c.head,c.anchor)<0;r[a]=new pt(f?u:l,f?l:u)}else r[a]=new pt(l,l)}return new dt(r,t.sel.primIndex)}function Tn(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=yt(t,e)),n&&(this.to=yt(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),Oa(t,"beforeChange",t,r),t.cm&&Oa(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Mn(t,e,n){if(t.cm){if(!t.cm.curOp)return Ee(t.cm,Mn)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(Ai(t,"beforeChange")||t.cm&&Ai(t.cm,"beforeChange"))||(e=Tn(t,e,!0))){var r=Ro&&!n&&ur(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)Nn(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text});else Nn(t,e)}}function Nn(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Wo(e.from,e.to)){var n=Cn(t,e);ci(t,e,n,t.cm?t.cm.curOp.id:NaN),En(t,e,n,ar(t,e));var r=[];Kr(t,function(t,n){n||Fi(r,t.history)!=-1||(xi(t.history,e),r.push(t.history)),En(t,e,null,ar(t,e))})}}function An(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var r,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,s="undo"==e?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(t.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(di(r,s),n&&!r.equals(t.sel))return void At(t,r,{clearRedo:!1});o=r}var u=[];di(o,s),s.push({changes:u,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=Ai(t,"beforeChange")||t.cm&&Ai(t.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=e,c&&!Tn(t,f,!1))return void(a.length=0);u.push(si(t,f));var h=l?Cn(t,f):Oi(a);En(t,f,h,lr(t,f)),!l&&t.cm&&t.cm.scrollIntoView({from:f.from,to:Qo(f)});var d=[];Kr(t,function(t,e){e||Fi(d,t.history)!=-1||(xi(t.history,f),d.push(t.history)),En(t,f,null,lr(t,f))})}}}}function Ln(t,e){if(0!=e&&(t.first+=e,t.sel=new dt(zi(t.sel.ranges,function(t){return new pt(Bo(t.anchor.line+e,t.anchor.ch),Bo(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Re(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pe(t.cm,r,"gutter")}}function En(t,e,n,r){if(t.cm&&!t.cm.curOp)return Ee(t.cm,En)(t,e,n,r);if(e.to.line<t.first)return void Ln(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);Ln(t,i),e={from:Bo(t.first,0),to:Bo(e.to.line+i,e.to.ch),text:[Oi(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:Bo(o,Zr(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Qr(t,e.from,e.to),n||(n=Cn(t,e)),t.cm?Dn(t.cm,e,r):Xr(t,e,r),Lt(t,n,Pa)}}function Dn(t,e,n){var r=t.doc,i=t.display,a=e.from,s=e.to,l=!1,u=a.line;t.options.lineWrapping||(u=ni(br(Zr(r,a.line))),r.iter(u,s.line+1,function(t){if(t==i.maxLine)return l=!0,!0})),r.sel.contains(e.from,e.to)>-1&&Ni(t),Xr(r,e,n,o(t)),t.options.lineWrapping||(r.iter(u,a.line+e.text.length,function(t){var e=d(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),It(t,400);var c=e.text.length-(s.line-a.line)-1;e.full?Re(t):a.line!=s.line||1!=e.text.length||Ur(t.doc,e)?Re(t,a.line,s.line+1,c):Pe(t,a.line,"text");var f=Ai(t,"changes"),h=Ai(t,"change");if(h||f){var p={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};h&&Si(t,"change",t,p),f&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function On(t,e,n,r,i){if(r||(r=n),Wo(r,n)<0){var o=r;r=n,n=o}"string"==typeof e&&(e=t.splitLines(e)),Mn(t,{from:n,to:r,text:e,origin:i})}function Fn(t,e){if(!Mi(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!No){var o=$i("div","​",null,"position: absolute; top: "+(e.top-n.viewOffset-qt(t.display))+"px; height: "+(e.bottom-e.top+Xt(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function zn(t,e,n,r){null==r&&(r=0);for(var i=0;i<5;i++){var o=!1,a=pe(t,e),s=n&&n!=e?pe(t,n):a,l=Pn(t,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),u=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=l.scrollTop&&(on(t,l.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(o=!0)),null!=l.scrollLeft&&(an(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function Rn(t,e,n,r,i){var o=Pn(t,e,n,r,i);null!=o.scrollTop&&on(t,o.scrollTop),null!=o.scrollLeft&&an(t,o.scrollLeft)}function Pn(t,e,n,r,i){var o=t.display,a=be(t.display);n<0&&(n=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,l=Yt(t),u={};i-n>l&&(i=n+l);var c=t.doc.height+Vt(o),f=n<a,h=i>c-a;if(n<s)u.scrollTop=f?0:n;else if(i>s+l){var d=Math.min(n,(h?c:i)-l);d!=s&&(u.scrollTop=d)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Gt(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=r-e>g;return m&&(r=e+g),e<10?u.scrollLeft=0:e<p?u.scrollLeft=Math.max(0,e-(m?0:10)):r>g+p-3&&(u.scrollLeft=r+(m?0:10)-g),u}function Bn(t,e,n){null==e&&null==n||In(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Wn(t){In(t);var e=t.getCursor(),n=e,r=e;t.options.lineWrapping||(n=e.ch?Bo(e.line,e.ch-1):e,r=Bo(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function In(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=ge(t,e.from),r=ge(t,e.to),i=Pn(t,Math.min(n.left,r.left),Math.min(n.top,r.top)-e.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop);
}}function Hn(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=$t(t,e):n="prev");var a=t.options.tabSize,s=Zr(o,e),l=Ia(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Ra||u>150)){if(!r)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>o.first?Ia(Zr(o,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var f="",h=0;if(t.options.indentWithTabs)for(var d=Math.floor(u/a);d;--d)h+=a,f+="\t";if(h<u&&(f+=Di(u-h)),f!=c)return On(o,f,Bo(e,0),Bo(e,c.length),"+input"),s.stateAfter=null,!0;for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==e&&p.head.ch<c.length){var h=Bo(e,c.length);St(o,d,new pt(h,h));break}}}function jn(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Zr(t,vt(t,e)):i=ni(e),null==i?null:(r(o,i)&&t.cm&&Pe(t.cm,i,n),o)}function $n(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&Wo(o.from,Oi(r).to)<=0;){var a=r.pop();if(Wo(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}Le(t,function(){for(var e=r.length-1;e>=0;e--)On(t.doc,"",r[e].from,r[e].to,"+delete");Wn(t)})}function qn(t,e,n,r,i){function o(){var e=s+n;return e<t.first||e>=t.first+t.size?f=!1:(s=e,c=Zr(t,e))}function a(t){var e=(i?ho:po)(c,l,n,!0);if(null==e){if(t||!o())return f=!1;l=i?(n<0?oo:io)(c):n<0?c.text.length:0}else l=e;return!0}var s=e.line,l=e.ch,u=n,c=Zr(t,s),f=!0;if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var h=null,d="group"==r,p=t.cm&&t.cm.getHelper(e,"wordChars"),g=!0;!(n<0)||a(!g);g=!1){var m=c.text.charAt(l)||"\n",v=Ii(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||g||v||(v="s"),h&&h!=v){n<0&&(n=1,a());break}if(v&&(h=v),n>0&&!a(!g))break}var y=Ft(t,Bo(s,l),u,!0);return f||(y.hitSide=!0),y}function Vn(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+n*(s-(n<0?1.5:.5)*be(t.display))}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var l=ve(t,a,i);if(!l.outside)break;if(n<0?i<=0:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Un(e,n,r,i){t.defaults[e]=n,r&&(ea[e]=i?function(t,e,n){n!=na&&r(t,e,n)}:r)}function Xn(t){for(var e,n,r,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Gn(t){return"string"==typeof t?fa[t]:t}function Yn(t,e,n,r,i){if(r&&r.shared)return Kn(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return Ee(t.cm,Yn)(t,e,n,r,i);var o=new va(t,i),a=Wo(e,n);if(r&&Bi(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=$i("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(yr(t,e.line,e,n,o)||e.line!=n.line&&yr(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Po=!0}o.addToHistory&&ci(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,u=t.cm;if(t.iter(l,n.line+1,function(t){u&&o.collapsed&&!u.options.lineWrapping&&br(t)==u.display.maxLine&&(s=!0),o.collapsed&&l!=e.line&&ei(t,0),rr(t,new tr(o,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&t.iter(e.line,n.line+1,function(e){Cr(t,e)&&ei(e,0)}),o.clearOnEnter&&La(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(Ro=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ma,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Re(u,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=e.line;c<=n.line;c++)Pe(u,c,"text");o.atomic&&Dt(u.doc),Si(u,"markerAdded",u,o)}return o}function Kn(t,e,n,r,i){r=Bi(r),r.shared=!1;var o=[Yn(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Kr(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Yn(t,yt(t,e),yt(t,n),r,i));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=Oi(o)}),new ya(o,a)}function Jn(t){return t.findMarks(Bo(t.first,0),t.clipPos(Bo(t.lastLine())),function(t){return t.parent})}function Zn(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(Wo(o,a)){var s=Yn(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Qn(t){for(var e=0;e<t.length;e++){var n=t[e],r=[n.primary.doc];Kr(n.primary.doc,function(t){r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];Fi(r,o.doc)==-1&&(o.parent=null,n.markers.splice(i--,1))}}}function tr(t,e,n){this.marker=t,this.from=e,this.to=n}function er(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function nr(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function rr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function ir(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new tr(a,o.from,l?null:o.to))}}return r}function or(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new tr(a,l?null:o.from-e,null==o.to?null:o.to-e))}}return r}function ar(t,e){if(e.full)return null;var n=xt(t,e.from.line)&&Zr(t,e.from.line).markedSpans,r=xt(t,e.to.line)&&Zr(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==Wo(e.from,e.to),s=ir(n,i,a),l=or(r,o,a),u=1==e.text.length,c=Oi(e.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=er(l,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=c),null==h.from){var d=er(s,h.marker);d||(h.from=c,u&&(s||(s=[])).push(h))}else h.from+=c,u&&(s||(s=[])).push(h)}s&&(s=sr(s)),l&&l!=s&&(l=sr(l));var p=[s];if(!u){var g,m=e.text.length-2;if(m>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(g||(g=[])).push(new tr(s[f].marker,null,null));for(var f=0;f<m;++f)p.push(g);p.push(l)}return p}function sr(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function lr(t,e){var n=mi(t,e),r=ar(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue t;o.push(l)}else a&&(n[i]=a)}return n}function ur(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&Fi(r,n)!=-1||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(Wo(u.to,s.from)<0||Wo(u.from,s.to)>0)){var c=[l,1],f=Wo(u.from,s.from),h=Wo(u.to,s.to);(f<0||!a.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-1}}return i}function cr(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function fr(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function hr(t){return t.inclusiveLeft?-1:0}function dr(t){return t.inclusiveRight?1:0}function pr(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=Wo(r.from,i.from)||hr(t)-hr(e);if(o)return-o;var a=Wo(r.to,i.to)||dr(t)-dr(e);return a?a:e.id-t.id}function gr(t,e){var n,r=Po&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||pr(n,i.marker)<0)&&(n=i.marker);return n}function mr(t){return gr(t,!0)}function vr(t){return gr(t,!1)}function yr(t,e,n,r,i){var o=Zr(t,e),a=Po&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=Wo(u.from,n)||hr(l.marker)-hr(i),f=Wo(u.to,r)||dr(l.marker)-dr(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(Wo(u.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Wo(u.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function br(t){for(var e;e=mr(t);)t=e.find(-1,!0).line;return t}function xr(t){for(var e,n;e=vr(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function wr(t,e){var n=Zr(t,e),r=br(n);return n==r?e:ni(r)}function _r(t,e){if(e>t.lastLine())return e;var n,r=Zr(t,e);if(!Cr(t,r))return e;for(;n=vr(r);)r=n.find(1,!0).line;return ni(r)+1}function Cr(t,e){var n=Po&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&kr(t,e,r))return!0}}function kr(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return kr(t,r.line,er(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&kr(t,e,i))return!0}function Sr(t,e,n){ii(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Bn(t,null,n)}function Tr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ga(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),Vi(e.display.measure,$i("div",[t.node],null,n))}return t.height=t.node.offsetHeight}function Mr(t,e,n,r){var i=new ba(t,n,r),o=t.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),jn(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,o&&!Cr(t,e)){var r=ii(e)<t.scrollTop;ei(e,e.height+Tr(i)),r&&Bn(o,null,i.height),o.curOp.forceUpdate=!0}return!0}),i}function Nr(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),cr(t),fr(t,n);var i=r?r(t):1;i!=t.height&&ei(t,i)}function Ar(t){t.parent=null,cr(t)}function Lr(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function Er(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var r=t.innerMode(e,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Dr(e,n,r,i){for(var o=0;o<10;o++){i&&(i[0]=t.innerMode(e,r).mode);var a=e.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function Or(t,e,n,r){function i(t){return{start:f.start,end:f.pos,string:f.current(),type:o||null,state:t?la(a.mode,c):c}}var o,a=t.doc,s=a.mode;e=yt(a,e);var l,u=Zr(a,e.line),c=$t(t,e.line,n),f=new ga(u.text,t.options.tabSize);for(r&&(l=[]);(r||f.pos<e.ch)&&!f.eol();)f.start=f.pos,o=Dr(s,f,c),r&&l.push(i(!0));return r?l:i()}function Fr(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,f=new ga(e,t.options.tabSize),h=t.options.addModeClass&&[null];for(""==e&&Lr(Er(n,r),o);!f.eol();){if(f.pos>t.options.maxHighlightLength?(s=!1,a&&Pr(t,e,r,f.pos),f.pos=e.length,l=null):l=Lr(Dr(n,f,r,h),o),h){var d=h[0].name;d&&(l="m-"+(l?d+" "+l:d))}if(!s||c!=l){for(;u<f.start;)u=Math.min(f.start,u+5e4),i(u,c);c=l}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e4);i(p,c),u=p}}function zr(t,e,n,r){var i=[t.state.modeGen],o={};Fr(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)},o,r);for(var a=0;a<t.state.overlays.length;++a){var s=t.state.overlays[a],l=1,u=0;Fr(t,e.text,s.mode,!0,function(t,e){for(var n=l;u<t;){var r=i[l];r>t&&i.splice(l,1,t,i[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,l-n,t,"cm-overlay "+e),l=n+2;else for(;n<l;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function Rr(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=$t(t,ni(e)),i=zr(t,e,e.text.length>t.options.maxHighlightLength?la(t.doc.mode,r):r);e.stateAfter=r,e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function Pr(t,e,n,r){var i=t.doc.mode,o=new ga(e,t.options.tabSize);for(o.start=o.pos=r||0,""==e&&Er(i,n);!o.eol();)Dr(i,o,n),o.start=o.pos}function Br(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?_a:wa;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Wr(t,e){var n=$i("span",null,null,_o?"padding-right: .1px":null),r={pre:$i("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,splitSpaces:(xo||_o)&&t.getOption("lineWrapping")};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;r.pos=0,r.addToken=Hr,Qi(t.display.measure)&&(o=oi(a))&&(r.addToken=$r(r.addToken,o)),r.map=[];var s=e!=t.display.externalMeasured&&ni(a);Vr(a,r,Rr(t,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=Gi(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=Gi(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Zi(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return _o&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),Oa(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=Gi(r.pre.className,r.textClass||"")),r}function Ir(t){var e=$i("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Hr(t,e,n,r,i,o,a){if(e){var s=t.splitSpaces?e.replace(/ {3,}/g,jr):e,l=t.cm.state.specialChars,u=!1;if(l.test(e))for(var c=document.createDocumentFragment(),f=0;;){l.lastIndex=f;var h=l.exec(e),d=h?h.index-f:e.length-f;if(d){var p=document.createTextNode(s.slice(f,f+d));xo&&wo<9?c.appendChild($i("span",[p])):c.appendChild(p),t.map.push(t.pos,t.pos+d,p),t.col+=d,t.pos+=d}if(!h)break;if(f+=d+1,"\t"==h[0]){var g=t.cm.options.tabSize,m=g-t.col%g,p=c.appendChild($i("span",Di(m),"cm-tab"));p.setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),t.col+=m}else if("\r"==h[0]||"\n"==h[0]){var p=c.appendChild($i("span","\r"==h[0]?"␍":"␤","cm-invalidchar"));p.setAttribute("cm-text",h[0]),t.col+=1}else{var p=t.cm.options.specialCharPlaceholder(h[0]);p.setAttribute("cm-text",h[0]),xo&&wo<9?c.appendChild($i("span",[p])):c.appendChild(p),t.col+=1}t.map.push(t.pos,t.pos+1,p),t.pos++}else{t.col+=e.length;var c=document.createTextNode(s);t.map.push(t.pos,t.pos+e.length,c),xo&&wo<9&&(u=!0),t.pos+=e.length}if(n||r||i||u||a){var v=n||"";r&&(v+=r),i&&(v+=i);var y=$i("span",[c],v,a);return o&&(y.title=o),t.content.appendChild(y)}t.content.appendChild(c)}}function jr(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":" ";return e+=" "}function $r(t,e){return function(n,r,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+r.length;;){for(var f=0;f<e.length;f++){var h=e[f];if(h.to>u&&h.from<=u)break}if(h.to>=c)return t(n,r,i,o,a,s,l);t(n,r.slice(0,h.to-u),i,o,null,s,l),o=null,r=r.slice(h.to-u),u=h.to}}}function qr(t,e,n,r){var i=!r&&n.widgetNode;i&&t.map.push(t.pos,t.pos+e,i),!r&&t.cm.display.input.needsContentAttribute&&(i||(i=t.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",n.id)),i&&(t.cm.display.input.setUneditable(i),t.content.appendChild(i)),t.pos+=e}function Vr(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,l,u,c,f,h,d=i.length,p=0,g=1,m="",v=0;;){if(v==p){l=u=c=f=s="",h=null,v=1/0;for(var y=[],b=0;b<r.length;++b){var x=r[b],w=x.marker;"bookmark"==w.type&&x.from==p&&w.widgetNode?y.push(w):x.from<=p&&(null==x.to||x.to>p||w.collapsed&&x.to==p&&x.from==p)?(null!=x.to&&x.to!=p&&v>x.to&&(v=x.to,u=""),w.className&&(l+=" "+w.className),w.css&&(s=(s?s+";":"")+w.css),w.startStyle&&x.from==p&&(c+=" "+w.startStyle),w.endStyle&&x.to==v&&(u+=" "+w.endStyle),w.title&&!f&&(f=w.title),w.collapsed&&(!h||pr(h.marker,w)<0)&&(h=x)):x.from>p&&v>x.from&&(v=x.from)}if(h&&(h.from||0)==p){if(qr(e,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}if(!h&&y.length)for(var b=0;b<y.length;++b)qr(e,0,y[b])}if(p>=d)break;for(var _=Math.min(d,v);;){if(m){var C=p+m.length;if(!h){var k=C>_?m.slice(0,_-p):m;e.addToken(e,k,a?a+l:l,c,p+k.length==v?u:"",f,s)}if(C>=_){m=m.slice(_-p),p=_;break}p=C,c=""}m=i.slice(o,o=n[g++]),a=Br(n[g++],e.cm.options)}}else for(var g=1;g<n.length;g+=2)e.addToken(e,i.slice(o,o=n[g]),Br(n[g+1],e.cm.options))}function Ur(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Oi(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Xr(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){Nr(t,n,i,r),Si(t,"change",t,e)}function a(t,e){for(var n=t,o=[];n<e;++n)o.push(new xa(u[n],i(n),r));return o}var s=e.from,l=e.to,u=e.text,c=Zr(t,s.line),f=Zr(t,l.line),h=Oi(u),d=i(u.length-1),p=l.line-s.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Ur(t,e)){var g=a(0,u.length-1);o(f,f.text,d),p&&t.remove(s.line,p),g.length&&t.insert(s.line,g)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(l.ch),d);else{var g=a(1,u.length-1);g.push(new xa(h+c.text.slice(l.ch),d,r)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),t.insert(s.line+1,g)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(l.ch),i(0)),t.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(l.ch),d);var g=a(1,u.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,g)}Si(t,"change",t,e)}function Gr(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function Yr(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}function Kr(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var s=t.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;n&&!l||(e(s.doc,l),r(s.doc,t,l))}}}r(t,null,!0)}function Jr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),n(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,Re(t)}function Zr(t,e){if(e-=t.first,e<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(e<o){n=i;break}e-=o}return n.lines[e]}function Qr(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function ti(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function ei(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function ni(t){if(null==t.parent)return null;for(var e=t.parent,n=Fi(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function ri(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(e<o){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],s=a.height;if(e<s)break;e-=s}return n+r}function ii(t){t=br(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;e+=a.height}return e}function oi(t){var e=t.order;return null==e&&(e=t.order=ss(t.text)),e}function ai(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function si(t,e){var n={from:Y(e.from),to:Qo(e),text:Qr(t,e.from,e.to)};return pi(t,n,e.from.line,e.to.line+1),Kr(t,function(t){pi(t,n,e.from.line,e.to.line+1)},!0),n}function li(t){for(;t.length;){var e=Oi(t);if(!e.ranges)break;t.pop()}}function ui(t,e){return e?(li(t.done),Oi(t.done)):t.done.length&&!Oi(t.done).ranges?Oi(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Oi(t.done)):void 0}function ci(t,e,n,r){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=ui(i,i.lastOp==r))){var s=Oi(o.changes);0==Wo(e.from,e.to)&&0==Wo(e.from,s.to)?s.to=Qo(e):o.changes.push(si(t,e))}else{var l=Oi(i.done);for(l&&l.ranges||di(t.sel,i.done),o={changes:[si(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||Oa(t,"historyAdded")}function fi(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function hi(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||fi(t,o,Oi(i.done),e))?i.done[i.done.length-1]=e:di(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&li(i.undone)}function di(t,e){var n=Oi(e);n&&n.ranges&&n.equals(t)||e.push(t)}function pi(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function gi(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function mi(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(gi(n[r]));return i}function vi(t,e,n){for(var r=0,i=[];r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?dt.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var u,c=a[l];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var f in c)(u=f.match(/^spans_(\d+)$/))&&Fi(e,Number(u[1]))>-1&&(Oi(s)[f]=c[f],delete c[f])}}}return i}function yi(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function bi(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)yi(o.ranges[s].anchor,e,n,r),yi(o.ranges[s].head,e,n,r)}else{for(var s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=Bo(l.from.line+r,l.from.ch),l.to=Bo(l.to.line+r,l.to.ch);else if(e<=l.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function xi(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;bi(t.done,n,r,i),bi(t.undone,n,r,i)}function wi(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function _i(t){return t.target||t.srcElement}function Ci(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),Eo&&t.ctrlKey&&1==e&&(e=3),e}function ki(t,e,n){var r=t._handlers&&t._handlers[e];return n?r&&r.length>0?r.slice():Ea:r||Ea}function Si(t,e){function n(t){return function(){t.apply(null,o)}}var r=ki(t,e,!1);if(r.length){var i,o=Array.prototype.slice.call(arguments,2);Vo?i=Vo.delayedCallbacks:Fa?i=Fa:(i=Fa=[],setTimeout(Ti,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function Ti(){var t=Fa;Fa=null;for(var e=0;e<t.length;++e)t[e]()}function Mi(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),Oa(t,n||e.type,t,e),wi(e)||e.codemirrorIgnore}function Ni(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)Fi(n,e[r])==-1&&n.push(e[r])}function Ai(t,e){return ki(t,e).length>0}function Li(t){t.prototype.on=function(t,e){La(this,t,e)},t.prototype.off=function(t,e){Da(this,t,e)}}function Ei(){this.id=null}function Di(t){for(;ja.length<=t;)ja.push(Oi(ja)+" ");return ja[t]}function Oi(t){return t[t.length-1]}function Fi(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function zi(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function Ri(){}function Pi(t,e){var n;return l["default"]?n=(0,l["default"])(t):(Ri.prototype=t,n=new Ri),e&&Bi(e,n),n}function Bi(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||n===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function Wi(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Ii(t,e){return e?!!(e.source.indexOf("\\w")>-1&&Ua(t))||e.test(t):Ua(t)}function Hi(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function ji(t){return t.charCodeAt(0)>=768&&Xa.test(t)}function $i(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function qi(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Vi(t,e){return qi(t).appendChild(e)}function Ui(){for(var t=document.activeElement;t&&t.root&&t.root.activeElement;)t=t.root.activeElement;return t}function Xi(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function Gi(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!Xi(n[r]).test(e)&&(e+=" "+n[r]);return e}function Yi(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function Ki(){Qa||(Ji(),Qa=!0)}function Ji(){var t;La(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Yi(Ve)},100))}),La(window,"blur",function(){Yi(bn)})}function Zi(t){if(null==Ya){var e=$i("span","​");Vi(t,$i("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ya=e.offsetWidth<=1&&e.offsetHeight>2&&!(xo&&wo<8))}var n=Ya?$i("span","​"):$i("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Qi(t){if(null!=Ka)return Ka;var e=Vi(t,document.createTextNode("AخA")),n=qa(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=qa(e,1,2).getBoundingClientRect();return Ka=r.right-n.right<3}function to(t){if(null!=is)return is;var e=Vi(t,$i("span","x")),n=e.getBoundingClientRect(),r=qa(e,0,1).getBoundingClientRect();return is=Math.abs(n.left-r.left)>1}function eo(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function no(t){return t.level%2?t.to:t.from}function ro(t){return t.level%2?t.from:t.to}function io(t){var e=oi(t);return e?no(e[0]):0}function oo(t){var e=oi(t);return e?ro(Oi(e)):t.text.length}function ao(t,e){var n=Zr(t.doc,e),r=br(n);r!=n&&(e=ni(r));var i=oi(r),o=i?i[0].level%2?oo(r):io(r):0;return Bo(e,o)}function so(t,e){for(var n,r=Zr(t.doc,e);n=vr(r);)r=n.find(1,!0).line,e=null;var i=oi(r),o=i?i[0].level%2?io(r):oo(r):r.text.length;return Bo(null==e?ni(r):e,o)}function lo(t,e){var n=ao(t,e.line),r=Zr(t.doc,n.line),i=oi(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return Bo(n.line,a?0:o)}return n}function uo(t,e,n){var r=t[0].level;return e==r||n!=r&&e<n}function co(t,e){as=null;for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;if(i.from==e||i.to==e){if(null!=n)return uo(t,i.level,t[n].level)?(i.from!=i.to&&(as=n),r):(i.from!=i.to&&(as=r),n);n=r}}return n}function fo(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&ji(t.text.charAt(e)));return e}function ho(t,e,n,r){var i=oi(t);if(!i)return po(t,e,n,r);for(var o=co(i,e),a=i[o],s=fo(t,e,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return co(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?fo(t,a.to,-1,r):fo(t,a.from,1,r)}}function po(t,e,n,r){var i=e+n;if(r)for(;i>0&&ji(t.text.charAt(i));)i+=n;return i<0||i>t.text.length?null:i}var go=navigator.userAgent,mo=navigator.platform,vo=/gecko\/\d/i.test(go),yo=/MSIE \d/.test(go),bo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(go),xo=yo||bo,wo=xo&&(yo?document.documentMode||6:bo[1]),_o=/WebKit\//.test(go),Co=_o&&/Qt\/\d+\.\d+/.test(go),ko=/Chrome\//.test(go),So=/Opera\//.test(go),To=/Apple Computer/.test(navigator.vendor),Mo=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(go),No=/PhantomJS/.test(go),Ao=/AppleWebKit/.test(go)&&/Mobile\/\w+/.test(go),Lo=Ao||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(go),Eo=Ao||/Mac/.test(mo),Do=/win/i.test(mo),Oo=So&&go.match(/Version\/(\d*\.\d*)/);Oo&&(Oo=Number(Oo[1])),Oo&&Oo>=15&&(So=!1,_o=!0);var Fo=Eo&&(Co||So&&(null==Oo||Oo<12.11)),zo=vo||xo&&wo>=9,Ro=!1,Po=!1;v.prototype=Bi({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var t=Eo&&!Mo?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Ei,this.disableVert=new Ei},enableZeroWidthBar:function(t,e){function n(){var r=t.getBoundingClientRect(),i=document.elementFromPoint(r.left+1,r.bottom-1);i!=t?t.style.pointerEvents="none":e.set(1e3,n)}t.style.pointerEvents="auto",e.set(1e3,n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},v.prototype),y.prototype=Bi({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},y.prototype),t.scrollbarModel={"native":v,"null":y},M.prototype.signal=function(t,e){Ai(t,e)&&this.events.push(arguments)},M.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Oa.apply(null,this.events[t])};var Bo=t.Pos=function(t,e){return this instanceof Bo?(this.line=t,void(this.ch=e)):new Bo(t,e)},Wo=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Io=null;ot.prototype=Bi({init:function(t){function e(t){if(r.somethingSelected())Io=r.getSelections(),n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,o.value=Io.join("\n"),
$a(o));else{if(!r.options.lineWiseCopyCut)return;var e=rt(r);Io=e.text,"cut"==t.type?r.setSelections(e.ranges,null,Pa):(n.prevInput="",o.value=e.text.join("\n"),$a(o))}"cut"==t.type&&(r.state.cutIncoming=!0)}var n=this,r=this.cm,i=this.wrapper=at(),o=this.textarea=i.firstChild;t.wrapper.insertBefore(i,t.wrapper.firstChild),Ao&&(o.style.width="0px"),La(o,"input",function(){xo&&wo>=9&&n.hasSelection&&(n.hasSelection=null),n.poll()}),La(o,"paste",function(t){return!!et(t,r)||(r.state.pasteIncoming=!0,void n.fastPoll())}),La(o,"cut",e),La(o,"copy",e),La(t.scroller,"paste",function(e){Ue(t,e)||(r.state.pasteIncoming=!0,n.focus())}),La(t.lineSpace,"selectstart",function(e){Ue(t,e)||Ma(e)}),La(o,"compositionstart",function(){var t=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:r.markText(t,r.getCursor("to"),{className:"CodeMirror-composing"})}}),La(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var t=this.cm,e=t.display,n=t.doc,r=Rt(t);if(t.options.moveInputWithCursor){var i=pe(t,n.sel.primary().head,"div"),o=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,i.top+a.top-o.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,i.left+a.left-o.left))}return r},showSelection:function(t){var e=this.cm,n=e.display;Vi(n.cursorDiv,t.cursors),Vi(n.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,n,r=this.cm,i=r.doc;if(r.somethingSelected()){this.prevInput="";var o=i.sel.primary();e=rs&&(o.to().line-o.from().line>100||(n=r.getSelection()).length>1e3);var a=e?"-":n||r.getSelection();this.textarea.value=a,r.state.focused&&$a(this.textarea),xo&&wo>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",xo&&wo>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Lo||Ui()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var r=n.poll();r||e?(n.pollingFast=!1,n.slowPoll()):(e=!0,n.polling.set(60,t))}var e=!1,n=this;n.pollingFast=!0,n.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ns(e)&&!n&&!this.composing||Q(t)||t.options.disableInput||t.state.keySeq)return!1;var r=e.value;if(r==n&&!t.somethingSelected())return!1;if(xo&&wo>=9&&this.hasSelection===r||Eo&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||n||(n="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,r.length);o<a&&n.charCodeAt(o)==r.charCodeAt(o);)++o;var s=this;return Le(t,function(){tt(t,r.slice(o),n.length-o,null,s.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?e.value=s.prevInput="":s.prevInput=r,s.composing&&(s.composing.range.clear(),s.composing.range=t.markText(s.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){xo&&wo>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=a.selectionStart){var t=i.somethingSelected(),e="​"+(t?a.value:"");a.value="⇚",a.value=e,r.prevInput=t?"":"​",a.selectionStart=1,a.selectionEnd=e.length,o.selForContextMenu=i.doc.sel}}function n(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",a.style.cssText=c,xo&&wo<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=l),null!=a.selectionStart){(!xo||xo&&wo<9)&&e();var t=0,n=function s(){o.selForContextMenu==i.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"​"==r.prevInput?Ee(i,ca.selectAll)(i):t++<10?o.detectingSelectAll=setTimeout(s,500):o.input.reset()};o.detectingSelectAll=setTimeout(n,200)}}var r=this,i=r.cm,o=i.display,a=r.textarea,s=Xe(i,t),l=o.scroller.scrollTop;if(s&&!So){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&Ee(i,At)(i.doc,mt(s),Pa);var c=a.style.cssText;if(r.wrapper.style.position="absolute",a.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(xo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",_o)var f=window.scrollY;if(o.input.focus(),_o&&window.scrollTo(null,f),o.input.reset(),i.somethingSelected()||(a.value=r.prevInput=" "),r.contextMenuPending=!0,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),xo&&wo>=9&&e(),zo){Aa(t);var h=function d(){Da(window,"mouseup",d),setTimeout(n,20)};La(window,"mouseup",h)}else setTimeout(n,50)}},readOnlyChanged:function(t){t||this.reset()},setUneditable:Ri,needsContentAttribute:!1},ot.prototype),st.prototype=Bi({init:function(t){function e(t){if(r.somethingSelected())Io=r.getSelections(),"cut"==t.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var e=rt(r);Io=e.text,"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Pa),r.replaceSelection("",null,"cut")})}if(t.clipboardData&&!Ao)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Io.join("\n"));else{var n=at(),i=n.firstChild;r.display.lineSpace.insertBefore(n,r.display.lineSpace.firstChild),i.value=Io.join("\n");var o=document.activeElement;$a(i),setTimeout(function(){r.display.lineSpace.removeChild(n),o.focus()},50)}}var n=this,r=n.cm,i=n.div=t.lineDiv;it(i),La(i,"paste",function(t){et(t,r)}),La(i,"compositionstart",function(t){var e=t.data;if(n.composing={sel:r.doc.sel,data:e,startData:e},e){var i=r.doc.sel.primary(),o=r.getLine(i.head.line),a=o.indexOf(e,Math.max(0,i.head.ch-e.length));a>-1&&a<=i.head.ch&&(n.composing.sel=mt(Bo(i.head.line,a),Bo(i.head.line,a+e.length)))}}),La(i,"compositionupdate",function(t){n.composing.data=t.data}),La(i,"compositionend",function(t){var e=n.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||n.applyComposition(e),n.composing==e&&(n.composing=null)},50))}),La(i,"touchstart",function(){n.forceCompositionEnd()}),La(i,"input",function(){n.composing||!Q(r)&&n.pollContent()||Le(n.cm,function(){Re(r)})}),La(i,"copy",e),La(i,"cut",e)},prepareSelection:function(){var t=Rt(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t){t&&this.cm.display.view.length&&(t.focus&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),n=ct(this.cm,t.anchorNode,t.anchorOffset),r=ct(this.cm,t.focusNode,t.focusOffset);if(!n||n.bad||!r||r.bad||0!=Wo(J(n,r),e.from())||0!=Wo(K(n,r),e.to())){var i=lt(this.cm,e.from()),o=lt(this.cm,e.to());if(i||o){var a=this.cm.display.view,s=t.rangeCount&&t.getRangeAt(0);if(i){if(!o){var l=a[a.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;o={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else i={node:a[0].measure.map[2],offset:0};try{var c=qa(i.node,i.offset,o.offset,o.node)}catch(f){}c&&(t.removeAllRanges(),t.addRange(c),s&&null==t.anchorNode?t.addRange(s):vo&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Vi(this.cm.display.cursorDiv,t.cursors),Vi(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ga(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Le(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var n=ct(e,t.anchorNode,t.anchorOffset),r=ct(e,t.focusNode,t.focusOffset);n&&r&&Le(e,function(){At(e.doc,mt(n,r),Pa),(n.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,n=t.doc.sel.primary(),r=n.from(),i=n.to();if(r.line<e.viewFrom||i.line>e.viewTo-1)return!1;var o;if(r.line==e.viewFrom||0==(o=We(t,r.line)))var a=ni(e.view[0].line),s=e.view[0].node;else var a=ni(e.view[o].line),s=e.view[o-1].node.nextSibling;var l=We(t,i.line);if(l==e.view.length-1)var u=e.viewTo-1,c=e.lineDiv.lastChild;else var u=ni(e.view[l+1].line)-1,c=e.view[l+1].node.previousSibling;for(var f=t.doc.splitLines(ht(t,s,c,a,u)),h=Qr(t.doc,Bo(a,0),Bo(u,Zr(t.doc,u).text.length));f.length>1&&h.length>1;)if(Oi(f)==Oi(h))f.pop(),h.pop(),u--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),a++}for(var d=0,p=0,g=f[0],m=h[0],v=Math.min(g.length,m.length);d<v&&g.charCodeAt(d)==m.charCodeAt(d);)++d;for(var y=Oi(f),b=Oi(h),x=Math.min(y.length-(1==f.length?d:0),b.length-(1==h.length?d:0));p<x&&y.charCodeAt(y.length-p-1)==b.charCodeAt(b.length-p-1);)++p;f[f.length-1]=y.slice(0,y.length-p),f[0]=f[0].slice(d);var w=Bo(a,d),_=Bo(u,h.length?Oi(h).length-p:0);return f.length>1||f[0]||Wo(w,_)?(On(t.doc,f,w,_,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){Q(this.cm)?Ee(this.cm,Re)(this.cm):t.data&&t.data!=t.startData&&Ee(this.cm,tt)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.contentEditable="false"},onKeyPress:function(t){t.preventDefault(),Q(this.cm)||Ee(this.cm,tt)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},readOnlyChanged:function(t){this.div.contentEditable=String("nocursor"!=t)},onContextMenu:Ri,resetPosition:Ri,needsContentAttribute:!0},st.prototype),t.inputStyles={textarea:ot,contenteditable:st},dt.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(0!=Wo(n.anchor,r.anchor)||0!=Wo(n.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new pt(Y(this.ranges[e].anchor),Y(this.ranges[e].head));return new dt(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Wo(e,r.from())>=0&&Wo(t,r.to())<=0)return n}return-1}},pt.prototype={from:function(){return J(this.anchor,this.head)},to:function(){return K(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ho,jo,$o,qo={left:0,right:0,top:0,bottom:0},Vo=null,Uo=0,Xo=0,Go=0,Yo=null;xo?Yo=-.53:vo?Yo=15:ko?Yo=-.7:To&&(Yo=-1/3);var Ko=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=Ko(t);return e.x*=Yo,e.y*=Yo,e};var Jo=new Ei,Zo=null,Qo=t.changeEnd=function(t){return t.text?Bo(t.from.line+t.text.length-1,Oi(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var n=this.options,r=n[t];n[t]==e&&"mode"!=t||(n[t]=e,ea.hasOwnProperty(t)&&Ee(this,ea[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Gn(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:De(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,Re(this)}),removeOverlay:De(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void Re(this)}}),indentLine:De(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),xt(this.doc,t)&&Hn(this,t,e,n)}),indentSelection:De(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Hn(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Wn(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Hn(this,l,t);var u=this.doc.sel.ranges;0==o.ch&&e.length==u.length&&u[r].from().ch>0&&St(this.doc,r,new pt(o,u[r].to()),Pa)}}}),getTokenAt:function(t,e){return Or(this,t,e)},getLineTokens:function(t,e){return Or(this,Bo(t),e,!0)},getTokenTypeAt:function(t){t=yt(this.doc,t);var e,n=Rr(this,Zr(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("cm-overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!sa.hasOwnProperty(e))return n;var r=sa[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&n.push(r[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=r[i[e][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&Fi(n,s.val)==-1&&n.push(s.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=vt(n,null==t?n.first+n.size-1:t),$t(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==("undefined"==typeof t?"undefined":(0,c["default"])(t))?yt(this.doc,t):t?r.from():r.to(),pe(this,n,e||"page")},charCoords:function(t,e){return de(this,yt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=he(this,t,e||"page"),ve(this,t.left,t.top)},lineAtHeight:function(t,e){return t=he(this,{top:t,left:0},e||"page").top,ri(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n,r=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,r=!0),n=Zr(this.doc,t)}else n=t;return fe(this,n,{top:0,left:0},e||"page").top+(r?this.doc.height-ii(n):0)},defaultTextHeight:function(){return be(this.display)},defaultCharWidth:function(){return xe(this.display)},setGutterMarker:De(function(t,e,n){return jn(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&Hi(r)&&(t.gutterMarkers=null),!0})}),clearGutter:De(function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,Pe(e,r,"gutter"),Hi(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),lineInfo:function(t){if("number"==typeof t){if(!xt(this.doc,t))return null;var e=t;if(t=Zr(this.doc,t),!t)return null}else{var e=ni(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=pe(this,yt(this.doc,t));var a=t.bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(a=t.bottom),s+e.offsetWidth>u&&(s=u-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&Rn(this,s,a,s+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:De(dn),triggerOnKeyPress:De(mn),triggerOnKeyUp:gn,execCommand:function(t){if(ca.hasOwnProperty(t))return ca[t].call(null,this)},triggerElectric:De(function(t){nt(this,t)}),findPosH:function(t,e,n,r){var i=1;e<0&&(i=-1,e=-e);for(var o=0,a=yt(this.doc,t);o<e&&(a=qn(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:De(function(t,e){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?qn(n.doc,r.head,t,e,n.options.rtlMoveVisually):t<0?r.from():r.to()},Wa)}),deleteH:De(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):$n(this,function(n){var i=qn(r,n.head,t,e,!1);return t<0?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;e<0&&(i=-1,e=-e);for(var a=0,s=yt(this.doc,t);a<e;++a){var l=pe(this,s,"div");if(null==o?o=l.left:l.left=o,s=Vn(this,l,i,n),s.hitSide)break}return s},moveV:De(function(t,e){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return t<0?a.from():a.to();var s=pe(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Vn(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Bn(n,null,de(n,l,"div").top-s.top),l},Wa),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Zr(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=Ii(a,o)?function(t){return Ii(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Ii(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new pt(Bo(t.line,r),Bo(t.line,i))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Za(this.display.cursorDiv,"CodeMirror-overwrite"):Ja(this.display.cursorDiv,"CodeMirror-overwrite"),Oa(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Ui()},scrollTo:De(function(t,e){null==t&&null==e||In(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Xt(this)-this.display.barHeight,width:t.scrollWidth-Xt(this)-this.display.barWidth,clientHeight:Yt(this),clientWidth:Gt(this)}},scrollIntoView:De(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Bo(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)In(this),this.curOp.scrollToPos=t;else{var n=Pn(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:De(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=n(t)),null!=e&&(r.display.wrapper.style.height=n(e)),r.options.lineWrapping&&se(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Pe(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,Oa(r,"refresh",this)}),operation:function(t){return Le(this,t)},refresh:De(function(){var t=this.display.cachedTextHeight;Re(this),this.curOp.forceUpdate=!0,le(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),h(this),(null==t||Math.abs(t-be(this.display))>.5)&&a(this),Oa(this,"refresh",this)}),swapDoc:De(function(t){var e=this.doc;return e.cm=null,Jr(this,t),le(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,Si(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Li(t);var ta=t.defaults={},ea=t.optionHandlers={},na=t.Init={toString:function(){return"CodeMirror.Init"}};Un("value","",function(t,e){t.setValue(e)},!0),Un("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Un("indentUnit",2,n,!0),Un("indentWithTabs",!1),Un("smartIndent",!0),Un("tabSize",4,function(t){r(t),le(t),Re(t)},!0),Un("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],r=t.doc.first;t.doc.iter(function(t){for(var i=0;;){var o=t.text.indexOf(e,i);if(o==-1)break;i=o+e.length,n.push(Bo(r,o))}r++});for(var i=n.length-1;i>=0;i--)On(t.doc,e,n[i],Bo(n[i].line,n[i].ch+e.length))}}),Un("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,n,r){e.state.specialChars=new RegExp(n.source+(n.test("\t")?"":"|\t"),"g"),r!=t.Init&&e.refresh()}),Un("specialCharPlaceholder",Ir,function(t){t.refresh()},!0),Un("electricChars",!0),Un("inputStyle",Lo?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Un("rtlMoveVisually",!Do),Un("wholeLineUpdateBefore",!0),Un("theme","default",function(t){s(t),u(t)},!0),Un("keyMap","default",function(e,n,r){var i=Gn(n),o=r!=t.Init&&Gn(r);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),Un("extraKeys",null),Un("lineWrapping",!1,i,!0),Un("gutters",[],function(t){g(t.options),u(t)},!0),Un("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?T(t.display)+"px":"0",t.refresh()},!0),Un("coverGutterNextToScrollbar",!1,function(t){x(t)},!0),Un("scrollbarStyle","native",function(t){b(t),x(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Un("lineNumbers",!1,function(t){g(t.options),u(t)},!0),Un("firstLineNumber",1,u,!0),Un("lineNumberFormatter",function(t){return t},u,!0),Un("showCursorWhenSelecting",!1,zt,!0),Un("resetSelectionOnContextMenu",!0),Un("lineWiseCopyCut",!0),Un("readOnly",!1,function(t,e){"nocursor"==e?(bn(t),t.display.input.blur(),t.display.disabled=!0):t.display.disabled=!1,t.display.input.readOnlyChanged(e)}),Un("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Un("dragDrop",!0,qe),Un("allowDropFileTypes",null),Un("cursorBlinkRate",530),Un("cursorScrollMargin",0),Un("cursorHeight",1,zt,!0),Un("singleCursorHeightPerLine",!0,zt,!0),Un("workTime",100),Un("workDelay",100),Un("flattenSpans",!0,r,!0),Un("addModeClass",!1,r,!0),Un("pollInterval",100),Un("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Un("historyEventDelay",1250),Un("viewportMargin",10,function(t){t.refresh()},!0),Un("maxHighlightLength",1e4,r,!0),Un("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Un("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Un("autofocus",null);var ra=t.modes={},ia=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),ra[e]=n},t.defineMIME=function(t,e){ia[t]=e},t.resolveMode=function(e){if("string"==typeof e&&ia.hasOwnProperty(e))e=ia[e];else if(e&&"string"==typeof e.name&&ia.hasOwnProperty(e.name)){var n=ia[e.name];"string"==typeof n&&(n={name:n}),e=Pi(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=ra[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(oa.hasOwnProperty(n.name)){var o=oa[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var oa=t.modeExtensions={};t.extendMode=function(t,e){var n=oa.hasOwnProperty(t)?oa[t]:oa[t]={};Bi(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){ka.prototype[t]=e},t.defineOption=Un;var aa=[];t.defineInitHook=function(t){aa.push(t)};var sa=t.helpers={};t.registerHelper=function(e,n,r){sa.hasOwnProperty(e)||(sa[e]=t[e]={_global:[]}),sa[e][n]=r},t.registerGlobalHelper=function(e,n,r,i){t.registerHelper(e,n,i),sa[e]._global.push({pred:r,val:i})};var la=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},ua=t.startState=function(t,e,n){return!t.startState||t.startState(e,n)};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var ca=t.commands={selectAll:function(t){t.setSelection(Bo(t.firstLine(),0),Bo(t.lastLine()),Pa)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Pa)},killLine:function(t){$n(t,function(e){if(e.empty()){var n=Zr(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:Bo(e.head.line+1,0)}:{from:e.head,to:Bo(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){$n(t,function(e){return{from:Bo(e.from().line,0),to:yt(t.doc,Bo(e.to().line+1,0))}})},delLineLeft:function(t){$n(t,function(t){return{from:Bo(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){$n(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){$n(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Bo(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Bo(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return ao(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return lo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return so(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Wa)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Wa)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?lo(t,e.head):r},Wa)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Ia(t.getLine(o.line),o.ch,r);e.push(new Array(r-a%r+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Le(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++){var i=e[r].head,o=Zr(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new Bo(i.line,i.ch-1)),i.ch>0)i=new Bo(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),Bo(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Zr(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),Bo(i.line-1,a.length-1),Bo(i.line,1),"+transpose")}n.push(new pt(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){Le(t,function(){for(var e=t.listSelections().length,n=0;n<e;n++){var r=t.listSelections()[n];t.replaceRange(t.doc.lineSeparator(),r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0)}Wn(t)})},toggleOverwrite:function(t){t.toggleOverwrite()}},fa=t.keyMap={};fa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},fa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},fa.emacsy={"Ctrl-F":"goCharRight",
"Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},fa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},fa["default"]=Eo?fa.macDefault:fa.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=zi(n.split(" "),Xn),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=i.join(" "),a=r):(s=i.slice(0,o+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t};var ha=t.lookupKey=function(t,e,n,r){e=Gn(e);var i=e.call?e.call(t,r):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return ha(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=ha(t,e.fallthrough[o],n,r);if(a)return a}}},da=t.isModifierKey=function(t){var e="string"==typeof t?t:os[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},pa=t.keyName=function(t,e){if(So&&34==t.keyCode&&t["char"])return!1;var n=os[t.keyCode],r=n;return null!=r&&!t.altGraphKey&&(t.altKey&&"Alt"!=n&&(r="Alt-"+r),(Fo?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(Fo?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};t.fromTextArea=function(e,n){function r(){e.value=u.getValue()}if(n=n?Bi(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=Ui();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(La(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(l){}}n.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Da(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))}},e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return u};var ga=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ga.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));if(n)return++this.pos,e},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ia(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ia(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Ia(this.string,null,this.tabSize)-(this.lineStart?Ia(this.string,this.lineStart,this.tabSize):0)},match:function ls(t,e,n){if("string"!=typeof t){var ls=this.string.slice(this.pos).match(t);return ls&&ls.index>0?null:(ls&&e!==!1&&(this.pos+=ls[0].length),ls)}var r=function(t){return n?t.toLowerCase():t},i=this.string.substr(this.pos,t.length);if(r(i)==r(t))return e!==!1&&(this.pos+=t.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var ma=0,va=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++ma};Li(va),va.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&we(t),Ai(this,"clear")){var n=this.find();n&&Si(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=er(a.markedSpans,this);t&&!this.collapsed?Pe(t,ni(a),"text"):t&&(null!=s.to&&(i=ni(a)),null!=s.from&&(r=ni(a))),a.markedSpans=nr(a.markedSpans,s),null==s.from&&this.collapsed&&!Cr(this.doc,a)&&t&&ei(a,be(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=br(this.lines[o]),u=d(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Re(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Dt(t.doc)),t&&Si(t,"markerCleared",t,this),e&&Ce(t),this.parent&&this.parent.clear()}},va.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=er(o.markedSpans,this);if(null!=a.from&&(n=Bo(e?o:ni(o),a.from),t==-1))return n;if(null!=a.to&&(r=Bo(e?o:ni(o),a.to),1==t))return r}return n&&{from:n,to:r}},va.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&Le(n,function(){var r=t.line,i=ni(t.line),o=te(n,i);if(o&&(ae(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!Cr(e.doc,r)&&null!=e.height){var a=e.height;e.height=null;var s=Tr(e)-a;s&&ei(r,r.height+s)}})},va.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&Fi(e.maybeHiddenMarkers,this)!=-1||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},va.prototype.detachLine=function(t){if(this.lines.splice(Fi(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ma=0,ya=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};Li(ya),ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();Si(this,"clear")}},ya.prototype.find=function(t,e){return this.primary.find(t,e)};var ba=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=t,this.node=e};Li(ba),ba.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,r=ni(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=Tr(this);ei(n,Math.max(0,n.height-o)),t&&Le(t,function(){Sr(t,n,-o),Pe(t,r,"widget")})}},ba.prototype.changed=function(){var t=this.height,e=this.doc.cm,n=this.line;this.height=null;var r=Tr(this)-t;r&&(ei(n,n.height+r),e&&Le(e,function(){e.curOp.forceUpdate=!0,Sr(e,n,r)}))};var xa=t.Line=function(t,e,n){this.text=t,fr(this,e),this.height=n?n(this):1};Li(xa),xa.prototype.lineNo=function(){return ni(this)};var wa={},_a={};Gr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;n<r;++n){var i=this.lines[n];this.height-=i.height,Ar(i),Si(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;t<r;++t)if(n(this.lines[t]))return!0}},Yr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(t<i){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Gr))){var s=[];this.collapse(s),this.children=[new Gr(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<=o){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Gr(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new Yr(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=Fi(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new Yr(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(t<o){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var Ca=0,ka=t.Doc=function(t,e,n,r){if(!(this instanceof ka))return new ka(t,e,n,r);null==n&&(n=0),Yr.call(this,[new Gr([new xa("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var i=Bo(n,0);this.sel=mt(i),this.history=new ai(null),this.id=++Ca,this.modeOption=e,this.lineSep=r,this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),Xr(this,{from:i,to:i,text:t}),At(this,mt(i),Pa)};ka.prototype=Pi(Yr.prototype,{constructor:ka,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=ti(this,this.first,this.first+this.size);return t===!1?e:e.join(t||this.lineSeparator())},setValue:Oe(function(t){var e=Bo(this.first,0),n=this.first+this.size-1;Mn(this,{from:e,to:Bo(n,Zr(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),At(this,mt(e))}),replaceRange:function(t,e,n,r){e=yt(this,e),n=n?yt(this,n):e,On(this,t,e,n,r)},getRange:function(t,e,n){var r=Qr(this,yt(this,t),yt(this,e));return n===!1?r:r.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if(xt(this,t))return Zr(this,t)},getLineNumber:function(t){return ni(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Zr(this,t)),br(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return yt(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Oe(function(t,e,n){Tt(this,yt(this,"number"==typeof t?Bo(t,e||0):t),null,n)}),setSelection:Oe(function(t,e,n){Tt(this,yt(this,t),yt(this,e||t),n)}),extendSelection:Oe(function(t,e,n){Ct(this,yt(this,t),e&&yt(this,e),n)}),extendSelections:Oe(function(t,e){kt(this,wt(this,t,e))}),extendSelectionsBy:Oe(function(t,e){kt(this,zi(this.sel.ranges,t),e)}),setSelections:Oe(function(t,e,n){if(t.length){for(var r=0,i=[];r<t.length;r++)i[r]=new pt(yt(this,t[r].anchor),yt(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),At(this,gt(i,e),n)}}),addSelection:Oe(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new pt(yt(this,t),yt(this,e||t))),At(this,gt(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Qr(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Qr(this,n[r].from(),n[r].to());t!==!1&&(i=i.join(t||this.lineSeparator())),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:Oe(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:this.splitLines(t[o]),origin:n}}for(var s=e&&"end"!=e&&Sn(this,r,e),o=r.length-1;o>=0;o--)Mn(this,r[o]);s?Nt(this,s):this.cm&&Wn(this.cm)}),undo:Oe(function(){An(this,"undo")}),redo:Oe(function(){An(this,"redo")}),undoSelection:Oe(function(){An(this,"undo",!0)}),redoSelection:Oe(function(){An(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new ai(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:vi(this.history.done),undone:vi(this.history.undone)}},setHistory:function(t){var e=this.history=new ai(this.history.maxGeneration);e.done=vi(t.done.slice(0),null,!0),e.undone=vi(t.undone.slice(0),null,!0)},addLineClass:Oe(function(t,e,n){return jn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Xi(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:Oe(function(t,e,n){return jn(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(Xi(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),addLineWidget:Oe(function(t,e,n){return Mr(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Yn(this,yt(this,t),yt(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=yt(this,t),Yn(this,t,t,n,"bookmark")},findMarksAt:function(t){t=yt(this,t);var e=[],n=Zr(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=yt(this,t),e=yt(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];i==t.line&&t.ch>l.to||null==l.from&&i!=t.line||i==e.line&&l.from>e.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>t?(e=t,!0):(t-=i,void++n)}),yt(this,Bo(n,e))},indexFromPos:function(t){t=yt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new ka(ti(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new ka(ti(this,e,n),t.mode||this.modeOption,e,this.lineSep);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Zn(r,Jn(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Qn(Jn(this));break}}if(e.history==this.history){var i=[e.id];Kr(e,function(t){i.push(t.id)},!0),e.history=new ai(null),e.history.done=vi(this.history.done,i),e.history.undone=vi(this.history.undone,i)}},iterLinkedDocs:function(t){Kr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):es(t)},lineSeparator:function(){return this.lineSep||"\n"}}),ka.prototype.eachLine=ka.prototype.iter;var Sa="iter insert remove copy getEditor constructor".split(" ");for(var Ta in ka.prototype)ka.prototype.hasOwnProperty(Ta)&&Fi(Sa,Ta)<0&&(t.prototype[Ta]=function(t){return function(){return t.apply(this.doc,arguments)}}(ka.prototype[Ta]));Li(ka);var Ma=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},Na=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},Aa=t.e_stop=function(t){Ma(t),Na(t)},La=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}},Ea=[],Da=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else for(var r=ki(t,e,!1),i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}},Oa=t.signal=function(t,e){var n=ki(t,e,!0);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},Fa=null,za=30,Ra=t.Pass={toString:function(){return"CodeMirror.Pass"}},Pa={scroll:!1},Ba={origin:"*mouse"},Wa={origin:"+move"};Ei.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Ia=t.countColumn=function(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));for(var o=r||0,a=i||0;;){var s=t.indexOf("\t",o);if(s<0||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}},Ha=t.findColumn=function(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("\t",r);o==-1&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}},ja=[""],$a=function(t){t.select()};Ao?$a=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:xo&&($a=function(t){try{t.select()}catch(e){}});var qa,Va=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Ua=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Va.test(t))},Xa=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;qa=document.createRange?function(t,e,n,r){var i=document.createRange();return i.setEnd(r||t,n),i.setStart(t,e),i}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r};var Ga=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};xo&&wo<11&&(Ui=function(){try{return document.activeElement}catch(t){return document.body}});var Ya,Ka,Ja=t.rmClass=function(t,e){var n=t.className,r=Xi(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")}},Za=t.addClass=function(t,e){var n=t.className;Xi(e).test(n)||(t.className+=(n?" ":"")+e)},Qa=!1,ts=function(){if(xo&&wo<9)return!1;var t=$i("div");return"draggable"in t||"dragDrop"in t}(),es=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;e<=r;){var i=t.indexOf("\n",e);i==-1&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");a!=-1?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},ns=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},rs=function(){var t=$i("div");return"oncopy"in t||(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),is=null,os=t.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};!function(){for(var t=0;t<10;t++)os[t+48]=os[t+96]=String(t);for(var t=65;t<=90;t++)os[t]=String.fromCharCode(t);for(var t=1;t<=12;t++)os[t+111]=os[t+63235]="F"+t}();var as,ss=function(){function t(t){return t<=247?n.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?r.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,u="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,f=[],h=0;h<c;++h)f.push(r=t(n.charCodeAt(h)));for(var h=0,d=u;h<c;++h){var r=f[h];"m"==r?f[h]=d:d=r}for(var h=0,p=u;h<c;++h){var r=f[h];"1"==r&&"r"==p?f[h]="n":a.test(r)&&(p=r,"r"==r&&(f[h]="R"))}for(var h=1,d=f[0];h<c-1;++h){var r=f[h];"+"==r&&"1"==d&&"1"==f[h+1]?f[h]="1":","!=r||d!=f[h+1]||"1"!=d&&"n"!=d||(f[h]=d),d=r}for(var h=0;h<c;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var g=h+1;g<c&&"%"==f[g];++g);for(var m=h&&"!"==f[h-1]||g<c&&"1"==f[g]?"1":"N",v=h;v<g;++v)f[v]=m;h=g-1}}for(var h=0,p=u;h<c;++h){var r=f[h];"L"==p&&"1"==r?f[h]="L":a.test(r)&&(p=r)}for(var h=0;h<c;++h)if(o.test(f[h])){for(var g=h+1;g<c&&o.test(f[g]);++g);for(var y="L"==(h?f[h-1]:u),b="L"==(g<c?f[g]:u),m=y||b?"L":"R",v=h;v<g;++v)f[v]=m;h=g-1}for(var x,w=[],h=0;h<c;)if(s.test(f[h])){var _=h;for(++h;h<c&&s.test(f[h]);++h);w.push(new e(0,_,h))}else{var C=h,k=w.length;for(++h;h<c&&"L"!=f[h];++h);for(var v=C;v<h;)if(l.test(f[v])){C<v&&w.splice(k,0,new e(1,C,v));var S=v;for(++v;v<h&&l.test(f[v]);++v);w.splice(k,0,new e(2,S,v)),C=v}else++v;C<h&&w.splice(k,0,new e(1,C,h))}return 1==w[0].level&&(x=n.match(/^\s+/))&&(w[0].from=x[0].length,w.unshift(new e(0,0,x[0].length))),1==Oi(w).level&&(x=n.match(/\s+$/))&&(Oi(w).to-=x[0].length,w.push(new e(0,c-x[0].length,c))),2==w[0].level&&w.unshift(new e(1,w[0].to,w[0].to)),w[0].level!=Oi(w).level&&w.push(new e(w[0].level,c,c)),w}}();return t.version="5.9.0",t})}).call(e,n(24)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(9),o=r(i);e["default"]=new o["default"]},,,,,,,,,,,,,,,,,,,,,function(t,e,n){var r,i;n(119),r=n(62);var o=n(135);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"Resizer",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},,function(t,e,n){var r,i,o;(function(t){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(6),l=a(s);!function(a){"object"==(0,l["default"])(e)&&"object"==(0,l["default"])(t)?a(n(1)):(i=[n(1)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(function(t){function e(e,n,r){function i(e){var n=t.wheelEventPixels(e)["horizontal"==o.orientation?"x":"y"],r=o.pos;o.moveTo(o.pos+n),o.pos!=r&&t.e_preventDefault(e)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=e+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var o=this;t.on(this.inner,"mousedown",function(e){function n(){t.off(document,"mousemove",r),t.off(document,"mouseup",n)}function r(t){return 1!=t.which?n():void o.moveTo(s+(t[i]-a)*(o.total/o.size))}if(1==e.which){t.e_preventDefault(e);var i="horizontal"==o.orientation?"pageX":"pageY",a=e[i],s=o.pos;t.on(document,"mousemove",r),t.on(document,"mouseup",n)}}),t.on(this.node,"click",function(e){t.e_preventDefault(e);var n,r=o.inner.getBoundingClientRect();n="horizontal"==o.orientation?e.clientX<r.left?-1:e.clientX>r.right?1:0:e.clientY<r.top?-1:e.clientY>r.bottom?1:0,o.moveTo(o.pos+n*o.screen)}),t.on(this.node,"mousewheel",i),t.on(this.node,"DOMMouseScroll",i)}function n(t,n,r){this.addClass=t,this.horiz=new e(t,"horizontal",r),n(this.horiz.node),this.vert=new e(t,"vertical",r),n(this.vert.node),this.width=null}e.prototype.moveTo=function(t,e){t<0&&(t=0),t>this.total-this.screen&&(t=this.total-this.screen),t!=this.pos&&(this.pos=t,this.inner.style["horizontal"==this.orientation?"left":"top"]=t*(this.size/this.total)+"px",e!==!1&&this.scroll(t,this.orientation))};var r=10;e.prototype.update=function(t,e,n){this.screen=e,this.total=t,this.size=n;var i=this.screen*(this.size/this.total);i<r&&(this.size-=r-i,i=r),this.inner.style["horizontal"==this.orientation?"width":"height"]=i+"px",this.inner.style["horizontal"==this.orientation?"left":"top"]=this.pos*(this.size/this.total)+"px"},n.prototype.update=function(t){if(null==this.width){var e=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;e&&(this.width=parseInt(e.height))}var n=this.width||0,r=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(t.scrollHeight,t.clientHeight,t.viewHeight-(r?n:0)),this.vert.node.style.display="block",this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(t.scrollWidth,t.clientWidth,t.viewWidth-(i?n:0)-t.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=t.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(t){this.vert.moveTo(t,!1)},n.prototype.setScrollLeft=function(t){this.horiz.moveTo(t,!1)},n.prototype.clear=function(){var t=this.horiz.node.parentNode;t.removeChild(this.horiz.node),t.removeChild(this.vert.node)},t.scrollbarModel.simple=function(t,e){return new n("CodeMirror-simplescroll",t,e)},t.scrollbarModel.overlay=function(t,e){return new n("CodeMirror-overlayscroll",t,e)}})}).call(e,n(24)(t))},,,,,,,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(){var t=this,e=t.paxer=a["default"]["new"](),n=t.semantic=new l["default"];t.compilee=function(){},t.compile=function(e){t.compilee(e),e&&(Cache.st={},h["default"].commit("updateStateSymbolTable",{symbols:[]}),p["default"].$emit("sys:console.log","Compile '"+e.fileName+"'..."),t.paxer.setInput(e.content))},t.preprocesscode=function(t){var e,n=/(\+|\-|\*|\/|!=|>=?|<=?|==?)/g,r=/(\(|\)|\{|}|;|,|\$)/g;return t=t.replace(/\n/g," ").replace(n," $1 ").replace(r," $1 ").replace(/[ ]+/g," ").replace(/(else|then)\s+\{/g,"$1{").replace(/}\s+(else)/,"}$1").trim()+" ",e=t.replace(/(then|else|then\{|else\{|}else\{|\{|}|;)\s/g,"$1\n").replace(/\s+(,|;|\))/g,"$1").replace(/\(\s+/g,"(").replace(/(then|else)\{/g,"$1 {").replace(/}(else)/,"} $1")},t.compileNext=function(){var t=e.getStatus();if("DONE"!=t&&"ERROR"!=t){switch(e.go(),t=e.getStatus()){case"DONE":return n.eat(e.getRootS(),e.getSymbolTable()),p["default"].$emit("sys:console.success",e.getCurMovementF()),p["default"].$emit("sys:console.success","code parsed."),p["default"].$emit("sys:console.warn",e.getWarningMsg()),p["default"].$emit("sys:console.error",n.getErrorMsg()),void p["default"].$emit("sys:parse-tree.assembly",n.getAssembly());case"ERROR":return void p["default"].$emit("sys:console.error",e.getErrMsg());case"WARNING":case"NORMAL":p["default"].$emit("sys:console.success",e.getCurMovementF()),p["default"].$emit("sys:parse-tree.render",e.getSequentialNodes())}return h["default"].commit("updateStateSymbolTable",{symbols:e.getSymbolTable()}),t}},t.compileFF=function(){var t=e.getStatus();if("DONE"==t)p["default"].$emit("sys:console.success","code parsed.");else if("ERROR"==e.getStatus())p["default"].$emit("sys:console.error",e.getErrMsg());else{
for(c["default"].mark("parse");"DONE"!=e.getStatus()&&"ERROR"!=e.getStatus();)e.go();switch(t=e.getStatus()){case"DONE":n.eat(e.getRootS(),e.getSymbolTable());var r=c["default"].measure("parse");p["default"].$emit("sys:parse-tree.assembly",n.getAssembly()),p["default"].$emit("sys:console.success",e.getMovementsF()),p["default"].$emit("sys:console.warn",e.getWarningMsg()),p["default"].$emit("sys:console.error",n.getErrorMsg()),p["default"].$emit("sys:console.success","Compile finished in "+r.toFixed(4)+" millisecs."),p["default"].$emit("sys:console.success","Can we make it faster?");break;case"ERROR":p["default"].$emit("sys:console.error",e.getErrMsg())}}return h["default"].commit("updateStateSymbolTable",{symbols:e.getSymbolTable()}),t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(68),a=r(o),s=n(69),l=r(s),u=n(67),c=r(u),f=n(46),h=r(f),d=n(2),p=r(d);e["default"]=new i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=void 0;e["default"]=function(t){var e="test";try{return t.setItem(e,"1"),t.removeItem(e),t}catch(r){return n?n:(t=function(){var t={};return{setItem:function(e,n){return t[e]=String(n),t[e]},getItem:function(e){return t.hasOwnProperty(e)?this._data[e]:void 0},removeItem:function(e){return delete t[e]},clear:function(){return t={}}}}(),n=t)}}},function(t,e,n){var r,i,o;(function(t){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(6),l=a(s);!function(a){"object"==(0,l["default"])(e)&&"object"==(0,l["default"])(t)?a(n(1)):(i=[n(1)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(function(t){t.defineMode("console",function(t,e){var n={"+":"positive","-":"negative",":":"comment","@":"def"};return{startState:function(){return{ctx:n[":"]}},token:function(t,e){var r=t.string.search(/[\t ]+?$/);if(!t.sol()||0===r)return t.skipToEnd(),e.ctx;var i=n[t.peek()]||t.skipToEnd();r===-1?t.skipToEnd():t.pos=r;var o=e.ctx=i||e.ctx;return o}}})})}).call(e,n(24)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return new a["default"]({data:{file:t,cachedContent:t.content,cursorPosition:{line:0,ch:0},history:{done:[],undone:[]}},computed:{unsaved:function(){return this.cachedContent!=this.file.content}}})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),a=r(o);e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){return void 0!==t}function o(t,e,n){return new u["default"]({data:{isNew:!i(n)||n,name:i(t)?t.replace(/(\.toy)$/,""):"untitled",content:e||""},computed:{fileName:function(){return this.isNew?this.name:this.name+".toy"}},methods:{serialize:function(){return(0,s["default"])({name:this.name,content:this.content})}}})}Object.defineProperty(e,"__esModule",{value:!0});var a=n(26),s=r(a),l=n(9),u=r(l);o.example=function(){return new o("example","{\n    int a;\n    real b;\n    a = 1;\n    b = 2.0;\n    if (a > b) then {\n        b = a;\n    } else {\n        b = b - a;\n    }\n}",(!1))},e["default"]=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(47),o=r(i),a=n(9),s=r(a),l=n(5),u=r(l),c=n(75),f=r(c),h=n(74),d=r(h);s["default"].use(u["default"]),e["default"]=new u["default"].Store({modules:{fileManager:f["default"],editor:d["default"]},state:{ui:{mode:"edit"},about:{show:!1},console:{open:!1,height:0},workspace:{open:!0,width:200},symbolTable:{open:!1,width:300,symbols:[]},parseTree:{open:!1,width:300},renameDialog:{show:!1,name:"",renaming:null}},mutations:{updateState:function(t,e){var n=t[e.key];n&&(0,o["default"])(n).forEach(function(t){e.hasOwnProperty(t)&&(n[t]=e[t])})},updateStateAbout:function(t,e){(0,o["default"])(t.about).forEach(function(n){e.hasOwnProperty(n)&&(t.about[n]=e[n])})},updateStateConsole:function(t,e){(0,o["default"])(t.console).forEach(function(n){e.hasOwnProperty(n)&&(t.console[n]=e[n])})},updateStateWorkspace:function(t,e){(0,o["default"])(t.workspace).forEach(function(n){e.hasOwnProperty(n)&&(t.workspace[n]=e[n])})},updateStateSymbolTable:function(t,e){(0,o["default"])(t.symbolTable).forEach(function(n){e.hasOwnProperty(n)&&(t.symbolTable[n]=e[n])})},updateStateParseTree:function(t,e){(0,o["default"])(t.parseTree).forEach(function(n){e.hasOwnProperty(n)&&(t.parseTree[n]=e[n])})},updateStateUI:function(t,e){(0,o["default"])(t.ui).forEach(function(n){e.hasOwnProperty(n)&&(t.ui[n]=e[n])})},updateStateRenameDialog:function(t,e){(0,o["default"])(t.renameDialog).forEach(function(n){e.hasOwnProperty(n)&&(t.renameDialog[n]=e[n])})}},actions:{}})},,,,,,,,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(128),s=r(a),l=n(125),u=r(l),c=n(5),f=n(2),h=r(f);e["default"]={components:{ToolBar:s["default"],Layout:u["default"]},computed:(0,o["default"])({},(0,c.mapState)(["about","console","workspace","symbolTable","parseTree","ui","renameDialog","fileManager"]),(0,c.mapGetters)(["currentCursorPos","editorNeedSave"])),methods:(0,o["default"])({},(0,c.mapMutations)(["updateStateAbout","updateStateConsole","updateStateWorkspace","updateStateSymbolTable","updateStateParseTree","updateStateUI","updateStateRenameDialog"]),(0,c.mapActions)(["saveFilesToStorage","cacheFile"]),{hideAbout:function(){this.updateStateAbout({show:!1})},toggleAbout:function(){this.updateStateAbout({show:!this.about.show})},toggleConsole:function(){this.updateStateConsole({open:!this.console.open})},toggleWorkspace:function(){this.updateStateWorkspace({open:!this.workspace.open})},toggleSymbolTable:function(){this.updateStateSymbolTable({open:!this.symbolTable.open})},toggleParseTree:function(){this.updateStateParseTree({open:!this.parseTree.open})},compileMode:function(t){t?(this.updateStateUI({mode:"compile"}),this.updateStateWorkspace({open:!1}),this.updateStateSymbolTable({open:!0}),this.updateStateParseTree({open:!0}),this.updateStateConsole({open:!0}),this.$nextTick(function(){h["default"].$emit("sys:parse-tree.reset"),h["default"].$emit("sys:parse-tree.resize"),h["default"].$emit("sys:console.clear")})):(this.updateStateUI({mode:"edit"}),this.updateStateWorkspace({open:!0}),this.updateStateSymbolTable({open:!1}),this.updateStateParseTree({open:!1}))},renameFile:function(t){this.updateStateRenameDialog({show:!0,renaming:t,name:t.name})},onRenameConfirm:function(){var t=this.renameDialog.name.replace(/(\.toy)+$/,"");this.fileManager.fileMap[t+".toy"]&&!confirm("File '"+t+".toy' already exists. Want to overwrite?")||(this.renameDialog.renaming.name=t,this.renameDialog.renaming.isNew=!1,this.cacheFile(this.renameDialog.renaming),this.saveFilesToStorage(),h["default"].$emit("sys:rename.confirm",this.renameDialog.renaming),this.updateStateRenameDialog({show:!1,renaming:null,name:""}))},onRenameCancel:function(){h["default"].$emit("sys:rename.cancel",this.renameDialog.renaming),this.updateStateRenameDialog({show:!1,renaming:null,name:""})}}),created:function(){var t=this;h["default"].$on("sys:compile",this.compileMode),h["default"].$on("sys:rename",this.renameFile),window.onbeforeunload=function(){if(t.editorNeedSave)return"未保存的修改将丢失"},window.onunload=function(){h["default"].$emit("sys:editor.save"),this.saveFilesToStorage()}},mounted:function(){h["default"].$emit("sys:console.log","Compiler lauched at "+(new Date).toTimeString())}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){return t+e.replace(/\s*\n/g,"\n  ")+"\n"}function o(t,e){return t.split("\n").slice(-e).join("\n")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),s=r(a),l=n(5),u=n(2),c=r(u),f=n(1),h=r(f);n(25),n(43),e["default"]={components:{Resizer:s["default"]},props:{height:{type:Number,twoWay:!0}},data:function(){return{cm:null,oldHeight:0}},computed:(0,l.mapState)(["console"]),watch:{"console.open":function(t){t&&this.cm&&this.cm.focus()}},methods:{onResizeBegin:function(){this.oldHeight=this.height},onResize:function(t){this.$emit("console:resize",this.oldHeight-t)},outputWithAddon:function(t,e){e&&(this.cm?(e instanceof Object&&(e=e.toString()),this.cm.setValue(o(this.cm.getValue()+i(t,e),1e3))):window.console.log(e))},log:function(t){this.cm?this.cm.setValue(o(this.cm.getValue()+i(": ",t),1e3)):window.console.log(t)},error:function(t){this.outputWithAddon("- ",t)},success:function(t){this.outputWithAddon("+ ",t)},warn:function(t){this.outputWithAddon("@ ",t)},clear:function(){this.cm.setValue("")}},created:function(){c["default"].$on("sys:console.log",this.log).$on("sys:console.error",this.error).$on("sys:console.success",this.success).$on("sys:console.warn",this.warn).$on("sys:console.clear",this.clear)},mounted:function(){var t=this.cm=h["default"].fromTextArea(this.$refs.textarea,{theme:"monokai-so",mode:"console",readOnly:"nocursor",scrollbarStyle:"overlay",viewportMargin:1/0});t.on("change",function(t){t.scrollIntoView(t.doc.lastLine(),1)})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=r(i),a=n(10),s=r(a),l=n(45),u=r(l),c=n(44),f=(r(c),n(2)),h=r(f),d=(n(9),n(1)),p=r(d),g=n(5),m=n(41),v=r(m),y=n(42),b=r(y);n(25),n(73);var x=(0,b["default"])(window.localStorage);e["default"]={data:function(){return{cm:null}},computed:(0,s["default"])({},(0,g.mapState)({editorState:"editor",fileManager:"fileManager"}),(0,g.mapGetters)(["unsavedTabs"]),{tabs:function(){return this.editorState.tabs},currentTab:function(){return this.editorState.currentTab}}),methods:(0,s["default"])({},(0,g.mapActions)(["openFile","closeTab","switchTab","saveFilesToStorage"]),(0,g.mapMutations)(["setCompilee","updateStateUI"]),{openNewFile:function(){var t=this,e=new u["default"];e&&(h["default"].$emit("sys:rename",e),h["default"].$on("sys:rename.confirm",function(){t.openFile(e),h["default"].$off("sys:rename.confirm")}))},saveAllTabs:function(){var t=this;this.unsavedTabs.forEach(function(t){t.file.content=t.cachedContent}),this.saveFilesToStorage();var e=[];this.editorState.tabs.forEach(function(n){e.push(n.file.fileName),n==t.currentTab&&x.setItem("last-editing",n.file.fileName)}),x.setItem("opened-files",(0,o["default"])(e))},formatCode:function(){var t=this.cm.getValue();this.cm.setValue(v["default"].preprocesscode(t));for(var e=0;e<this.cm.doc.lastLine();e++)this.cm.indentLine(e,"smart");this.cm.focus()},compile:function(){var t=this.currentTab;if(t){this.saveAllTabs();var e=t.file;if(e.isNew)return;this.lock(),this.setCompilee(e),h["default"].$emit("sys:compile",!0),v["default"].compile(e)}},stop:function(){this.unlock(),this.setCompilee(null),h["default"].$emit("sys:compile",!1)},lock:function(){this.cm.setOption("readOnly","nocursor")},unlock:function(){this.cm.setOption("readOnly",!1)},loadOpenedFiles:function(){var t=this,e=JSON.parse(x.getItem("opened-files")||"[]"),n=x.getItem("last-editing");e.push(n),e.forEach(function(e){var n=t.fileManager.fileMap[e];n&&t.openFile(n)})}}),watch:{"editorState.currentTab":function(t,e){e&&(e.cursorPosition=this.cm.doc.getCursor(),e.history=this.cm.doc.getHistory(),e.cachedContent=this.cm.getValue()),t&&(this.cm.setValue(t.cachedContent),this.cm.doc.setHistory(t.history),this.cm.doc.setCursor(t.cursorPosition),this.cm.focus())}},created:function(){h["default"].$on("sys:editor.open",this.openFile),h["default"].$on("sys:editor.save",this.saveAllTabs),h["default"].$on("sys:editor.tidy",this.formatCode),h["default"].$on("sys:editor.compile",this.compile),h["default"].$on("sys:editor.stop",this.stop),this.loadOpenedFiles()},mounted:function(){var t=this,e=this.cm=p["default"].fromTextArea(this.$refs.textarea,{lineNumbers:!0,mode:"toy",indentUnit:4,theme:"monokai-so",autoCloseBrackets:!0,matchBrackets:!0,styleActiveLine:!0,showCursorWhenSelecting:!0,scrollbarStyle:"overlay",selectionPointer:!0,styleSelectedText:!0});e.on("change",function(e,n){t.currentTab&&(t.currentTab.cachedContent=e.getValue())}),p["default"].commands.save=function(){t.saveAllTabs()},e.on("cursorActivity",function(e){t.currentTab&&(t.currentTab.cursorPosition=e.doc.getCursor())})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(129),s=r(a),l=n(127),u=r(l),c=n(126),f=r(c),h=n(124),d=r(h),p=n(123),g=r(p),m=n(2),v=r(m),y=n(5);e["default"]={components:{Workspace:s["default"],SymbolTable:u["default"],ParseTree:f["default"],Editor:d["default"],Console:g["default"]},data:function(){return{elHeight:0,elWidth:0,storedConsoleHeight:0,workspaceWidth:0,symbolTableWidth:0,currentActiveBox:null}},computed:(0,o["default"])({},(0,y.mapState)(["workspace","console","symbolTable","parseTree"]),{consoleHeight:function(){return this.console.open?this.console.height:0},workspaceWidth:function(){return this.workspace.open?this.workspace.width:0},symbolTableWidth:function(){return this.symbolTable.open?this.symbolTable.width:0},parseTreeWidth:function(){return this.parseTree.open?this.parseTree.width:0},upperHeight:function(){return this.elHeight-this.consoleHeight-48},editorWidth:function(){return this.elWidth-this.workspaceWidth-this.symbolTableWidth-this.parseTreeWidth},upperStyleObj:function(){return{height:this.upperHeight+"px"}},centerStyleObj:function(){return{marginLeft:this.workspaceWidth+"px",marginRight:this.symbolTableWidth+"px"}},leftStyleObj:function(){return{width:this.workspaceWidth+"px"}},rightStyleObj:function(){return{width:this.symbolTableWidth+"px",marginLeft:-this.symbolTableWidth+"px"}}}),methods:(0,o["default"])({},(0,y.mapMutations)(["updateStateConsole","updateStateWorkspace","updateStateSymbolTable","updateStateParseTree"]),{onConsoleResize:function(t){this.updateStateConsole({height:Math.max(0,Math.min(this.elHeight,t))}),this.parseTree.open&&v["default"].$emit("sys:parse-tree.resize")},onConsoleClose:function(){this.updateStateConsole({open:!1})},onWorkspaceResize:function(t){this.updateStateWorkspace({width:Math.max(0,Math.min(this.elWidth-this.symbolTableWidth,t))})},onWorkspaceClose:function(){this.updateStateWorkspace({open:!1})},onSymbolTableResize:function(t){this.updateStateSymbolTable({width:Math.max(0,Math.min(this.elWidth-this.workspaceWidth-this.parseTreeWidth,t))})},onSymbolTableClose:function(){this.updateStateSymbolTable({open:!1})},onParseTreeResize:function(t){this.updateStateParseTree({width:Math.max(0,Math.min(this.elWidth-this.workspaceWidth-this.symbolTableWidth,t))}),v["default"].$emit("sys:parse-tree.resize")},onParseTreeClose:function(){this.updateStateParseTree({open:!1})}}),mounted:function(){this.elHeight=this.$el.clientHeight,this.elWidth=this.$el.clientWidth,this.updateStateConsole({height:.3*this.elHeight}),this.updateStateParseTree({width:this.elWidth-600})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(70),o=r(i),a=n(2),s=r(a),l=n(23),u=r(l),c=n(1),f=r(c);n(25),n(43),e["default"]={components:{Resizer:u["default"]},data:function(){return{oldWidth:0,pen:null,cm:null,showAssembly:!1}},props:{width:Number},methods:{onResizeBegin:function(){this.oldWidth=this.width},onResize:function(t){this.$emit("parse-tree:resize",this.oldWidth-t)},resizePen:function(){this.pen.render({width:this.$refs.boxBody.clientWidth,height:this.$refs.boxBody.clientHeight})},clearPen:function(){this.pen.canvas.clear()},resetPen:function(){this.pen.setSource([["0","program",1,"","1","0"]])},renderPen:function(t){this.pen.setSource(t),this.pen.render()},assembly:function(t){this.cm.setValue(t),this.showAssembly=!0}},mounted:function(){this.pen=new o["default"]("tree-pane",{radius:10}),s["default"].$on("sys:parse-tree.render",this.renderPen),s["default"].$on("sys:parse-tree.resize",this.resizePen),s["default"].$on("sys:parse-tree.reset",this.resetPen),this.cm=f["default"].fromTextArea(this.$refs.textarea,{theme:"monokai-so",mode:"console",readOnly:"nocursor",scrollbarStyle:"overlay",viewportMargin:1/0}),s["default"].$on("sys:parse-tree.assembly",this.assembly)}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{type:String},data:function(){return{resizing:!1,resizeStart:0,resizeEnd:0}},computed:{resizeDelta:function(){return this.resizeEnd-this.resizeStart}},methods:{onMouseDown:function(t){this.resizing=!0,this.resizeStart="horizontal"==this.type?t.clientY:t.clientX,this.$emit("resizer:begin")},onMouseMove:function(t){this.resizing&&(this.resizeEnd="horizontal"==this.type?t.clientY:t.clientX,this.$emit("resizer:resize",this.resizeDelta))},onMouseUp:function(){this.resizing=!1,this.$emit("resizer:end")}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(23),s=r(a),l=n(5);e["default"]={components:{Resizer:s["default"]},props:{width:Number},data:function(){return{oldWidth:0}},computed:(0,o["default"])({},(0,l.mapState)({symbolTableState:"symbolTable"}),{symbols:function(){return this.symbolTableState.symbols}}),methods:{onResizeBegin:function(){this.oldWidth=this.width},onResize:function(t){this.$emit("symbol-table:resize",this.oldWidth-t)}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(5),s=n(2),l=r(s),u=n(41),c=r(u);e["default"]={computed:(0,o["default"])({},(0,a.mapState)(["ui"]),(0,a.mapGetters)(["editorNeedSave"])),methods:(0,o["default"])({},(0,a.mapMutations)(["updateStateUI"]),{updateUIMode:function(t){this.updateStateUI({mode:t})},save:function(){l["default"].$emit("sys:editor.save")},tidy:function(){l["default"].$emit("sys:editor.tidy")},compile:function(){l["default"].$emit("sys:editor.compile")},stop:function(){l["default"].$emit("sys:editor.stop")},next:function(){c["default"].compileNext()},ff:function(){c["default"].compileFF()}})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(10),o=r(i),a=n(23),s=r(a),l=n(5),u=n(2),c=r(u);e["default"]={components:{Resizer:s["default"]},props:{width:Number},data:function(){return{oldWidth:0,selectedFile:null}},computed:(0,o["default"])({},(0,l.mapGetters)({files:"fileList"})),methods:{onResizeBegin:function(){this.oldWidth=this.width},onResize:function(t){this.$emit("workspace:resize",this.oldWidth+t)},openFileInEditor:function(t){c["default"].$emit("sys:editor.open",t)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.has=function(t,e){return t.indexOf(e)!=-1},e.hasThose=function(t,e){return t.filter(e).length>0},e.remove=function(t,e){var n=t.indexOf(e);n!=-1&&t.splice(n,1)},e.front=function(t){return t[0]},e.rear=function(t){if(t.length)return t[t.length-1]}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={},r=function(t){n[t]=window.performance?window.performance.now():(new Date).getTime()},i=function(t){var e=window.performance?window.performance.now():(new Date).getTime();return e-n[t]},o=function(t,e,n){r("test");for(var o=0;o<e;o++)t.apply(n||this,Array.prototype.slice.call(arguments,3));var s=i("test");return a("test"),s},a=function(t){delete n[t]};e["default"]={mark:r,measure:i,test:o,clear:a}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),o=r(i),a=void 0,s={"new":function(){var t,e,n={},r=0;return n.handle=function(n){function i(n){var i={name:n.lexeme,type:void 0,value:void 0,positions:[n.position]};t.push(i),e[n.lexeme]=r,r+=1}function o(n){t[e[n.lexeme]].positions.push(n.position)}t.hasOwnProperty(e[n.lexeme])?o(n):i(n)},n.reset=function(){t=[],e={},r=0},n.get=function(){return t.slice()},n.getD=function(){},n.getLength=function(){return r},n}},l={"new":function(){var t,e,n,r,i,o,a,l,u=[{regExp:/^int$/,"abstract":"int",containValue:"false"},{regExp:/^real$/,"abstract":"real",containValue:"false"},{regExp:/^if$/,"abstract":"if",containValue:"false"},{regExp:/^then$/,"abstract":"then",containValue:"false"},{regExp:/^else$/,"abstract":"else",containValue:"false"},{regExp:/^while$/,"abstract":"while",containValue:"false"},{regExp:/^\($/,"abstract":"(",containValue:"true"},{regExp:/^\)$/,"abstract":")",containValue:"true"},{regExp:/^\{$/,"abstract":"{",containValue:"true"},{regExp:/^\}$/,"abstract":"}",containValue:"true"},{regExp:/^,$/,"abstract":",",containValue:"true"},{regExp:/^;$/,"abstract":";",containValue:"true"},{regExp:/^\+$/,"abstract":"+",containValue:"true"},{regExp:/^-$/,"abstract":"-",containValue:"true"},{regExp:/^\*$/,"abstract":"*",containValue:"true"},{regExp:/^\/$/,"abstract":"/",containValue:"true"},{regExp:/^[a-zA-Z][a-zA-Z0-9]*$/,"abstract":"ID",containValue:"true"},{regExp:/^<=$/,"abstract":"<=",containValue:"true"},{regExp:/^<$/,"abstract":"<",containValue:"true"},{regExp:/^\=\=$/,"abstract":"==",containValue:"true"},{regExp:/^>=$/,"abstract":">=",containValue:"true"},{regExp:/^>$/,"abstract":">",containValue:"true"},{regExp:/^!=$/,"abstract":"!=",containValue:"true"},{regExp:/^\=$/,"abstract":"=",containValue:"true"},{regExp:/^[0-9]*\.[0-9]+$/,"abstract":"NUM",containValue:"true"},{regExp:/^[0-9]+\.?$/,"abstract":"NUM",containValue:"true"}],c={"new":function(){var t,e,n,r,i={};return i.reset=function(){t=1,n=1,e=1,r=1},i.shift=function(t){r+=t},i.newLine=function(){r=1,n++},i.reduce=function(){t=n,e=r},i.get=function(){return{first_row:t,last_row:n,first_col:e,last_col:r}},i}},f=c["new"](),h=s["new"](),d={},p=["NORMAL","ERROR","DONE"],g=!1,m=0;return d.getErrMsg=function(){return n},d.getStatus=function(){return t},d.getSymbolTable=function(){return h.get()},d.setInput=function(e){d.reset(),r=e,t=p[0]},d.reset=function(){h.reset(),f.reset(),n="",e=[],i="",m=0,t=p[2],g=!1},d.lexDone=function(){return t==p[2]},d.lex=function(s){function c(t){var e;for(e=0;e<u.length;e+=1)if(u.hasOwnProperty(e)&&t.match(u[e].regExp))return{lexeme:t,"abstract":u[e]["abstract"],position:f.get(),containValue:u[e].containValue};return!1}if(t!=p[0])return!1;for(i="";m<r.length;){if(a=r[m],o=c(i+a))i+=a,f.shift(1);else{if("NUM"==c(i)["abstract"]&&"ID"==c(a)["abstract"])return n="UNDEFINED SYMBOL '"+i+a+"' AT ROW "+f.get().first_row+", COL "+f.get().first_col,t=p[1],!1;if(""==i)if(null!=a.match(/\ /))f.shift(1);else if(null!=a.match(/\t/))f.shift(4);else{if(null==a.match(/\n/))return n="UNDEFINED SYMBOL '"+a+"' AT ROW "+f.get().first_row+", COL "+f.get().first_col,t=p[1],!1;f.newLine()}else if(m-=1,l=c(i),e.push(l),"ID"==l["abstract"]&&h.handle(l),s)return f.reduce(),i="",m+=1,!0;f.reduce(),i=""}m+=1}return(l=c(i))?(e.push(l),!0):(f.reduce(),l={lexeme:"$","abstract":"$",position:f.get()},e.push(l),t=p[2],!0)},d.getToken=function(){return l},d.getSequence=function(){return e},d.getSequenceByAbstract=function(){var t,n="";for(t=0;t<e.length;t+=1)n+=e[t]["abstract"]+" ";return n},d.getSequenceByLexeme=function(){var t,n="";for(t=0;t<e.length;t+=1)n+=e[t].lexeme+" ";return n},d}},u={"new":function(){var t,e,n,r,i,s,l,u,c,f,h,d,p,g,m,v,y,b,x,w=[{},{interminal:"program",product:["compoundstmt"]},{interminal:"stmt",product:["decl"]},{interminal:"stmt",product:["ifstmt"]},{interminal:"stmt",product:["whilestmt"]},{interminal:"stmt",product:["assgstmt"]},{interminal:"stmt",product:["compoundstmt"]},{interminal:"compoundstmt",product:["{","stmts","}"]},{interminal:"stmts",product:["stmt","stmts"]},{interminal:"stmts",product:[]},{interminal:"ifstmt",product:["if","(","boolexpr",")","then","stmt","else","stmt"]},{interminal:"whilestmt",product:["while","(","boolexpr",")","stmt"]},{interminal:"assgstmt",product:["ID","=","arithexpr",";"]},{interminal:"decl",product:["type","list",";"]},{interminal:"type",product:["int"]},{interminal:"type",product:["real"]},{interminal:"list",product:["ID","list1"]},{interminal:"list1",product:[",","list"]},{interminal:"list1",product:[]},{interminal:"boolexpr",product:["arithexpr","boolop","arithexpr"]},{interminal:"boolop",product:["<"]},{interminal:"boolop",product:[">"]},{interminal:"boolop",product:["<="]},{interminal:"boolop",product:[">="]},{interminal:"boolop",product:["=="]},{interminal:"arithexpr",product:["multexpr","arithexprprime"]},{interminal:"arithexprprime",product:["+","multexpr","arithexprprime"]},{interminal:"arithexprprime",product:["-","multexpr","arithexprprime"]},{interminal:"arithexprprime",product:[]},{interminal:"multexpr",product:["simpleexpr","multexprprime"]},{interminal:"multexprprime",product:["*","simpleexpr","multexprprime"]},{interminal:"multexprprime",product:["/","simpleexpr","multexprprime"]},{interminal:"multexprprime",product:[]},{interminal:"simpleexpr",product:["ID"]},{interminal:"simpleexpr",product:["NUM"]},{interminal:"simpleexpr",product:["(","arithexpr",")"]}],_={program:{"{":1,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},stmt:{"{":6,"}":0,"if":3,"(":0,")":0,then:0,"else":0,"while":4,"int":2,real:2,ID:5,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},compoundstmt:{"{":7,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},stmts:{"{":8,"}":9,"if":8,"(":0,")":0,then:0,"else":0,"while":8,"int":8,real:8,ID:8,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},ifstmt:{"{":0,"}":0,"if":10,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},whilestmt:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":11,"int":0,real:0,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},assgstmt:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:12,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},decl:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":13,real:13,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},type:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":14,real:15,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},list:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:16,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},list1:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":17,";":18,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},boolexpr:{"{":0,"}":0,"if":0,"(":19,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:19,NUM:19,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},boolop:{"{":0,"}":0,"if":0,"(":0,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":20,">":21,"<=":22,">=":23,"==":24,$:0},arithexpr:{"{":0,"}":0,"if":0,"(":25,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:25,NUM:25,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},arithexprprime:{"{":0,"}":0,"if":0,"(":0,")":28,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":28,"+":26,"-":27,"*":0,"/":0,"=":0,"<":28,">":28,"<=":28,">=":28,"==":28,$:0},multexpr:{"{":0,"}":0,"if":0,"(":29,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:29,NUM:29,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0},multexprprime:{"{":0,"}":0,"if":0,"(":0,")":32,then:0,"else":0,"while":0,"int":0,real:0,ID:0,NUM:0,",":0,";":32,"+":32,"-":32,"*":30,"/":31,"=":0,"<":32,">":32,"<=":32,">=":32,"==":32,$:0},simpleexpr:{"{":0,"}":0,"if":0,"(":35,")":0,then:0,"else":0,"while":0,"int":0,real:0,ID:33,NUM:34,",":0,";":0,"+":0,"-":0,"*":0,"/":0,"=":0,"<":0,">":0,"<=":0,">=":0,"==":0,$:0}},C={"new":function(t,e){var n={},r=[];return n.fatherNode=e,n["abstract"]=t,n.name=a,n.value=a,n.type=a,n.formula=a,n["new"]=!0,n.parsed=!1,n.addSubNode=function(t){r.unshift(t)},n.getSubNodes=function(){return r.slice()},n.setPosition=function(t){n.position=t},n.assign=function(t,e){if(t.containValue)switch(t["abstract"]){case"ID":n.name=t.lexeme,n.type=void 0,n.value=void 0;break;case"NUM":n.type=void 0,n.value=Number(t.lexeme);break;case"type":n.value=t.lexeme.toLowerCase()}n.formula=e},n.shiftSubNode=function(){r.shift()},T.push(n),n},epsilon:function(){var t={},e=[];return t["abstract"]="ε",t.name=a,t.value=a,t.type=a,t.parsed=!1,t.getSubNodes=function(){return e.slice()},t}},k={},S=["NORMAL","WARNING","ERROR","DONE"],T=[];return k.getStatus=function(){return t},k.reset=function(){y=!1,l=["$","program"],u=[],e=[],r="",i=[],s="",T=[],n=C["new"]("program",C["new"]()),f=[n],p=0,t=S[3],c=[l.slice(),u.slice(),{}],v=!1},k.setInput=function(e){k.reset(),u=e,t=S[0]},k.pushToken=function(t){b=t,x=b["abstract"],u.push(t)},k.parse=function(n){function o(t){var e;for(e=0;e<w.length;e+=1)if(w[e].interminal==t)return!1;return!0}function a(){for(var t=0;t<T.length;t++)T[t]["new"]=!1;T=[]}if(t!=S[0]&&t!=S[1])return!1;c=[l.slice(),u.slice(),{}];var y=l.pop(),b=u[0],x=b["abstract"];for(h=f.pop();"$"!=y&&u.length>0;){if(a(),y!=x||v){if(v&&"stmts"!=y)t=S[1],s=["UNEXPECTED",b.lexeme,"AT","ROW",d.last_row+",","COL",d.last_col+".","POPPED","OUT","'"+y+"'"].join(" "),c[2]=s,i.push(s),h.parsed=!0;else if(v&&"stmts"==y){if(f.push(m),l.push("stmts"),h!=m)for(;m.getSubNodes().length>0;)m.shiftSubNode();_[y][x]>0?(v=!1,s="RECOVERY DONE",c[2]=s,i.push(s)):(u.shift(),t=S[1],s="SKIPPED '"+x+"' AT ROW "+b.position.first_row+", COL "+b.position.first_col,c[2]=s,i.push(s))}else if(o(y))v=!0,t=S[1],s=["UNEXPECTED",b.lexeme,"AT","ROW",d.last_row+",","COL",d.last_col+".","POPPED","OUT","'"+y+"'"].join(" "),c[2]=s,i.push(s),h.parsed=!0;else if(0==_[y][x])Number(b.position.first_row)>Number(d.last_row)?(t=S[1],s=["EXPECTED",";","AT","ROW",d.last_row+",","COL",d.last_col].join(" "),c[2]=s,i.push(s),u.unshift({lexeme:";","abstract":";",position:d,containValue:!0})):("stmts"!=y&&(v=!0),l.push(y),f.push(h),u.shift(),t=S[1],s="SKIPPED '"+x+"' AT ROW "+b.position.first_row+", COL "+b.position.first_col,c[2]=s,i.push(s));else if(_[y][x]>0){g=_[y][x];var k,M,N=_[y][x],A=w[N].product.slice();for(0==A.length?(h.addSubNode(C.epsilon()),h.parsed=!0):"stmts"==w[N].interminal&&(m=h);A.length>0;)k=A.pop(),l.push(k),M=C["new"](k,h),h.addSubNode(M),f.push(M);c[2]=w[N]}}else d=b.position,h.setPosition(b.position),h.parsed=!0,h.assign(b,g),u.shift();if(t!=S[2]&&e.push(c),t==S[2]||n)return p+=1,t!=S[2];n||(c=[l.slice(),u.slice(),{}],y=l.pop(),b=u[0],x=b["abstract"])}return y==x&&u.shift(),0==u.length?(e.push(c),t=S[3],!0):(t=S[2],r="CAME UP WITH UNEXPECTED TERMINAL '"+b.lexeme+"' AT ROW "+b.position.first_row+", COL "+b.position.first_col,!1)},k.parseDone=function(){return t==S[3]},k.needPush=function(){return 0==u.length},k.getRootS=function(){function t(e,n){var r={},i=[],o=e.getSubNodes();r["abstract"]=e["abstract"],r.name=e.name,r.value=e.value,r.type=e.type,r.subNodes=i,r.fatherNode=n,void 0!=e.position&&(r.position=e.position);var a;for(a=0;a<o.length;a++)i.push(t(o[a],r));return r}return t(n,void 0)},k.getSequentialNodes=function(){function t(e){var n=e.getSubNodes();if(n.length>0){for(var r=!0,i=0;i<n.length;i++)n[i].parsed||(t(n[i]),n[i].parsed||(r=!1));e.parsed=r}}function e(){function t(n,r,i){var a=e.toString();if(e+=1,("undefined"==typeof r?"undefined":(0,o["default"])(r))===(0,o["default"])(C["new"]())){var s,l,u,c=[],f=[a,r["abstract"],0,n,i?"1":"0",r["new"]?"1":"0"],h=r.getSubNodes(),d=0;for(l=0;l<h.length;l+=1)if(!h[l].parsed){for(d+=1,s=t(a,h[l],1==d&&i),u=0;u<s.length;u+=1)c.push(s[u]);s.length>0&&(f[2]+=s[0][2]+1)}return c.unshift(f),c}}var e=0;
return t("",n,!0)}return t(n),e()},k.treeChanged=function(){return!0},k.getErrMsg=function(){return r},k.getWarningMsg=function(){return i.join("\n")},k.getMovementsF=function(){function t(t,e){for(;t.length<e;)t+=" ";return t}var n,r,i,a,s,l,u,c=[],f=0,h=0,d=0,p=22;for(l=0;l<e.length;l+=1){for(n=e[l],r=[],i=n[0].join(" "),f=Math.max(f,i.length),r.push(i),a="| ",u=0;u<n[1].length;u+=1)a+=n[1][u].lexeme+" ";a=a.indexOf(";")>-1?a.split(";")[0]+";":a.split(";")[0],a.length>p&&(a=a.substring(0,p)+" ..."),h=Math.max(h,a.length),r.push(a),s="| ",n[2].hasOwnProperty("interminal")?(s+=n[2].interminal+" -> ",s+=n[2].product.length>0?n[2].product.join(" "):"ε",d=Math.max(d,s.length)):(0,o["default"])(n[2])==(0,o["default"])("")&&(s+=n[2]),r.push(s),c.push(r)}var l;for(l=0;l<c.length;l+=1)c[l][0]=t(c[l][0],f),c[l][1]=t(c[l][1],h),c[l][2]=t(c[l][2],d);var l,g="\n"+[t("STACK",f),t("INPUT",h),t("ACTION",d)].join("    ")+"\n";for(l=0;l<c.length;l+=1)g+=[c[l][0],c[l][1],c[l][2]].join("    ")+"\n";return g},k.getCurMovementF=function(){var t,e=c[0].join(" "),n="";for(t=0;t<c[1].length;t++)n+=c[1][t].lexeme+" ";n.length>20&&(n=n.substring(0,17)+" ...");var r="";if(c[2].hasOwnProperty("interminal")){if(r=c[2].interminal+" -> ",c[2].hasOwnProperty("product")){0==c[2].product.length&&(r+="ε");for(var t=0;t<c[2].product.length;t++)r+=c[2].product[t]+" "}}else(0,o["default"])(c[2])==(0,o["default"])("")&&(r+=c[2]);return[e,n,r].join("  |  ")},k}},c={"new":function(){var t,e,n,r={},i=u["new"](),o=l["new"](),a=["NORMAL","WARNING","ERROR","DONE"];return r.reset=function(){e="",n="",t=a[3],o.reset(),i.reset()},r.setInput=function(e){function n(t){for(var e,n="",r=!1,i=0,o=0;o<t.length;o++)e=t[o],"/"==e?i+=1:i=0,"\n"==e&&(r=!1),2==i&&(r=!0),r||(n+=e);return n}r.reset(),o.setInput(n(e)),i.setInput([]),t=a[0]},r.go=function(){if(t==a[0]||t==a[1]){t=a[0];var r=!0;if(i.needPush())switch(o.getStatus()){case"DONE":return;case"ERROR":return e=o.getErrMsg(),void(t=a[2]);case"NORMAL":o.lex(r),i.pushToken(o.getToken());break;default:return console.log("UNEXPECTED LEXER STATUS"),void(t=a[2])}switch(i.parse(r),i.getStatus()){case"DONE":break;case"ERROR":return e=i.getErrMsg(),void(t=a[2]);case"WARNING":n=i.getWarningMsg(),t=a[1];case"NORMAL":break;default:console.log("UNEXPECTED PARSER STATUS"),t=a[2]}o.lexDone()!=i.parseDone()&&(t=a[2]),o.lexDone()&&i.parseDone()&&(t=a[3])}},r.getStatus=function(){return t},r.getErrMsg=function(){return e},r.getWarningMsg=i.getWarningMsg,r.getSymbolTable=o.getSymbolTable,r.getSequentialNodes=i.getSequentialNodes,r.getMovementsF=i.getMovementsF,r.getCurMovementF=i.getCurMovementF,r.getRootS=i.getRootS,r.getTreeChanged=i.getTreeChanged,r}};e["default"]=c},function(t,e){"use strict";function n(){function t(t,e,n,r){var i=null===e?"":e,o=null===n?"":n,a=null===r?"":r;return 3==t.length?t+=" ":2==t.length&&(t+="  "),["    ",t," ",i,", ",o,", ",a].join("")}function e(f){var h,d,p,g=i.rear();switch(i.push(f),f["abstract"]){case"program":e(f.subNodes[0]);break;case"compoundstmt":e(f.subNodes[1]);break;case"stmts":e(f.subNodes[0]),f.subNodes[1]&&e(f.subNodes[1]);break;case"stmt":e(f.subNodes[0]);break;case"decl":f.value=e(f.subNodes[0]).value,e(f.subNodes[1]);break;case"type":f.value=f.subNodes[0]["abstract"];break;case"list":f.value=g.value,e(f.subNodes[0]),e(f.subNodes[1]);break;case"ID":var m=n.get(f.name);switch(void 0===m.occurance?m.occurance=0:m.occurance++,g["abstract"]){case"list":f.type=g.value,m.type&&a.push(new r("Duplicated declaration of '"+m.name+"'",m.positions[m.occurance])),m.type=f.type;break;default:m.type||0!==m.occurance||a.push(new r("Undeclared identifier '"+m.name+"'",m.positions[m.occurance]))}break;case"list1":f.value=g.value,f.subNodes[1]&&e(f.subNodes[1]);break;case"assgstmt":f.value=e(f.subNodes[2]).value;var v=e(f.subNodes[0]).name;o[o.length]=t("mov",v,null,f.value);break;case"arithexpr":if(h=e(f.subNodes[0]),d=e(f.subNodes[1]),d.type)switch(d.type){case"+":f.value=c(s++),o[o.length]=t("add",f.value,h.value,d.value);break;case"-":f.value=c(s++),o[o.length]=t("sub",f.value,h.value,d.value)}else f.value=h.value;break;case"multexpr":if(h=e(f.subNodes[0]),d=e(f.subNodes[1]),d.type)switch(d.type){case"*":f.value=c(s++),o[o.length]=t("mul",f.value,h.value,d.value);break;case"/":f.value=c(s++),0===d.value?(a.push(new r("Cannot be divided by 0")),o[o.length]=t("*div",f.value,h.value,d.value)):o[o.length]=t("div",f.value,h.value,d.value)}else f.value=h.value;break;case"arithexprprime":if(f.subNodes[2])if(f.type=f.subNodes[0]["abstract"],h=e(f.subNodes[1]),d=e(f.subNodes[2]),d.type)switch(d.type){case"+":f.value=c(s++),o[o.length]=t("add",f.value,h.value,d.value);break;case"-":f.value=c(s++),o[o.length]=t("sub",f.value,h.value,d.value)}else f.value=h.value;break;case"simpleexpr":if(f.subNodes[1])f.value=e(f.subNodes[1]).value;else{var y=e(f.subNodes[0]);switch(y["abstract"]){case"ID":f.value=y.name;break;case"NUM":f.value=y.value}}break;case"multexprprime":if(f.subNodes[2])if(f.type=f.subNodes[0]["abstract"],h=e(f.subNodes[1]),d=e(f.subNodes[2]),d.type)switch(d.type){case"*":f.value=c(s++),o[o.length]=t("mult",f.value,h.value,d.value);break;case"/":f.value=c(s++),0===d.value?(a.push(new r("Cannot be divided by 0")),o[o.length]=t("*div",f.value,h.value,d.value)):o[o.length]=t("div",f.value,h.value,d.value)}else f.value=h.value;break;case"whilestmt":var b=f.subNodes[2],x=f.subNodes[4],w=l++;o[o.length]=u(w),e(b),e(x),o[o.length]=t("jmp",null,null,"f"+w);break;case"boolexpr":f.value="t"+s++,p=f.subNodes[1];var _=f.subNodes[0],C=f.subNodes[2];switch(h=e(_),d=e(C),e(p).value){case"<":o[o.length]=t("lt",f.value,h.value,d.value);break;case">":o[o.length]=t("gt",f.value,h.value,d.value);break;case"<=":o[o.length]=t("le",f.value,h.value,d.value);break;case">=":o[o.length]=t("ge",f.value,h.value,d.value);break;case"==":o[o.length]=t("eq",f.value,h.value,d.value)}o[o.length]=t("jmpf",f.value,null,"f"+l);break;case"boolop":f.value=f.subNodes[0]["abstract"];break;case"ifstmt":p=f.subNodes[2];var k=f.subNodes[5],S=f.subNodes[7];e(p),e(k),o[o.length]=t("jmp",null,null,"f"+(l+1)),o[o.length]=u(l++),e(S)}return i.pop(),f}var n,i,o,a,s=0,l=0,u=function(t){return"f"+t},c=function(t){return"t"+t},f=function(){n=null,i=[],a=[],o=[],s=0,l=0},h=function(t,r){f(),n=r,n.get=function(t){for(var e=0;e<n.length;e++)if(n[e].name==t)return n[e]},e(t),l>0&&(o[o.length]=u(l))};return{eat:h,getErrorMsg:function(){return a.join("\n")},getAssembly:function(){return o.join("\n")}}}function r(t,e){this.msg=t,this.position=e}Object.defineProperty(e,"__esModule",{value:!0}),r.prototype.toString=function(){var t="Error: "+this.msg;return this.position&&(t=[t," at line: ",this.position.first_row,", ch: ",this.position.first_col].join("")),t},e["default"]=n},function(module,exports,__webpack_require__){(function(global){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function d3_scaleExtent(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function d3_scaleRange(t){return t.rangeExtent?t.rangeExtent():d3_scaleExtent(t.range())}function d3_svg_axisSubdivide(t,e,n){var r=[];if(n&&e.length>1){for(var i,o,a=d3_scaleExtent(t.domain()),s=-1,l=e.length,u=(e[1]-e[0])/++n;++s<l;)for(i=n;--i>0;)(o=+e[s]-i*u)>=a[0]&&r.push(o);for(--s,i=0;++i<n&&(o=+e[s]+i*u)<a[1];)r.push(o)}return r}function d3_svg_brushRedrawX(t,e){t.fg.attr({x:e[0][0],width:e[1][0]-e[0][0]}),t.resizerSet.forEach(function(t){var n=t.data("resizeOrient");"n"===n||"s"===n||"w"===n||"nw"===n||"sw"===n?t.attr({x:e[0][0]-2}):t.attr({x:e[1][0]-2}),"n"!==n&&"s"!==n||t.attr({width:e[1][0]-e[0][0]})})}function d3_svg_brushRedrawY(t,e){t.fg.attr({y:e[0][1],height:e[1][1]-e[0][1]}),t.resizerSet.forEach(function(t){var n=t.data("resizeOrient");"n"===n||"e"===n||"w"===n||"nw"===n||"ne"===n?t.attr({y:e[0][1]-3}):t.attr({y:e[1][1]-4}),"e"!==n&&"w"!==n||t.attr({height:e[1][1]-e[0][1]})})}function d3_svg_brushMove1(t,e,n){var r,i,o=d3_scaleRange(e),a=o[0],s=o[1],l=d3_svg_brushOffset[n],u=d3_svg_brushExtent[1][n]-d3_svg_brushExtent[0][n];d3_svg_brushDrag&&(a-=l,s-=u+l),r=Math.max(a,Math.min(s,t[n])),d3_svg_brushDrag?i=(r+=l)+u:(d3_svg_brushCenter&&(l=Math.max(a,Math.min(s,2*d3_svg_brushCenter[n]-r))),l<r?(i=r,r=l):i=l),d3_svg_brushExtent[0][n]=r,d3_svg_brushExtent[1][n]=i}function d3_svg_brushMove(t){if(d3_svg_brushOffset){var e=(0,_jquery2["default"])(d3_svg_brushTarget).offset(),n=[t.pageX-e.left,t.pageY-e.top];d3_svg_brushDrag||(t.altKey?(d3_svg_brushCenter||(d3_svg_brushCenter=[(d3_svg_brushExtent[0][0]+d3_svg_brushExtent[1][0])/2,(d3_svg_brushExtent[0][1]+d3_svg_brushExtent[1][1])/2]),d3_svg_brushOffset[0]=d3_svg_brushExtent[+(n[0]<d3_svg_brushCenter[0])][0],d3_svg_brushOffset[1]=d3_svg_brushExtent[+(n[1]<d3_svg_brushCenter[1])][1]):d3_svg_brushCenter=null),d3_svg_brushX&&(d3_svg_brushMove1(n,d3_svg_brushX,0),d3_svg_brushRedrawX(d3_svg_brushEls,d3_svg_brushExtent)),d3_svg_brushY&&(d3_svg_brushMove1(n,d3_svg_brushY,1),d3_svg_brushRedrawY(d3_svg_brushEls,d3_svg_brushExtent)),d3_svg_brushDispatch("brush")}}function d3_svg_brushKeydown(t){32===t.keyCode&&d3_svg_brushTarget&&!d3_svg_brushDrag&&(d3_svg_brushCenter=null,d3_svg_brushOffset[0]-=d3_svg_brushExtent[1][0],d3_svg_brushOffset[1]-=d3_svg_brushExtent[1][1],d3_svg_brushDrag=2,t.stopPropagation())}function d3_svg_brushKeyup(t){32===t.keyCode&&2===d3_svg_brushDrag&&(d3_svg_brushOffset[0]+=d3_svg_brushExtent[1][0],d3_svg_brushOffset[1]+=d3_svg_brushExtent[1][1],d3_svg_brushDrag=0,t.stopPropagation())}function d3_svg_brushUp(t){d3_svg_brushOffset&&(d3_svg_brushMove(t),d3_svg_brushEls.resizerSet.forEach(function(t){var e=t.data("resizeOrient"),n=d3_svg_brush.empty()?0:6;"n"===e||"s"===e?t.attr({height:n}):t.attr({width:n})}),d3_svg_brushDispatch("brushend"),d3_svg_brush=d3_svg_brushDispatch=d3_svg_brushTarget=d3_svg_brushX=d3_svg_brushY=d3_svg_brushExtent=d3_svg_brushDrag=d3_svg_brushResize=d3_svg_brushCenter=d3_svg_brushOffset=d3_svg_brushEls=null,t.stopPropagation())}var _typeof2=__webpack_require__(6),_typeof3=_interopRequireDefault(_typeof2),_jquery=__webpack_require__(72),_jquery2=_interopRequireDefault(_jquery),_eventproxy=__webpack_require__(71);Array.prototype.map||(Array.prototype.map=function(t,e){var n,r,i;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),a=o.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=Array(a),i=0;i<a;){var s;i in o&&(s=o[i],s=t.call(n,s,i,o),r[i]=s),i++}return r}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e,n=0,r=this.length>>0;if("function"!=typeof t)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===r)throw new TypeError("Array length is 0 and no second argument");e=this[0],n=1}else e=arguments[1];for(;n<r;)n in this&&(e=t.call(void 0,e,this[n],n,this)),++n;return e}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),o=i.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(e&&(n=e),r=0;r<o;){var a;r in i&&(a=i[r],t.call(n,a,r,i)),r++}}),Array.prototype.filter||(Array.prototype.filter=function(t,e){if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],o=0;o<r;o++)if(o in n){var a=n[o];t.call(e,a,o,n)&&i.push(a)}return i}),Array.prototype.every||(Array.prototype.every=function(t,e){if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=0;i<r;i++)if(i in n&&!t.call(e,n[i],i,n))return!1;return!0});var JSON;JSON||(JSON={}),function(){function w(t){return t<10?"0"+t:t}function G(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(t){var e=P[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function h(t,e){var n,r,i,o,a,s=B,l=e[t];switch(l&&"object"===("undefined"==typeof l?"undefined":(0,_typeof3["default"])(l))&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof M&&(l=M.call(e,t,l)),"undefined"==typeof l?"undefined":(0,_typeof3["default"])(l)){case"string":return G(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(B+=y,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=h(n,l)||"null";return i=0===a.length?"[]":B?"[\n"+B+a.join(",\n"+B)+"\n"+s+"]":"["+a.join(",")+"]",B=s,i}if(M&&"object"===("undefined"==typeof M?"undefined":(0,_typeof3["default"])(M)))for(o=M.length,n=0;n<o;n+=1)"string"==typeof M[n]&&(r=M[n],(i=h(r,l))&&a.push(G(r)+(B?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=h(r,l))&&a.push(G(r)+(B?": ":":")+i);return i=0===a.length?"{}":B?"{\n"+B+a.join(",\n"+B)+"\n"+s+"}":"{"+a.join(",")+"}",B=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+w(this.getUTCMonth()+1)+"-"+w(this.getUTCDate())+"T"+w(this.getUTCHours())+":"+w(this.getUTCMinutes())+":"+w(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var r=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,B,y,P={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},M;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(y=B="","number"==typeof n)for(r=0;r<n;r+=1)y+=" ";else"string"==typeof n&&(y=n);if((M=e)&&"function"!=typeof e&&("object"!==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))||"number"!=typeof e.length))throw Error("JSON.stringify");return h("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(h,t){function w(e,n){var r,i,o=e[n];if(o&&"object"===("undefined"==typeof o?"undefined":(0,_typeof3["default"])(o)))for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i=w(o,r),void 0!==i?o[r]=i:delete o[r]);return t.call(e,n,o)}var B,h=String(h);if(r.lastIndex=0,r.test(h)&&(h=h.replace(r,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return B=eval("("+h+")"),"function"==typeof t?w({"":B},""):B;throw new SyntaxError("JSON.parse")})}(),function(){function t(t){for(var e=-1,n=t.length,r=[];++e<n;)r.push(t[e]);return r}function e(){return this}function n(t,e,n){return function(){var r=n.apply(e,arguments);return arguments.length?t:r}}function r(t){return null!=t&&!isNaN(t)}function i(t){return t.length}function o(t){return null==t}function a(t){return t.replace(/(^\s+)|(\s+$)/g,"").replace(/\s+/g," ")}function s(){}function l(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r={};return e.on=function(e,i){var o,a;return arguments.length<2?(o=r[e])&&o.on:((o=r[e])&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),delete r[e]),i&&n.push(r[e]={on:i}),t)},e}function u(t,e){return e-(t?1+Math.floor(Math.log(t+Math.pow(10,1+Math.floor(Math.log(t)/Math.LN10)-e))/Math.LN10):1)}function c(t){return t+""}function f(t){for(var e=t.lastIndexOf("."),n=e>=0?t.substring(e):(e=t.length,""),r=[];e>0;)r.push(t.substring(e-=3,e+3));return r.reverse().join(",")+n}function h(t){return function(e){return 1-t(1-e)}}function d(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function p(t){return t}function g(t){return function(e){return Math.pow(e,t)}}function m(t){return 1-Math.cos(t*Math.PI/2)}function v(t){return Math.pow(2,10*(t-1))}function y(t){return 1-Math.sqrt(1-t*t)}function b(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function x(){le.event.stopPropagation(),le.event.preventDefault()}function w(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return(n-t)*e}}function _(t,e){return e=e-(t=+t)?1/(e-t):0,function(n){return Math.max(0,Math.min(1,(n-t)*e))}}function C(t,e,n){return new k(t,e,n)}function k(t,e,n){this.r=t,this.g=e,this.b=n}function S(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function T(t,e,n){var r,i,o=0,a=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(N(i[0]),N(i[1]),N(i[2]))}return(n=Ce[t])?e(n.r,n.g,n.b):(null!=t&&"#"===t.charAt(0)&&(4===t.length?(o=t.charAt(1),o+=o,a=t.charAt(2),a+=a,s=t.charAt(3),s+=s):7===t.length&&(o=t.substring(1,3),a=t.substring(3,5),s=t.substring(5,7)),o=parseInt(o,16),a=parseInt(a,16),s=parseInt(s,16)),e(o,a,s))}function M(t,e,n){var r=Math.min(t/=255,e/=255,n/=255),i=Math.max(t,e,n),o=i-r,a=(i+r)/2;return o?(r=a<.5?o/(i+r):o/(2-i-r),t=60*(t==i?(e-n)/o+(e<n?6:0):e==i?(n-t)/o+2:(t-e)/o+4)):r=t=0,A(t,r,a)}function N(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function A(t,e,n){return new L(t,e,n)}function L(t,e,n){this.h=t,this.s=e,this.l=n}function E(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(o-i)*t/60:t<180?o:t<240?i+(o-i)*(240-t)/60:i}var i,o,t=t%360;return t<0&&(t+=360),e=e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+e):n+e-n*e,i=2*n-o,C(Math.round(255*r(t+120)),Math.round(255*r(t)),Math.round(255*r(t-120)))}function D(t){return fe(t,Ae),t}function O(t){return function(){return ke(t,this)}}function F(t){return function(){return Se(t,this)}}function z(t,e){function n(){if(e=this.classList)return e.add(t);var e=this.className,n=null!=e.baseVal,r=n?e.baseVal:e;o.lastIndex=0,o.test(r)||(r=a(r+" "+t),n?e.baseVal=r:this.className=r)}function r(){if(e=this.classList)return e.remove(t);var e=this.className,n=null!=e.baseVal,r=n?e.baseVal:e,r=a(r.replace(o," "));n?e.baseVal=r:this.className=r}function i(){(e.apply(this,arguments)?n:r).call(this)}var o=RegExp("(^|\\s+)"+le.requote(t)+"(\\s+|$)","g");if(arguments.length<2){var s=this.node();if(l=s.classList)return l.contains(t);var l=s.className;return o.lastIndex=0,o.test(null!=l.baseVal?l.baseVal:l)}return this.each("function"==typeof e?i:e?n:r)}function R(t){return arguments.length||(t=le.ascending),function(e,n){return t(e&&e.__data__,n&&n.__data__)}}function P(t,e,n){fe(t,Fe);var r={},i=le.dispatch("start","end"),o=Pe;return t.id=e,t.time=n,t.tween=function(e,n){return arguments.length<2?r[e]:(null==n?delete r[e]:r[e]=n,t)},t.ease=function(e){return arguments.length?(o="function"==typeof e?e:le.ease.apply(le,arguments),t):o},t.each=function(e,n){return arguments.length<2?I.call(t,e):(i.on(e,n),t)},le.timer(function(a){return t.each(function(s,l,u){function c(t){if(v.active>e)return h();v.active=e;for(var o in r)(o=r[o].call(p,s,l))&&d.push(o);return i.start.call(p,s,l),f(t)||le.timer(f,0,n),1}function f(t){if(v.active!==e)return h();for(var t=(t-g)/m,n=o(t),r=d.length;r>0;)d[--r].call(p,n);return t>=1?(h(),Re=e,i.end.call(p,s,l),Re=0,1):void 0}function h(){return--v.count||delete p.__transition__,1}var d=[],p=this,g=t[u][l].delay,m=t[u][l].duration,v=p.__transition__||(p.__transition__={active:0,count:0});++v.count,g<=a?c(a):le.timer(c,g,n)}),1},0,n),t}function B(t,e,n){return""!=n&&Oe}function W(t,e){function n(t,n,r){return t=e.call(this,t,n),null==t?""!=r&&Oe:r!=t&&i(r,t)}function r(t,n,r){return r!=e&&i(r,e)}var i="transform"==t?le.interpolateTransform:le.interpolate;return"function"==typeof e?n:null==e?B:(e+="",r)}function I(t){for(var e=0,n=this.length;e<n;e++)for(var r=this[e],i=0,o=r.length;i<o;i++){var a=r[i];a&&t.call(a=a.node,a.__data__,i,e)}return this}function H(){for(var t,e=Date.now(),n=Ie;n;)t=e-n.then,t>=n.delay&&(n.flush=n.callback(t)),n=n.next;t=j()-e,t>24?(isFinite(t)&&(clearTimeout(We),We=setTimeout(H,t)),Be=0):(Be=1,He(H))}function j(){for(var t=null,e=Ie,n=1/0;e;)e.flush?e=t?t.next=e.next:Ie=e.next:(n=Math.min(n,e.then+e.delay),e=(t=e).next);return n}function $(t){var e=[t.a,t.b],n=[t.c,t.d],r=q(e),i=e[0]*n[0]+e[1]*n[1],o=-i;n[0]=n[0]+o*e[0],n[1]=n[1]+o*e[1],o=q(n)||0,e[0]*n[1]<n[0]*e[1]&&(e[0]=e[0]*-1,e[1]=e[1]*-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*je,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*je:0}function q(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return e&&(t[0]=t[0]/e,t[1]=t[1]/e),e}function V(t){var e=t[0],t=t[t.length-1];return e<t?[e,t]:[t,e]}function U(t){return t.rangeExtent?t.rangeExtent():V(t.range())}function X(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),(n=a-o)&&(e=e(n),t[r]=e.floor(o),t[i]=e.ceil(a)),t}function G(){return Math}function Y(t,e,n,r){function i(){var i=2==t.length?tt:et,l=r?_:w;return a=i(t,e,l,n),s=i(e,t,l,le.interpolate),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(le.interpolateRound)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return le.range.apply(le,Z(t,e))},o.tickFormat=function(e){return Q(t,e)},o.nice=function(){return X(t,J),i()},o.copy=function(){return Y(t,e,n,r)},i()}function K(t,e){return le.rebind(t,e,"range","rangeRound","interpolate","clamp")}function J(t){return t=Math.pow(10,Math.round(Math.log(t)/Math.LN10)-1),{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}}function Z(t,e){var n=V(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),r=e/r*i;return r<=.15?i=10*i:r<=.35?i=5*i:r<=.75&&(i=2*i),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Q(t,e){return le.format(",."+Math.max(0,-Math.floor(Math.log(Z(t,e)[2])/Math.LN10+.01))+"f")}function tt(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function et(t,e,n,r){var i=[],o=[],a=0,s=t.length-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=le.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function nt(t,e){function n(n){return t(e(n))}var r=e.pow;return n.invert=function(e){return r(t.invert(e))},n.domain=function(i){return arguments.length?(e=i[0]<0?it:rt,r=e.pow,t.domain(i.map(e)),n):t.domain().map(r)},n.nice=function(){return t.domain(X(t.domain(),G)),n},n.ticks=function(){var n=V(t.domain()),i=[];if(n.every(isFinite)){var o=Math.floor(n[0]),a=Math.ceil(n[1]),s=r(n[0]),n=r(n[1]);if(e===it)for(i.push(r(o));o++<a;)for(var l=9;l>0;l--)i.push(r(o)*l);else{for(;o<a;o++)for(l=1;l<10;l++)i.push(r(o)*l);i.push(r(o))}for(o=0;i[o]<s;o++);for(a=i.length;i[a-1]>n;a--);i=i.slice(o,a)}return i},n.tickFormat=function(t,i){if(arguments.length<2&&(i=$e),arguments.length<1)return i;var o,a=t/n.ticks().length,s=e===it?(o=-1e-12,Math.floor):(o=1e-12,Math.ceil);return function(t){return t/r(s(e(t)+o))<a?i(t):""}},n.copy=function(){return nt(t.copy(),e)},K(n,t)}function rt(t){return Math.log(t<0?0:t)/Math.LN10}function it(t){return-Math.log(t>0?0:-t)/Math.LN10}function ot(t,e){function n(e){return t(r(e))}var r=at(e),i=at(1/e);return n.invert=function(e){return i(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e.map(r)),n):t.domain().map(i)},n.ticks=function(t){var e=n.domain();return le.range.apply(le,Z(e,t))},n.tickFormat=function(t){return Q(n.domain(),t)},n.nice=function(){return n.domain(X(n.domain(),J))},n.exponent=function(t){if(!arguments.length)return e;var o=n.domain();return r=at(e=t),i=at(1/e),n.domain(o)},n.copy=function(){return ot(t.copy(),e)},K(n,t)}function at(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function st(t,e){function n(e){return o[((i[e]||(i[e]=t.push(e)))-1)%o.length]}function r(e,n){return le.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i={};for(var o,a=-1,s=r.length;++a<s;)i[o=r[a]]||(i[o]=t.push(o));return n[e.t](e.x,e.p)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",x:t},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=(u-l)/(t.length-1+s);return o=r(t.length<2?(l+u)/2:l+c*s/2,c),a=0,e={t:"rangePoints",x:i,p:s},n},n.rangeBands=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=(i[1]-l)/(t.length+s);return o=r(l+u*s,u),a=u*(1-s),e={t:"rangeBands",x:i,p:s},n},n.rangeRoundBands=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=Math.floor((u-l)/(t.length+s));return o=r(l+Math.round((u-l-(t.length-s)*c)/2),c),a=Math.round(c*(1-s)),e={t:"rangeRoundBands",x:i,p:s},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return"range"===e.t?V(e.x):e.x},n.copy=function(){return st(t,e)},n.domain(t)}function lt(t,e){function n(){var n=0,o=e.length;for(i=[];++n<o;)i[n-1]=le.quantile(t,n/o);return r}function r(t){return isNaN(t=+t)?NaN:e[le.bisect(i,t)]}var i;return r.domain=function(e){return arguments.length?(t=e.filter(function(t){return!isNaN(t)}).sort(le.ascending),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return i},r.copy=function(){return lt(t,e)},n()}function ut(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.copy=function(){return ut(t,e,n)},i()}function ct(t){return t.innerRadius}function ft(t){return t.outerRadius}function ht(t){return t.startAngle}function dt(t){return t.endAngle}function pt(t){function e(e){return e.length<1?null:"M"+o(t(gt(this,e,n,r)),a)}var n=mt,r=vt,i="linear",o=Ke[i],a=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o=Ke[i=t],e):i},e.tension=function(t){return arguments.length?(a=t,e):a},e}function gt(t,e,n,r){var i,o=[],a=-1,s=e.length,l="function"==typeof n,u="function"==typeof r;if(l&&u)for(;++a<s;)o.push([n.call(t,i=e[a],a),r.call(t,i,a)]);else if(l)for(;++a<s;)o.push([n.call(t,e[a],a),r]);else if(u)for(;++a<s;)o.push([n,r.call(t,e[a],a)]);else for(;++a<s;)o.push([n,r]);return o}function mt(t){return t[0]}function vt(t){return t[1]}function yt(t){return t<1e-4?Math.round(1e4*t)/1e4:t}function bt(t){for(var e=0,n=t.length,r=t[0],i=[yt(r[0]),",",yt(r[1])];++e<n;)i.push("L",yt((r=t[e])[0]),",",yt(r[1]));return i.join("")}function xt(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function wt(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function _t(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bt(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1)for(s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1],i=2;i<e.length;i++,l++)o=t[l],s=e[i],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];return n&&(n=t[l],r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+n[0]+","+n[1]),r}function Ct(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function kt(t){if(t.length<3)return bt(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],i=[i,",",o];for(Tt(i,a,s);++e<n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Tt(i,a,s);for(e=-1;++e<2;)a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Tt(i,a,s);return i.join("")}function St(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Tt(t,e,n){t.push("C",St(Je,e),",",St(Je,n),",",St(Ze,e),",",St(Ze,n),",",St(Qe,e),",",St(Qe,n))}function Mt(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Nt(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]+Ge,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function At(t){function e(e){if(e.length<1)return null;var n=gt(this,e,o,s),e=gt(this,e,o===a?function(t,e){return n[e][0]}:a,s===l?function(t,e){return n[e][1]}:l);return"M"+r(t(e),u)+"L"+i(t(n.reverse()),u)+"Z"}var n,r,i,o=mt,a=mt,s=0,l=vt,u=.7;return e.x=function(t){return arguments.length?(o=a=t,e):a},e.x0=function(t){return arguments.length?(o=t,e):o},e.x1=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(s=l=t,e):l},e.y0=function(t){return arguments.length?(s=t,e):s},e.y1=function(t){return arguments.length?(l=t,e):l},e.interpolate=function(t){return arguments.length?(r=Ke[n=t],i=r.reverse||r,e):n},e.tension=function(t){return arguments.length?(u=t,e):u},e.interpolate("linear")}function Lt(t){return t.source}function Et(t){return t.target}function Dt(t){return t.radius}function Ot(t){return[t.x,t.y]}function Ft(t,e){var n=(t.ownerSVGElement||t).createSVGPoint();if(tn<0&&(window.scrollX||window.scrollY)){var r=le.select(document.body).append("svg").style("position","absolute").style("top",0).style("left",0),i=r[0][0].getScreenCTM();tn=!(i.f||i.e),r.remove()}return tn?(n.x=e.pageX,n.y=e.pageY):(n.x=e.clientX,n.y=e.clientY),n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}function zt(){return 64}function Rt(){return"circle"}function Pt(t,e){t.attr("transform",function(t){return"translate("+e(t)+",0)"})}function Bt(t,e){t.attr("transform",function(t){return"translate(0,"+e(t)+")"})}function Wt(t,e){t.select(".extent").attr("x",e[0][0]),t.selectAll(".n,.s,.w,.nw,.sw").attr("x",e[0][0]-2),t.selectAll(".e,.ne,.se").attr("x",e[1][0]-3),t.selectAll(".extent,.n,.s").attr("width",e[1][0]-e[0][0])}function It(t,e){t.select(".extent").attr("y",e[0][1]),t.selectAll(".n,.e,.w,.nw,.ne").attr("y",e[0][1]-3),t.selectAll(".s,.se,.sw").attr("y",e[1][1]-4),t.selectAll(".extent,.e,.w").attr("height",e[1][1]-e[0][1])}function Ht(){32==le.event.keyCode&&sn&&!fn&&(dn=null,pn[0]=pn[0]-cn[1][0],pn[1]=pn[1]-cn[1][1],fn=2,x())}function jt(){32==le.event.keyCode&&2==fn&&(pn[0]=pn[0]+cn[1][0],pn[1]=pn[1]+cn[1][1],fn=0,x())}function $t(){if(pn){var t=le.svg.mouse(sn),e=le.select(sn);fn||(le.event.altKey?(dn||(dn=[(cn[0][0]+cn[1][0])/2,(cn[0][1]+cn[1][1])/2]),pn[0]=cn[+(t[0]<dn[0])][0],pn[1]=cn[+(t[1]<dn[1])][1]):dn=null),ln&&(qt(t,ln,0),Wt(e,cn)),un&&(qt(t,un,1),It(e,cn)),an("brush")}}function qt(t,e,n){var r=U(e),e=r[0],i=r[1],r=pn[n],o=cn[1][n]-cn[0][n];fn&&(e-=r,i-=o+r),t=Math.max(e,Math.min(i,t[n])),fn?e=(t+=r)+o:(dn&&(r=Math.max(e,Math.min(i,2*dn[n]-t))),r<t?(e=t,t=r):e=r),cn[0][n]=t,cn[1][n]=e}function Vt(){pn&&($t(),le.select(sn).selectAll(".resize").style("pointer-events",on.empty()?"none":"all"),an("brushend"),on=an=sn=ln=un=cn=fn=hn=dn=pn=null,x())}function Ut(t){var e=Xt(),n=le.event,r=le.event={type:t};e&&(r.x=e[0]+xn[0],r.y=e[1]+xn[1],r.dx=e[0]-wn[0],r.dy=e[1]-wn[1],_n=_n|r.dx|r.dy,wn=e);try{mn[t].apply(yn,bn)}finally{le.event=n}n.stopPropagation(),n.preventDefault()}function Xt(){var t=yn.parentNode,e=le.event.changedTouches;return t&&(e?le.svg.touches(t,e)[0]:le.svg.mouse(t))}function Gt(){if(yn){if(!yn.parentNode)return Yt();Ut("drag"),x()}}function Yt(){yn&&(Ut("dragend"),_n&&(x(),_n=le.event.target===vn),mn=vn=yn=bn=xn=wn=null)}function Kt(){_n&&(x(),_n=0)}function Jt(t){return[t[0]-Tn[0],t[1]-Tn[1],Tn[2]]}function Zt(){for(var t,e=le.svg.touches(Ln),n=-1,r=e.length;++n<r;)On[(t=e[n]).identifier]=Jt(t);return e}function Qt(){var t=le.svg.touches(Ln);switch(t.length){case 1:t=t[0],
re(Tn[2],t,On[t.identifier]);break;case 2:var e=t[0],n=t[1],t=[(e[0]+n[0])/2,(e[1]+n[1])/2],e=On[e.identifier],n=On[n.identifier],n=[(e[0]+n[0])/2,(e[1]+n[1])/2,e[2]];re(Math.log(le.event.scale)/Math.LN2+e[2],t,n)}}function te(){Sn=null,kn&&(Dn=1,re(Tn[2],le.svg.mouse(Ln),kn))}function ee(){kn&&(Dn&&(x(),Dn=An===le.event.target),Tn=Mn=Nn=An=Ln=En=kn=null)}function ne(){Dn&&(x(),Dn=0)}function re(t,e,n){function r(t,e,n){t.domain(t.range().map(function(r){return t.invert((r-n)*i/o+e)}))}var t=ie(t,2),i=Math.pow(2,Tn[2]),o=Math.pow(2,t),t=Math.pow(2,(Tn[2]=t)-n[2]),a=Tn[0],s=Tn[1],l=Tn[0]=ie(e[0]-n[0]*t,0,o),u=Tn[1]=ie(e[1]-n[1]*t,1,o),e=le.event;le.event={scale:o,translate:[l,u],transform:function(t,e){t&&r(t,a,l),e&&r(e,s,u)}};try{Nn.apply(Ln,En)}finally{le.event=e}e.preventDefault()}function ie(t,e,n){var r=Mn[e],i=r[0],r=r[1];return 3===arguments.length?Math.max(r*(r===1/0?-(1/0):1/n-1),Math.min(i===-(1/0)?1/0:i,t/n))*n:Math.max(i,Math.min(r,t))}Date.now||(Date.now=function(){return+new Date});try{document.createElement("div").style.setProperty("opacity",0,"")}catch(oe){if("undefined"!=typeof CSSStyleDeclaration){var ae=CSSStyleDeclaration.prototype,se=ae.setProperty;ae.setProperty=function(t,e,n){se.call(this,t,e+"",n)}}}var le=global.d3={version:"2.7.4"},ue=function(t){return Array.prototype.slice.call(t)};try{ue(document.documentElement.childNodes)[0].nodeType}catch(ce){ue=t}var fe=[].__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};le.functor=function(t){return"function"==typeof t?t:function(){return t}},le.rebind=function(t,e){for(var r,i=1,o=arguments.length;++i<o;)t[r=arguments[i]]=n(t,e,e[r]);return t},le.ascending=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},le.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},le.mean=function(t,e){var n,i=t.length,o=0,a=-1,s=0;if(1===arguments.length)for(;++a<i;)r(n=t[a])&&(o+=(n-o)/++s);else for(;++a<i;)r(n=e.call(t,t[a],a))&&(o+=(n-o)/++s);return s?o:void 0},le.median=function(t,e){return arguments.length>1&&(t=t.map(e)),t=t.filter(r),t.length?le.quantile(t.sort(le.ascending),.5):void 0},le.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&(null==(n=t[i])||n!=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o&&(null==(n=e.call(t,t[i],i))||n!=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},le.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o&&(null==(n=t[i])||n!=n);)n=void 0;for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o&&(null==(n=e.call(t,t[i],i))||n!=n);)n=void 0;for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},le.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a&&(null==(n=i=t[o])||n!=n);)n=i=void 0;for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a&&(null==(n=i=e.call(t,t[o],o))||n!=n);)n=void 0;for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},le.random={normal:function(t,e){return arguments.length<2&&(e=1),arguments.length<1&&(t=0),function(){var n,r;do n=2*Math.random()-1,r=2*Math.random()-1,r=n*n+r*r;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}}},le.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)isNaN(n=+t[o])||(r+=n);else for(;++o<i;)isNaN(n=+e.call(t,t[o],o))||(r+=n);return r},le.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=t[r-1];return(n-=r)?i+n*(t[r]-i):i},le.transpose=function(t){return le.zip.apply(le,t)},le.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=le.min(arguments,i),n=Array(e);++t<e;)for(var r,o=-1,a=n[t]=Array(r);++o<r;)a[o]=arguments[o][t];return n},le.bisectLeft=function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>1;t[i]<e?n=i+1:r=i}return n},le.bisect=le.bisectRight=function(t,e,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=t.length);n<r;){var i=n+r>>1;e<t[i]?r=i:n=i+1}return n},le.first=function(t,e){var n,r=0,i=t.length,o=t[0];for(1===arguments.length&&(e=le.ascending);++r<i;)e.call(t,o,n=t[r])>0&&(o=n);return o},le.last=function(t,e){var n,r=0,i=t.length,o=t[0];for(1===arguments.length&&(e=le.ascending);++r<i;)e.call(t,o,n=t[r])<=0&&(o=n);return o},le.nest=function(){function t(e,a){if(a>=o.length)return r?r.call(i,e):n?e.sort(n):e;for(var s,l,u=-1,c=e.length,f=o[a++],h={};++u<c;)(s=f(l=e[u]))in h?h[s].push(l):h[s]=[l];for(s in h)h[s]=t(h[s],a);return h}function e(t,n){if(n>=o.length)return t;var r,i=[],s=a[n++];for(r in t)i.push({key:r,values:e(t[r],n)});return s&&i.sort(function(t,e){return s(t.key,e.key)}),i}var n,r,i={},o=[],a=[];return i.map=function(e){return t(e,0)},i.entries=function(n){return e(t(n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},le.keys=function(t){var e,n=[];for(e in t)n.push(e);return n},le.values=function(t){var e,n=[];for(e in t)n.push(t[e]);return n},le.entries=function(t){var e,n=[];for(e in t)n.push({key:e,value:t[e]});return n},le.permute=function(t,e){for(var n=[],r=-1,i=e.length;++r<i;)n[r]=t[e[r]];return n},le.merge=function(t){return Array.prototype.concat.apply([],t)},le.split=function(t,e){var n,r=[],i=[],a=-1,s=t.length;for(arguments.length<2&&(e=o);++a<s;)e.call(i,n=t[a],a)?i=[]:(i.length||r.push(i),i.push(n));return r},le.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw Error("infinite range");var r,i=[],o=-1;if(n<0)for(;(r=t+n*++o)>e;)i.push(r);else for(;(r=t+n*++o)<e;)i.push(r);return i},le.requote=function(t){return t.replace(he,"\\$&")};var he=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;le.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},le.xhr=function(t,e,n){var r;window.XMLHttpRequest?r=new XMLHttpRequest:window.ActiveXObject&&(r=new ActiveXObject("Microsoft.XMLHTTP")),arguments.length<3?(n=e,e=null):e&&r.overrideMimeType&&r.overrideMimeType(e),r.open("GET",t,!0),e&&r.setRequestHeader("Accept",e),r.onreadystatechange=function(){4===r.readyState&&n(r.status<300?r:null)},r.send(null)},le.text=function(t,e,n){arguments.length<3&&(n=e,e=null),le.xhr(t,e,function(t){n(t&&t.responseText)})},le.json=function(t,e){le.text(t,"application/json",function(t){e(t?JSON.parse(t):null)})},le.html=function(t,e){le.text(t,"text/html",function(t){if(null!=t){var n=document.createRange();n.selectNode(document.body),t=n.createContextualFragment(t)}e(t)})},le.xml=function(t,e,n){arguments.length<3&&(n=e,e=null),le.xhr(t,e,function(t){n(t&&t.responseXML)})};var de={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};le.ns={prefix:de,qualify:function(t){var e=t.indexOf(":");return e<0?t in de?{space:de[t],local:t}:t:{space:de[t.substring(0,e)],local:t.substring(e+1)}}},le.dispatch=function(){for(var t=new s,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=l(t);return t},s.prototype.on=function(t,e){var n=t.indexOf("."),r="";return n>0&&(r=t.substring(n+1),t=t.substring(0,n)),arguments.length<2?this[t].on(r):this[t].on(r,e)},le.format=function(t){var t=pe.exec(t),e=t[1]||" ",n=t[3]||"",r=t[5],i=+t[6],o=t[7],a=t[8],s=t[9],l=1,u="",h=!1;switch(a&&(a=+a.substring(1)),r&&(e="0",o&&(i-=Math.floor((i-1)/4))),s){case"n":o=!0,s="g";break;case"%":l=100,u="%",s="f";break;case"p":l=100,u="%",s="r";break;case"d":h=!0,a=0;break;case"s":l=-1,s="r"}return"r"==s&&!a&&(s="g"),s=ge[s]||c,function(t){if(h&&t%1)return"";var c=t<0&&(t=-t)?"−":n;if(l<0){var d=le.formatPrefix(t,a),t=t*d.scale;u=d.symbol}else t*=l;return t=s(t,a),r?(d=t.length+c.length,d<i&&(t=Array(i-d+1).join(e)+t),o&&(t=f(t)),t=c+t):(o&&(t=f(t)),t=c+t,d=t.length,d<i&&(t=Array(i-d+1).join(e)+t)),t+u}};var pe=/(?:([^{])?([<>=^]))?([+\- ])?(#)?(0)?([0-9]+)?(,)?(\.[0-9]+)?([a-zA-Z%])?/,ge={g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return le.round(t,e=u(t,e)).toFixed(Math.max(0,Math.min(20,e)))}},me=["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){return{scale:Math.pow(10,3*(8-e)),symbol:t}});le.formatPrefix=function(t,e){var n=0;return t&&(t<0&&(t*=-1),e&&(t=le.round(t,u(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n<=0?n+1:n-1)/3)))),me[8+n/3]};var ve=g(2),ye=g(3),be={linear:function(){return p},poly:g,quad:function(){return ve},cubic:function(){return ye},sin:function(){return m},exp:function(){return v},circle:function(){return y},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length<1?(t=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/t),function(r){return 1+t*Math.pow(2,10*-r)*Math.sin(2*(r-n)*Math.PI/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return b}},xe={"in":function(t){return t},out:h,"in-out":d,"out-in":function(t){return d(h(t))}};le.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.substring(0,e):t,e=e>=0?t.substring(e+1):"in",r=xe[e](be[n].apply(null,Array.prototype.slice.call(arguments,1)));return function(t){return t<=0?0:t>=1?1:r(t)}},le.event=null,le.interpolate=function(t,e){for(var n,r=le.interpolators.length;--r>=0&&!(n=le.interpolators[r](t,e)););return n},le.interpolateNumber=function(t,e){return e-=t,function(n){return t+e*n}},le.interpolateRound=function(t,e){return e-=t,function(n){return Math.round(t+e*n)}},le.interpolateString=function(t,e){var n,r,i,o,a=0,s=[],l=[];for(r=we.lastIndex=0;n=we.exec(e);++r)n.index&&s.push(e.substring(a,n.index)),l.push({i:s.length,x:n[0]}),s.push(null),a=we.lastIndex;for(a<e.length&&s.push(e.substring(a)),r=0,i=l.length;(n=we.exec(t))&&r<i;++r)if(o=l[r],o.x==n[0]){if(o.i)if(null==s[o.i+1])for(s[o.i-1]=s[o.i-1]+o.x,s.splice(o.i,1),n=r+1;n<i;++n)l[n].i--;else for(s[o.i-1]=s[o.i-1]+(o.x+s[o.i+1]),s.splice(o.i,2),n=r+1;n<i;++n)l[n].i=l[n].i-2;else if(null==s[o.i+1])s[o.i]=o.x;else for(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1),n=r+1;n<i;++n)l[n].i--;l.splice(r,1),i--,r--}else o.x=le.interpolateNumber(parseFloat(n[0]),parseFloat(o.x));for(;r<i;)o=l.pop(),null==s[o.i+1]?s[o.i]=o.x:(s[o.i]=o.x+s[o.i+1],s.splice(o.i+1,1)),i--;return 1===s.length?null==s[0]?l[0].x:function(){return e}:function(t){for(r=0;r<i;++r)s[(o=l[r]).i]=o.x(t);return s.join("")}},le.interpolateTransform=function(t,e){var n,r=[],i=[],o=le.transform(t),a=le.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,f=o.skew,h=a.skew,o=o.scale,a=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:le.interpolateNumber(s[0],l[0])},{i:3,x:le.interpolateNumber(s[1],l[1])})):l[0]||l[1]?r.push("translate("+l+")"):r.push(""),u!=c?i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:le.interpolateNumber(u,c)}):c&&r.push(r.pop()+"rotate("+c+")"),f!=h?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:le.interpolateNumber(f,h)}):h&&r.push(r.pop()+"skewX("+h+")"),o[0]!=a[0]||o[1]!=a[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:le.interpolateNumber(o[0],a[0])},{i:n-2,x:le.interpolateNumber(o[1],a[1])})):(1!=a[0]||1!=a[1])&&r.push(r.pop()+"scale("+a+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}},le.interpolateRgb=function(t,e){var t=le.rgb(t),e=le.rgb(e),n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+S(Math.round(n+o*t))+S(Math.round(r+a*t))+S(Math.round(i+s*t))}},le.interpolateHsl=function(t,e){var t=le.hsl(t),e=le.hsl(e),n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return function(t){return E(n+o*t,r+a*t,i+s*t).toString()}},le.interpolateArray=function(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(le.interpolate(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<s;++n)i[n]=r[n](t);return i}},le.interpolateObject=function(t,e){var n,r={},i={};for(n in t)n in e?r[n]=("transform"==n?le.interpolateTransform:le.interpolate)(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}};var we=/[-+]?(?:\d*\.?\d+)(?:[eE][-+]?\d+)?/g;le.interpolators=[le.interpolateObject,function(t,e){return e instanceof Array&&le.interpolateArray(t,e)},function(t,e){return("string"==typeof t||"string"==typeof e)&&le.interpolateString(t+"",e+"")},function(t,e){return("string"==typeof e?e in Ce||/^(#|rgb\(|hsl\()/.test(e):e instanceof k||e instanceof L)&&le.interpolateRgb(t,e)},function(t,e){return!isNaN(t=+t)&&!isNaN(e=+e)&&le.interpolateNumber(t,e)}],le.rgb=function(t,e,n){return 1===arguments.length?t instanceof k?C(t.r,t.g,t.b):T(""+t,C,E):C(~~t,~~e,~~n)},k.prototype.brighter=function(t){var t=Math.pow(.7,arguments.length?t:1),e=this.r,n=this.g,r=this.b;return e||n||r?(e&&e<30&&(e=30),n&&n<30&&(n=30),r&&r<30&&(r=30),C(Math.min(255,Math.floor(e/t)),Math.min(255,Math.floor(n/t)),Math.min(255,Math.floor(r/t)))):C(30,30,30)},k.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),C(Math.floor(t*this.r),Math.floor(t*this.g),Math.floor(t*this.b))},k.prototype.hsl=function(){return M(this.r,this.g,this.b)},k.prototype.toString=function(){return"#"+S(this.r)+S(this.g)+S(this.b)};var _e,Ce={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};for(_e in Ce)Ce[_e]=T(Ce[_e],C,E);le.hsl=function(t,e,n){return 1===arguments.length?t instanceof L?A(t.h,t.s,t.l):T(""+t,M,A):A(+t,+e,+n)},L.prototype.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),A(this.h,this.s,this.l/t)},L.prototype.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),A(this.h,this.s,t*this.l)},L.prototype.rgb=function(){return E(this.h,this.s,this.l)},L.prototype.toString=function(){return this.rgb().toString()};var ke=function(t,e){return e.querySelector(t)},Se=function(t,e){return e.querySelectorAll(t)},Te=document.documentElement,Me=Te.matchesSelector||Te.webkitMatchesSelector||Te.mozMatchesSelector||Te.msMatchesSelector||Te.oMatchesSelector,Ne=function(t,e){return Me.call(t,e)};"function"==typeof Sizzle&&(ke=function(t,e){return Sizzle(t,e)[0]},Se=function(t,e){return Sizzle.uniqueSort(Sizzle(t,e))},Ne=Sizzle.matchesSelector);var Ae=[];le.selection=function(){return Ee},le.selection.prototype=Ae,Ae.select=function(t){var e,n,r,i,o=[];"function"!=typeof t&&(t=O(t));for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return D(o)},Ae.selectAll=function(t){var e,n,r=[];"function"!=typeof t&&(t=F(t));for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ue(t.call(n,n.__data__,s))),e.parentNode=n);return D(r)},Ae.attr=function(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}if(t=le.ns.qualify(t),arguments.length<2){var l=this.node();return t.local?l.getAttributeNS(t.space,t.local):l.getAttribute(t)}return this.each(null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i)},Ae.classed=function(t,e){var n=t.split(Le),r=n.length,i=-1;if(arguments.length>1){for(;++i<r;)z.call(this,n[i],e);return this}for(;++i<r;)if(!z.call(this,n[i]))return!1;return!0};var Le=/\s+/g;Ae.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return arguments.length<3&&(n=""),arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(t):this.each(null==e?r:"function"==typeof e?o:i)},Ae.property=function(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return arguments.length<2?this.node()[t]:this.each(null==e?n:"function"==typeof e?i:r)},Ae.text=function(t){return arguments.length<1?this.node().textContent:this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t})},Ae.html=function(t){return arguments.length<1?this.node().innerHTML:this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t})},Ae.append=function(t){function e(){return this.appendChild(document.createElementNS(this.namespaceURI,t))}function n(){var e=document.createElementNS(t.space,t.local);return this.appendChild(e)}return t=le.ns.qualify(t),this.select(t.local?n:e)},Ae.insert=function(t,e){function n(){return this.insertBefore(document.createElementNS(this.namespaceURI,t),ke(e,this))}function r(){return this.insertBefore(document.createElementNS(t.space,t.local),ke(e,this))}return t=le.ns.qualify(t),this.select(t.local?r:n)},Ae.remove=function(){return this.each(function(){var t=this.parentNode;t&&t.removeChild(this)})},Ae.data=function(t,e){function n(t,n){var r,s,l,u=t.length,c=n.length,f=Math.min(u,c),h=Math.max(u,c),d=[],p=[],g=[];if(e){var m,f={},h=[];for(l=n.length,r=-1;++r<u;)m=e.call(s=t[r],s.__data__,r),m in f?g[l++]=s:f[m]=s,h.push(m);for(r=-1;++r<c;)(s=f[m=e.call(n,l=n[r],r)])?(s.__data__=l,d[r]=s,p[r]=g[r]=null):(p[r]={__data__:l},d[r]=g[r]=null),delete f[m];for(r=-1;++r<u;)h[r]in f&&(g[r]=t[r])}else{for(r=-1;++r<f;)s=t[r],l=n[r],s?(s.__data__=l,d[r]=s,p[r]=g[r]=null):(p[r]={__data__:l},d[r]=g[r]=null);for(;r<c;++r)p[r]={__data__:n[r]},d[r]=g[r]=null;for(;r<h;++r)g[r]=t[r],p[r]=d[r]=null}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,i.push(p),o.push(d),a.push(g)}var r,i=[],o=[],a=[],s=-1,l=this.length;if("function"==typeof t)for(;++s<l;)n(r=this[s],t.call(r,r.parentNode.__data__,s));else for(;++s<l;)n(r=this[s],t);return s=D(o),s.enter=function(){var t=i;return fe(t,De),t},s.exit=function(){return D(a)},s},Ae.filter=function(t){var e,n,r,i=[];if("function"!=typeof t)var o=t,t=function(){return Ne(this,o)};for(var a=0,s=this.length;a<s;a++){i.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var l=0,u=n.length;l<u;l++)(r=n[l])&&t.call(r,r.__data__,l)&&e.push(r)}return D(i)},Ae.map=function(t){return this.each(function(){this.__data__=t.apply(this,arguments)})},Ae.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Ae.sort=function(t){for(var t=R.apply(this,arguments),e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Ae.on=function(t,e,n){arguments.length<3&&(n=!1);var r="__on"+t,i=t.indexOf(".");return i>0&&(t=t.substring(0,i)),arguments.length<2?(i=this.node()[r])&&i._:this.each(function(i,o){function a(t){var n=le.event;le.event=t;try{e.call(s,s.__data__,o)}finally{le.event=n}}var s=this;s[r]&&s.removeEventListener(t,s[r],n),e&&s.addEventListener(t,s[r]=a,n),a._=e})},Ae.each=function(t){for(var e=-1,n=this.length;++e<n;)for(var r=this[e],i=-1,o=r.length;++i<o;){var a=r[i];a&&t.call(a,a.__data__,i,e)}return this},Ae.call=function(t){return t.apply(this,(arguments[0]=this,arguments)),this},Ae.empty=function(){return!this.node()},Ae.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},Ae.transition=function(){for(var t,e,n=[],r=-1,i=this.length;++r<i;){n.push(t=[]);for(var o=this[r],a=-1,s=o.length;++a<s;)t.push((e=o[a])?{node:e,delay:0,duration:250}:null)}return P(n,Re||++ze,Date.now())};var Ee=D([[document]]);Ee[0].parentNode=Te,le.select=function(t){return"string"==typeof t?Ee.select(t):D([[t]])},le.selectAll=function(t){return"string"==typeof t?Ee.selectAll(t):D([ue(t)])};var De=[];De.append=Ae.append,De.insert=Ae.insert,De.empty=Ae.empty,De.node=Ae.node,De.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u)),n.__data__=o.__data__):e.push(null)}return D(a)};var Oe={},Fe=[],ze=0,Re=0,Pe=le.ease("cubic-in-out");Fe.call=Ae.call,le.transition=function(){return Ee.transition()},le.transition.prototype=Fe,Fe.select=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=O(t));for(var o=-1,a=this.length;++o<a;){i.push(e=[]);for(var s=this[o],l=-1,u=s.length;++l<u;)(r=s[l])&&(n=t.call(r.node,r.node.__data__,l))?("__data__"in r.node&&(n.__data__=r.node.__data__),e.push({node:n,delay:r.delay,duration:r.duration})):e.push(null)}return P(i,this.id,this.time).ease(this.ease())},Fe.selectAll=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=F(t));for(var o=-1,a=this.length;++o<a;)for(var s=this[o],l=-1,u=s.length;++l<u;)if(r=s[l]){n=t.call(r.node,r.node.__data__,l),i.push(e=[]);for(var c=-1,f=n.length;++c<f;)e.push({node:n[c],delay:r.delay,duration:r.duration})}return P(i,this.id,this.time).ease(this.ease())},Fe.attr=function(t,e){return this.attrTween(t,W(t,e))},Fe.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r===Oe?(this.removeAttribute(i),null):r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r===Oe?(this.removeAttributeNS(i.space,i.local),null):r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=le.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Fe.style=function(t,e,n){return arguments.length<3&&(n=""),this.styleTween(t,W(t,e),n)},Fe.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,window.getComputedStyle(this,null).getPropertyValue(t));return o===Oe?(this.style.removeProperty(t),null):o&&function(e){this.style.setProperty(t,o(e),n)}})},Fe.text=function(t){return this.tween("text",function(e,n){this.textContent="function"==typeof t?t.call(this,e,n):t})},Fe.remove=function(){return this.each("end.transition",function(){var t;!this.__transition__&&(t=this.parentNode)&&t.removeChild(this)})},Fe.delay=function(t){var e=this;return e.each("function"==typeof t?function(n,r,i){e[i][r].delay=+t.apply(this,arguments)}:(t=+t,function(n,r,i){e[i][r].delay=t}))},Fe.duration=function(t){var e=this;return e.each("function"==typeof t?function(n,r,i){e[i][r].duration=+t.apply(this,arguments)}:(t=+t,function(n,r,i){e[i][r].duration=t}))},Fe.transition=function(){return this.select(e)};var Be,We,Ie=null;le.timer=function(t,e,n){var r=!1,i=Ie;if(arguments.length<3){if(arguments.length<2)e=0;else if(!isFinite(e))return;n=Date.now()}for(;i;){if(i.callback===t){i.then=n,i.delay=e,r=!0;break}i=i.next}r||(Ie={callback:t,then:n,delay:e,next:Ie}),Be||(We=clearTimeout(We),Be=1,He(H))},le.timer.flush=function(){for(var t,e=Date.now(),n=Ie;n;)t=e-n.then,n.delay||(n.flush=n.callback(t)),n=n.next;j()};var He=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,17)};le.transform=function(t){var e=document.createElementNS(le.ns.prefix.svg,"g"),n={a:1,b:0,c:0,d:1,e:0,f:0};return(le.transform=function(t){return e.setAttribute("transform",t),t=e.transform.baseVal.consolidate(),new $(t?t.matrix:n)})(t)},$.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var je=180/Math.PI;le.scale={},le.scale.linear=function(){return Y([0,1],[0,1],le.interpolate,!1)},le.scale.log=function(){return nt(le.scale.linear(),rt)};var $e=le.format(".0e");rt.pow=function(t){return Math.pow(10,t)},it.pow=function(t){return-Math.pow(10,-t)},le.scale.pow=function(){return ot(le.scale.linear(),1)},le.scale.sqrt=function(){return le.scale.pow().exponent(.5)},le.scale.ordinal=function(){return st([],{t:"range",x:[]})},le.scale.category10=function(){return le.scale.ordinal().range(qe)},le.scale.category20=function(){return le.scale.ordinal().range(Ve)},le.scale.category20b=function(){return le.scale.ordinal().range(Ue)},le.scale.category20c=function(){return le.scale.ordinal().range(Xe)};var qe=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Ve=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Ue=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],Xe=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];le.scale.quantile=function(){return lt([],[])},le.scale.quantize=function(){return ut(0,1,[0,1])},le.svg={},le.svg.arc=function(){function t(){var t=e.apply(this,arguments),o=n.apply(this,arguments),a=r.apply(this,arguments)+Ge,s=i.apply(this,arguments)+Ge,l=(s<a&&(l=a,a=s,s=l),s-a),u=l<Math.PI?"0":"1",c=Math.cos(a),a=Math.sin(a),f=Math.cos(s),s=Math.sin(s);return l>=Ye?t?"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"M0,"+t+"A"+t+","+t+" 0 1,0 0,"+-t+"A"+t+","+t+" 0 1,0 0,"+t+"Z":"M0,"+o+"A"+o+","+o+" 0 1,1 0,"+-o+"A"+o+","+o+" 0 1,1 0,"+o+"Z":t?"M"+o*c+","+o*a+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*s+"L"+t*f+","+t*s+"A"+t+","+t+" 0 "+u+",0 "+t*c+","+t*a+"Z":"M"+o*c+","+o*a+"A"+o+","+o+" 0 "+u+",1 "+o*f+","+o*s+"L0,0Z"}var e=ct,n=ft,r=ht,i=dt;return t.innerRadius=function(n){return arguments.length?(e=le.functor(n),t):e},t.outerRadius=function(e){return arguments.length?(n=le.functor(e),t):n},t.startAngle=function(e){return arguments.length?(r=le.functor(e),t):r},t.endAngle=function(e){return arguments.length?(i=le.functor(e),t):i},t.centroid=function(){var t=(e.apply(this,arguments)+n.apply(this,arguments))/2,o=(r.apply(this,arguments)+i.apply(this,arguments))/2+Ge;return[Math.cos(o)*t,Math.sin(o)*t]},t};var Ge=-Math.PI/2,Ye=2*Math.PI-1e-6;le.svg.line=function(){return pt(Object)};var Ke={linear:bt,"step-before":xt,"step-after":wt,basis:kt,"basis-open":function(t){if(t.length<4)return bt(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(St(Qe,o)+","+St(Qe,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Tt(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[St(Qe,a),",",St(Qe,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Tt(e,a,s);return e.join("")},bundle:function(t,e){for(var n,r,i=t.length-1,o=t[0][0],a=t[0][1],s=t[i][0]-o,l=t[i][1]-a,u=-1;++u<=i;)n=t[u],r=u/i,n[0]=e*n[0]+(1-e)*(o+r*s),n[1]=e*n[1]+(1-e)*(a+r*l);return kt(t)},cardinal:function(t,e){return t.length<3?bt(t):t[0]+_t(t,Ct(t,e))},"cardinal-open":function(t,e){return t.length<4?bt(t):t[1]+_t(t.slice(1,t.length-1),Ct(t,e))},"cardinal-closed":function(t,e){return t.length<3?bt(t):t[0]+_t((t.push(t[0]),t),Ct([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){if(t.length<3)t=bt(t);else{var e,n,r,i,o=t[0],a=[];e=0,n=t.length-1;var s=[];for(r=t[1],i=s[0]=Mt(t[0],r);++e<n;)s[e]=i+(i=Mt(r,r=t[e+1]));s[e]=i;for(var l=-1,u=t.length-1;++l<u;)e=Mt(t[l],t[l+1]),Math.abs(e)<1e-6?s[l]=s[l+1]=0:(n=s[l]/e,r=s[l+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),s[l]=i*n,s[l+1]=i*r));for(l=-1;++l<=u;)i=(t[Math.min(u,l+1)][0]-t[Math.max(0,l-1)][0])/(6*(1+s[l]*s[l])),a.push([i||0,s[l]*i||0]);t=o+_t(t,a)}return t}},Je=[0,2/3,1/3,0],Ze=[0,1/3,2/3,0],Qe=[0,1/6,2/3,1/6];le.svg.line.radial=function(){var t=pt(Nt);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},xt.reverse=wt,wt.reverse=xt,le.svg.area=function(){return At(Object)},le.svg.area.radial=function(){var t=At(Nt);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},le.svg.chord=function(){function t(t,i){var o=e(this,n,t,i),a=e(this,r,t,i);return"M"+o.p0+("A"+o.r+","+o.r+" 0 "+ +(o.a1-o.a0>Math.PI)+",1 "+o.p1)+(o.a0==a.a0&&o.a1==a.a1?"Q 0,0 "+o.p0:"Q 0,0 "+a.p0+("A"+a.r+","+a.r+" 0 "+ +(a.a1-a.a0>Math.PI)+",1 "+a.p1)+("Q 0,0 "+o.p0))+"Z"}function e(t,e,n,r){var s=e.call(t,n,r),e=i.call(t,s,r),n=o.call(t,s,r)+Ge,t=a.call(t,s,r)+Ge;return{r:e,a0:n,a1:t,p0:[e*Math.cos(n),e*Math.sin(n)],p1:[e*Math.cos(t),e*Math.sin(t)]}}var n=Lt,r=Et,i=Dt,o=ht,a=dt;return t.radius=function(e){return arguments.length?(i=le.functor(e),t):i;
},t.source=function(e){return arguments.length?(n=le.functor(e),t):n},t.target=function(e){return arguments.length?(r=le.functor(e),t):r},t.startAngle=function(e){return arguments.length?(o=le.functor(e),t):o},t.endAngle=function(e){return arguments.length?(a=le.functor(e),t):a},t},le.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,o=[o,{x:o.x,y:s},{x:a.x,y:s},a],o=o.map(r);return"M"+o[0]+"C"+o[1]+" "+o[2]+" "+o[3]}var e=Lt,n=Et,r=Ot;return t.source=function(n){return arguments.length?(e=le.functor(n),t):e},t.target=function(e){return arguments.length?(n=le.functor(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},le.svg.diagonal.radial=function(){var t=le.svg.diagonal(),e=Ot,n=t.projection;return t.projection=function(t){var r;if(arguments.length){var i=e=t;r=n(function(){var t=i.apply(this,arguments),e=t[0],t=t[1]+Ge;return[e*Math.cos(t),e*Math.sin(t)]})}else r=e;return r},t},le.svg.mouse=function(t){return Ft(t,le.event)};var tn=/WebKit/.test(navigator.userAgent)?-1:0;le.svg.touches=function(t,e){return arguments.length<2&&(e=le.event.touches),e?ue(e).map(function(e){var n=Ft(t,e);return n.identifier=e.identifier,n}):[]},le.svg.symbol=function(){function t(t,r){return(en[e.call(this,t,r)]||en.circle)(n.call(this,t,r))}var e=Rt,n=zt;return t.type=function(n){return arguments.length?(e=le.functor(n),t):e},t.size=function(e){return arguments.length?(n=le.functor(e),t):n},t};var en={circle:function(t){return t=Math.sqrt(t/Math.PI),"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"},cross:function(t){return t=Math.sqrt(t/5)/2,"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(t){var t=Math.sqrt(t/(2*rn)),e=t*rn;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(t){return t=Math.sqrt(t)/2,"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(t){var t=Math.sqrt(t/nn),e=t*nn/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(t){var t=Math.sqrt(t/nn),e=t*nn/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}};le.svg.symbolTypes=le.keys(en);var nn=Math.sqrt(3),rn=Math.tan(30*Math.PI/180);le.svg.axis=function(){function t(t){t.each(function(c,f,h){var d=le.select(this),p=t.delay?function(e){var n=Re;try{return Re=t.id,e.transition().delay(t[h][f].delay).duration(t[h][f].duration).ease(t.ease())}finally{Re=n}}:Object,g=n.ticks?n.ticks.apply(n,l):n.domain(),c=null==e?n.tickFormat?n.tickFormat.apply(n,l):String:e,m=u,v=[];if(m&&g.length>1){for(var v,y,b,x=V(n.domain()),w=-1,_=g.length,C=(g[1]-g[0])/++m;++w<_;)for(y=m;--y>0;)(b=+g[w]-y*C)>=x[0]&&v.push(b);for(--w,y=0;++y<m&&(b=+g[w]+y*C)<x[1];)v.push(b)}x=d.selectAll(".minor").data(v,String),b=x.enter().insert("line","g").attr("class","tick minor").style("opacity",1e-6),m=p(x.exit()).style("opacity",1e-6).remove(),x=p(x).style("opacity",1),w=d.selectAll("g").data(g,String),g=w.enter().insert("g","path").style("opacity",1e-6),v=p(w.exit()).style("opacity",1e-6).remove();var k,w=p(w).style("opacity",1),_=U(n),d=d.selectAll(".domain").data([0]);d.enter().append("path").attr("class","domain");var p=p(d),S=n.copy(),d=this.__chart__||S;switch(this.__chart__=S,g.append("line").attr("class","tick"),g.append("text"),w.select("text").text(c),r){case"bottom":k=Pt,b.attr("y2",o),x.attr("x2",0).attr("y2",o),g.select("line").attr("y2",i),g.select("text").attr("y",Math.max(i,0)+s),w.select("line").attr("x2",0).attr("y2",i),w.select("text").attr("x",0).attr("y",Math.max(i,0)+s).attr("dy",".71em").attr("text-anchor","middle"),p.attr("d","M"+_[0]+","+a+"V0H"+_[1]+"V"+a);break;case"top":k=Pt,b.attr("y2",-o),x.attr("x2",0).attr("y2",-o),g.select("line").attr("y2",-i),g.select("text").attr("y",-(Math.max(i,0)+s)),w.select("line").attr("x2",0).attr("y2",-i),w.select("text").attr("x",0).attr("y",-(Math.max(i,0)+s)).attr("dy","0em").attr("text-anchor","middle"),p.attr("d","M"+_[0]+","+-a+"V0H"+_[1]+"V"+-a);break;case"left":k=Bt,b.attr("x2",-o),x.attr("x2",-o).attr("y2",0),g.select("line").attr("x2",-i),g.select("text").attr("x",-(Math.max(i,0)+s)),w.select("line").attr("x2",-i).attr("y2",0),w.select("text").attr("x",-(Math.max(i,0)+s)).attr("y",0).attr("dy",".32em").attr("text-anchor","end"),p.attr("d","M"+-a+","+_[0]+"H0V"+_[1]+"H"+-a);break;case"right":k=Bt,b.attr("x2",o),x.attr("x2",o).attr("y2",0),g.select("line").attr("x2",i),g.select("text").attr("x",Math.max(i,0)+s),w.select("line").attr("x2",i).attr("y2",0),w.select("text").attr("x",Math.max(i,0)+s).attr("y",0).attr("dy",".32em").attr("text-anchor","start"),p.attr("d","M"+a+","+_[0]+"H0V"+_[1]+"H"+a)}if(n.ticks)g.call(k,d),w.call(k,S),v.call(k,S),b.call(k,d),x.call(k,S),m.call(k,S);else{var T=S.rangeBand()/2,c=function(t){return S(t)+T};g.call(k,c),w.call(k,c)}})}var e,n=le.scale.linear(),r="bottom",i=6,o=6,a=6,s=3,l=[10],u=0;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e,n,r){if(!arguments.length)return i;var s=arguments.length-1;return i=+e,o=s>1?+n:i,a=s>0?+arguments[s]:i,t},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(e){return arguments.length?(u=+e,t):u},t},le.svg.brush=function(){function t(i){var a=n&&r?["n","e","s","w","nw","ne","se","sw"]:n?["e","w"]:r?["n","s"]:[];i.each(function(){var i=le.select(this).on("mousedown.brush",e),s=i.selectAll(".background").data([0]),l=i.selectAll(".extent").data([0]),u=i.selectAll(".resize").data(a,String);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("pointer-events","all").style("cursor","crosshair"),l.enter().append("rect").attr("class","extent").style("cursor","move"),u.enter().append("rect").attr("class",function(t){return"resize "+t}).attr("width",6).attr("height",6).style("visibility","hidden").style("cursor",function(t){return gn[t]}),u.style("pointer-events",t.empty()?"none":"all"),u.exit().remove(),n&&(l=U(n),s.attr("x",l[0]).attr("width",l[1]-l[0]),Wt(i,o)),r&&(l=U(r),s.attr("y",l[0]).attr("height",l[1]-l[0]),It(i,o))})}function e(){var e=le.select(le.event.target);on=t,sn=this,cn=o,pn=le.svg.mouse(sn),(fn=e.classed("extent"))?(pn[0]=o[0][0]-pn[0],pn[1]=o[0][1]-pn[1]):e.classed("resize")?(hn=le.event.target.__data__,pn[0]=o[+/w$/.test(hn)][0],pn[1]=o[+/^n/.test(hn)][1]):le.event.altKey&&(dn=pn.slice()),ln=!/^(n|s)$/.test(hn)&&n,un=!/^(e|w)$/.test(hn)&&r;var a=this,s=arguments;an=function(e){var n=le.event;try{le.event={type:e,target:t},i[e].apply(a,s)}finally{le.event=n}},an("brushstart"),$t(),x()}var n,r,i=le.dispatch("brushstart","brush","brushend"),o=[[0,0],[0,0]];return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(r=e,t):r},t.extent=function(e){var i,a,s,l,u;return arguments.length?(n&&(i=e[0],a=e[1],r&&(i=i[0],a=a[0]),n.invert&&(i=n(i),a=n(a)),a<i&&(u=i,i=a,a=u),o[0][0]=i,o[1][0]=a),r&&(s=e[0],l=e[1],n&&(s=s[1],l=l[1]),r.invert&&(s=r(s),l=r(l)),l<s&&(u=s,s=l,l=u),o[0][1]=s,o[1][1]=l),t):(n&&(i=o[0][0],a=o[1][0],n.invert&&(i=n.invert(i),a=n.invert(a)),a<i&&(u=i,i=a,a=u)),r&&(s=o[0][1],l=o[1][1],r.invert&&(s=r.invert(s),l=r.invert(l)),l<s&&(u=s,s=l,l=u)),n&&r?[[i,s],[a,l]]:n?[i,a]:r&&[s,l])},t.clear=function(){return o[0][0]=o[0][1]=o[1][0]=o[1][1]=0,t},t.empty=function(){return n&&o[0][0]===o[1][0]||r&&o[0][1]===o[1][1]},le.select(window).on("mousemove.brush",$t).on("mouseup.brush",Vt).on("keydown.brush",Ht).on("keyup.brush",jt),le.rebind(t,i,"on")};var on,an,sn,ln,un,cn,fn,hn,dn,pn,gn={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};le.behavior={},le.behavior.drag=function(){function t(){this.on("mousedown.drag",n).on("touchstart.drag",n),le.select(window).on("mousemove.drag",Gt).on("touchmove.drag",Gt).on("mouseup.drag",Yt,!0).on("touchend.drag",Yt,!0).on("click.drag",Kt,!0)}function e(){mn=r,vn=le.event.target,yn=this,bn=arguments,wn=Xt(),i?(xn=i.apply(yn,bn),xn=[xn.x-wn[0],xn.y-wn[1]]):xn=[0,0],_n=0}function n(){e.apply(this,arguments),Ut("dragstart")}var r=le.dispatch("drag","dragstart","dragend"),i=null;return t.origin=function(e){return arguments.length?(i=e,t):i},le.rebind(t,r,"on")};var mn,vn,yn,bn,xn,wn,_n;le.behavior.zoom=function(){function t(){this.on("mousedown.zoom",n).on("mousewheel.zoom",r).on("DOMMouseScroll.zoom",r).on("dblclick.zoom",i).on("touchstart.zoom",o),le.select(window).on("mousemove.zoom",te).on("mouseup.zoom",ee).on("touchmove.zoom",Qt).on("touchend.zoom",Zt).on("click.zoom",ne,!0)}function e(){Tn=a,Mn=l,Nn=s.zoom,An=le.event.target,Ln=this,En=arguments}function n(){e.apply(this,arguments),kn=Jt(le.svg.mouse(Ln)),Dn=0,le.event.preventDefault(),window.focus()}function r(){e.apply(this,arguments),Sn||(Sn=Jt(le.svg.mouse(Ln))),Cn||(Cn=le.select("body").append("div").style("visibility","hidden").style("top",0).style("height",0).style("width",0).style("overflow-y","scroll").append("div").style("height","2000px").node().parentNode);var t,n=le.event;try{Cn.scrollTop=1e3,Cn.dispatchEvent(n),t=1e3-Cn.scrollTop}catch(r){t=n.wheelDelta||5*-n.detail}re(.005*t+a[2],le.svg.mouse(Ln),Sn)}function i(){e.apply(this,arguments);var t=le.svg.mouse(Ln);re(le.event.shiftKey?Math.ceil(a[2]-1):Math.floor(a[2]+1),t,Jt(t))}function o(){e.apply(this,arguments);var t,n=Zt(),r=Date.now();1===n.length&&r-Fn<300&&re(1+Math.floor(a[2]),t=n[0],On[t.identifier]),Fn=r}var a=[0,0,0],s=le.dispatch("zoom"),l=zn;return t.extent=function(e){return arguments.length?(l=null==e?zn:e,t):l},le.rebind(t,s,"on")};var Cn,kn,Sn,Tn,Mn,Nn,An,Ln,En,Dn,On={},Fn=0,zn=[[-(1/0),1/0],[-(1/0),1/0],[-(1/0),1/0]]}(),function(){function t(t){var n,r=t.source,t=t.target,i=t;if(r===i)n=r;else{n=e(r);for(var i=e(i),o=n.pop(),a=i.pop(),s=null;o===a;)s=o,o=n.pop(),a=i.pop();n=s}for(i=[r];r!==n;)r=r.parent,i.push(r);for(r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function e(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function n(t){t.fixed=2|t.fixed}function r(t){t!==V&&(t.fixed=1&t.fixed)}function i(){o(),V.fixed=1&V.fixed,q=V=null}function o(){V.px=d3.event.x,V.py=d3.event.y,q.resume()}function a(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,l=s.length,u=-1;++u<l;)o=s[u],null!=o&&(a(o,e,n),t.charge=t.charge+o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);t.point&&(t.leaf||(t.point.x=t.point.x+(Math.random()-.5),t.point.y=t.point.y+(Math.random()-.5)),e*=n[t.point.index],t.charge=t.charge+(t.pointCharge=e),r+=e*t.point.x,i+=e*t.point.y),t.cx=r/t.charge,t.cy=i/t.charge}function s(){return 20}function l(){return 1}function u(t){return t.x}function c(t){return t.y}function f(t,e,n){t.y0=e,t.y=n}function h(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function p(t){return t.reduce(g,0)}function g(t,e){return t+e[1]}function m(t,e){return v(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function v(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function y(t){return[d3.min(t),d3.max(t)]}function b(t,e){return d3.rebind(t,e,"sort","children","value"),t.links=C,t.nodes=function(e){return Y=!0,(t.nodes=t)(e)},t}function x(t){return t.children}function w(t){return t.value}function _(t,e){return e.value-t.value}function C(t){return d3.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function k(t,e){return t.value-e.value}function S(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function T(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return i*i-n*n-r*r>.001}function M(t){t._pack_next=t._pack_prev=t}function N(t){delete t._pack_next,delete t._pack_prev}function A(t){var e=t.children;if(e&&e.length){e.forEach(A);var n,r,i,o,a,s=function(t){l=Math.min(t.x-t.r,l),u=Math.max(t.x+t.r,u),c=Math.min(t.y-t.r,c),f=Math.max(t.y+t.r,f)},l=1/0,u=-(1/0),c=1/0,f=-(1/0),h=e.length;if(e.forEach(M),n=e[0],n.x=-n.r,n.y=0,s(n),h>1&&(r=e[1],r.x=r.r,r.y=0,s(r),h>2)){i=e[2],E(n,r,i),s(i),S(n,i),n._pack_prev=i,S(i,r),r=n._pack_next;for(var d=3;d<h;d++){E(n,r,i=e[d]);var p=0,g=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,g++)if(T(o,i)){p=1;break}if(1==p)for(a=n._pack_prev;a!==o._pack_prev&&!T(a,i);a=a._pack_prev,m++);p?(g<m||g==m&&r.r<n.r?(i=n,o=r=o,i._pack_next=o,o._pack_prev=i):(o=n=a,i=r,o._pack_next=i,i._pack_prev=o),d--):(S(n,i),r=i,s(i))}}for(s=(l+u)/2,n=(c+f)/2,d=r=0;d<h;d++)a=e[d],a.x=a.x-s,a.y=a.y-n,r=Math.max(r,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.forEach(N),t.r=r}else t.r=Math.sqrt(t.value)}function L(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r=t.r*r,i)for(var t=-1,o=i.length;++t<o;)L(i[t],e,n,r)}function E(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,e=Math.sqrt(i*i+o*o),s=Math.max(-1,Math.min(1,(r*r+e*e-a*a)/(2*r*e))),a=Math.acos(s),e=s*(r/=e),r=Math.sin(a)*r;n.x=t.x+e*i+r*o,n.y=t.y+e*o-r*i}else n.x=t.x+r,n.y=t.y}function D(t){var e=t.children;return e&&e.length?D(e[0]):t}function O(t){var e,n=t.children;return n&&(e=n.length)?O(n[e-1]):t}function F(t,e){return t.parent==e.parent?1:2}function z(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function R(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function P(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)e(r=P(n[o],e),t)>0&&(t=r);return t}function B(t,e){return t.x-e.x}function W(t,e){return e.x-t.x}function I(t,e){return t.depth-e.depth}function H(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,l=-1;++l<a;)o=i[l],n(o,s),s=o;e(t,r)}n(t,null)}function j(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function $(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}d3.layout={},d3.layout.bundle=function(){return function(e){for(var n=[],r=-1,i=e.length;++r<i;)n.push(t(e[r]));return n}},d3.layout.chord=function(){function t(){var t,u,f,h,d,p={},g=[],m=d3.range(o),v=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(u=0,d=-1;++d<o;)u+=i[h][d];g.push(u),v.push(d3.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(2*Math.PI-c*o)/t,u=0,h=-1;++h<o;){for(f=u,d=-1;++d<o;){var y=m[h],b=v[y][d],x=i[y][b],w=u,_=u+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}r.push({index:y,startAngle:f,endAngle:u,value:(u-f)/t}),u+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;)m=p[h+"-"+d],v=p[d+"-"+h],(m.value||v.value)&&n.push(m.value<v.value?{source:v,target:m}:{source:m,target:v});l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},d3.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var r=e.cx-t.x,o=e.cy-t.y,a=1/Math.sqrt(r*r+o*o);if((i-n)*a<C)return n=e.charge*a*a,t.px=t.px-r*n,t.py=t.py-o*n,!0;e.point&&isFinite(a)&&(n=e.pointCharge*a*a,t.px=t.px-r*n,t.py=t.py-o*n)}return!e.charge}}function e(){var e,n,r,i,o,s,l,u=k.length,c=S.length;for(e=0;e<c;++e)n=S[e],r=n.source,i=n.target,s=i.x-r.x,l=i.y-r.y,(o=s*s+l*l)&&(o=f*d[e]*((o=Math.sqrt(o))-h[e])/o,s*=o,l*=o,i.x=i.x-s*(o=r.weight/(i.weight+r.weight)),i.y=i.y-l*o,r.x=r.x+s*(o=1-o),r.y=r.y+l*o);if((o=f*_)&&(s=v[0]/2,l=v[1]/2,e=-1,o))for(;++e<u;)n=k[e],n.x=n.x+(s-n.x)*o,n.y=n.y+(l-n.y)*o;if(w)for(a(c=d3.geom.quadtree(k),f,p),e=-1;++e<u;)(n=k[e]).fixed||c.visit(t(n));for(e=-1;++e<u;)n=k[e],n.fixed?(n.x=n.px,n.y=n.py):(n.x=n.x-(n.px-(n.px=n.x))*y,n.y=n.y-(n.py-(n.py=n.y))*y);return m.tick({type:"tick",alpha:f}),(f=.99*f)<.005}function u(t){n(V=t),q=g}var c,f,h,d,p,g={},m=d3.dispatch("tick"),v=[1,1],y=.9,b=s,x=l,w=-30,_=.1,C=.8,k=[],S=[];return g.nodes=function(t){return arguments.length?(k=t,g):k},g.links=function(t){return arguments.length?(S=t,g):S},g.size=function(t){return arguments.length?(v=t,g):v},g.linkDistance=function(t){return arguments.length?(b=d3.functor(t),g):b},g.distance=g.linkDistance,g.linkStrength=function(t){return arguments.length?(x=d3.functor(t),g):x},g.friction=function(t){return arguments.length?(y=t,g):y},g.charge=function(t){return arguments.length?(w="function"==typeof t?t:+t,g):w},g.gravity=function(t){return arguments.length?(_=t,g):_},g.theta=function(t){return arguments.length?(C=t,g):C},g.start=function(){function t(t,i){var s;if(!r){for(r=[],n=0;n<o;++n)r[n]=[];for(n=0;n<a;++n)s=S[n],r[s.source.index].push(s.target),r[s.target.index].push(s.source)}s=r[e];for(var l,u=-1,c=s.length;++u<c;)if(!isNaN(l=s[u][t]))return l;return Math.random()*i}var e,n,r,i,o=k.length,a=S.length,s=v[0],l=v[1];for(e=0;e<o;++e)(i=k[e]).index=e,i.weight=0;for(h=[],d=[],e=0;e<a;++e)i=S[e],"number"==typeof i.source&&(i.source=k[i.source]),"number"==typeof i.target&&(i.target=k[i.target]),h[e]=b.call(this,i,e),d[e]=x.call(this,i,e),++i.source.weight,++i.target.weight;for(e=0;e<o;++e)i=k[e],isNaN(i.x)&&(i.x=t("x",s)),isNaN(i.y)&&(i.y=t("y",l)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(p=[],"function"==typeof w)for(e=0;e<o;++e)p[e]=+w.call(this,k[e],e);else for(e=0;e<o;++e)p[e]=w;return g.resume()},g.resume=function(){return f=.1,d3.timer(e),g},g.stop=function(){return f=0,g},g.drag=function(){c||(c=d3.behavior.drag().origin(Object).on("dragstart",u).on("drag",o).on("dragend",i)),this.on("mouseover.force",n).on("mouseout.force",r).call(c)},d3.rebind(g,m,"on")};var q,V;d3.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length))for(var a,s,l=-1,r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,e=s.value*r,i),n+=e}function e(t){var t=t.children,n=0;if(t&&(r=t.length))for(var r,i=-1;++i<r;)n=Math.max(n,e(t[i]));return 1+n}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},b(n,r)},d3.layout.pie=function(){function t(o,a){var s=o.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-r)/d3.sum(s),c=d3.range(o.length);null!=n&&c.sort(n===U?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])});var f=[];return c.forEach(function(t){f[t]={data:o[t],value:d=s[t],startAngle:l,endAngle:l+=d*u}}),f}var e=Number,n=U,r=0,i=2*Math.PI;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var U={};d3.layout.stack=function(){function t(s,l){var u,c,f,h=s.map(function(n,r){return e.call(t,n,r)}),d=h.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),p=n.call(t,d,l),h=d3.permute(h,p),d=d3.permute(d,p),p=r.call(t,d,l),g=h.length,m=h[0].length;for(c=0;c<m;++c)for(i.call(t,h[0][c],f=p[c],d[0][c][1]),u=1;u<g;++u)i.call(t,h[u][c],f+=d[u-1][c][1],d[u][c][1]);return s}var e=Object,n=X["default"],r=G.zero,i=f,o=u,a=c;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:X[e],t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:G[e],t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var X={"inside-out":function(t){for(var e,n=t.length,r=t.map(h),i=t.map(p),o=d3.range(n).sort(function(t,e){return r[t]-r[e]}),a=0,s=0,l=[],u=[],t=0;t<n;++t)e=o[t],a<s?(a+=i[e],l.push(e)):(s+=i[e],u.push(e));return u.reverse().concat(l)},reverse:function(t){return d3.range(t.length).reverse()},"default":function(t){return d3.range(t.length)}},G={silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=l=u=0,n=1;n<h;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)d[n]=d[n]-u;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]=t[e][n][1]/r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:function(t){for(var e=-1,t=t[0].length,n=[];++e<t;)n[e]=0;return n}};d3.layout.histogram=function(){function t(t,o){for(var a,s=[],l=t.map(n,this),u=r.call(this,l,o),c=i.call(this,u,l,o),o=-1,f=l.length,h=c.length-1,d=e?1:1/f;++o<h;)a=s[o]=[],a.dx=c[o+1]-(a.x=c[o]),a.y=0;for(o=-1;++o<f;)a=l[o],a>=u[0]&&a<=u[1]&&(a=s[d3.bisect(c,a,1,h)-1],a.y=a.y+d,a.push(t[o]));return s}var e=!0,n=Number,r=y,i=m;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=d3.functor(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return v(t,e)}:d3.functor(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},d3.layout.hierarchy=function(){function t(e,a,s){var l=i.call(n,e,a),u=Y?e:{data:e};if(u.depth=a,s.push(u),l&&(c=l.length)){for(var c,e=-1,f=u.children=[],h=0,a=a+1;++e<c;)d=t(l[e],a,s),d.parent=u,f.push(d),h+=d.value;r&&f.sort(r),o&&(u.value=h)}else o&&(u.value=+o.call(n,e,a)||0);return u}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,l=-1,u=r+1;++l<s;)a+=e(i[l],u);else o&&(a=+o.call(n,Y?t:t.data,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=_,i=x,o=w;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n};var Y=!1;d3.layout.pack=function(){function t(t,r){var i=e.call(this,t,r),o=i[0];o.x=0,o.y=0,A(o);var a=n[0],s=n[1],l=1/Math.max(2*o.r/a,2*o.r/s);return L(o,a/2,s/2,l),i}var e=d3.layout.hierarchy().sort(k),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},b(t,e)},d3.layout.cluster=function(){function t(t,i){var o,a=e.call(this,t,i),s=a[0],l=0;H(s,function(t){var e=t.children;e&&e.length?(t.x=e.reduce(function(t,e){return t+e.x},0)/e.length,t.y=1+d3.max(e,function(t){return t.y})):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var u=D(s),c=O(s),f=u.x-n(u,c)/2,h=c.x+n(c,u)/2;return H(s,function(t){t.x=(t.x-f)/(h-f)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var e=d3.layout.hierarchy().sort(null).value(null),n=F,r=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=e,t):r},b(t,e)},d3.layout.tree=function(){function t(t,i){function o(t,e){var r=t.children,i=t._tree;if(r&&(a=r.length)){for(var a,s,l,u=r[0],c=u,f=-1;++f<a;){l=r[f],o(l,s);var h=l;if(s){for(var d=h,p=h,g=h.parent.children[0],m=d._tree.mod,v=p._tree.mod,y=s._tree.mod,b=g._tree.mod,x=void 0;s=R(s),d=z(d),s&&d;){if(g=z(g),p=R(p),p._tree.ancestor=h,x=s._tree.prelim+y-d._tree.prelim-m+n(s,d),x>0){var w=s._tree.ancestor.parent==h.parent?s._tree.ancestor:c,_=h,C=x,w=w._tree,_=_._tree,k=C/(_.number-w.number);w.change=w.change+k,_.change=_.change-k,_.shift=_.shift+C,_.prelim=_.prelim+C,_.mod=_.mod+C,m+=x,v+=x}y+=s._tree.mod,m+=d._tree.mod,b+=g._tree.mod,v+=p._tree.mod}s&&!R(p)&&(p._tree.thread=s,p._tree.mod=p._tree.mod+(y-v)),d&&!z(g)&&(g._tree.thread=d,g._tree.mod=g._tree.mod+(m-b),c=h)}s=l}for(a=r=0,f=t.children,h=f.length;--h>=0;)c=f[h]._tree,c.prelim=c.prelim+r,c.mod=c.mod+r,r+=c.shift+(a+=c.change);u=.5*(u._tree.prelim+l._tree.prelim),e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-u):i.prelim=u}else e&&(i.prelim=e._tree.prelim+n(t,e))}function a(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length))for(var r,i=-1,e=e+t._tree.mod;++i<r;)a(n[i],e)}var s=e.call(this,t,i),l=s[0];H(l,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),o(l),a(l,-l._tree.prelim);var u=P(l,W),c=P(l,B),f=P(l,I),h=u.x-n(u,c)/2,d=c.x+n(c,u)/2,p=f.depth||1;return H(l,function(t){t.x=(t.x-h)/(d-h)*r[0],t.y=t.depth/p*r[1],delete t._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),n=F,r=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=e,t):r},b(t,e)},d3.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var i=n.children;if(i&&i.length){var o=c(n),a=[],s=i.slice(),l=1/0,u=Math.min(o.dx,o.dy);for(t(s,o.dx*o.dy/n.value),a.area=0;(n=s.length)>0;){a.push(n=s[n-1]),a.area=a.area+n.area;for(var n=u,f=a.area,d=void 0,p=0,g=1/0,m=-1,v=a.length;++m<v;)(d=a[m].area)&&(d<g&&(g=d),d>p&&(p=d));f*=f,n*=n,(n=f?Math.max(n*p*h/f,f/(n*g*h)):1/0)<=l?(s.pop(),l=n):(a.area=a.area-a.pop().area,r(a,u,o,!1),u=Math.min(o.dx,o.dy),a.length=a.area=0,l=1/0)}a.length&&(r(a,u,o,!0),a.length=a.area=0),i.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o=c(e),a=i.slice(),s=[];for(t(a,o.dx*o.dy/e.value),s.area=0;e=a.pop();)s.push(e),s.area=s.area+e.area,null!=e.z&&(r(s,e.z?o.dx:o.dy,o,!a.length),s.length=s.area=0);i.forEach(n)}}function r(t,e,n,r){var i,o=-1,a=t.length,l=n.x,u=n.y,c=e?s(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=l,i.y=u,i.dy=c,l+=i.dx=Math.min(n.x+n.dx-l,c?s(i.area/c):0);i.z=!0,i.dx=i.dx+(n.x+n.dx-l),n.y=n.y+c,n.dy=n.dy-c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=l,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?s(i.area/c):0);i.z=!1,i.dy=i.dy+(n.y+n.dy-u),n.x=n.x+c,n.dx=n.dx-c}}function i(r){var r=o||a(r),i=r[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),t([i],i.dx*i.dy/i.value),(o?n:e)(i),f&&(o=r),r}var o,a=d3.layout.hierarchy(),s=Math.round,l=[1,1],u=null,c=j,f=!1,h=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(l=t,i):l},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?j(e):$(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return $(e,t)}if(!arguments.length)return u;var r;return c=null==(u=t)?j:"function"===(r="undefined"==typeof t?"undefined":(0,_typeof3["default"])(t))?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(s=t?Math.round:Number,i):s!=Number},i.sticky=function(t){return arguments.length?(f=t,o=null,i):f},i.ratio=function(t){return arguments.length?(h=t,i):h},b(i,a)}}(),function(){function t(t){return t.map(e).join(",")}function e(t){return/[",\n]/.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}d3.csv=function(t,e){d3.text(t,"text/csv",function(t){e(t&&d3.csv.parse(t))})},d3.csv.parse=function(t){var e;return d3.csv.parseRows(t,function(t,n){if(n){for(var r={},i=-1,o=e.length;++i<o;)r[e[i]]=t[i];return r}return e=t,null})},d3.csv.parseRows=function(t,e){function n(){if(l.lastIndex>=t.length)return a;if(i)return i=!1,o;var e=l.lastIndex;if(34===t.charCodeAt(e)){for(var n=e;n++<t.length;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;n++}l.lastIndex=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&l.lastIndex++):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}return(n=l.exec(t))?(i=44!==n[0].charCodeAt(0),t.substring(e,n.index)):(l.lastIndex=t.length,t.substring(e))}var r,i,o={},a={},s=[],l=/\r\n|[,\r\n]/g,u=0;for(l.lastIndex=0;(r=n())!==a;){for(var c=[];r!==o&&r!==a;)c.push(r),r=n();(!e||(c=e(c,u++)))&&s.push(c)}return s},d3.csv.format=function(e){return e.map(t).join("\n")}}(),function(){function t(t,e,n,r){for(var i,o=0,a=e.length,s=n.length;o<a;){if(r>=s)return-1;if(i=e.charCodeAt(o++),37==i){if(i=_[e.charAt(o++)],!i||(r=i(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function e(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setDate(+e[0]),n+e[0].length):-1}function n(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setHours(+e[0]),n+e[0].length):-1}function r(t,e){return~~((e-t)/864e5-(e.getTimezoneOffset()-t.getTimezoneOffset())/1440)}function i(){this._=new Date(Date.UTC.apply(this,arguments))}function o(t){return t.toISOString()}function a(t,e,n){return function(r,i,o){var a=t(r),s=[];if(a<r&&e(a),o>1)for(;a<i;)r=new Date((+a)),n(r)%o||s.push(r),e(a);else for(;a<i;)s.push(new Date((+a))),e(a);return s}}function s(t){t.setTime(t.getTime()+6e4)}function l(t){t.setTime(t.getTime()+36e5)}function u(t,e,n){function r(e){return t(e)}return r.invert=function(e){return c(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(c)},r.ticks=function(n,i){var o,a=r.domain();if(o=a[0],a=a[a.length-1],o=o<a?[o,a]:[a,o],"function"!=typeof n){var a=(o[1]-o[0])/n,s=d3.bisect(O,a);if(s==O.length)return e.year(o,n);if(!s)return t.ticks(n).map(c);Math.log(a/O[s-1])<Math.log(O[s]/a)&&--s,n=e[s],i=n[1],n=n[0]}return n(o[0],new Date(+o[1]+1),i)},r.tickFormat=function(){return n},r.copy=function(){return u(t.copy(),e,n)},d3.rebind(r,t,"range","rangeRound","interpolate","clamp")}function c(t){return new Date(t)}function f(t){return function(e){for(var n=t.length-1,r=t[n];!r[1](e);)r=t[--n];return r[0](e)}}function h(t){var e=new Date(t,0,1);return e.setFullYear(t),e}function d(t){var e=t.getFullYear(),n=h(e),r=h(e+1);return e+(t-n)/(r-n)}function p(t){var e=new Date(Date.UTC(t,0,1));return e.setUTCFullYear(t),e}function g(t){var e=t.getUTCFullYear(),n=p(e),r=p(e+1);return e+(t-n)/(r-n)}d3.time={};var m=Date;d3.time.format=function(e){function n(t){for(var n,i,o=[],a=-1,s=0;++a<r;)37==e.charCodeAt(a)&&(o.push(e.substring(s,a),(i=w[n=e.charAt(++a)])?i(t):n),s=a+1);return o.push(e.substring(s,a)),o.join("")}var r=e.length;return n.parse=function(n){var r=new m(1900,0,1);return t(r,e,n,0)!=n.length?null:(r.hour12&&(n=r.getHours()%12,r.setHours(r.hour12pm?n+12:n)),delete r.hour12,delete r.hour12pm,r)},n.toString=function(){return e},n};var v=d3.format("02d"),y=d3.format("03d"),b=d3.format("04d"),x=d3.format("2d"),w={a:function(t){return S[t.getDay()].substring(0,3)},A:function(t){return S[t.getDay()]},b:function(t){return A[t.getMonth()].substring(0,3)},B:function(t){return A[t.getMonth()]},c:d3.time.format("%a %b %e %H:%M:%S %Y"),d:function(t){return v(t.getDate())},e:function(t){return x(t.getDate())},H:function(t){return v(t.getHours())},I:function(t){return v(t.getHours()%12||12)},j:function(t){return y(1+r(new m(t.getFullYear(),0,1),t))},L:function(t){return y(t.getMilliseconds())},m:function(t){return v(t.getMonth()+1)},M:function(t){return v(t.getMinutes())},p:function(t){return t.getHours()>=12?"PM":"AM"},S:function(t){return v(t.getSeconds())},U:function(t){var e=new m(t.getFullYear(),0,1);return v(~~((r(e,t)+e.getDay())/7))},w:function(t){return t.getDay()},W:function(t){var e=new m(t.getFullYear(),0,1);return v(~~((r(e,t)+(e.getDay()+6)%7)/7))},x:d3.time.format("%m/%d/%y"),X:d3.time.format("%H:%M:%S"),y:function(t){return v(t.getFullYear()%100)},Y:function(t){return b(t.getFullYear()%1e4)},Z:function(t){var e=t.getTimezoneOffset(),t=e>0?"-":"+",n=~~(Math.abs(e)/60),e=Math.abs(e)%60;return t+v(n)+v(e)},"%":function(){return"%"}},_={a:function(t,e,n){return e.substring(n,n+=3).toLowerCase()in C?n:-1},A:function(t,e,n){return k.lastIndex=0,(t=k.exec(e.substring(n,n+10)))?n+t[0].length:-1},b:function(t,e,n){return e=T[e.substring(n,n+=3).toLowerCase()],
null==e?-1:(t.setMonth(e),n)},B:function(t,e,n){return M.lastIndex=0,(e=M.exec(e.substring(n,n+12)))?(t.setMonth(N[e[0].toLowerCase()]),n+e[0].length):-1},c:function(e,n,r){return t(e,w.c.toString(),n,r)},d:e,e:e,H:n,I:function(t,e,r){return t.hour12=!0,n(t,e,r)},L:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+3)))?(t.setMilliseconds(+e[0]),n+e[0].length):-1},m:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setMonth(e[0]-1),n+e[0].length):-1},M:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setMinutes(+e[0]),n+e[0].length):-1},p:function(t,e,n){return e=E[e.substring(n,n+=2).toLowerCase()],null==e?-1:(t.hour12pm=e,n)},S:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setSeconds(+e[0]),n+e[0].length):-1},x:function(e,n,r){return t(e,w.x.toString(),n,r)},X:function(e,n,r){return t(e,w.X.toString(),n,r)},y:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+2)))?(t.setFullYear(1e3*~~((new Date).getFullYear()/1e3)+ +e[0]),n+e[0].length):-1},Y:function(t,e,n){return L.lastIndex=0,(e=L.exec(e.substring(n,n+4)))?(t.setFullYear(e[0]),n+e[0].length):-1}},C={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3},k=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/gi,S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],T={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},M=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/gi,N={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},A=["January","February","March","April","May","June","July","August","September","October","November","December"],L=/\s*\d+/,E={am:0,pm:1};d3.time.format.utc=function(t){function e(t){try{m=i;var e=new m;return e._=t,n(e)}finally{m=Date}}var n=d3.time.format(t);return e.parse=function(t){try{m=i;var e=n.parse(t);return e&&e._}finally{m=Date}},e.toString=n.toString,e},i.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.getTime()},setDate:function(t){this._.setUTCDate(t)},setDay:function(t){this._.setUTCDay(t)},setFullYear:function(t){this._.setUTCFullYear(t)},setHours:function(t){this._.setUTCHours(t)},setMilliseconds:function(t){this._.setUTCMilliseconds(t)},setMinutes:function(t){this._.setUTCMinutes(t)},setMonth:function(t){this._.setUTCMonth(t)},setSeconds:function(t){this._.setUTCSeconds(t)}};var D=d3.time.format.utc("%Y-%m-%dT%H:%M:%S.%LZ");d3.time.format.iso=Date.prototype.toISOString?o:D,o.parse=function(t){return new Date(t)},o.toString=D.toString,d3.time.second=function(t){return new Date(1e3*~~(t/1e3))},d3.time.second.utc=d3.time.second,d3.time.seconds=a(d3.time.second,function(t){t.setTime(t.getTime()+1e3)},function(t){return t.getSeconds()}),d3.time.seconds.utc=d3.time.seconds,d3.time.minute=function(t){return new Date(6e4*~~(t/6e4))},d3.time.minute.utc=d3.time.minute,d3.time.minutes=a(d3.time.minute,s,function(t){return t.getMinutes()}),d3.time.minutes.utc=a(d3.time.minute,s,function(t){return t.getUTCMinutes()}),d3.time.hour=function(t){var e=t.getTimezoneOffset()/60;return new Date(36e5*(~~(t/36e5-e)+e))},d3.time.hour.utc=function(t){return new Date(36e5*~~(t/36e5))},d3.time.hours=a(d3.time.hour,l,function(t){return t.getHours()}),d3.time.hours.utc=a(d3.time.hour.utc,l,function(t){return t.getUTCHours()}),d3.time.day=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},d3.time.day.utc=function(t){return new Date(864e5*~~(t/864e5))},d3.time.days=a(d3.time.day,function(t){t.setDate(t.getDate()+1)},function(t){return t.getDate()-1}),d3.time.days.utc=a(d3.time.day.utc,function(t){t.setUTCDate(t.getUTCDate()+1)},function(t){return t.getUTCDate()-1}),d3.time.week=function(t){return(t=d3.time.day(t)).setDate(t.getDate()-t.getDay()),t},d3.time.week.utc=function(t){return(t=d3.time.day.utc(t)).setUTCDate(t.getUTCDate()-t.getUTCDay()),t},d3.time.weeks=a(d3.time.week,function(t){t.setDate(t.getDate()+7)},function(t){return~~((t-new Date(t.getFullYear(),0,1))/6048e5)}),d3.time.weeks.utc=a(d3.time.week.utc,function(t){t.setUTCDate(t.getUTCDate()+7)},function(t){return~~((t-Date.UTC(t.getUTCFullYear(),0,1))/6048e5)}),d3.time.month=function(t){return new Date(t.getFullYear(),t.getMonth(),1)},d3.time.month.utc=function(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),1))},d3.time.months=a(d3.time.month,function(t){t.setMonth(t.getMonth()+1)},function(t){return t.getMonth()}),d3.time.months.utc=a(d3.time.month.utc,function(t){t.setUTCMonth(t.getUTCMonth()+1)},function(t){return t.getUTCMonth()}),d3.time.year=function(t){return new Date(t.getFullYear(),0,1)},d3.time.year.utc=function(t){return new Date(Date.UTC(t.getUTCFullYear(),0,1))},d3.time.years=a(d3.time.year,function(t){t.setFullYear(t.getFullYear()+1)},function(t){return t.getFullYear()}),d3.time.years.utc=a(d3.time.year.utc,function(t){t.setUTCFullYear(t.getUTCFullYear()+1)},function(t){return t.getUTCFullYear()});var O=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],F=[[d3.time.seconds,1],[d3.time.seconds,5],[d3.time.seconds,15],[d3.time.seconds,30],[d3.time.minutes,1],[d3.time.minutes,5],[d3.time.minutes,15],[d3.time.minutes,30],[d3.time.hours,1],[d3.time.hours,3],[d3.time.hours,6],[d3.time.hours,12],[d3.time.days,1],[d3.time.days,2],[d3.time.weeks,1],[d3.time.months,1],[d3.time.months,3],[d3.time.years,1]],D=[[d3.time.format("%Y"),function(){return!0}],[d3.time.format("%B"),function(t){return t.getMonth()}],[d3.time.format("%b %d"),function(t){return 1!=t.getDate()}],[d3.time.format("%a %d"),function(t){return t.getDay()&&1!=t.getDate()}],[d3.time.format("%I %p"),function(t){return t.getHours()}],[d3.time.format("%I:%M"),function(t){return t.getMinutes()}],[d3.time.format(":%S"),function(t){return t.getSeconds()}],[d3.time.format(".%L"),function(t){return t.getMilliseconds()}]],z=d3.scale.linear(),R=f(D);F.year=function(t,e){return z.domain(t.map(d)).ticks(e).map(h)},d3.time.scale=function(){return u(d3.scale.linear(),F,R)};var P=[[d3.time.seconds.utc,1],[d3.time.seconds.utc,5],[d3.time.seconds.utc,15],[d3.time.seconds.utc,30],[d3.time.minutes.utc,1],[d3.time.minutes.utc,5],[d3.time.minutes.utc,15],[d3.time.minutes.utc,30],[d3.time.hours.utc,1],[d3.time.hours.utc,3],[d3.time.hours.utc,6],[d3.time.hours.utc,12],[d3.time.days.utc,1],[d3.time.days.utc,2],[d3.time.weeks.utc,1],[d3.time.months.utc,1],[d3.time.months.utc,3],[d3.time.years.utc,1]],D=[[d3.time.format.utc("%Y"),function(){return!0}],[d3.time.format.utc("%B"),function(t){return t.getUTCMonth()}],[d3.time.format.utc("%b %d"),function(t){return 1!=t.getUTCDate()}],[d3.time.format.utc("%a %d"),function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],[d3.time.format.utc("%I %p"),function(t){return t.getUTCHours()}],[d3.time.format.utc("%I:%M"),function(t){return t.getUTCMinutes()}],[d3.time.format.utc(":%S"),function(t){return t.getUTCSeconds()}],[d3.time.format.utc(".%L"),function(t){return t.getUTCMilliseconds()}]],B=f(D);P.year=function(t,e){return z.domain(t.map(g)).ticks(e).map(p)},d3.time.scale.utc=function(){return u(d3.scale.linear(),P,B)}}(),function(){function t(t){return t.map(e).join(",")}function e(t){return/[",\n]/.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}d3.csv=function(t,e){d3.text(t,"text/csv",function(t){e(t&&d3.csv.parse(t))})},d3.csv.parse=function(t){var e;return d3.csv.parseRows(t,function(t,n){if(n){for(var r={},i=-1,o=e.length;++i<o;)r[e[i]]=t[i];return r}return e=t,null})},d3.csv.parseRows=function(t,e){function n(){if(l.lastIndex>=t.length)return a;if(i)return i=!1,o;var e=l.lastIndex;if(34===t.charCodeAt(e)){for(var n=e;n++<t.length;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;n++}l.lastIndex=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&l.lastIndex++):10===r&&(i=!0),t.substring(e+1,n).replace(/""/g,'"')}var s=l.exec(t);return s?(i=44!==s[0].charCodeAt(0),t.substring(e,s.index)):(l.lastIndex=t.length,t.substring(e))}var r,i,o={},a={},s=[],l=/\r\n|[,\r\n]/g,u=0;for(l.lastIndex=0;(r=n())!==a;){for(var c=[];r!==o&&r!==a;)c.push(r),r=n();e&&!(c=e(c,u++))||s.push(c)}return s},d3.csv.format=function(e){return e.map(t).join("\n")}}(),function(){function t(t){var n,r=t.source,t=t.target,i=t;if(r===i)n=r;else{n=e(r);for(var i=e(i),o=n.pop(),a=i.pop(),s=null;o===a;)s=o,o=n.pop(),a=i.pop();n=s}for(i=[r];r!==n;)r=r.parent,i.push(r);for(r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i}function e(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function n(t){t.fixed|=2}function r(t){t!==Y&&(t.fixed&=1)}function i(){o(),Y.fixed&=1,G=Y=null}function o(){Y.px=d3.event.x,Y.py=d3.event.y,G.resume()}function a(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,l=s.length,u=-1;++u<l;)o=s[u],null!=o&&(a(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);t.point&&(t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5),e*=n[t.point.index],t.charge+=t.pointCharge=e,r+=e*t.point.x,i+=e*t.point.y),t.cx=r/t.charge,t.cy=i/t.charge}function s(){return 20}function l(){return 1}function u(t){return t.x}function c(t){return t.y}function f(t,e,n){t.y0=e,t.y=n}function h(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function p(t){return t.reduce(g,0)}function g(t,e){return t+e[1]}function m(t,e){return v(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function v(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function y(t){return[d3.min(t),d3.max(t)]}function b(t,e){return d3.rebind(t,e,"sort","children","value"),t.links=C,t.nodes=function(e){return Q=!0,(t.nodes=t)(e)},t}function x(t){return t.children}function w(t){return t.value}function _(t,e){return e.value-t.value}function C(t){return d3.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function k(t,e){return t.value-e.value}function S(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function T(t,e){t._pack_next=e,e._pack_prev=t}function M(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.001<i*i-n*n-r*r}function N(t){function e(t){s=Math.min(t.x-t.r,s),l=Math.max(t.x+t.r,l),u=Math.min(t.y-t.r,u),c=Math.max(t.y+t.r,c)}var n,r,i,o,a,s=1/0,l=-(1/0),u=1/0,c=-(1/0),f=t.length;if(t.forEach(A),n=t[0],n.x=-n.r,n.y=0,e(n),1<f&&(r=t[1],r.x=r.r,r.y=0,e(r),2<f)){i=t[2],O(n,r,i),e(i),S(n,i),n._pack_prev=i,S(i,r),r=n._pack_next;for(var h=3;h<f;h++){O(n,r,i=t[h]);var d=0,p=1,g=1;for(o=r._pack_next;o!==r;o=o._pack_next,p++)if(M(o,i)){d=1;break}if(1==d)for(a=n._pack_prev;a!==o._pack_prev&&!M(a,i);a=a._pack_prev,g++);d?(p<g||p==g&&r.r<n.r?T(n,r=o):T(n=a,r),h--):(S(n,i),r=i,e(i))}}for(n=(s+l)/2,r=(u+c)/2,h=i=0;h<f;h++)o=t[h],o.x-=n,o.y-=r,i=Math.max(i,o.r+Math.sqrt(o.x*o.x+o.y*o.y));return t.forEach(L),i}function A(t){t._pack_next=t._pack_prev=t}function L(t){delete t._pack_next,delete t._pack_prev}function E(t){var e=t.children;e&&e.length?(e.forEach(E),t.r=N(e)):t.r=Math.sqrt(t.value)}function D(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var t=-1,o=i.length;++t<o;)D(i[t],e,n,r)}function O(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,e=Math.sqrt(i*i+o*o),s=Math.max(-1,Math.min(1,(r*r+e*e-a*a)/(2*r*e))),a=Math.acos(s),e=s*(r/=e),r=Math.sin(a)*r;n.x=t.x+e*i+r*o,n.y=t.y+e*o-r*i}else n.x=t.x+r,n.y=t.y}function F(t){return 1+d3.max(t,function(t){return t.y})}function z(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function R(t){var e=t.children;return e&&e.length?R(e[0]):t}function P(t){var e,n=t.children;return n&&(e=n.length)?P(n[e-1]):t}function B(t,e){return t.parent==e.parent?1:2}function W(t){var e=t.children;return e&&e.length?e[0]:t._tree.thread}function I(t){var e,n=t.children;return n&&(e=n.length)?n[e-1]:t._tree.thread}function H(t,e){var n=t.children;if(n&&(i=n.length))for(var r,i,o=-1;++o<i;)0<e(r=H(n[o],e),t)&&(t=r);return t}function j(t,e){return t.x-e.x}function $(t,e){return e.x-t.x}function q(t,e){return t.depth-e.depth}function V(t,e){function n(t,r){var i=t.children;if(i&&(a=i.length))for(var o,a,s=null,l=-1;++l<a;)o=i[l],n(o,s),s=o;e(t,r)}n(t,null)}function U(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function X(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}d3.layout={},d3.layout.bundle=function(){return function(e){for(var n=[],r=-1,i=e.length;++r<i;)n.push(t(e[r]));return n}},d3.layout.chord=function(){function t(){var t,u,f,h,d,p={},g=[],m=d3.range(o),v=[];for(n=[],r=[],t=0,h=-1;++h<o;){for(u=0,d=-1;++d<o;)u+=i[h][d];g.push(u),v.push(d3.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(2*Math.PI-c*o)/t,u=0,h=-1;++h<o;){for(f=u,d=-1;++d<o;){var y=m[h],b=v[y][d],x=i[y][b],w=u,_=u+=x*t;p[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:_,value:x}}r.push({index:y,startAngle:f,endAngle:u,value:(u-f)/t}),u+=c}for(h=-1;++h<o;)for(d=h-1;++d<o;)m=p[h+"-"+d],v=p[d+"-"+h],(m.value||v.value)&&n.push(m.value<v.value?{source:v,target:m}:{source:m,target:v});l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},d3.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var r=e.cx-t.x,o=e.cy-t.y,a=1/Math.sqrt(r*r+o*o);if((i-n)*a<C)return n=e.charge*a*a,t.px-=r*n,t.py-=o*n,!0;e.point&&isFinite(a)&&(n=e.pointCharge*a*a,t.px-=r*n,t.py-=o*n)}return!e.charge}}function e(){var e,n,r,i,o,s,l,u=k.length,c=S.length;for(e=0;e<c;++e)n=S[e],r=n.source,i=n.target,s=i.x-r.x,l=i.y-r.y,(o=s*s+l*l)&&(o=f*d[e]*((o=Math.sqrt(o))-h[e])/o,s*=o,l*=o,i.x-=s*(o=r.weight/(i.weight+r.weight)),i.y-=l*o,r.x+=s*(o=1-o),r.y+=l*o);if((o=f*_)&&(s=v[0]/2,l=v[1]/2,e=-1,o))for(;++e<u;)n=k[e],n.x+=(s-n.x)*o,n.y+=(l-n.y)*o;if(w)for(a(c=d3.geom.quadtree(k),f,p),e=-1;++e<u;)(n=k[e]).fixed||c.visit(t(n));for(e=-1;++e<u;)n=k[e],n.fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);return m.tick({type:"tick",alpha:f}),.005>(f*=.99)}function u(t){n(Y=t),G=g}var c,f,h,d,p,g={},m=d3.dispatch("tick"),v=[1,1],y=.9,b=s,x=l,w=-30,_=.1,C=.8,k=[],S=[];return g.nodes=function(t){return arguments.length?(k=t,g):k},g.links=function(t){return arguments.length?(S=t,g):S},g.size=function(t){return arguments.length?(v=t,g):v},g.linkDistance=function(t){return arguments.length?(b=d3.functor(t),g):b},g.distance=g.linkDistance,g.linkStrength=function(t){return arguments.length?(x=d3.functor(t),g):x},g.friction=function(t){return arguments.length?(y=t,g):y},g.charge=function(t){return arguments.length?(w="function"==typeof t?t:+t,g):w},g.gravity=function(t){return arguments.length?(_=t,g):_},g.theta=function(t){return arguments.length?(C=t,g):C},g.start=function(){function t(t,i){var s;if(!r){for(r=[],n=0;n<o;++n)r[n]=[];for(n=0;n<a;++n)s=S[n],r[s.source.index].push(s.target),r[s.target.index].push(s.source)}s=r[e];for(var l,u=-1,c=s.length;++u<c;)if(!isNaN(l=s[u][t]))return l;return Math.random()*i}var e,n,r,i,o=k.length,a=S.length,s=v[0],l=v[1];for(e=0;e<o;++e)(i=k[e]).index=e,i.weight=0;for(h=[],d=[],e=0;e<a;++e)i=S[e],"number"==typeof i.source&&(i.source=k[i.source]),"number"==typeof i.target&&(i.target=k[i.target]),h[e]=b.call(this,i,e),d[e]=x.call(this,i,e),++i.source.weight,++i.target.weight;for(e=0;e<o;++e)i=k[e],isNaN(i.x)&&(i.x=t("x",s)),isNaN(i.y)&&(i.y=t("y",l)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(p=[],"function"==typeof w)for(e=0;e<o;++e)p[e]=+w.call(this,k[e],e);else for(e=0;e<o;++e)p[e]=w;return g.resume()},g.resume=function(){return f=.1,d3.timer(e),g},g.stop=function(){return f=0,g},g.drag=function(){c||(c=d3.behavior.drag().origin(Object).on("dragstart",u).on("drag",o).on("dragend",i)),this.on("mouseover.force",n).on("mouseout.force",r).call(c)},d3.rebind(g,m,"on")};var G,Y;d3.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length))for(var a,s,l=-1,r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,e=s.value*r,i),n+=e}function e(t){var t=t.children,n=0;if(t&&(r=t.length))for(var r,i=-1;++i<r;)n=Math.max(n,e(t[i]));return 1+n}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=d3.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},b(n,r)},d3.layout.pie=function(){function t(o,a){var s=o.map(function(n,r){return+e.call(t,n,r)}),l=+("function"==typeof r?r.apply(this,arguments):r),u=(("function"==typeof i?i.apply(this,arguments):i)-r)/d3.sum(s),c=d3.range(o.length);null!=n&&c.sort(n===K?function(t,e){return s[e]-s[t]}:function(t,e){return n(o[t],o[e])});var f=[];return c.forEach(function(t){f[t]={data:o[t],value:d=s[t],startAngle:l,endAngle:l+=d*u}}),f}var e=Number,n=K,r=0,i=2*Math.PI;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t};var K={};d3.layout.stack=function(){function t(s,l){var u,c,f,h=s.map(function(n,r){return e.call(t,n,r)}),d=h.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),p=n.call(t,d,l),h=d3.permute(h,p),d=d3.permute(d,p),p=r.call(t,d,l),g=h.length,m=h[0].length;for(c=0;c<m;++c)for(i.call(t,h[0][c],f=p[c],d[0][c][1]),u=1;u<g;++u)i.call(t,h[u][c],f+=d[u-1][c][1],d[u][c][1]);return s}var e=Object,n=J["default"],r=Z.zero,i=f,o=u,a=c;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:J[e],t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:Z[e],t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var J={"inside-out":function(t){for(var e,n=t.length,r=t.map(h),i=t.map(p),o=d3.range(n).sort(function(t,e){return r[t]-r[e]}),a=0,s=0,l=[],u=[],t=0;t<n;++t)e=o[t],a<s?(a+=i[e],l.push(e)):(s+=i[e],u.push(e));return u.reverse().concat(l)},reverse:function(t){return d3.range(t.length).reverse()},"default":function(t){return d3.range(t.length)}},Z={silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,f=t[0],h=f.length,d=[];for(d[0]=l=u=0,n=1;n<h;++n){for(i=e=0;e<c;++e)i+=t[e][n][1];for(o=e=0,s=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=i?o/i*s:0,l<u&&(u=l)}for(n=0;n<h;++n)d[n]-=u;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;n<o;++n){for(r=e=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:function(t){for(var e=-1,t=t[0].length,n=[];++e<t;)n[e]=0;return n}};d3.layout.histogram=function(){function t(t,o){for(var a,s=[],l=t.map(n,this),u=r.call(this,l,o),c=i.call(this,u,l,o),o=-1,f=l.length,h=c.length-1,d=e?1:1/f;++o<h;)a=s[o]=[],a.dx=c[o+1]-(a.x=c[o]),a.y=0;for(o=-1;++o<f;)a=l[o],a>=u[0]&&a<=u[1]&&(a=s[d3.bisect(c,a,1,h)-1],a.y+=d,a.push(t[o]));return s}var e=!0,n=Number,r=y,i=m;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=d3.functor(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return v(t,e)}:d3.functor(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},d3.layout.hierarchy=function(){function t(e,a,s){var l=i.call(n,e,a),u=Q?e:{data:e};if(u.depth=a,s.push(u),l&&(c=l.length)){for(var c,e=-1,f=u.children=[],h=0,a=a+1;++e<c;)global.d=t(l[e],a,s),d.parent=u,f.push(d),h+=d.value;r&&f.sort(r),o&&(u.value=h)}else o&&(u.value=+o.call(n,e,a)||0);return u}function e(t,r){var i=t.children,a=0;if(i&&(s=i.length))for(var s,l=-1,u=r+1;++l<s;)a+=e(i[l],u);else o&&(a=+o.call(n,Q?t:t.data,r)||0);return o&&(t.value=a),a}function n(e){var n=[];return t(e,0,n),n}var r=_,i=x,o=w;return n.sort=function(t){return arguments.length?(r=t,n):r},n.children=function(t){return arguments.length?(i=t,n):i},n.value=function(t){return arguments.length?(o=t,n):o},n.revalue=function(t){return e(t,0),t},n};var Q=!1;d3.layout.pack=function(){function t(t,r){var i=e.call(this,t,r),o=i[0];o.x=0,o.y=0,E(o);var a=n[0],s=n[1],l=1/Math.max(2*o.r/a,2*o.r/s);return D(o,a/2,s/2,l),i}var e=d3.layout.hierarchy().sort(k),n=[1,1];return t.size=function(e){return arguments.length?(n=e,t):n},b(t,e)},d3.layout.cluster=function(){function t(t,i){var o,a=e.call(this,t,i),s=a[0],l=0;V(s,function(t){var e=t.children;e&&e.length?(t.x=z(e),t.y=F(e)):(t.x=o?l+=n(t,o):0,t.y=0,o=t)});var u=R(s),c=P(s),f=u.x-n(u,c)/2,h=c.x+n(c,u)/2;return V(s,function(t){t.x=(t.x-f)/(h-f)*r[0],t.y=(1-(s.y?t.y/s.y:1))*r[1]}),a}var e=d3.layout.hierarchy().sort(null).value(null),n=B,r=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=e,t):r},b(t,e)},d3.layout.tree=function(){function t(t,i){function o(t,e){var r=t.children,i=t._tree;if(r&&(a=r.length)){for(var a,s,l,u=r[0],c=u,f=-1;++f<a;){l=r[f],o(l,s);var h=l;if(s){for(var d=h,p=h,g=h.parent.children[0],m=d._tree.mod,v=p._tree.mod,y=s._tree.mod,b=g._tree.mod,x=void 0;s=I(s),d=W(d),s&&d;){if(g=W(g),p=I(p),p._tree.ancestor=h,x=s._tree.prelim+y-d._tree.prelim-m+n(s,d),0<x){var w=s._tree.ancestor.parent==h.parent?s._tree.ancestor:c,_=h,C=x,w=w._tree,_=_._tree,k=C/(_.number-w.number);w.change+=k,_.change-=k,_.shift+=C,_.prelim+=C,_.mod+=C,m+=x,v+=x}y+=s._tree.mod,m+=d._tree.mod,b+=g._tree.mod,v+=p._tree.mod}s&&!I(p)&&(p._tree.thread=s,p._tree.mod+=y-v),d&&!W(g)&&(g._tree.thread=d,g._tree.mod+=m-b,c=h)}s=l}for(a=r=0,f=t.children,h=f.length;0<=--h;)c=f[h]._tree,c.prelim+=r,c.mod+=r,r+=c.shift+(a+=c.change);u=.5*(u._tree.prelim+l._tree.prelim),e?(i.prelim=e._tree.prelim+n(t,e),i.mod=i.prelim-u):i.prelim=u}else e&&(i.prelim=e._tree.prelim+n(t,e))}function a(t,e){t.x=t._tree.prelim+e;var n=t.children;if(n&&(r=n.length))for(var r,i=-1,e=e+t._tree.mod;++i<r;)a(n[i],e)}var s=e.call(this,t,i),l=s[0];V(l,function(t,e){t._tree={ancestor:t,prelim:0,mod:0,change:0,shift:0,number:e?e._tree.number+1:0}}),o(l),a(l,-l._tree.prelim);var u=H(l,$),c=H(l,j),f=H(l,q),h=u.x-n(u,c)/2,d=c.x+n(c,u)/2,p=f.depth||1;return V(l,function(t){t.x=(t.x-h)/(d-h)*r[0],t.y=t.depth/p*r[1],delete t._tree}),s}var e=d3.layout.hierarchy().sort(null).value(null),n=B,r=[1,1];return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=e,t):r},b(t,e)},d3.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var i=n.children;if(i&&i.length){var o=c(n),a=[],s=i.slice(),l=1/0,u=Math.min(o.dx,o.dy);for(t(s,o.dx*o.dy/n.value),a.area=0;0<(n=s.length);){a.push(n=s[n-1]),a.area+=n.area;for(var n=u,f=a.area,d=void 0,p=0,g=1/0,m=-1,v=a.length;++m<v;)(d=a[m].area)&&(d<g&&(g=d),d>p&&(p=d));f*=f,n*=n,(n=f?Math.max(n*p*h/f,f/(n*g*h)):1/0)<=l?(s.pop(),l=n):(a.area-=a.pop().area,r(a,u,o,!1),u=Math.min(o.dx,o.dy),a.length=a.area=0,l=1/0)}a.length&&(r(a,u,o,!0),a.length=a.area=0),i.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var o=c(e),a=i.slice(),s=[];for(t(a,o.dx*o.dy/e.value),s.area=0;e=a.pop();)s.push(e),s.area+=e.area,null!=e.z&&(r(s,e.z?o.dx:o.dy,o,!a.length),s.length=s.area=0);i.forEach(n)}}function r(t,e,n,r){var i,o=-1,a=t.length,l=n.x,u=n.y,c=e?s(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=l,i.y=u,i.dy=c,l+=i.dx=Math.min(n.x+n.dx-l,c?s(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-l,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=l,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?s(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function i(r){var r=o||a(r),i=r[0];return i.x=0,i.y=0,i.dx=l[0],i.dy=l[1],o&&a.revalue(i),t([i],i.dx*i.dy/i.value),(o?n:e)(i),f&&(o=r),r}var o,a=d3.layout.hierarchy(),s=Math.round,l=[1,1],u=null,c=U,f=!1,h=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(l=t,i):l},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?U(e):X(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return X(e,t)}if(!arguments.length)return u;var r;return c=null==(u=t)?U:"function"===(r="undefined"==typeof t?"undefined":(0,_typeof3["default"])(t))?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(s=t?Math.round:Number,i):s!=Number},i.sticky=function(t){return arguments.length?(f=t,o=null,i):f},i.ratio=function(t){return arguments.length?(h=t,i):h},b(i,a)}}(),function(t){var e,n,r="0.3.4",i="hasOwnProperty",o=/[\.\/]/,a="*",s=function(){},l=function(t,e){return t-e},u={n:{}},c=function f(t,r){var i,o=n,a=Array.prototype.slice.call(arguments,2),s=f.listeners(t),u=0,c=[],h={},d=[],p=e;e=t,n=0;for(var g=0,m=s.length;g<m;g++)"zIndex"in s[g]&&(c.push(s[g].zIndex),s[g].zIndex<0&&(h[s[g].zIndex]=s[g]));for(c.sort(l);c[u]<0;)if(i=h[c[u++]],d.push(i.apply(r,a)),n)return n=o,d;for(g=0;g<m;g++)if(i=s[g],"zIndex"in i)if(i.zIndex==c[u]){if(d.push(i.apply(r,a)),n)break;do if(u++,i=h[c[u]],i&&d.push(i.apply(r,a)),n)break;while(i)}else h[i.zIndex]=i;else if(d.push(i.apply(r,a)),n)break;return n=o,e=p,d.length?d:null};c.listeners=function(t){var e,n,r,i,s,l,c,f,h=t.split(o),d=u,p=[d],g=[];for(i=0,s=h.length;i<s;i++){for(f=[],l=0,c=p.length;l<c;l++)for(d=p[l].n,n=[d[h[i]],d[a]],r=2;r--;)e=n[r],e&&(f.push(e),g=g.concat(e.f||[]));p=f}return g},c.on=function(t,e){for(var n=t.split(o),r=u,i=0,a=n.length;i<a;i++)r=r.n,!r[n[i]]&&(r[n[i]]={n:{}}),r=r[n[i]];for(r.f=r.f||[],i=0,a=r.f.length;i<a;i++)if(r.f[i]==e)return s;return r.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.stop=function(){n=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.off=c.unbind=function(t,e){var n,r,s,l,c,f,h,d=t.split(o),p=[u];for(l=0,c=d.length;l<c;l++)for(f=0;f<p.length;f+=s.length-2){if(s=[f,1],n=p[f].n,d[l]!=a)n[d[l]]&&s.push(n[d[l]]);else for(r in n)n[i](r)&&s.push(n[r]);p.splice.apply(p,s)}for(l=0,c=p.length;l<c;l++)for(n=p[l];n.n;){if(e){if(n.f){for(f=0,h=n.f.length;f<h;f++)if(n.f[f]==e){n.f.splice(f,1);break}!n.f.length&&delete n.f}for(r in n.n)if(n.n[i](r)&&n.n[r].f){var g=n.n[r].f;for(f=0,h=g.length;f<h;f++)if(g[f]==e){g.splice(f,1);break}!g.length&&delete n.n[r].f}}else{delete n.f;for(r in n.n)n.n[i](r)&&n.n[r].f&&delete n.n[r].f}n=n.n}},c.once=function(t,e){var n=function r(){var n=e.apply(this,arguments);return c.unbind(t,r),n};return c.on(t,n)},c.version=r,c.toString=function(){return"You are running Eve "+r},t.eve=c}(global),function(){function t(e){if(t.is(e,"function"))return y?e():eve.on("raphael.DOMload",e);if(t.is(e,V))return t._engine.create[M](t,e.splice(0,3+t.is(e[0],$))).add(e);var n=Array.prototype.slice.call(arguments,0);if(t.is(n[n.length-1],"function")){var r=n.pop();return y?r.call(t._engine.create[M](t,n)):eve.on("raphael.DOMload",function(){r.call(t._engine.create[M](t,n))})}return t._engine.create[M](t,arguments)}function e(t){if(Object(t)!==t)return t;var n=new t.constructor;for(var r in t)t[C](r)&&(n[r]=e(t[r]));return n}function n(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function r(t,e,r){function i(){var o=Array.prototype.slice.call(arguments,0),a=o.join("␀"),s=i.cache=i.cache||{},l=i.count=i.count||[];return s[C](a)?(n(l,a),r?r(s[a]):s[a]):(l.length>=1e3&&delete s[l.shift()],l.push(a),s[a]=t[M](e,o),r?r(s[a]):s[a])}return i}function i(){return this.hex}function o(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4==r?o[3]={x:+t[0],y:+t[1]}:i-2==r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4==r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function a(t,e,n,r,i){var o=-3*e+9*n-9*r+3*i,a=t*o+6*e-12*n+6*r;return t*a-3*e+3*n}function s(t,e,n,r,i,o,s,l,u){null==u&&(u=1),u=u>1?1:u<0?0:u;for(var c=u/2,f=12,h=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,g=0;g<f;g++){var m=c*h[g]+c,v=a(m,t,n,i,s),y=a(m,e,r,o,l),b=v*v+y*y;p+=d[g]*P.sqrt(b)}return c*p}function l(t,e,n,r,i,o,a,l,u){if(!(u<0||s(t,e,n,r,i,o,a,l)<u)){var c,f=1,h=f/2,d=f-h,p=.01;for(c=s(t,e,n,r,i,o,a,l,d);I(c-u)>p;)h/=2,d+=(c<u?1:-1)*h,c=s(t,e,n,r,i,o,a,l,d);return d}}function u(t,e,n,r,i,o,a,s){if(!(B(t,n)<W(i,a)||W(t,n)>B(i,a)||B(e,r)<W(o,s)||W(e,r)>B(o,s))){var l=(t*r-e*n)*(i-a)-(t-n)*(i*s-o*a),u=(t*r-e*n)*(o-s)-(e-r)*(i*s-o*a),c=(t-n)*(o-s)-(e-r)*(i-a);if(c){var f=l/c,h=u/c,d=+f.toFixed(2),p=+h.toFixed(2);if(!(d<+W(t,n).toFixed(2)||d>+B(t,n).toFixed(2)||d<+W(i,a).toFixed(2)||d>+B(i,a).toFixed(2)||p<+W(e,r).toFixed(2)||p>+B(e,r).toFixed(2)||p<+W(o,s).toFixed(2)||p>+B(o,s).toFixed(2)))return{x:f,y:h}}}}function c(e,n,r){var i=t.bezierBBox(e),o=t.bezierBBox(n);if(!t.isBBoxIntersect(i,o))return r?0:[];for(var a=s.apply(0,e),l=s.apply(0,n),c=~~(a/5),f=~~(l/5),h=[],d=[],p={},g=r?0:[],m=0;m<c+1;m++){var v=t.findDotsAtSegment.apply(t,e.concat(m/c));h.push({x:v.x,y:v.y,t:m/c})}for(m=0;m<f+1;m++)v=t.findDotsAtSegment.apply(t,n.concat(m/f)),d.push({x:v.x,y:v.y,t:m/f});for(m=0;m<c;m++)for(var y=0;y<f;y++){var b=h[m],x=h[m+1],w=d[y],_=d[y+1],C=I(x.x-b.x)<.001?"y":"x",k=I(_.x-w.x)<.001?"y":"x",S=u(b.x,b.y,x.x,x.y,w.x,w.y,_.x,_.y);if(S){if(p[S.x.toFixed(4)]==S.y.toFixed(4))continue;p[S.x.toFixed(4)]=S.y.toFixed(4);var T=b.t+I((S[C]-b[C])/(x[C]-b[C]))*(x.t-b.t),M=w.t+I((S[k]-w[k])/(_[k]-w[k]))*(_.t-w.t);T>=0&&T<=1&&M>=0&&M<=1&&(r?g++:g.push({x:S.x,y:S.y,t1:T,t2:M}))}}return g}function f(e,n,r){e=t._path2curve(e),n=t._path2curve(n);for(var i,o,a,s,l,u,f,h,d,p,g=r?0:[],m=0,v=e.length;m<v;m++){var y=e[m];if("M"==y[0])i=l=y[1],o=u=y[2];else{"C"==y[0]?(d=[i,o].concat(y.slice(1)),i=d[6],o=d[7]):(d=[i,o,i,o,l,u,l,u],i=l,o=u);for(var b=0,x=n.length;b<x;b++){var w=n[b];if("M"==w[0])a=f=w[1],s=h=w[2];else{"C"==w[0]?(p=[a,s].concat(w.slice(1)),a=p[6],s=p[7]):(p=[a,s,a,s,f,h,f,h],a=f,s=h);var _=c(d,p,r);if(r)g+=_;else{for(var C=0,k=_.length;C<k;C++)_[C].segment1=m,_[C].segment2=b,_[C].bez1=d,_[C].bez2=p;g=g.concat(_)}}}}}return g}function h(t,e,n,r,i,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+r,this.e=+i,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function d(){return this.x+E+this.y+E+this.width+" × "+this.height}function p(t,e,n,r,i,o){function a(t){return((f*t+c)*t+u)*t}function s(t,e){var n=l(t,e);return((p*n+d)*n+h)*n}function l(t,e){var n,r,i,o,s,l;for(i=t,l=0;l<8;l++){if(o=a(i)-t,I(o)<e)return i;if(s=(3*f*i+2*c)*i+u,
I(s)<1e-6)break;i-=o/s}if(n=0,r=1,i=t,i<n)return n;if(i>r)return r;for(;n<r;){if(o=a(i),I(o-t)<e)return i;t>o?n=i:r=i,i=(r-n)/2+n}return i}var u=3*e,c=3*(r-e)-u,f=1-u-c,h=3*n,d=3*(i-n)-h,p=1-h-d;return s(t,1/(200*o))}function g(t,e){var n=[],r={};if(this.ms=e,this.times=1,t){for(var i in t)t[C](i)&&(r[J(i)]=t[i],n.push(J(i)));n.sort(ut)}this.anim=r,this.top=n[n.length-1],this.percents=n}function m(e,n,r,i,o,a){r=J(r);var s,l,u,c,f,d,g=e.ms,m={},v={},y={};if(i)for(w=0,_=oe.length;w<_;w++){var b=oe[w];if(b.el.id==n.id&&b.anim==e){b.percent!=r?(oe.splice(w,1),u=1):l=b,n.attr(b.totalOrigin);break}}else i=+v;for(var w=0,_=e.percents.length;w<_;w++){if(e.percents[w]==r||e.percents[w]>i*e.top){r=e.percents[w],f=e.percents[w-1]||0,g=g/e.top*(r-f),c=e.percents[w+1],s=e.anim[r];break}i&&n.attr(e.anim[e.percents[w]])}if(s){if(l)l.initstatus=i,l.start=new Date-l.ms*i;else{for(var k in s)if(s[C](k)&&(et[C](k)||n.paper.customAttributes[C](k)))switch(m[k]=n.attr(k),null==m[k]&&(m[k]=tt[k]),v[k]=s[k],et[k]){case $:y[k]=(v[k]-m[k])/g;break;case"colour":m[k]=t.getRGB(m[k]);var S=t.getRGB(v[k]);y[k]={r:(S.r-m[k].r)/g,g:(S.g-m[k].g)/g,b:(S.b-m[k].b)/g};break;case"path":var T=Ft(m[k],v[k]),M=T[1];for(m[k]=T[0],y[k]=[],w=0,_=m[k].length;w<_;w++){y[k][w]=[0];for(var A=1,L=m[k][w].length;A<L;A++)y[k][w][A]=(M[w][A]-m[k][w][A])/g}break;case"transform":var E=n._,F=Wt(E[k],v[k]);if(F)for(m[k]=F.from,v[k]=F.to,y[k]=[],y[k].real=!0,w=0,_=m[k].length;w<_;w++)for(y[k][w]=[m[k][w][0]],A=1,L=m[k][w].length;A<L;A++)y[k][w][A]=(v[k][w][A]-m[k][w][A])/g;else{var z=n.matrix||new h,R={_:{transform:E.transform},getBBox:function(){return n.getBBox(1)}};m[k]=[z.a,z.b,z.c,z.d,z.e,z.f],Pt(R,v[k]),v[k]=R._.transform,y[k]=[(R.matrix.a-z.a)/g,(R.matrix.b-z.b)/g,(R.matrix.c-z.c)/g,(R.matrix.d-z.d)/g,(R.matrix.e-z.e)/g,(R.matrix.f-z.f)/g]}break;case"csv":var P=D(s[k])[O](x),B=D(m[k])[O](x);if("clip-rect"==k)for(m[k]=B,y[k]=[],w=B.length;w--;)y[k][w]=(P[w]-m[k][w])/g;v[k]=P;break;default:for(P=[][N](s[k]),B=[][N](m[k]),y[k]=[],w=n.paper.customAttributes[k].length;w--;)y[k][w]=((P[w]||0)-(B[w]||0))/g}var W=s.easing,I=t.easing_formulas[W];if(!I)if(I=D(W).match(Y),I&&5==I.length){var H=I;I=function(t){return p(t,+H[1],+H[2],+H[3],+H[4],g)}}else I=ft;if(d=s.start||e.start||+new Date,b={anim:e,percent:r,timestamp:d,start:d+(e.del||0),status:0,initstatus:i||0,stop:!1,ms:g,easing:I,from:m,diff:y,to:v,el:n,callback:s.callback,prev:f,next:c,repeat:a||e.times,origin:n.attr(),totalOrigin:o},oe.push(b),i&&!l&&!u&&(b.stop=!0,b.start=new Date-g*i,1==oe.length))return se();u&&(b.start=new Date-b.ms*i),1==oe.length&&ae(se)}eve("raphael.anim.start."+n.id,n,e)}}function v(t){for(var e=0;e<oe.length;e++)oe[e].el.paper==t&&oe.splice(e--,1)}t.version="2.1.0",t.eve=eve;var y,b,x=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},_=/\{(\d+)\}/g,C="hasOwnProperty",k={doc:document,win:window},S={was:Object.prototype[C].call(k.win,"Raphael"),is:k.win.Raphael},T=function(){this.ca=this.customAttributes={}},M="apply",N="concat",A="createTouch"in k.doc,L="",E=" ",D=String,O="split",F="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[O](E),z={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=D.prototype.toLowerCase,P=Math,B=P.max,W=P.min,I=P.abs,H=P.pow,j=P.PI,$="number",q="string",V="array",U=Object.prototype.toString,X=(t._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),G={NaN:1,Infinity:1,"-Infinity":1},Y=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=P.round,J=parseFloat,Z=parseInt,Q=D.prototype.toUpperCase,tt=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},et=t._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},nt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,rt={hs:1,rg:1},it=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},ct=function(){},ft=function(t){return t},ht=t._rectPath=function(t,e,n,r,i){return i?[["M",t+i,e],["l",n-2*i,0],["a",i,i,0,0,1,i,i],["l",0,r-2*i],["a",i,i,0,0,1,-i,i],["l",2*i-n,0],["a",i,i,0,0,1,-i,-i],["l",0,2*i-r],["a",i,i,0,0,1,i,-i],["z"]]:[["M",t,e],["l",n,0],["l",0,r],["l",-n,0],["z"]]},dt=function(t,e,n,r){return null==r&&(r=n),[["M",t,e],["m",0,-r],["a",n,r,0,1,1,0,2*r],["a",n,r,0,1,1,0,-2*r],["z"]]},pt=t._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ht(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ht(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ht(e.x,e.y,e.width,e.height)}},gt=t.mapPath=function(t,e){if(!e)return t;var n,r,i,o,a,s,l;for(t=Ft(t),i=0,a=t.length;i<a;i++)for(l=t[i],o=1,s=l.length;o<s;o+=2)n=e.x(l[o],l[o+1]),r=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=r;return t};if(t._g=k,t.type=k.win.SVGAngle||k.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var mt,vt=k.doc.createElement("div");if(vt.innerHTML='<v:shape adj="1"/>',mt=vt.firstChild,mt.style.behavior="url(#default#VML)",!mt||"object"!=(0,_typeof3["default"])(mt.adj))return t.type=L;vt=null}t.svg=!(t.vml="VML"==t.type),t._Paper=T,t.fn=b=T.prototype=t.prototype,t._id=0,t._oid=0,t.is=function(t,e){return e=R.call(e),"finite"==e?!G[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==("undefined"==typeof t?"undefined":(0,_typeof3["default"])(t))&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||U.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,n,r,i,o,a){if(null==o){var s=e-r,l=n-i;return s||l?(180+180*P.atan2(-l,-s)/j+360)%360:0}return t.angle(e,n,o,a)-t.angle(r,i,o,a)},t.rad=function(t){return t%360*j/180},t.deg=function(t){return 180*t/j%360},t.snapTo=function(e,n,r){if(r=t.is(r,"finite")?r:10,t.is(e,V)){for(var i=e.length;i--;)if(I(e[i]-n)<=r)return e[i]}else{e=+e;var o=n%e;if(o<r)return n-o;if(o>e-r)return n-o+e}return n};t.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*P.random()|0,n="x"==t?e:3&e|8;return n.toString(16)});t.setWindow=function(e){eve("raphael.setWindow",t,k.win,e),k.win=e,k.doc=k.win.document,t._engine.initWin&&t._engine.initWin(k.win)};var yt=function(e){if(t.vml){var n,i=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(a){n=createPopup().document.body}var s=n.createTextRange();yt=r(function(t){try{n.style.color=D(t).replace(i,L);var e=s.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e.toString(16)).slice(-6)}catch(r){return"none"}})}else{var l=k.doc.createElement("i");l.title="Raphaël Colour Picker",l.style.display="none",k.doc.body.appendChild(l),yt=r(function(t){return l.style.color=t,k.doc.defaultView.getComputedStyle(l,L).getPropertyValue("color")})}return yt(e)},bt=function(){return"hsb("+[this.h,this.s,this.b]+")"},xt=function(){return"hsl("+[this.h,this.s,this.l]+")"},wt=function(){return this.hex},_t=function(e,n,r){if(null==n&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(r=e.b,n=e.g,e=e.r),null==n&&t.is(e,q)){var i=t.getRGB(e);e=i.r,n=i.g,r=i.b}return(e>1||n>1||r>1)&&(e/=255,n/=255,r/=255),[e,n,r]},Ct=function(e,n,r,i){e*=255,n*=255,r*=255;var o={r:e,g:n,b:r,hex:t.rgb(e,n,r),toString:wt};return t.is(i,"finite")&&(o.opacity=i),o};t.color=function(e){var n;return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e?(n=t.hsb2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e?(n=t.hsl2rgb(e),e.r=n.r,e.g=n.g,e.b=n.b,e.hex=n.hex):(t.is(e,"string")&&(e=t.getRGB(e)),t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e?(n=t.rgb2hsl(e),e.h=n.h,e.s=n.s,e.l=n.l,n=t.rgb2hsb(e),e.v=n.b):(e={hex:"none"},e.r=e.g=e.b=e.h=e.s=e.v=e.l=-1)),e.toString=wt,e},t.hsb2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,t=t.h,r=t.o),t*=360;var i,o,a,s,l;return t=t%360/60,l=n*e,s=l*(1-I(t%2-1)),i=o=a=n-l,t=~~t,i+=[l,s,0,0,s,l][t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],Ct(i,o,a,r)},t.hsl2rgb=function(t,e,n,r){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),t*=360;var i,o,a,s,l;return t=t%360/60,l=2*e*(n<.5?n:1-n),s=l*(1-I(t%2-1)),i=o=a=n-l/2,t=~~t,i+=[l,s,0,0,s,l][t],o+=[s,l,l,s,0,0][t],a+=[0,0,s,l,l,s][t],Ct(i,o,a,r)},t.rgb2hsb=function(t,e,n){n=_t(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a;return o=B(t,e,n),a=o-W(t,e,n),r=0==a?null:o==t?(e-n)/a:o==e?(n-t)/a+2:(t-e)/a+4,r=(r+360)%6*60/360,i=0==a?0:a/o,{h:r,s:i,b:o,toString:bt}},t.rgb2hsl=function(t,e,n){n=_t(t,e,n),t=n[0],e=n[1],n=n[2];var r,i,o,a,s,l;return a=B(t,e,n),s=W(t,e,n),l=a-s,r=0==l?null:a==t?(e-n)/l:a==e?(n-t)/l+2:(t-e)/l+4,r=(r+360)%6*60/360,o=(a+s)/2,i=0==l?0:o<.5?l/(2*o):l/(2-2*o),{h:r,s:i,l:o,toString:xt}},t._path2string=function(){return this.join(",").replace(it,"$1")};t._preload=function(t,e){var n=k.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,k.doc.body.removeChild(this)},n.onerror=function(){k.doc.body.removeChild(this)},k.doc.body.appendChild(n),n.src=t};t.getRGB=r(function(e){if(!e||(e=D(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:i};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none",toString:i};!(rt[C](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=yt(e));var n,r,o,a,s,l,u=e.match(X);return u?(u[2]&&(o=Z(u[2].substring(5),16),r=Z(u[2].substring(3,5),16),n=Z(u[2].substring(1,3),16)),u[3]&&(o=Z((s=u[3].charAt(3))+s,16),r=Z((s=u[3].charAt(2))+s,16),n=Z((s=u[3].charAt(1))+s,16)),u[4]&&(l=u[4][O](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=J(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(a=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100)),u[5]?(l=u[5][O](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=J(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(a=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsb2rgb(n,r,o,a)):u[6]?(l=u[6][O](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),r=J(l[1]),"%"==l[1].slice(-1)&&(r*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(a=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(a/=100),t.hsl2rgb(n,r,o,a)):(u={r:n,g:r,b:o,toString:i},u.hex="#"+(16777216|o|r<<8|n<<16).toString(16).slice(1),t.is(a,"finite")&&(u.opacity=a),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:i}},t),t.hsb=r(function(e,n,r){return t.hsb2rgb(e,n,r).hex}),t.hsl=r(function(e,n,r){return t.hsl2rgb(e,n,r).hex}),t.rgb=r(function(t,e,n){return"#"+(16777216|n|e<<8|t<<16).toString(16).slice(1)}),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=function(e){if(!e)return null;var n=kt(e);if(n.arr)return Tt(n.arr);var r={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,V)&&t.is(e[0],V)&&(i=Tt(e)),i.length||D(e).replace(ot,function(t,e,n){var o=[],a=e.toLowerCase();if(n.replace(st,function(t,e){e&&o.push(+e)}),"m"==a&&o.length>2&&(i.push([e][N](o.splice(0,2))),a="l",e="m"==e?"l":"L"),"r"==a)i.push([e][N](o));else for(;o.length>=r[a]&&(i.push([e][N](o.splice(0,r[a]))),r[a]););}),i.toString=t._path2string,n.arr=Tt(i),i},t.parseTransformString=r(function(e){if(!e)return null;var n=[];return t.is(e,V)&&t.is(e[0],V)&&(n=Tt(e)),n.length||D(e).replace(at,function(t,e,r){var i=[];R.call(e);r.replace(st,function(t,e){e&&i.push(+e)}),n.push([e][N](i))}),n.toString=t._path2string,n});var kt=function he(t){var e=he.ps=he.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var n in e)e[C](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])}),e[t]};t.findDotsAtSegment=function(t,e,n,r,i,o,a,s,l){var u=1-l,c=H(u,3),f=H(u,2),h=l*l,d=h*l,p=c*t+3*f*l*n+3*u*l*l*i+d*a,g=c*e+3*f*l*r+3*u*l*l*o+d*s,m=t+2*l*(n-t)+h*(i-2*n+t),v=e+2*l*(r-e)+h*(o-2*r+e),y=n+2*l*(i-n)+h*(a-2*i+n),b=r+2*l*(o-r)+h*(s-2*o+r),x=u*t+l*n,w=u*e+l*r,_=u*i+l*a,C=u*o+l*s,k=90-180*P.atan2(m-y,v-b)/j;return(m>y||v<b)&&(k+=180),{x:p,y:g,m:{x:m,y:v},n:{x:y,y:b},start:{x:x,y:w},end:{x:_,y:C},alpha:k}},t.bezierBBox=function(e,n,r,i,o,a,s,l){t.is(e,"array")||(e=[e,n,r,i,o,a,s,l]);var u=Ot.apply(null,e);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},t.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},t.isBBoxIntersect=function(e,n){var r=t.isPointInsideBBox;return r(n,e.x,e.y)||r(n,e.x2,e.y)||r(n,e.x,e.y2)||r(n,e.x2,e.y2)||r(e,n.x,n.y)||r(e,n.x2,n.y)||r(e,n.x,n.y2)||r(e,n.x2,n.y2)||(e.x<n.x2&&e.x>n.x||n.x<e.x2&&n.x>e.x)&&(e.y<n.y2&&e.y>n.y||n.y<e.y2&&n.y>e.y)},t.pathIntersection=function(t,e){return f(t,e)},t.pathIntersectionNumber=function(t,e){return f(t,e,1)},t.isPointInsidePath=function(e,n,r){var i=t.pathBBox(e);return t.isPointInsideBBox(i,n,r)&&f(e,[["M",n,r],["H",i.x2+10]],1)%2==1},t._removedFactory=function(t){return function(){eve("raphael.log",null,"Raphaël: you are calling to method “"+t+"” of removed object",t)}};var St=t.pathBBox=function(t){var n=kt(t);if(n.bbox)return n.bbox;if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Ft(t);for(var r,i=0,o=0,a=[],s=[],l=0,u=t.length;l<u;l++)if(r=t[l],"M"==r[0])i=r[1],o=r[2],a.push(i),s.push(o);else{var c=Ot(i,o,r[1],r[2],r[3],r[4],r[5],r[6]);a=a[N](c.min.x,c.max.x),s=s[N](c.min.y,c.max.y),i=r[5],o=r[6]}var f=W[M](0,a),h=W[M](0,s),d=B[M](0,a),p=B[M](0,s),g={x:f,y:h,x2:d,y2:p,width:d-f,height:p-h};return n.bbox=e(g),g},Tt=function(n){var r=e(n);return r.toString=t._path2string,r},Mt=t._pathToRelative=function(e){var n=kt(e);if(n.rel)return Tt(n.rel);t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e));var r=[],i=0,o=0,a=0,s=0,l=0;"M"==e[0][0]&&(i=e[0][1],o=e[0][2],a=i,s=o,l++,r.push(["M",i,o]));for(var u=l,c=e.length;u<c;u++){var f=r[u]=[],h=e[u];if(h[0]!=R.call(h[0]))switch(f[0]=R.call(h[0]),f[0]){case"a":f[1]=h[1],f[2]=h[2],f[3]=h[3],f[4]=h[4],f[5]=h[5],f[6]=+(h[6]-i).toFixed(3),f[7]=+(h[7]-o).toFixed(3);break;case"v":f[1]=+(h[1]-o).toFixed(3);break;case"m":a=h[1],s=h[2];default:for(var d=1,p=h.length;d<p;d++)f[d]=+(h[d]-(d%2?i:o)).toFixed(3)}else{f=r[u]=[],"m"==h[0]&&(a=h[1]+i,s=h[2]+o);for(var g=0,m=h.length;g<m;g++)r[u][g]=h[g]}var v=r[u].length;switch(r[u][0]){case"z":i=a,o=s;break;case"h":i+=+r[u][v-1];break;case"v":o+=+r[u][v-1];break;default:i+=+r[u][v-2],o+=+r[u][v-1]}}return r.toString=t._path2string,n.rel=Tt(r),r},Nt=t._pathToAbsolute=function(e){var n=kt(e);if(n.abs)return Tt(n.abs);if(t.is(e,V)&&t.is(e&&e[0],V)||(e=t.parsePathString(e)),!e||!e.length)return[["M",0,0]];var r=[],i=0,a=0,s=0,l=0,u=0;"M"==e[0][0]&&(i=+e[0][1],a=+e[0][2],s=i,l=a,u++,r[0]=["M",i,a]);for(var c,f,h=3==e.length&&"M"==e[0][0]&&"R"==e[1][0].toUpperCase()&&"Z"==e[2][0].toUpperCase(),d=u,p=e.length;d<p;d++){if(r.push(c=[]),f=e[d],f[0]!=Q.call(f[0]))switch(c[0]=Q.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+i),c[7]=+(f[7]+a);break;case"V":c[1]=+f[1]+a;break;case"H":c[1]=+f[1]+i;break;case"R":for(var g=[i,a][N](f.slice(1)),m=2,v=g.length;m<v;m++)g[m]=+g[m]+i,g[++m]=+g[m]+a;r.pop(),r=r[N](o(g,h));break;case"M":s=+f[1]+i,l=+f[2]+a;default:for(m=1,v=f.length;m<v;m++)c[m]=+f[m]+(m%2?i:a)}else if("R"==f[0])g=[i,a][N](f.slice(1)),r.pop(),r=r[N](o(g,h)),c=["R"][N](f.slice(-2));else for(var y=0,b=f.length;y<b;y++)c[y]=f[y];switch(c[0]){case"Z":i=s,a=l;break;case"H":i=c[1];break;case"V":a=c[1];break;case"M":s=c[c.length-2],l=c[c.length-1];default:i=c[c.length-2],a=c[c.length-1]}}return r.toString=t._path2string,n.abs=Tt(r),r},At=function(t,e,n,r){return[t,e,n,r,n,r]},Lt=function(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]},Et=function de(t,e,n,i,o,a,s,l,u,c){var f,h=120*j/180,d=j/180*(+o||0),p=[],g=r(function(t,e,n){var r=t*P.cos(n)-e*P.sin(n),i=t*P.sin(n)+e*P.cos(n);return{x:r,y:i}});if(c)k=c[0],S=c[1],_=c[2],C=c[3];else{f=g(t,e,-d),t=f.x,e=f.y,f=g(l,u,-d),l=f.x,u=f.y;var m=(P.cos(j/180*o),P.sin(j/180*o),(t-l)/2),v=(e-u)/2,y=m*m/(n*n)+v*v/(i*i);y>1&&(y=P.sqrt(y),n=y*n,i=y*i);var b=n*n,x=i*i,w=(a==s?-1:1)*P.sqrt(I((b*x-b*v*v-x*m*m)/(b*v*v+x*m*m))),_=w*n*v/i+(t+l)/2,C=w*-i*m/n+(e+u)/2,k=P.asin(((e-C)/i).toFixed(9)),S=P.asin(((u-C)/i).toFixed(9));k=t<_?j-k:k,S=l<_?j-S:S,k<0&&(k=2*j+k),S<0&&(S=2*j+S),s&&k>S&&(k-=2*j),!s&&S>k&&(S-=2*j)}var T=S-k;if(I(T)>h){var M=S,A=l,L=u;S=k+h*(s&&S>k?1:-1),l=_+n*P.cos(S),u=C+i*P.sin(S),p=de(l,u,n,i,o,0,s,A,L,[S,M,_,C])}T=S-k;var E=P.cos(k),D=P.sin(k),F=P.cos(S),z=P.sin(S),R=P.tan(T/4),B=4/3*n*R,W=4/3*i*R,H=[t,e],$=[t+B*D,e-W*E],q=[l+B*z,u-W*F],V=[l,u];if($[0]=2*H[0]-$[0],$[1]=2*H[1]-$[1],c)return[$,q,V][N](p);p=[$,q,V][N](p).join()[O](",");for(var U=[],X=0,G=p.length;X<G;X++)U[X]=X%2?g(p[X-1],p[X],d).y:g(p[X],p[X+1],d).x;return U},Dt=function(t,e,n,r,i,o,a,s,l){var u=1-l;return{x:H(u,3)*t+3*H(u,2)*l*n+3*u*l*l*i+H(l,3)*a,y:H(u,3)*e+3*H(u,2)*l*r+3*u*l*l*o+H(l,3)*s}},Ot=r(function(t,e,n,r,i,o,a,s){var l,u=i-2*n+t-(a-2*i+n),c=2*(n-t)-2*(i-n),f=t-n,h=(-c+P.sqrt(c*c-4*u*f))/2/u,d=(-c-P.sqrt(c*c-4*u*f))/2/u,p=[e,s],g=[t,a];return I(h)>"1e12"&&(h=.5),I(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Dt(t,e,n,r,i,o,a,s,h),g.push(l.x),p.push(l.y)),d>0&&d<1&&(l=Dt(t,e,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),u=o-2*r+e-(s-2*o+r),c=2*(r-e)-2*(o-r),f=e-r,h=(-c+P.sqrt(c*c-4*u*f))/2/u,d=(-c-P.sqrt(c*c-4*u*f))/2/u,I(h)>"1e12"&&(h=.5),I(d)>"1e12"&&(d=.5),h>0&&h<1&&(l=Dt(t,e,n,r,i,o,a,s,h),g.push(l.x),p.push(l.y)),d>0&&d<1&&(l=Dt(t,e,n,r,i,o,a,s,d),g.push(l.x),p.push(l.y)),{min:{x:W[M](0,g),y:W[M](0,p)},max:{x:B[M](0,g),y:B[M](0,p)}}}),Ft=t._path2curve=r(function(t,e){var n=!e&&kt(t);if(!e&&n.curve)return Tt(n.curve);for(var r=Nt(t),i=e&&Nt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=(function(t,e){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][N](Et[M](0,[e.x,e.y][N](t.slice(1))));break;case"S":n=e.x+(e.x-(e.bx||e.x)),r=e.y+(e.y-(e.by||e.y)),t=["C",n,r][N](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][N](Lt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][N](Lt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][N](At(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][N](At(e.x,e.y,t[1],e.y));break;case"V":t=["C"][N](At(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][N](At(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)t.splice(e++,0,["C"][N](n.splice(0,6)));t.splice(e,1),f=B(r.length,i&&i.length||0)}},u=function(t,e,n,o,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],f=B(r.length,i&&i.length||0))},c=0,f=B(r.length,i&&i.length||0);c<f;c++){r[c]=s(r[c],o),l(r,c),i&&(i[c]=s(i[c],a)),i&&l(i,c),u(r,i,o,a,c),u(i,r,a,o,c);var h=r[c],d=i&&i[c],p=h.length,g=i&&d.length;o.x=h[p-2],o.y=h[p-1],o.bx=J(h[p-4])||o.x,o.by=J(h[p-3])||o.y,a.bx=i&&(J(d[g-4])||a.x),a.by=i&&(J(d[g-3])||a.y),a.x=i&&d[g-2],a.y=i&&d[g-1]}return i||(n.curve=Tt(r)),i?[r,i]:r},null,Tt),zt=(t._parseDots=r(function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o={},a=e[r].match(/^([^:]*):?([\d\.]*)/);if(o.color=t.getRGB(a[1]),o.color.error)return null;o.color=o.color.hex,a[2]&&(o.offset=a[2]+"%"),n.push(o)}for(r=1,i=n.length-1;r<i;r++)if(!n[r].offset){for(var s=J(n[r-1].offset||0),l=0,u=r+1;u<i;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=i),l=J(l);for(var c=(l-s)/(u-r+1);r<u;r++)s+=c,n[r].offset=s+"%"}return n}),t._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Rt=(t._tofront=function(t,e){e.top!==t&&(zt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},t._toback=function(t,e){e.bottom!==t&&(zt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},t._insertafter=function(t,e,n){zt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},t._insertbefore=function(t,e,n){zt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},t.toMatrix=function(t,e){var n=St(t),r={_:{transform:L},getBBox:function(){return n}};return Pt(r,e),r.matrix}),Pt=(t.transformPath=function(t,e){return gt(t,Rt(t,e))},t._extractTransform=function(e,n){if(null==n)return e._.transform;n=D(n).replace(/\.{3}|\u2026/g,e._.transform||L);var r=t.parseTransformString(n),i=0,o=0,a=0,s=1,l=1,u=e._,c=new h;if(u.transform=r||[],r)for(var f=0,d=r.length;f<d;f++){var p,g,m,v,y,b=r[f],x=b.length,w=D(b[0]).toLowerCase(),_=b[0]!=w,C=_?c.invert():0;"t"==w&&3==x?_?(p=C.x(0,0),g=C.y(0,0),m=C.x(b[1],b[2]),v=C.y(b[1],b[2]),c.translate(m-p,v-g)):c.translate(b[1],b[2]):"r"==w?2==x?(y=y||e.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),i+=b[1]):4==x&&(_?(m=C.x(b[2],b[3]),v=C.y(b[2],b[3]),c.rotate(b[1],m,v)):c.rotate(b[1],b[2],b[3]),i+=b[1]):"s"==w?2==x||3==x?(y=y||e.getBBox(1),c.scale(b[1],b[x-1],y.x+y.width/2,y.y+y.height/2),s*=b[1],l*=b[x-1]):5==x&&(_?(m=C.x(b[3],b[4]),v=C.y(b[3],b[4]),c.scale(b[1],b[2],m,v)):c.scale(b[1],b[2],b[3],b[4]),s*=b[1],l*=b[2]):"m"==w&&7==x&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),u.dirtyT=1,e.matrix=c}e.matrix=c,u.sx=s,u.sy=l,u.deg=i,u.dx=o=c.e,u.dy=a=c.f,1==s&&1==l&&!i&&u.bbox?(u.bbox.x+=+o,u.bbox.y+=+a):u.dirtyT=1}),Bt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Wt=t._equaliseTransform=function(e,n){n=D(n).replace(/\.{3}|\u2026/g,e),e=t.parseTransformString(e)||[],n=t.parseTransformString(n)||[];for(var r,i,o,a,s=B(e.length,n.length),l=[],u=[],c=0;c<s;c++){if(o=e[c]||Bt(n[c]),a=n[c]||Bt(o),o[0]!=a[0]||"r"==o[0].toLowerCase()&&(o[2]!=a[2]||o[3]!=a[3])||"s"==o[0].toLowerCase()&&(o[3]!=a[3]||o[4]!=a[4]))return;for(l[c]=[],u[c]=[],r=0,i=B(o.length,a.length);r<i;r++)r in o&&(l[c][r]=o[r]),r in a&&(u[c][r]=a[r])}return{from:l,to:u}};t._getContainer=function(e,n,r,i){var o;if(o=null!=i||t.is(e,"object")?e:k.doc.getElementById(e),null!=o)return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:r}:{container:1,x:e,y:n,width:r,height:i}},t.pathToRelative=Mt,t._engine={},t.path2curve=Ft,t.matrix=function(t,e,n,r,i,o){return new h(t,e,n,r,i,o)},function(e){function n(t){return t[0]*t[0]+t[1]*t[1]}function r(t){var e=P.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}e.add=function(t,e,n,r,i,o){var a,s,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,i],[e,r,o],[0,0,1]];for(t&&t instanceof h&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),a=0;a<3;a++)for(s=0;s<3;s++){for(u=0,l=0;l<3;l++)u+=f[a][l]*d[l][s];c[a][s]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},e.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new h(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},e.clone=function(){return new h(this.a,this.b,this.c,this.d,this.e,this.f)},e.translate=function(t,e){this.add(1,0,0,1,t,e)},e.scale=function(t,e,n,r){null==e&&(e=t),(n||r)&&this.add(1,0,0,1,n,r),this.add(t,0,0,e,0,0),(n||r)&&this.add(1,0,0,1,-n,-r)},e.rotate=function(e,n,r){e=t.rad(e),n=n||0,r=r||0;var i=+P.cos(e).toFixed(9),o=+P.sin(e).toFixed(9);this.add(i,o,-o,i,n,r),this.add(1,0,0,1,-n,-r)},e.x=function(t,e){return t*this.a+e*this.c+this.e},e.y=function(t,e){return t*this.b+e*this.d+this.f},e.get=function(t){return+this[D.fromCharCode(97+t)].toFixed(4)},e.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},e.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},e.split=function(){var e={};e.dx=this.e,e.dy=this.f;var i=[[this.a,this.c],[this.b,this.d]];e.scalex=P.sqrt(n(i[0])),r(i[0]),e.shear=i[0][0]*i[1][0]+i[0][1]*i[1][1],i[1]=[i[1][0]-i[0][0]*e.shear,i[1][1]-i[0][1]*e.shear],e.scaley=P.sqrt(n(i[1])),r(i[1]),e.shear/=e.scaley;var o=-i[0][1],a=i[1][1];return a<0?(e.rotate=t.deg(P.acos(a)),o<0&&(e.rotate=360-e.rotate)):e.rotate=t.deg(P.asin(o)),e.isSimple=!(+e.shear.toFixed(9)||e.scalex.toFixed(9)!=e.scaley.toFixed(9)&&e.rotate),e.isSuperSimple=!+e.shear.toFixed(9)&&e.scalex.toFixed(9)==e.scaley.toFixed(9)&&!e.rotate,e.noRotation=!+e.shear.toFixed(9)&&!e.rotate,e},e.toTransformString=function(t){var e=t||this[O]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:L)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:L)+(e.rotate?"r"+[e.rotate,0,0]:L)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(h.prototype);var It=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(It&&It[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&It&&It[1]<8?b.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:b.safari=ct;for(var Ht=function(){this.returnValue=!1},jt=function(){return this.originalEvent.preventDefault()},$t=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},Vt=function(){return k.doc.addEventListener?function(t,e,n,r){var i=A&&z[e]?z[e]:e,o=function(i){var o=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,a=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,s=i.clientX+a,l=i.clientY+o;if(A&&z[C](e))for(var u=0,c=i.targetTouches&&i.targetTouches.length;u<c;u++)if(i.targetTouches[u].target==t){var f=i;i=i.targetTouches[u],i.originalEvent=f,i.preventDefault=jt,i.stopPropagation=qt;break}return n.call(r,i,s,l)};return t.addEventListener(i,o,!1),function(){return t.removeEventListener(i,o,!1),!0}}:k.doc.attachEvent?function(t,e,n,r){var i=function(t){t=t||k.win.event;var e=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,i=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,o=t.clientX+i,a=t.clientY+e;return t.preventDefault=t.preventDefault||Ht,t.stopPropagation=t.stopPropagation||$t,n.call(r,t,o,a)};t.attachEvent("on"+e,i);var o=function(){return t.detachEvent("on"+e,i),!0};return o}:void 0}(),Ut=[],Xt=function(t){for(var e,n=t.clientX,r=t.clientY,i=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,o=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,a=Ut.length;a--;){if(e=Ut[a],A){for(var s,l=t.touches.length;l--;)if(s=t.touches[l],s.identifier==e.el._drag.id){n=s.clientX,r=s.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u,c=e.el.node,f=c.nextSibling,h=c.parentNode,d=c.style.display;k.win.opera&&h.removeChild(c),c.style.display="none",u=e.el.paper.getElementByPoint(n,r),c.style.display=d,k.win.opera&&(f?h.insertBefore(c,f):h.appendChild(c)),u&&eve("raphael.drag.over."+e.el.id,e.el,u),n+=o,r+=i,eve("raphael.drag.move."+e.el.id,e.move_scope||e.el,n-e.el._drag.x,r-e.el._drag.y,n,r,t)}},Gt=function pe(e){t.unmousemove(Xt).unmouseup(pe);for(var n,r=Ut.length;r--;)n=Ut[r],n.el._drag={},eve("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,e);Ut=[]},Yt=t.el={},Kt=F.length;Kt--;)!function(e){t[e]=Yt[e]=function(n,r){return t.is(n,"function")&&(this.events=this.events||[],this.events.push({name:e,f:n,unbind:Vt(this.shape||this.node||k.doc,e,n,r||this)})),this},t["un"+e]=Yt["un"+e]=function(t){for(var n=this.events||[],r=n.length;r--;)if(n[r].name==e&&n[r].f==t)return n[r].unbind(),n.splice(r,1),!n.length&&delete this.events,this;return this}}(F[Kt]);Yt.data=function(e,n){var r=lt[this.id]=lt[this.id]||{};if(1==arguments.length){if(t.is(e,"object")){for(var i in e)e[C](i)&&this.data(i,e[i]);return this}return eve("raphael.data.get."+this.id,this,r[e],e),r[e]}return r[e]=n,eve("raphael.data.set."+this.id,this,n,e),this},Yt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Yt.hover=function(t,e,n,r){return this.mouseover(t,n).mouseout(e,r||n)},Yt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Jt=[];Yt.drag=function(e,n,r,i,o,a){function s(s){(s.originalEvent||s).preventDefault();var l=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,u=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;this._drag.x=s.clientX+u,this._drag.y=s.clientY+l,this._drag.id=s.identifier,
!Ut.length&&t.mousemove(Xt).mouseup(Gt),Ut.push({el:this,move_scope:i,start_scope:o,end_scope:a}),n&&eve.on("raphael.drag.start."+this.id,n),e&&eve.on("raphael.drag.move."+this.id,e),r&&eve.on("raphael.drag.end."+this.id,r),eve("raphael.drag.start."+this.id,o||i||this,s.clientX+u,s.clientY+l,s)}return this._drag={},Jt.push({el:this,start:s}),this.mousedown(s),this},Yt.onDragOver=function(t){t?eve.on("raphael.drag.over."+this.id,t):eve.unbind("raphael.drag.over."+this.id)},Yt.undrag=function(){for(var e=Jt.length;e--;)Jt[e].el==this&&(this.unmousedown(Jt[e].start),Jt.splice(e,1),eve.unbind("raphael.drag.*."+this.id));!Jt.length&&t.unmousemove(Xt).unmouseup(Gt)},b.circle=function(e,n,r){var i=t._engine.circle(this,e||0,n||0,r||0);return this.__set__&&this.__set__.push(i),i},b.rect=function(e,n,r,i,o){var a=t._engine.rect(this,e||0,n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.ellipse=function(e,n,r,i){var o=t._engine.ellipse(this,e||0,n||0,r||0,i||0);return this.__set__&&this.__set__.push(o),o},b.path=function(e){e&&!t.is(e,q)&&!t.is(e[0],V)&&(e+=L);var n=t._engine.path(t.format[M](t,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(e,n,r,i,o){var a=t._engine.image(this,e||"about:blank",n||0,r||0,i||0,o||0);return this.__set__&&this.__set__.push(a),a},b.text=function(e,n,r){var i=t._engine.text(this,e||0,n||0,D(r));return this.__set__&&this.__set__.push(i),i},b.set=function(e){!t.is(e,"array")&&(e=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ue(e);return this.__set__&&this.__set__.push(n),n},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.setSize=function(e,n){return t._engine.setSize.call(this,e,n)},b.setViewBox=function(e,n,r,i,o){return t._engine.setViewBox.call(this,e,n,r,i,o)},b.top=b.bottom=null,b.raphael=t;var Zt=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,r=n.body,i=n.documentElement,o=i.clientTop||r.clientTop||0,a=i.clientLeft||r.clientLeft||0,s=e.top+(k.win.pageYOffset||i.scrollTop||r.scrollTop)-o,l=e.left+(k.win.pageXOffset||i.scrollLeft||r.scrollLeft)-a;return{y:s,x:l}};b.getElementByPoint=function(t,e){var n=this,r=n.canvas,i=k.doc.elementFromPoint(t,e);if(k.win.opera&&"svg"==i.tagName){var o=Zt(r),a=r.createSVGRect();a.x=t-o.x,a.y=e-o.y,a.width=a.height=1;var s=r.getIntersectionList(a,null);s.length&&(i=s[s.length-1])}if(!i)return null;for(;i.parentNode&&i!=r.parentNode&&!i.raphael;)i=i.parentNode;return i==n.canvas.parentNode&&(i=r),i=i&&i.raphael?n.getById(i.raphaelid):null},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var n=this.bottom;n;){if(t.call(e,n)===!1)return this;n=n.next}return this},b.getElementsByPoint=function(t,e){var n=this.set();return this.forEach(function(r){r.isPointInside(t,e)&&n.push(r)}),n},Yt.isPointInside=function(e,n){var r=this.realPath=this.realPath||pt[this.type](this);return t.isPointInsidePath(r,e,n)},Yt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=pt[this.type](this),e.bboxwt=St(this.realPath),e.bboxwt.toString=d,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=pt[this.type](this)),e.bbox=St(gt(this.realPath,this.matrix)),e.bbox.toString=d,e.dirty=e.dirtyT=0),e.bbox)},Yt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Yt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,r=this.paper,i=r.set(),o=this.realPath||pt[this.type](this);o=this.matrix?gt(o,this.matrix):o;for(var a=1;a<n+1;a++)i.push(r.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*a).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return i.insertBefore(this).translate(e.offsetx,e.offsety)};var Qt=function(e,n,r,i,o,a,u,c,f){return null==f?s(e,n,r,i,o,a,u,c):t.findDotsAtSegment(e,n,r,i,o,a,u,c,l(e,n,r,i,o,a,u,c,f))},te=function(e,n){return function(r,i,o){r=Ft(r);for(var a,s,l,u,c,f="",h={},d=0,p=0,g=r.length;p<g;p++){if(l=r[p],"M"==l[0])a=+l[1],s=+l[2];else{if(u=Qt(a,s,l[1],l[2],l[3],l[4],l[5],l[6]),d+u>i){if(n&&!h.start){if(c=Qt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d),f+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return f;h.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),d+=u,a=+l[5],s=+l[6];continue}if(!e&&!n)return c=Qt(a,s,l[1],l[2],l[3],l[4],l[5],l[6],i-d),{x:c.x,y:c.y,alpha:c.alpha}}d+=u,a=+l[5],s=+l[6]}f+=l.shift()+l}return h.end=f,c=e?d:n?h:t.findDotsAtSegment(a,s,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},ee=te(1),ne=te(),re=te(0,1);t.getTotalLength=ee,t.getPointAtLength=ne,t.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return re(t,e).end;var r=re(t,n,1);return e?re(r,e).end:r},Yt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():ee(this.attrs.path)},Yt.getPointAtLength=function(t){if("path"==this.type)return ne(this.attrs.path,t)},Yt.getSubpath=function(e,n){if("path"==this.type)return t.getSubpath(this.attrs.path,e,n)};var ie=t.easing_formulas={linear:function(t){return t},"<":function(t){return H(t,1.7)},">":function(t){return H(t,.48)},"<>":function(t){var e=.48-t/1.04,n=P.sqrt(.1734+e*e),r=n-e,i=H(I(r),1/3)*(r<0?-1:1),o=-n-e,a=H(I(o),1/3)*(o<0?-1:1),s=i+a+.5;return 3*(1-s)*s*s+s*s*s},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:H(2,-10*t)*P.sin((t-.075)*(2*j)/.3)+1},bounce:function(t){var e,n=7.5625,r=2.75;return t<1/r?e=n*t*t:t<2/r?(t-=1.5/r,e=n*t*t+.75):t<2.5/r?(t-=2.25/r,e=n*t*t+.9375):(t-=2.625/r,e=n*t*t+.984375),e}};ie.easeIn=ie["ease-in"]=ie["<"],ie.easeOut=ie["ease-out"]=ie[">"],ie.easeInOut=ie["ease-in-out"]=ie["<>"],ie["back-in"]=ie.backIn,ie["back-out"]=ie.backOut;var oe=[],ae=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},se=function ge(){for(var e=+new Date,n=0;n<oe.length;n++){var r=oe[n];if(!r.el.removed&&!r.paused){var i,o,a=e-r.start,s=r.ms,l=r.easing,u=r.from,c=r.diff,f=r.to,h=(r.t,r.el),d={},p={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*s,r.status=r.initstatus,delete r.initstatus,r.stop&&oe.splice(n--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/s))/r.anim.top,!(a<0))if(a<s){var g=l(a/s);for(var v in u)if(u[C](v)){switch(et[v]){case $:i=+u[v]+g*s*c[v];break;case"colour":i="rgb("+[le(K(u[v].r+g*s*c[v].r)),le(K(u[v].g+g*s*c[v].g)),le(K(u[v].b+g*s*c[v].b))].join(",")+")";break;case"path":i=[];for(var y=0,b=u[v].length;y<b;y++){i[y]=[u[v][y][0]];for(var x=1,w=u[v][y].length;x<w;x++)i[y][x]=+u[v][y][x]+g*s*c[v][y][x];i[y]=i[y].join(E)}i=i.join(E);break;case"transform":if(c[v].real)for(i=[],y=0,b=u[v].length;y<b;y++)for(i[y]=[u[v][y][0]],x=1,w=u[v][y].length;x<w;x++)i[y][x]=u[v][y][x]+g*s*c[v][y][x];else{var _=function(t){return+u[v][t]+g*s*c[v][t]};i=[["m",_(0),_(1),_(2),_(3),_(4),_(5)]]}break;case"csv":if("clip-rect"==v)for(i=[],y=4;y--;)i[y]=+u[v][y]+g*s*c[v][y];break;default:var k=[][N](u[v]);for(i=[],y=h.paper.customAttributes[v].length;y--;)i[y]=+k[y]+g*s*c[v][y]}d[v]=i}h.attr(d),function(t,e,n){setTimeout(function(){eve("raphael.anim.frame."+t,e,n)})}(h.id,h,r.anim)}else{if(function(e,n,r){setTimeout(function(){eve("raphael.anim.frame."+n.id,n,r),eve("raphael.anim.finish."+n.id,n,r),t.is(e,"function")&&e.call(n)})}(r.callback,h,r.anim),h.attr(f),oe.splice(n--,1),r.repeat>1&&!r.next){for(o in f)f[C](o)&&(p[o]=r.totalOrigin[o]);r.el.attr(p),m(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&m(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}t.svg&&h&&h.paper&&h.paper.safari(),oe.length&&ae(ge)},le=function(t){return t>255?255:t<0?0:t};Yt.animateWith=function(e,n,r,i,o,a){var s=this;if(s.removed)return a&&a.call(s),s;var l=r instanceof g?r:t.animation(r,i,o,a);m(l,s,l.percents[0],null,s.attr());for(var u=0,c=oe.length;u<c;u++)if(oe[u].anim==n&&oe[u].el==e){oe[c-1].start=oe[u].start;break}return s},Yt.onAnimation=function(t){return t?eve.on("raphael.anim.frame."+this.id,t):eve.unbind("raphael.anim.frame."+this.id),this},g.prototype.delay=function(t){var e=new g(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},g.prototype.repeat=function(t){var e=new g(this.anim,this.ms);return e.del=this.del,e.times=P.floor(B(t,0))||1,e},t.animation=function(e,n,r,i){if(e instanceof g)return e;!t.is(r,"function")&&r||(i=i||r||null,r=null),e=Object(e),n=+n||0;var o,a,s={};for(a in e)e[C](a)&&J(a)!=a&&J(a)+"%"!=a&&(o=!0,s[a]=e[a]);return o?(r&&(s.easing=r),i&&(s.callback=i),new g({100:s},n)):new g(e,n)},Yt.animate=function(e,n,r,i){var o=this;if(o.removed)return i&&i.call(o),o;var a=e instanceof g?e:t.animation(e,n,r,i);return m(a,o,a.percents[0],null,o.attr()),o},Yt.setTime=function(t,e){return t&&null!=e&&this.status(t,W(e,t.ms)/t.ms),this},Yt.status=function(t,e){var n,r,i=[],o=0;if(null!=e)return m(t,this,-1,W(e,1)),this;for(n=oe.length;o<n;o++)if(r=oe[o],r.el.id==this.id&&(!t||r.anim==t)){if(t)return r.status;i.push({anim:r.anim,status:r.status})}return t?0:i},Yt.pause=function(t){for(var e=0;e<oe.length;e++)oe[e].el.id!=this.id||t&&oe[e].anim!=t||eve("raphael.anim.pause."+this.id,this,oe[e].anim)!==!1&&(oe[e].paused=!0);return this},Yt.resume=function(t){for(var e=0;e<oe.length;e++)if(oe[e].el.id==this.id&&(!t||oe[e].anim==t)){var n=oe[e];eve("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Yt.stop=function(t){for(var e=0;e<oe.length;e++)oe[e].el.id!=this.id||t&&oe[e].anim!=t||eve("raphael.anim.stop."+this.id,this,oe[e].anim)!==!1&&oe.splice(e--,1);return this},eve.on("raphael.remove",v),eve.on("raphael.clear",v),Yt.toString=function(){return"Raphaël’s object"};var ue=function me(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Yt.constructor&&t[e].constructor!=me||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},ce=ue.prototype;ce.push=function(){for(var t,e,n=0,r=arguments.length;n<r;n++)t=arguments[n],!t||t.constructor!=Yt.constructor&&t.constructor!=ue||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},ce.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},ce.forEach=function(t,e){for(var n=0,r=this.items.length;n<r;n++)if(t.call(e,this.items[n],n)===!1)return this;return this};for(var fe in Yt)Yt[C](fe)&&(ce[fe]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t][M](n,e)})}}(fe));ce.attr=function(e,n){if(e&&t.is(e,V)&&t.is(e[0],"object"))for(var r=0,i=e.length;r<i;r++)this.items[r].attr(e[r]);else for(var o=0,a=this.items.length;o<a;o++)this.items[o].attr(e,n);return this},ce.clear=function(){for(;this.length;)this.pop()},ce.splice=function(t,e,n){t=t<0?B(this.length+t,0):t,e=B(0,W(this.length-t,e));var r,i=[],o=[],a=[];for(r=2;r<arguments.length;r++)a.push(arguments[r]);for(r=0;r<e;r++)o.push(this[t+r]);for(;r<this.length-t;r++)i.push(this[t+r]);var s=a.length;for(r=0;r<s+i.length;r++)this.items[t+r]=this[t+r]=r<s?a[r]:i[r-s];for(r=this.items.length=this.length-=e-s;this[r];)delete this[r++];return new ue(o)},ce.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},ce.animate=function(e,n,r,i){(t.is(r,"function")||!r)&&(i=r||null);var o,a,s=this.items.length,l=s,u=this;if(!s)return this;i&&(a=function(){!--s&&i.call(u)}),r=t.is(r,q)?r:a;var c=t.animation(e,n,r,a);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c);return this},ce.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},ce.getBBox=function(){for(var t=[],e=[],n=[],r=[],i=this.items.length;i--;)if(!this.items[i].removed){var o=this.items[i].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),r.push(o.y+o.height)}return t=W[M](0,t),e=W[M](0,e),n=B[M](0,n),r=B[M](0,r),{x:t,y:e,x2:n,y2:r,width:n-t,height:r-e}},ce.clone=function(t){t=new ue;for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},ce.toString=function(){return"Raphaël‘s set"},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var r in t.face)t.face[C](r)&&(e.face[r]=t.face[r]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg){e.face["units-per-em"]=Z(t.face["units-per-em"],10);for(var i in t.glyphs)if(t.glyphs[C](i)){var o=t.glyphs[i];if(e.glyphs[i]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},o.k)for(var a in o.k)o[C](a)&&(e.glyphs[i].k[a]=o.k[a])}}return t},b.getFont=function(e,n,r,i){if(i=i||"normal",r=r||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,t.fonts){var o=t.fonts[e];if(!o){var a=new RegExp("(^|\\s)"+e.replace(/[^\w\d\s+!~.:_-]/g,L)+"(\\s|$)","i");for(var s in t.fonts)if(t.fonts[C](s)&&a.test(s)){o=t.fonts[s];break}}var l;if(o)for(var u=0,c=o.length;u<c&&(l=o[u],l.face["font-weight"]!=n||l.face["font-style"]!=r&&l.face["font-style"]||l.face["font-stretch"]!=i);u++);return l}},b.print=function(e,n,r,i,o,a,s){a=a||"middle",s=B(W(s||0,1),-1);var l,u=D(r)[O](L),c=0,f=0,h=L;if(t.is(i,r)&&(i=this.getFont(i)),i){l=(o||16)/i.face["units-per-em"];for(var d=i.face.bbox[O](x),p=+d[0],g=d[3]-d[1],m=0,v=+d[1]+("baseline"==a?g+ +i.face.descent:g/2),y=0,b=u.length;y<b;y++){if("\n"==u[y])c=0,_=0,f=0,m+=g;else{var w=f&&i.glyphs[u[y-1]]||{},_=i.glyphs[u[y]];c+=f?(w.w||i.w)+(w.k&&w.k[u[y]]||0)+i.w*s:0,f=1}_&&_.d&&(h+=t.transformPath(_.d,["t",c*l,m*l,"s",l,l,p,v,"t",(e-p)/l,(n-v)/l]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},b.add=function(e){if(t.is(e,"array"))for(var n,r=this.set(),i=0,o=e.length;i<o;i++)n=e[i]||{},w[C](n.type)&&r.push(this[n.type]().attr(n));return r},t.format=function(e,n){var r=t.is(n,V)?[0][N](n):arguments;return e&&t.is(e,q)&&r.length-1&&(e=e.replace(_,function(t,e){return null==r[++e]?L:r[e]})),e||L},t.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,r){var i=r;return n.replace(e,function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))}),i=(null==i||i==r?t:i)+""};return function(e,r){return String(e).replace(t,function(t,e){return n(t,e,r)})}}(),t.ninja=function(){return t},t.st=ce,function(e,n,r){function i(){/in/.test(e.readyState)?setTimeout(i,9):t.eve("raphael.DOMload")}null==e.readyState&&e.addEventListener&&(e.addEventListener(n,r=function(){e.removeEventListener(n,r,!1),e.readyState="complete"},!1),e.readyState="loading"),i()}(document,"DOMContentLoaded"),S.was?k.win.Raphael=t:global.Raphael=t,eve.on("raphael.DOMload",function(){y=!0})}(),window.Raphael.svg&&function(t){var e="hasOwnProperty",n=String,r=parseFloat,i=parseInt,o=Math,a=o.max,s=o.abs,l=o.pow,u=/[, ]+/,c=t.eve,f="",h=" ",d="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},g={};t.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var m=function A(r,i){if(i){"string"==typeof r&&(r=A(r));for(var o in i)i[e](o)&&("xlink:"==o.substring(0,6)?r.setAttributeNS(d,o.substring(6),n(i[o])):r.setAttribute(o,n(i[o])))}else r=t._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},v=function(e,i){var u="linear",c=e.id+i,h=.5,d=.5,p=e.node,g=e.paper,v=p.style,y=t._g.doc.getElementById(c);if(!y){if(i=n(i).replace(t._radial_gradient,function(t,e,n){if(u="radial",e&&n){h=r(e),d=r(n);var i=2*(d>.5)-1;l(h-.5,2)+l(d-.5,2)>.25&&(d=o.sqrt(.25-l(h-.5,2))*i+.5)&&.5!=d&&(d=d.toFixed(5)-1e-5*i)}return f}),i=i.split(/\s*\-\s*/),"linear"==u){var b=i.shift();if(b=-r(b),isNaN(b))return null;var x=[0,0,o.cos(t.rad(b)),o.sin(t.rad(b))],w=1/(a(s(x[2]),s(x[3]))||1);x[2]*=w,x[3]*=w,x[2]<0&&(x[0]=-x[2],x[2]=0),x[3]<0&&(x[1]=-x[3],x[3]=0)}var _=t._parseDots(i);if(!_)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(g.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){y=m(u+"Gradient",{id:c}),e.gradient=y,m(y,"radial"==u?{fx:h,fy:d}:{x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientTransform:e.matrix.invert()}),g.defs.appendChild(y);for(var C=0,k=_.length;C<k;C++)y.appendChild(m("stop",{offset:_[C].offset?_[C].offset:C?"100%":"0%","stop-color":_[C].color||"#fff"}))}}return m(p,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=f,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);m(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},b=function(r,i,o){if("path"==r.type){for(var a,s,l,u,c,h=n(i).toLowerCase().split("-"),d=r.paper,v=o?"end":"start",y=r.node,b=r.attrs,x=b["stroke-width"],w=h.length,_="classic",C=3,k=3,S=5;w--;)switch(h[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=h[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==_?(C+=2,k+=2,S+=2,l=1,u=o?4:1,c={fill:"none",stroke:b.stroke}):(u=l=C/2,c={fill:b.stroke,stroke:"none"}),r._.arrows?o?(r._.arrows.endPath&&g[r._.arrows.endPath]--,r._.arrows.endMarker&&g[r._.arrows.endMarker]--):(r._.arrows.startPath&&g[r._.arrows.startPath]--,r._.arrows.startMarker&&g[r._.arrows.startMarker]--):r._.arrows={},"none"!=_){var T="raphael-marker-"+_,M="raphael-marker-"+v+_+C+k;t._g.doc.getElementById(T)?g[T]++:(d.defs.appendChild(m(m("path"),{"stroke-linecap":"round",d:p[_],id:T})),g[T]=1);var N,A=t._g.doc.getElementById(M);A?(g[M]++,N=A.getElementsByTagName("use")[0]):(A=m(m("marker"),{id:M,markerHeight:k,markerWidth:C,orient:"auto",refX:u,refY:k/2}),N=m(m("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+C/2+" "+k/2+") ":f)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),A.appendChild(N),d.defs.appendChild(A),g[M]=1),m(N,c);var L=l*("diamond"!=_&&"oval"!=_);o?(a=r._.arrows.startdx*x||0,s=t.getTotalLength(b.path)-L*x):(a=L*x,s=t.getTotalLength(b.path)-(r._.arrows.enddx*x||0)),c={},c["marker-"+v]="url(#"+M+")",(s||a)&&(c.d=Raphael.getSubpath(b.path,a,s)),m(y,c),r._.arrows[v+"Path"]=T,r._.arrows[v+"Marker"]=M,r._.arrows[v+"dx"]=L,r._.arrows[v+"Type"]=_,r._.arrows[v+"String"]=i}else o?(a=r._.arrows.startdx*x||0,s=t.getTotalLength(b.path)-a):(a=0,s=t.getTotalLength(b.path)-(r._.arrows.enddx*x||0)),r._.arrows[v+"Path"]&&m(y,{d:Raphael.getSubpath(b.path,a,s)}),delete r._.arrows[v+"Path"],delete r._.arrows[v+"Marker"],delete r._.arrows[v+"dx"],delete r._.arrows[v+"Type"],delete r._.arrows[v+"String"];for(c in g)if(g[e](c)&&!g[c]){var E=t._g.doc.getElementById(c);E&&E.parentNode.removeChild(E)}}},x={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},w=function(t,e,r){if(e=x[n(e).toLowerCase()]){for(var i=t.attrs["stroke-width"]||"1",o={round:i,square:i,butt:0}[t.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,a=[],s=e.length;s--;)a[s]=e[s]*i+(s%2?1:-1)*o;m(t.node,{"stroke-dasharray":a.join(",")})}},_=function(r,o){var l=r.node,c=r.attrs,h=l.style.visibility;l.style.visibility="hidden";for(var p in o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var g=o[p];switch(c[p]=g,p){case"blur":r.blur(g);break;case"href":case"title":case"target":var x=l.parentNode;if("a"!=x.tagName.toLowerCase()){var _=m("a");x.insertBefore(_,l),_.appendChild(l),x=_}"target"==p?x.setAttributeNS(d,"show","blank"==g?"new":g):x.setAttributeNS(d,p,g);break;case"cursor":l.style.cursor=g;break;case"transform":r.transform(g);break;case"arrow-start":b(r,g);break;case"arrow-end":b(r,g,1);break;case"clip-rect":var C=n(g).split(u);if(4==C.length){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var S=m("clipPath"),T=m("rect");S.id=t.createUUID(),m(T,{x:C[0],y:C[1],width:C[2],height:C[3]}),S.appendChild(T),r.paper.defs.appendChild(S),m(l,{"clip-path":"url(#"+S.id+")"}),r.clip=T}if(!g){var M=l.getAttribute("clip-path");if(M){var N=t._g.doc.getElementById(M.replace(/(^url\(#|\)$)/g,f));N&&N.parentNode.removeChild(N),m(l,{"clip-path":f}),delete r.clip}}break;case"path":"path"==r.type&&(m(l,{d:g?c.path=t._pathToAbsolute(g):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,g),r._.dirty=1,!c.fx)break;p="x",g=c.x;case"x":c.fx&&(g=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==r.type)break;case"cx":l.setAttribute(p,g),r.pattern&&y(r),r._.dirty=1;break;case"height":if(l.setAttribute(p,g),r._.dirty=1,!c.fy)break;p="y",g=c.y;case"y":c.fy&&(g=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==r.type)break;case"cy":l.setAttribute(p,g),r.pattern&&y(r),r._.dirty=1;break;case"r":"rect"==r.type?m(l,{rx:g,ry:g}):l.setAttribute(p,g),r._.dirty=1;break;case"src":"image"==r.type&&l.setAttributeNS(d,"href",g);break;case"stroke-width":1==r._.sx&&1==r._.sy||(g/=a(s(r._.sx),s(r._.sy))||1),r.paper._vbSize&&(g*=r.paper._vbSize),l.setAttribute(p,g),c["stroke-dasharray"]&&w(r,c["stroke-dasharray"],o),r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"stroke-dasharray":w(r,g,o);break;case"fill":var A=n(g).match(t._ISURL);if(A){S=m("pattern");var L=m("image");S.id=t.createUUID(),m(S,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),m(L,{x:0,y:0,"xlink:href":A[1]}),S.appendChild(L),function(e){t._preload(A[1],function(){var t=this.offsetWidth,n=this.offsetHeight;m(e,{width:t,height:n}),m(L,{width:t,height:n}),r.paper.safari()})}(S),r.paper.defs.appendChild(S),m(l,{fill:"url(#"+S.id+")"}),r.pattern=S,r.pattern&&y(r);break}var E=t.getRGB(g);if(E.error){if(("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g)){if("opacity"in c||"fill-opacity"in c){var D=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(D){var O=D.getElementsByTagName("stop");m(O[O.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=g,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&m(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&m(l,{"fill-opacity":c["fill-opacity"]});E[e]("opacity")&&m(l,{"fill-opacity":E.opacity>1?E.opacity/100:E.opacity});case"stroke":E=t.getRGB(g),l.setAttribute(p,E.hex),"stroke"==p&&E[e]("opacity")&&m(l,{"stroke-opacity":E.opacity>1?E.opacity/100:E.opacity}),"stroke"==p&&r._.arrows&&("startString"in r._.arrows&&b(r,r._.arrows.startString),"endString"in r._.arrows&&b(r,r._.arrows.endString,1));break;case"gradient":("circle"==r.type||"ellipse"==r.type||"r"!=n(g).charAt())&&v(r,g);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&m(l,{"stroke-opacity":g>1?g/100:g});case"fill-opacity":if(c.gradient){D=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)),D&&(O=D.getElementsByTagName("stop"),m(O[O.length-1],{"stop-opacity":g}));break}default:"font-size"==p&&(g=i(g,10)+"px");var F=p.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[F]=g,r._.dirty=1,l.setAttribute(p,g)}}k(r,o),l.style.visibility=h},C=1.2,k=function(r,o){if("text"==r.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var a=r.attrs,s=r.node,l=s.firstChild?i(t._g.doc.defaultView.getComputedStyle(s.firstChild,f).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(a.text=o.text;s.firstChild;)s.removeChild(s.firstChild);for(var u,c=n(o.text).split("\n"),h=[],d=0,p=c.length;d<p;d++)u=m("tspan"),d&&m(u,{dy:l*C,x:a.x}),u.appendChild(t._g.doc.createTextNode(c[d])),s.appendChild(u),h[d]=u}else for(h=s.getElementsByTagName("tspan"),d=0,p=h.length;d<p;d++)d?m(h[d],{dy:l*C,x:a.x}):m(h[0],{dy:0});m(s,{x:a.x,y:a.y}),r._.dirty=1;var g=r._getBBox(),v=a.y-(g.y+g.height/2);v&&t.is(v,"finite")&&m(h[0],{dy:v})}},S=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},T=t.el;S.prototype=T,T.constructor=S,t._engine.path=function(t,e){var n=m("path");e.canvas&&e.canvas.appendChild(n);var r=new S(n,e);return r.type="path",_(r,{fill:"none",stroke:"#000",path:t}),r},T.rotate=function(t,e,i){if(this.removed)return this;if(t=n(t).split(u),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,i]])),this},T.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(u),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3])),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this},T.translate=function(t,e){return this.removed?this:(t=n(t).split(u),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},T.transform=function(n){var r=this._;if(null==n)return r.transform;if(t._extractTransform(this,n),this.clip&&m(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&m(this.node,{transform:this.matrix}),1!=r.sx||1!=r.sy){var i=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":i})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var e=this.paper;e.__set__&&e.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&e.defs.removeChild(this.gradient),t._tear(this,e),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var n in this)this[n]="function"==typeof this[n]?t._removedFactory(n):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(n){}finally{e=e||{}}return t&&this.hide(),e},T.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var a=n.split(u),s={},l=0,f=a.length;l<f;l++)n=a[l],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return f-1?s:s[a[0]]}if(null==r&&t.is(n,"array")){for(s={},l=0,f=n.length;l<f;l++)s[n[l]]=this.attr(n[l]);return s}if(null!=r){var h={};h[n]=r}else null!=n&&t.is(n,"object")&&(h=n);for(var d in h)c("raphael.attr."+d+"."+this.id,this,h[d]);for(d in this.paper.customAttributes)if(this.paper.customAttributes[e](d)&&h[e](d)&&t.is(this.paper.customAttributes[d],"function")){var p=this.paper.customAttributes[d].apply(this,[].concat(h[d]));this.attrs[d]=h[d];for(var g in p)p[e](g)&&(h[g]=p[g])}return _(this,h),this},T.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var e=this.paper;return e.top!=this&&t._tofront(this,e),this},T.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper);this.paper;return this},T.insertAfter=function(e){if(this.removed)return this;var n=e.node||e[e.length-1].node;return n.nextSibling?n.parentNode.insertBefore(this.node,n.nextSibling):n.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this},T.insertBefore=function(e){if(this.removed)return this;var n=e.node||e[0].node;return n.parentNode.insertBefore(this.node,n),t._insertbefore(this,e,this.paper),this},T.blur=function(e){var n=this;if(0!==+e){var r=m("filter"),i=m("feGaussianBlur");n.attrs.blur=e,r.id=t.createUUID(),m(i,{stdDeviation:+e||1.5}),r.appendChild(i),n.paper.defs.appendChild(r),n._blur=r,m(n.node,{filter:"url(#"+r.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter")},t._engine.circle=function(t,e,n,r){var i=m("circle");t.canvas&&t.canvas.appendChild(i);var o=new S(i,t);return o.attrs={cx:e,cy:n,r:r,fill:"none",stroke:"#000"},o.type="circle",m(i,o.attrs),o},t._engine.rect=function(t,e,n,r,i,o){var a=m("rect");t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={x:e,y:n,width:r,height:i,r:o||0,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},s.type="rect",m(a,s.attrs),s},t._engine.ellipse=function(t,e,n,r,i){var o=m("ellipse");t.canvas&&t.canvas.appendChild(o);var a=new S(o,t);return a.attrs={cx:e,cy:n,rx:r,ry:i,fill:"none",stroke:"#000"},a.type="ellipse",m(o,a.attrs),a},t._engine.image=function(t,e,n,r,i,o){var a=m("image");m(a,{x:n,y:r,width:i,height:o,preserveAspectRatio:"none"}),a.setAttributeNS(d,"href",e),t.canvas&&t.canvas.appendChild(a);var s=new S(a,t);return s.attrs={x:n,y:r,width:i,height:o,src:e},s.type="image",s},t._engine.text=function(e,n,r,i){var o=m("text");e.canvas&&e.canvas.appendChild(o);var a=new S(o,e);return a.attrs={x:n,y:r,"text-anchor":"middle",text:i,font:t._availableAttrs.font,stroke:"none",fill:"#000"},a.type="text",_(a,a.attrs),a},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,r=e.x,i=e.y,o=e.width,a=e.height;if(!n)throw new Error("SVG container not found.");var s,l=m("svg"),u="overflow:hidden;";return r=r||0,i=i||0,o=o||512,a=a||342,m(l,{height:a,version:1.1,width:o,xmlns:"http://www.w3.org/2000/svg"}),1==n?(l.style.cssText=u+"position:absolute;left:"+r+"px;top:"+i+"px",t._g.doc.body.appendChild(l),s=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),n=new t._Paper,n.width=o,n.height=a,n.canvas=l,n.clear(),n._left=n._top=0,s&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,r,i){c("raphael.setViewBox",this,this._viewBox,[t,e,n,r,i]);var o,s,l=a(n/this.width,r/this.height),u=this.top,f=i?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,o="0 0 "+this.width+h+this.height):(this._vbSize=l,o=t+h+e+h+n+h+r),m(this.canvas,{viewBox:o,preserveAspectRatio:f});l&&u;)s="stroke-width"in u.attrs?u.attrs["stroke-width"]:1,
u.attr({"stroke-width":s}),u._.dirty=1,u._.dirtyT=1,u=u.prev;return this._viewBox=[t,e,n,r,!!i],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(r){t=e.createSVGMatrix()}var i=-t.e%1,o=-t.f%1;(i||o)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),o&&(this._top=(this._top+o)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=m("desc")).appendChild(t._g.doc.createTextNode("Created with Raphaël "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=m("defs"))},t.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var M=t.st;for(var N in T)T[e](N)&&!M[e](N)&&(M[N]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(N))}(window.Raphael),window.Raphael.vml&&function(t){var e="hasOwnProperty",n=String,r=parseFloat,i=Math,o=i.round,a=i.max,s=i.min,l=i.abs,u="fill",c=/[, ]+/,f=t.eve,h=" progid:DXImageTransform.Microsoft",d=" ",p="",g={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,b="position:absolute;left:0;top:0;width:1px;height:1px",x=21600,w={path:1,rect:1,image:1},_={circle:1,ellipse:1},C=function(e){var r=/[ahqstv]/gi,i=t._pathToAbsolute;if(n(e).match(r)&&(i=t._path2curve),r=/[clmz]/g,i==t._pathToAbsolute&&!n(e).match(r)){var a=n(e).replace(m,function(t,e,n){var r=[],i="m"==e.toLowerCase(),a=g[e];return n.replace(y,function(t){i&&2==r.length&&(a+=r+g["m"==e?"l":"L"],r=[]),r.push(o(t*x))}),a+r});return a}var s,l,u=i(e);a=[];for(var c=0,f=u.length;c<f;c++){s=u[c],l=u[c][0].toLowerCase(),"z"==l&&(l="x");for(var h=1,v=s.length;h<v;h++)l+=o(s[h]*x)+(h!=v-1?",":p);a.push(l)}return a.join(d)},k=function(e,n,r){var i=t.matrix();return i.rotate(-e,.5,.5),{dx:i.x(n,r),dy:i.y(n,r)}},S=function(t,e,n,r,i,o){var a=t._,s=t.matrix,c=a.fillpos,f=t.node,h=f.style,p=1,g="",m=x/e,v=x/n;if(h.visibility="hidden",e&&n){if(f.coordsize=l(m)+d+l(v),h.rotation=o*(e*n<0?-1:1),o){var y=k(o,r,i);r=y.dx,i=y.dy}if(e<0&&(g+="x"),n<0&&(g+=" y")&&(p=-1),h.flip=g,f.coordorigin=r*-m+d+i*-v,c||a.fillsize){var b=f.getElementsByTagName(u);b=b&&b[0],f.removeChild(b),c&&(y=k(o,s.x(c[0],c[1]),s.y(c[0],c[1])),b.position=y.dx*p+d+y.dy*p),a.fillsize&&(b.size=a.fillsize[0]*l(e)+d+a.fillsize[1]*l(n)),f.appendChild(b)}h.visibility="visible"}};t.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var T=function(t,e,r){for(var i=n(e).toLowerCase().split("-"),o=r?"end":"start",a=i.length,s="classic",l="medium",u="medium";a--;)switch(i[a]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=i[a];break;case"wide":case"narrow":u=i[a];break;case"long":case"short":l=i[a]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=s,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},M=function(i,l){i.attrs=i.attrs||{};var f=i.node,h=i.attrs,g=f.style,m=w[i.type]&&(l.x!=h.x||l.y!=h.y||l.width!=h.width||l.height!=h.height||l.cx!=h.cx||l.cy!=h.cy||l.rx!=h.rx||l.ry!=h.ry||l.r!=h.r),v=_[i.type]&&(h.cx!=l.cx||h.cy!=l.cy||h.r!=l.r||h.rx!=l.rx||h.ry!=l.ry),y=i;for(var b in l)l[e](b)&&(h[b]=l[b]);if(m&&(h.path=t._getPath[i.type](i),i._.dirty=1),l.href&&(f.href=l.href),l.title&&(f.title=l.title),l.target&&(f.target=l.target),l.cursor&&(g.cursor=l.cursor),"blur"in l&&i.blur(l.blur),(l.path&&"path"==i.type||m)&&(f.path=C(~n(h.path).toLowerCase().indexOf("r")?t._pathToAbsolute(h.path):h.path),"image"==i.type&&(i._.fillpos=[h.x,h.y],i._.fillsize=[h.width,h.height],S(i,1,1,0,0,0))),"transform"in l&&i.transform(l.transform),v){var k=+h.cx,M=+h.cy,A=+h.rx||+h.r||0,L=+h.ry||+h.r||0;f.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((k-A)*x),o((M-L)*x),o((k+A)*x),o((M+L)*x),o(k*x))}if("clip-rect"in l){var D=n(l["clip-rect"]).split(c);if(4==D.length){D[2]=+D[2]+ +D[0],D[3]=+D[3]+ +D[1];var O=f.clipRect||t._g.doc.createElement("div"),F=O.style;F.clip=t.format("rect({1}px {2}px {3}px {0}px)",D),f.clipRect||(F.position="absolute",F.top=0,F.left=0,F.width=i.paper.width+"px",F.height=i.paper.height+"px",f.parentNode.insertBefore(O,f),O.appendChild(f),f.clipRect=O)}l["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(i.textpath){var z=i.textpath.style;l.font&&(z.font=l.font),l["font-family"]&&(z.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,p)+'"'),l["font-size"]&&(z.fontSize=l["font-size"]),l["font-weight"]&&(z.fontWeight=l["font-weight"]),l["font-style"]&&(z.fontStyle=l["font-style"])}if("arrow-start"in l&&T(y,l["arrow-start"]),"arrow-end"in l&&T(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var R=f.getElementsByTagName(u),P=!1;if(R=R&&R[0],!R&&(P=R=E(u)),"image"==i.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),null!=R.on&&"none"!=l.fill&&null!==l.fill||(R.on=!1),R.on&&l.fill){var B=n(l.fill).match(t._ISURL);if(B){R.parentNode==f&&f.removeChild(R),R.rotate=!0,R.src=B[1],R.type="tile";var W=i.getBBox(1);R.position=W.x+d+W.y,i._.fillpos=[W.x,W.y],t._preload(B[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})}else R.color=t.getRGB(l.fill).hex,R.src=p,R.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&N(y,l.fill,R)&&(h.fill="none",h.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var I=((+h["fill-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);I=s(a(I,0),1),R.opacity=I,R.src&&(R.color="none")}f.appendChild(R);var H=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],j=!1;!H&&(j=H=E("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(H.on=!0),("none"==l.stroke||null===l.stroke||null==H.on||0==l.stroke||0==l["stroke-width"])&&(H.on=!1);var $=t.getRGB(l.stroke);H.on&&l.stroke&&(H.color=$.hex),I=((+h["stroke-opacity"]+1||2)-1)*((+h.opacity+1||2)-1)*((+$.o+1||2)-1);var q=.75*(r(l["stroke-width"])||1);if(I=s(a(I,0),1),null==l["stroke-width"]&&(q=h["stroke-width"]),l["stroke-width"]&&(H.weight=q),q&&q<1&&(I*=q)&&(H.weight=1),H.opacity=I,l["stroke-linejoin"]&&(H.joinstyle=l["stroke-linejoin"]||"miter"),H.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(H.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};H.dashstyle=V[e](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:p}j&&f.appendChild(H)}if("text"==y.type){y.paper.canvas.style.display=p;var U=y.paper.span,X=100,G=h.font&&h.font.match(/\d+(?:\.\d*)?(?=px)/);g=U.style,h.font&&(g.font=h.font),h["font-family"]&&(g.fontFamily=h["font-family"]),h["font-weight"]&&(g.fontWeight=h["font-weight"]),h["font-style"]&&(g.fontStyle=h["font-style"]),G=r(h["font-size"]||G&&G[0])||10,g.fontSize=G*X+"px",y.textpath.string&&(U.innerHTML=n(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=U.getBoundingClientRect();y.W=h.w=(Y.right-Y.left)/X,y.H=h.h=(Y.bottom-Y.top)/X,y.X=h.x,y.Y=h.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",o(h.x*x),o(h.y*x),o(h.x*x)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],J=0,Z=K.length;J<Z;J++)if(K[J]in l){y._.dirty=1;break}switch(h["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},N=function(e,o,a){e.attrs=e.attrs||{};var s=(e.attrs,Math.pow),l="linear",u=".5 .5";if(e.attrs.gradient=o,o=n(o).replace(t._radial_gradient,function(t,e,n){return l="radial",e&&n&&(e=r(e),n=r(n),s(e-.5,2)+s(n-.5,2)>.25&&(n=i.sqrt(.25-s(e-.5,2))*(2*(n>.5)-1)+.5),u=e+d+n),p}),o=o.split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-r(c),isNaN(c))return null}var f=t._parseDots(o);if(!f)return null;if(e=e.shape||e.node,f.length){e.removeChild(a),a.on=!0,a.method="none",a.color=f[0].color,a.color2=f[f.length-1].color;for(var h=[],g=0,m=f.length;g<m;g++)f[g].offset&&h.push(f[g].offset+d+f[g].color);a.colors=h.length?h.join():"0% "+a.color,"radial"==l?(a.type="gradientTitle",a.focus="100%",a.focussize="0 0",a.focusposition=u,a.angle=0):(a.type="gradient",a.angle=(270-c)%360),e.appendChild(a)}return 1},A=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},L=t.el;A.prototype=L,L.constructor=A,L.transform=function(e){if(null==e)return this._.transform;var r,i=this.paper._viewBoxShift,o=i?"s"+[i.scale,i.scale]+"-1-1t"+[i.dx,i.dy]:p;i&&(r=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||p)),t._extractTransform(this,o+e);var a,s=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),f=!n(this.attrs.fill).indexOf("url(");if(s.translate(-.5,-.5),f||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",a=s.split(),c&&a.noRotation||!a.isSimple){u.style.filter=s.toFilter();var h=this.getBBox(),g=this.getBBox(1),m=h.x-g.x,v=h.y-g.y;u.coordorigin=m*-x+d+v*-x,S(this,1,1,m,v,0)}else u.style.filter=p,S(this,a.scalex,a.scaley,a.dx,a.dy,a.rotate);else u.style.filter=p,l.matrix=n(s),l.offset=s.offset();return r&&(this._.transform=r),this},L.rotate=function(t,e,i){if(this.removed)return this;if(null!=t){if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2])),t=r(t[0]),null==i&&(e=i),null==e||null==i){var o=this.getBBox(1);e=o.x+o.width/2,i=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,i]])),this}},L.translate=function(t,e){return this.removed?this:(t=n(t).split(c),t.length-1&&(e=r(t[1])),t=r(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},L.scale=function(t,e,i,o){if(this.removed)return this;if(t=n(t).split(c),t.length-1&&(e=r(t[1]),i=r(t[2]),o=r(t[3]),isNaN(i)&&(i=null),isNaN(o)&&(o=null)),t=r(t[0]),null==e&&(e=t),null==o&&(i=o),null==i||null==o)var a=this.getBBox(1);return i=null==i?a.x+a.width/2:i,o=null==o?a.y+a.height/2:o,this.transform(this._.transform.concat([["s",t,e,i,o]])),this._.dirtyT=1,this},L.hide=function(){return!this.removed&&(this.node.style.display="none"),this},L.show=function(){return!this.removed&&(this.node.style.display=p),this},L._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},L.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},L.attr=function(n,r){if(this.removed)return this;if(null==n){var i={};for(var o in this.attrs)this.attrs[e](o)&&(i[o]=this.attrs[o]);return i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i.transform=this._.transform,i}if(null==r&&t.is(n,"string")){if(n==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var a=n.split(c),s={},l=0,h=a.length;l<h;l++)n=a[l],n in this.attrs?s[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?s[n]=this.paper.customAttributes[n].def:s[n]=t._availableAttrs[n];return h-1?s:s[a[0]]}if(this.attrs&&null==r&&t.is(n,"array")){for(s={},l=0,h=n.length;l<h;l++)s[n[l]]=this.attr(n[l]);return s}var d;null!=r&&(d={},d[n]=r),null==r&&t.is(n,"object")&&(d=n);for(var p in d)f("raphael.attr."+p+"."+this.id,this,d[p]);if(d){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&d[e](p)&&t.is(this.paper.customAttributes[p],"function")){var g=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var m in g)g[e](m)&&(d[m]=g[m])}d.text&&"text"==this.type&&(this.textpath.string=d.text),M(this,d)}return this},L.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},L.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},L.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},L.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},L.blur=function(e){var n=this.node.runtimeStyle,r=n.filter;r=r.replace(v,p),0!==+e?(this.attrs.blur=e,n.filter=r+d+h+".Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=r,n.margin=0,delete this.attrs.blur)},t._engine.path=function(t,e){var n=E("shape");n.style.cssText=b,n.coordsize=x+d+x,n.coordorigin=e.coordorigin;var r=new A(n,e),i={fill:"none",stroke:"#000"};t&&(i.path=t),r.type="path",r.path=[],r.Path=p,M(r,i),e.canvas.appendChild(n);var o=E("skew");return o.on=!0,n.appendChild(o),r.skew=o,r.transform(p),r},t._engine.rect=function(e,n,r,i,o,a){var s=t._rectPath(n,r,i,o,a),l=e.path(s),u=l.attrs;return l.X=u.x=n,l.Y=u.y=r,l.W=u.width=i,l.H=u.height=o,u.r=a,u.path=s,l.type="rect",l},t._engine.ellipse=function(t,e,n,r,i){var o=t.path();o.attrs;return o.X=e-r,o.Y=n-i,o.W=2*r,o.H=2*i,o.type="ellipse",M(o,{cx:e,cy:n,rx:r,ry:i}),o},t._engine.circle=function(t,e,n,r){var i=t.path();i.attrs;return i.X=e-r,i.Y=n-r,i.W=i.H=2*r,i.type="circle",M(i,{cx:e,cy:n,r:r}),i},t._engine.image=function(e,n,r,i,o,a){var s=t._rectPath(r,i,o,a),l=e.path(s).attr({stroke:"none"}),c=l.attrs,f=l.node,h=f.getElementsByTagName(u)[0];return c.src=n,l.X=c.x=r,l.Y=c.y=i,l.W=c.width=o,l.H=c.height=a,c.path=s,l.type="image",h.parentNode==f&&f.removeChild(h),h.rotate=!0,h.src=n,h.type="tile",l._.fillpos=[r,i],l._.fillsize=[o,a],f.appendChild(h),S(l,1,1,0,0,0),l},t._engine.text=function(e,r,i,a){var s=E("shape"),l=E("path"),u=E("textpath");r=r||0,i=i||0,a=a||"",l.v=t.format("m{0},{1}l{2},{1}",o(r*x),o(i*x),o(r*x)+1),l.textpathok=!0,u.string=n(a),u.on=!0,s.style.cssText=b,s.coordsize=x+d+x,s.coordorigin="0 0";var c=new A(s,e),f={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:a};c.shape=s,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(a),c.attrs.x=r,c.attrs.y=i,c.attrs.w=1,c.attrs.h=1,M(c,f),s.appendChild(u),s.appendChild(l),e.canvas.appendChild(s);var h=E("skew");return h.on=!0,s.appendChild(h),c.skew=h,c.transform(p),c},t._engine.setSize=function(e,n){var r=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),r.width=e,r.height=n,r.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,r,i,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,r,i,o]);var s,l,u=this.width,c=this.height,f=1/a(r/u,i/c);return o&&(s=c/i,l=u/r,r*s<u&&(e-=(u-r*s)/2/s),i*l<c&&(n-=(c-i*l)/2/l)),this._viewBox=[e,n,r,i,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:f},this.forEach(function(t){t.transform("...")}),this};var E;t._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),E=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(n){E=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,r=e.height,i=e.width,o=e.x,a=e.y;if(!n)throw new Error("VML container not found.");var s=new t._Paper,l=s.canvas=t._g.doc.createElement("div"),u=l.style;return o=o||0,a=a||0,i=i||512,r=r||342,s.width=i,s.height=r,i==+i&&(i+="px"),r==+r&&(r+="px"),s.coordsize=1e3*x+d+1e3*x,s.coordorigin="0 0",s.span=t._g.doc.createElement("span"),s.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(s.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",i,r),1==n?(t._g.doc.body.appendChild(l),u.left=o+"px",u.top=a+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),s.renderfix=function(){},s},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=p,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var D=t.st;for(var O in L)L[e](O)&&!D[e](O)&&(D[O]=function(t){return function(){var e=arguments;return this.forEach(function(n){n[t].apply(n,e)})}}(O))}(window.Raphael),function(){var t=function n(){return this instanceof n?(this._callbacks={},void(this._fired={})):new n};t.prototype.addListener=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(e),this},t.prototype.bind=t.prototype.addListener,t.prototype.on=t.prototype.addListener,t.prototype.await=t.prototype.addListener,t.prototype.removeListener=function(t,e){var n,r,i=this._callbacks;if(t){if(i)if(e){var o=i[t];if(!o)return this;for(r=o.length,n=0;n<r;n++)if(e===o[n]){o[n]=null;break}}else i[t]=[]}else this._callbacks={};return this},t.prototype.unbind=t.prototype.removeListener,t.prototype.removeAllListeners=function(t){return this.unbind(t)},t.prototype.trigger=function(t,e){var n,r,i,o,a,s,l,u=2;if(!(r=this._callbacks))return this;for(;u--;)if(i=u?t:"all",n=r[i])for(s=0,l=n.length;s<l;s++)(o=n[s])?(a=u?Array.prototype.slice.call(arguments,1):arguments,o.apply(this,a)):(n.splice(s,1),s--,l--);return this},t.prototype.emit=t.prototype.trigger,t.prototype.fire=t.prototype.trigger,t.prototype.once=function(t,e){var n=this,r=function i(){e.apply(n,arguments),n.unbind(t,i)};return this.bind(t,r),this},t.prototype.immediate=function(t,e,n){return this.bind(t,e),this.trigger(t,n),this};var e=function(t,e,n,r){var i,o,a,s,l,u,c=this,f=0,h=arguments.length,d=0,p={};if(h<3)return this;if(l=Array.prototype.slice.apply(arguments,[0,h-2]),s=arguments[h-2],u=arguments[h-1],"function"!=typeof s)return this;for(i=l.length,o=function(t){var e=u?"once":"bind";c[e](t,function(e){c._fired[t]=c._fired[t]||{},c._fired[t].data=e,p[t]||(p[t]=!0,d++)})},f=0;f<i;f++)o(l[f]);a=function(){if(!(d<i)){var t=[];for(f=0;f<i;f++)t.push(c._fired[l[f]].data);u&&c.unbind("all",a),s.apply(null,t)}},c.bind("all",a)};t.prototype.all=function(t,n,r){var i=Array.prototype.concat.apply([],arguments);return i.push(!0),e.apply(this,i),this},t.prototype.assign=t.prototype.all,t.prototype.tail=function(){var t=Array.prototype.concat.apply([],arguments);return t.push(!1),e.apply(this,t),this},t.prototype.assignAll=t.prototype.tail,t.prototype.assignAlways=t.prototype.tail,t.prototype.after=function(t,e,n){if(0===e)return n.call(null,[]),this;var r,i=this,o=[];return r=function(a,s){a===t&&(e--,o.push(s),e<1&&(i.unbind("all",r),n.apply(null,[o])))},i.bind("all",r),this},t.prototype.any=function(){var t,e,n=this,r=arguments.length,i=arguments[r-1],o=Array.prototype.slice.apply(arguments,[0,r-1]),a=o.length,s=o.join("_");for(n.once(s,i),e=function(t){n.bind(t,function(e){n.trigger(s,{data:e,eventName:t})})},t=0;t<a;t++)e(o[t])},t.prototype.not=function(t,e){var n=this;n.bind("all",function(n,r){n!==t&&e(r)})},t.create=function(){var e=new t;return arguments.length&&e.assign.apply(e,Array.prototype.slice.call(arguments)),e},exports.EventProxy=t}();var DataV=function(){};DataV.version="0.0.1",DataV.Themes={},DataV.Themes["default"]=DataV.Themes.theme0={COLOR_ARGS:[["#3dc6f4","#8ce3ff"],["#214fd9","#7396ff"],["#4f21d9","#9673ff"],["#c43df2","#e38cff"],["#d8214f","#ff7396"],["#f3c53c","#ffe38c"]]},DataV.Themes.theme1={COLOR_ARGS:[["#e72e8b","#ff7fbf"],["#d94f21","#ff9673"],["#f3c53c","#ffe38c"],["#8be62f","#bfff7f"],["#14cc14","#66ff66"],["#2fe68a","#7fffc0"]]},DataV.Themes.theme2={COLOR_ARGS:[["#2f8ae7","#7fc0ff"],["#8a2ee7","#bf7fff"],["#f33dc6","#ff8ce3"],["#8be62f","#bfff7f"],["#14cc14","#66ff66"],["#2fe68a","#7fffc0"]]},DataV.Themes.theme3={COLOR_ARGS:[["#2f8ae7","#896DA3"],["#8e34df","#FFADA6"],["#f738c0","#65FCFC"],["#84e653","#555566"],["#0cc53e","#db3f7c"],["#00e793s","#db3f7c"]]},DataV.Themes.theme4={COLOR_ARGS:[["#d94f21","#7a88d1"],["#579ce2","#87bdf4"],["#3bb4df","#7fd1ef"],["#a380ff","#baa0ff"],["#a164c5","#c28fe1"],["#d93a92","#ec74b6"],["#b82377","#d569a7"],["#bb3ca3","#d381c2"],["#da2d57","#ec6b8a"],["#4ca716","#4ca716"],["#5b63c2","#8e93d7"],["#15a9a3","#4ecac5"],["#a9ab48","#e8c670"],["#2aa5f5","#73c4fa"],["#f67e10","#feb648"],["#1faa77","#62c8a2"],["#eb4f20","#f58563"],["#ffc000","#ffd659"],["#f16ebc","#f6a1d3"],["#d23457","#e27b92"]]},DataV.Themes.current="default",DataV.Themes._currentTheme=null,DataV.Themes.get=function(t){return DataV.Themes._currentTheme||(DataV.Themes._currentTheme=DataV.Themes[DataV.Themes.current]),DataV.Themes._currentTheme[t]||DataV.Themes["default"][t]},DataV.Themes.set=function(t,e){if(arguments.length<2)throw new Error("Arguments format error. should be: (themsName, theme)");if("object"!==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e)))throw new Error("second argument theme should be a json object");if(!e.COLOR_ARGS)throw new Error("theme.COLOR_ARGS needed");if(!e.COLOR_ARGS instanceof Array)throw new Error("theme.COLOR_ARGS should be an array");if(!(e.COLOR_ARGS[0]instanceof Array))throw new Error("theme.COLOR_ARGS[0] should be an array");DataV.Themes[t]=e},DataV.changeTheme=function(t){var e=DataV.Themes[t];return e&&(DataV.Themes.current=t,DataV.Themes._currentTheme=null),!!e},DataV.getColor=function(){var t=DataV.Themes,e=t.get("COLOR_ARGS");return e},DataV.getDiscreteColor=function(){var t=DataV.Themes,e=t.get("COLOR_ARGS");if(e.constructor!==Array)throw new Error("The color should be Array");var n=(e.length,[]);if(e[0]===Array){var r;for(r=0;r<colorLineCount;r++)getColor.push(e[r][0])}else n=e;return function(t){var e=n;return e[t%thisolorCount]}},DataV.gradientColor=function(t,e){if(t.constructor!==Array)throw new Error("The color should be Array");var n,r,i=t[0],o=t.length;return 1===o?(n=Raphael.color(t[0]),r=Raphael.hsb(n.h/360,(n.s-30)/100,1)):r=t[o-1],e=e||"normal ","special"===e?function(t){var e,n,a=Raphael.color(i),s=Raphael.color(r),l=360*a.h,u=360*s.h,c=20*a.h,f=20*s.h;c>=f?(e=360-l+u,n=o-c+f):(e=u-l,n=f-c);var h=(l+e*t)/360,d=(70+5*Math.abs(4-(c+n*t)%8))/100,p=(100-5*Math.abs(4-(c+n*t)%8))/100;return Raphael.hsb(h,d,p)}:d3.interpolateRgb.apply(null,[i,r])},DataV.json=function(t,e){d3.json(t,e)},DataV.csv=function(t,e){d3.text(t,"text/csv",function(t){e(t&&d3.csv.parseRows(t))})};var Chart=function(){this.type="Chart"};Chart.prototype.getType=function(){return this.type},DataV.Chart=Chart,DataV.extend=function(t,e){"function"!=typeof t&&(e=t,t=function(){}),e=e||{};var n=function(){t.apply(this,arguments),this.constructor===t&&this.initialize&&this.initialize.apply(this,arguments)};return n.prototype=new t,n.prototype.constructor=t,_jquery2["default"].extend(n.prototype,e),n};var Axis=function(){function t(t){var p=n.ticks?n.ticks.apply(n,l):n.domain(),g=void 0===e?n.tickFormat?n.tickFormat.apply(n,l):String:e,m=d3_svg_axisSubdivide(n,p,u),v=d3_scaleRange(n),y=t.set();switch(r){case"bottom":m.forEach(function(e,r,i){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+a+","+o+"V0").attr(h))}),p.forEach(function(e,r,o){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+a+","+i+"V0").attr(c)),y.push(t.text(a,Math.max(i,0)+s+2,"function"==typeof g?g(e):g).attr({"text-anchor":"middle"}).attr(f))}),y.push(t.path("M"+v[0]+","+a+"V0H"+v[1]+"V"+a).attr(d));break;case"top":m.forEach(function(e,r,i){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+a+","+-o+"V0").attr(h))}),p.forEach(function(e,r,o){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+a+","+-i+"V0").attr(c)),y.push(t.text(a,-(Math.max(i,0)+s+2),"function"==typeof g?g(e):g).attr({"text-anchor":"middle"}).attr(f))}),y.push(t.path("M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a).attr(d));break;case"left":m.forEach(function(e,r,i){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+-o+","+a+"H0").attr(h))}),p.forEach(function(e,r,o){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+-i+","+a+"H0").attr(c)),y.push(t.text(-(Math.max(i,0)+s),a,"function"==typeof g?g(e):g).attr({"text-anchor":"end"}).attr(f))}),y.push(t.path("M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a).attr(d));break;case"right":m.forEach(function(e,r,i){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+o+","+a+"H0").attr(h))}),p.forEach(function(e,r,o){var a=n.ticks?n(e):n(e)+n.rangeBand()/2;y.push(t.path("M"+i+","+a+"H0").attr(c)),y.push(t.text(Math.max(i,0)+s,a,"function"==typeof g?g(e):g).attr({"text-anchor":"start"}).attr(f))}),y.push(t.path("M"+a+","+v[0]+"H0V"+v[1]+"H"+a).attr(d))}return y}var e,n=d3.scale.linear(),r="bottom",i=6,o=6,a=6,s=3,l=[10],u=0,c={},f={},h={},d={};return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e,t):r},t.ticks=function(){return arguments.length?(l=arguments,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e,n,r){if(!arguments.length)return i;var s=arguments.length-1;return i=+e,o=s>1?+n:i,a=s>0?+arguments[s]:i,t},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(e){return arguments.length?(u=+e,t):u},t.tickAttr=function(e){return arguments.length?(c=e,t):c},t.tickTextAttr=function(e){return arguments.length?(f=e,t):f},t.minorTickAttr=function(e){return arguments.length?(h=e,t):h},t.domainAttr=function(e){return arguments.length?(d=e,t):d},t};DataV.Axis=Axis;var d3_svg_brush,d3_svg_brushDispatch,d3_svg_brushTarget,d3_svg_brushX,d3_svg_brushY,d3_svg_brushExtent,d3_svg_brushDrag,d3_svg_brushResize,d3_svg_brushCenter,d3_svg_brushOffset,d3_svg_brushEls,d3_svg_brushCursor={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vml_brushCursor={n:"row-resize",e:"col-resize",s:"row-resize",w:"col-resize",nw:"all-scroll",ne:"all-scroll",se:"all-scroll",sw:"all-scroll"},Brush=function(){function t(t){var i,o=t.target;d3_svg_brush=e,d3_svg_brushTarget=(0,_jquery2["default"])(p.paper.canvas).parent(),d3_svg_brushExtent=f,i=(0,_jquery2["default"])(d3_svg_brushTarget).offset(),d3_svg_brushOffset=[t.pageX-i.left,t.pageY-i.top],d3_svg_brushEls=p,d3_svg_brushDrag="fg"===o.__brushNodeType__,d3_svg_brushDrag?(d3_svg_brushOffset[0]=f[0][0]-d3_svg_brushOffset[0],d3_svg_brushOffset[1]=f[0][1]-d3_svg_brushOffset[1]):/^resize/.test(o.__brushNodeType__)?(d3_svg_brushResize=o.__brushNodeType__.split("_")[1],d3_svg_brushOffset[0]=f[+/w$/.test(d3_svg_brushResize)][0],d3_svg_brushOffset[1]=f[+/^n/.test(d3_svg_brushResize)][1]):t.altKey&&(d3_svg_brushCenter=d3_svg_brushOffset.slice()),d3_svg_brushX=!/^(n|s)$/.test(d3_svg_brushResize)&&n,d3_svg_brushY=!/^(e|w)$/.test(d3_svg_brushResize)&&r,d3_svg_brushDispatch=g(this,arguments),d3_svg_brushDispatch("brushstart"),d3_svg_brushMove(t),t.stopPropagation()}function e(c){var g=n&&r?["n","e","s","w","nw","ne","se","sw"]:n?["e","w"]:r?["n","s"]:[];return n&&(i=d3_scaleRange(n),o=i[0],s=i[1]-i[0]),r&&(i=d3_scaleRange(r),a=i[0],l=i[1]-i[0]),p.paper=c,p.brushSet=c.set(),p.resizerSet=c.set(),p.bg=c.rect(o,a,s,l).attr({fill:"#dddddd",stroke:"none",cursor:"crosshair"}).attr(h),p.bg.node.__brushNodeType__="bg",p.bg.node.ondragstart=function(){return!1},u="brush"+p.bg.id,p.bg.node.setAttribute("class","brush bg rvml "+u),p.bg.node.setAttribute("className","brush bg rvml "+u),p.fg=c.rect(o,a,n?0:s,r?0:l).attr({fill:"steelblue",stroke:"none",cursor:"move"}).attr(d),p.fg.node.__brushNodeType__="fg",p.fg.node.ondragstart=function(){return!1},p.fg.node.setAttribute("class","brush fg rvml "+u),p.fg.node.setAttribute("className","brush fg rvml "+u),g.forEach(function(t){var i=c.rect(o,a,n?6:s,r?6:l).data("resizeOrient",t).attr({cursor:d3_svg_brushCursor[t],fill:"white",stroke:"black",opacity:0});Raphael.vml&&i.attr({cursor:vml_brushCursor[t]}),e.empty()&&("n"===t||"s"===t?i.attr({height:0}):i.attr({width:0})),i.node.__brushNodeType__="resizer_"+t,i.node.ondragstart=function(){return!1},i.node.setAttribute("class","brush rvml "+u+" "+d3_svg_brushCursor[t]),i.node.setAttribute("className","brush rvml "+u+" "+d3_svg_brushCursor[t]),p.resizerSet.push(i)}),n&&d3_svg_brushRedrawX(p,f),r&&d3_svg_brushRedrawY(p,f),(0,_jquery2["default"])(c.canvas).on("mousedown","."+u,t),e.brushElements=p,e}var n,r,i,o,a,s,l,u,c=d3.dispatch("brushstart","brush","brushend"),f=[[0,0],[0,0]],h={fill:"#dddddd",stroke:"none",cursor:"crosshair"},d={fill:"steelblue",stroke:"none",cursor:"move"},p={},g=function(t,n){return function(r){var i=d3.event;try{d3.event={type:r,target:e},c[r].apply(t,n)}finally{d3.event=i}}};return e.left=function(t){return arguments.length?(o=t,e):o},e.top=function(t){return arguments.length?(a=t,e):a},e.width=function(t){return arguments.length?(s=t,e):s},e.height=function(t){return arguments.length?(l=t,e):l},e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.extent=function(t){var i,o,a,s,l;return arguments.length?(n&&(i=t[0],o=t[1],r&&(i=i[0],o=o[0]),n.invert&&(i=n(i),o=n(o)),o<i&&(l=i,i=o,o=l),f[0][0]=i,f[1][0]=o),r&&(a=t[0],s=t[1],n&&(a=a[1],s=s[1]),r.invert&&(a=r(a),s=r(s)),s<a&&(l=a,a=s,s=l),f[0][1]=a,f[1][1]=s),e):(n&&(i=f[0][0],o=f[1][0],n.invert&&(i=n.invert(i),o=n.invert(o)),o<i&&(l=i,i=o,o=l)),r&&(a=f[0][1],s=f[1][1],r.invert&&(a=r.invert(a),s=r.invert(s)),s<a&&(l=a,a=s,s=l)),n&&r?[[i,a],[o,s]]:n?[i,o]:r&&[a,s])},e.clear=function(){return f[0][0]=f[0][1]=f[1][0]=f[1][1]=0,e.refresh(),e},e.refresh=function(){return n&&d3_svg_brushRedrawX(p,f),r&&d3_svg_brushRedrawY(p,f),e},e.remove=function(){return(0,_jquery2["default"])(paper.canvas).off("mousedown","."+u,t),p.fg.remove(),p.bg.remove(),p.resizerSet.remove(),e},e.empty=function(){return n&&f[0][0]===f[1][0]||r&&f[0][1]===f[1][1]},e.backgroundAttr=function(t){return arguments.length?(h=t,e):h},e.foregroundAttr=function(t){return arguments.length?(d=t,e):d},(0,_jquery2["default"])(document).bind("mousemove",d3_svg_brushMove).bind("mouseup",d3_svg_brushUp).bind("keydown",d3_svg_brushKeydown).bind("keyup",d3_svg_brushKeyup),d3.rebind(e,c,"on")};DataV.Brush=Brush;var FloatTag=function(){function t(t){var n=t,r=(0,_jquery2["default"])("<div/>").css({border:"1px solid","border-color":_jquery2["default"].browser.msie?"rgb(0, 0, 0)":"rgba(0, 0, 0, 0.8)",
"background-color":_jquery2["default"].browser.msie?"rgb(0, 0, 0)":"rgba(0, 0, 0, 0.75)",color:"white","border-radius":"2px",padding:"12px 8px","font-size":"12px","box-shadow":"3px 3px 6px 0px rgba(0,0,0,0.58)","font-familiy":"宋体","z-index":1e4,"text-align":"center",visibility:"hidden",position:"absolute"});return(0,_jquery2["default"])(n).append(r).mousemove({jqNode:r,container:n},e),r}var e=function(t){var e=t.data.jqNode,r=t.data.container,i={x:20,y:20},o=(0,_jquery2["default"])(r).offset();if(!t.pageX||!t.pageY)return!1;var a=t.pageX-o.left,s=t.pageY-o.top;(0,_jquery2["default"])(r).position();n.call(this);var l,u;l=e.outerWidth(),u=e.outerHeight(),l+a+2*i.x<=(0,_jquery2["default"])(r).width()?a+=i.x:a=a-l-i.x,s>=u+i.y?s=s-i.y-u:s+=i.y,e.css("left",a+"px"),e.css("top",s+"px")},n=function(){};return t.setContent=function(t){return 0===arguments.length?n:void(n=t)},t};DataV.FloatTag=FloatTag;var theme=DataV.Themes,Tree=DataV.extend(DataV.Chart,{initialize:function(t,e){this.type="Tree",this.container=t,this.defaults={},this.addlink={},this.treeDepth=0,this.font={},this.defaults.width=750,this.defaults.height=760,this.defaults.deep=180,this.defaults.radius=15,this.setOptions(e),this.emitter=new _eventproxy.EventProxy,this.createCanvas()}});Tree.prototype.on=function(t,e){this.emitter.on(t,e)},Tree.prototype.setOptions=function(t){var e;if(t)for(e in t)t.hasOwnProperty(e)&&(this.defaults[e]=t[e])},Tree.prototype.hierarchyTableToJson=function(t){"ID"===t[0][0]&&(t=t.slice(1));var e,n={},r={};if(t.forEach(function(t,r){if(""===t[0])throw new Error("ID can not be empty(line:"+(r+1)+").");if(!t[3]){if(e)throw new Error("2 or more lines have an empty parentID(line:"+(r+1)+").");e=t[0]}if(n[t[0]])throw new Error("2 or more lines have same ID: "+t[0]+"(line:"+(r+1)+").");var i,o,a="";if(t.length>4)for(i=4,o=t.length;i<o;i++)i<o-1?a=a+t[i]+",":a+=t[i];n[t[0]]={name:t[1],size:t[2],child:[],id:t[0],value:a}}),!e)throw new Error("No root node defined.");t.forEach(function(t,e){if(t[3]){var i,o=t[3].split(".");if(1===o.length)i=n[t[3]],i.child.push(t[0]);else{i=n[o[0]],i.child.push(t[0]),r[t[0]]={child:[],path:[],pnode:[]};var a,s;for(a=1,s=o.length;a<s;a++)r[t[0]].child.push(o[a])}if(!i)throw new Error("Can not find parent with ID "+t[3]+"(line:"+(e+1)+").")}}),this.addlink=r;var i=function o(t){var e=n[t];if(0===e.child.length){if(isNaN(parseFloat(e.size)))throw new Error("Leaf node's size is not a number(ID:"+(t+1)+").");return{name:e.name,size:e.size,num:e.id,children:null,draw:!1,value:e.value}}var r=[];return e.child.forEach(function(t){r.push(o(t))}),{name:e.name,children:r,num:e.id,draw:!1,value:e.value}};return i(e)},Tree.prototype.setSource=function(t){var e=this.defaults;this.rawData=t,this.source=this.remapSource(t),this.source.x0=e.width/2,this.source.y0=10*e.radius,this.source.children&&this.source.children.forEach(function n(t){t.children&&(t._children=null,t.children.forEach(n))})},Tree.prototype.remapSource=function(t){return this.hierarchyTableToJson(t)},Tree.prototype.layout=function(){var t=this.defaults,e=d3.layout.tree().size([t.width,t.height]);this.nodesData=e.nodes(this.source);var n=0,r=0;this.nodesData.forEach(function(t){t.depth>n&&(n=t.depth)}),this.nodesData.forEach(function(t){t.origDepth=t.depth,t.depth-=Math.max(0,n-5)}),n=Math.min(5,n),this.treeDepth=n,t.deep=t.height/(n+1),this.nodesData.forEach(function(e){e.y=3*t.radius+e.depth*t.deep,e.id=r,r++})},Tree.prototype.getColor=function(){var t,e=DataV.getColor();return t=e.length>1&&e[0].length>1?[e[0][0],e[1][0]]:e[0],DataV.gradientColor(t,"special")},Tree.prototype.createCanvas=function(){var t,e=this.defaults;this.canvas=new Raphael(this.container,e.width,e.height),this.canvasF=document.getElementById(this.container),t=this.canvasF.style,t.position="relative",this.floatTag=DataV.FloatTag()(this.canvasF),this.floatTag.css({visibility:"hidden"}),this.DOMNode=(0,_jquery2["default"])(this.canvas.canvas);var n=this;this.DOMNode.click(function(t){n.emitter.trigger("click",t)}),this.DOMNode.dblclick(function(t){n.emitter.trigger("dblclick",t)});var r=document.all?"mousewheel":"DOMMouseScroll";this.DOMNode.bind(r,function(t){n.emitter.trigger("mousewheel",t)}),this.DOMNode.bind("contextmenu",function(t){n.emitter.trigger("contextmenu",t)}),this.DOMNode.delegate("circle","click",function(t){n.emitter.trigger("circle_click",t)}),this.DOMNode.delegate("circle","mouseover",function(t){n.emitter.trigger("circle_mouseover",t)}),this.DOMNode.delegate("circle","mouseout",function(t){n.emitter.trigger("circle_mouseout",t)})},Tree.prototype.zoom=function(t){var e=2;null!==t&&(e=t);var n=this.defaults;n.width=n.width*e,n.height<=this.treeDepth*n.deep&&(n.height=n.height*e),this.canvas.setSize(n.width,n.height),this.canvas.setViewBox(0,0,n.width,800),this.defaults=n,this.render()},Tree.prototype.getLinkPath=function(t,e,n,r){var i=this.defaults,o=t,a=e+(r-e)/2,s=n,l=r-(r-e)/2,u=[["M",t,e+i.radius],["C",o,a,s,l,n,r-i.radius]];return u},Tree.prototype.generatePaths=function(){var t=this.canvas,e=(this.source,this.defaults),n=e.radius,r=this.getColor(),i=this.treeDepth,o=this.nodesData,a=this.addlink,s=t.set(),l=[],u=[],c=this,f=function(){c.update(this.data("num"))};(0,_jquery2["default"])("#"+this.container).append(this.floatTag);var h,d;for(h=0,d=o.length;h<d;h++){var p=o[h];if(!(p.depth<0)){var g=p.value.split(",");if(p.lit="1"==g[0],p["new"]="1"==g[1],0==p.depth){if(!p.lit)continue;delete p.parent}p["new"]&&(p.draw=!0);var m=p.parent;if(a[p.num]){var v,y,b;for(v=0,b=a[p.num].child.length;v<b;v++)for(y=0;y<d;y++)o[y].num===a[p.num].child[v]&&(a[p.num].pnode[v]=y,a[p.num].path[v]=t.path().attr({stroke:"#939598","stroke-width":p.lit?2:.5}))}var x,w;m&&p.draw?(x=m.x,w=m.y):(x=p.x,w=p.y);var _=null;m&&(_=t.path().attr({stroke:"#939598","stroke-width":p.lit?2:.5}),l.push(_));var C=t.circle(x,w,n).attr({fill:p.lit?r(1.5*p.origDepth):"#999",stroke:"#ffffff","stroke-width":1,"fill-opacity":.4,data:12}).data("num",h);m&&p.draw?C.animate({cx:p.x,cy:p.y},500,"backOut"):m&&C.animate({cx:p.x,cy:p.y},0,"linear"),s.push(C),p.order=s.items.length,(p.children||p._children)&&s.items.rear().click(f),p._children&&s.items.rear().attr({stroke:r(p.depth/i),"stroke-width":n,"stroke-opacity":.4,"fill-opacity":1,r:n/2}),p.children?u.push(t.text(p.x,p.y-n-7,p.name).attr({"font-size":12})):u.push(t.text(p.x,p.y+n+7,p.name).attr({"font-size":12}))}}var k=this.floatTag;s.forEach(function(t,e){var n=t.data("num");(0,_jquery2["default"])(t.node).attr("value",o[n].value);var r=u[e].attr("y"),i=t.attr("r"),a=t.attr("stroke-width");t.mouseover(function(){o[n]._children?this.animate({r:i+2,"stroke-opacity":.75},100):this.animate({r:i+2,"fill-opacity":.75},100),u[e].attr({"font-size":20}),e>0&&(o[n].children?u[e].animate({y:r-12},100,"backOut"):u[e].animate({y:r+12},100,"backOut"));var t=function h(t,e){var n=t.parent;n&&(l[t.order-2].attr({"stroke-width":4,"stroke-opacity":e}),e>.5&&(e-=.1),h(n,e))};t(o[n],.9);var a,s,c=o[n].parent;for(a=0,s=u.length;a<s;a++){var f=o[n].parent;f===c&&a!==o[n].order-1&&u[a].animate({"fill-opacity":.4})}k.html('<div style = "text-align: center;margin:auto;color:#ffffff">'+o[n].name+"</div>"),k.css({visibility:"visible"})}).mouseout(function(){k.css({visibility:"hidden"}),o[n]._children?this.animate({r:i,"stroke-width":a,"stroke-opacity":.4},100):this.animate({r:i,"fill-opacity":.4},100),u[e].attr({"font-size":12}),u[e].animate({y:r},100,"backOut");var t=function d(t){var e=t.parent;e&&(l[t.order-2].attr({"stroke-width":t.lit?2:.5,"stroke-opacity":1}),d(e))};t(o[n]);var s,c,f=o[n].parent;for(s=0,c=u.length;s<c;s++){var h=o[n].parent;h===f&&s!==o[n].order-1&&u[s].animate({"fill-opacity":1})}})}),s.onAnimation(function(){var t,e,n=0;for(t=1,e=s.length;t<e;t++){var r=s[t],i=r.data("num"),u=o[i],f=u.parent;if(l[n].attr({path:c.getLinkPath(f.x,f.y,r.attr("cx"),r.attr("cy"))}),n++,a[u.num]){var h,d,p,g;for(h=0,p=a[u.num].child.length;h<p;h++)for(d=0,g=o.length;d<g;d++){var m=o[s[d].attr("orig")];if(m.num===a[u.num].child[h]){var v=c.getLinkPath(m.x,m.y,r.attr("cx"),r.attr("cy"));a[u.num].path[h].attr({path:v})}}}}}),this.nodes=s,this.path=l,this.textpath=u},Tree.prototype.update=function(t){var e=this.source,n=this.defaults;e.children.forEach(function r(t){t.draw=!1,t.children&&t.children.forEach(r)}),e.children.forEach(function i(e){e.id===t?e.children?(e._children=e.children,e.children=null):(e.children=e._children,e.children&&e.children.forEach(function n(t){t.draw=!0,t.children&&t.children.forEach(n)}),e._children=null):e.children&&e.children.forEach(i)}),this.source=e,this.source.x0=n.width/2,this.source.y0=2*n.radius,this.render()},Tree.prototype.render=function(t){if(!this.container)throw new Error("Please specify which node to render.");this.canvas.clear(),this.setOptions(t),this.canvas.setSize(this.defaults.width,this.defaults.height),this.layout(),this.generatePaths()},Tree.prototype.append=function(t){for(var e=this.rawData,n=0;n<e.length;n++){var r=e[n];"1"==r[5]&&(r[5]="0")}t.length<6?t.push("1"):t[5]="1",e.push(t),this.setSource(e)},module.exports=Tree}).call(exports,function(){return this}())},function(t,e,n){"use strict";!function(){var t=function r(){return this instanceof r?(this._callbacks={},void(this._fired={})):new r};t.prototype.addListener=function(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]=this._callbacks[t]||[],this._callbacks[t].push(e),this},t.prototype.bind=t.prototype.addListener,t.prototype.on=t.prototype.addListener,t.prototype.await=t.prototype.addListener,t.prototype.removeListener=function(t,e){var n,r,i=this._callbacks;if(t){if(i)if(e){var o=i[t];if(!o)return this;for(r=o.length,n=0;n<r;n++)if(e===o[n]){o[n]=null;break}}else i[t]=[]}else this._callbacks={};return this},t.prototype.unbind=t.prototype.removeListener,t.prototype.removeAllListeners=function(t){return this.unbind(t)},t.prototype.trigger=function(t,e){var n,r,i,o,a,s,l,u=2;if(!(r=this._callbacks))return this;for(;u--;)if(i=u?t:"all",n=r[i])for(s=0,l=n.length;s<l;s++)(o=n[s])?(a=u?Array.prototype.slice.call(arguments,1):arguments,o.apply(this,a)):(n.splice(s,1),s--,l--);return this},t.prototype.emit=t.prototype.trigger,t.prototype.fire=t.prototype.trigger,t.prototype.once=function(t,e){var n=this,r=function i(){e.apply(n,arguments),n.unbind(t,i)};return this.bind(t,r),this},t.prototype.immediate=function(t,e,n){return this.bind(t,e),this.trigger(t,n),this};var n=function(t,e,n,r){var i,o,a,s,l,u,c=this,f=0,h=arguments.length,d=0,p={};if(h<3)return this;if(l=Array.prototype.slice.apply(arguments,[0,h-2]),s=arguments[h-2],u=arguments[h-1],"function"!=typeof s)return this;for(i=l.length,o=function(t){var e=u?"once":"bind";c[e](t,function(e){c._fired[t]=c._fired[t]||{},c._fired[t].data=e,p[t]||(p[t]=!0,d++)})},f=0;f<i;f++)o(l[f]);a=function(){if(!(d<i)){var t=[];for(f=0;f<i;f++)t.push(c._fired[l[f]].data);u&&c.unbind("all",a),s.apply(null,t)}},c.bind("all",a)};t.prototype.all=function(t,e,r){var i=Array.prototype.concat.apply([],arguments);return i.push(!0),n.apply(this,i),this},t.prototype.assign=t.prototype.all,t.prototype.tail=function(){var t=Array.prototype.concat.apply([],arguments);return t.push(!1),n.apply(this,t),this},t.prototype.assignAll=t.prototype.tail,t.prototype.assignAlways=t.prototype.tail,t.prototype.after=function(t,e,n){if(0===e)return n.call(null,[]),this;var r,i=this,o=[];return r=function(a,s){a===t&&(e--,o.push(s),e<1&&(i.unbind("all",r),n.apply(null,[o])))},i.bind("all",r),this},t.prototype.any=function(){var t,e,n=this,r=arguments.length,i=arguments[r-1],o=Array.prototype.slice.apply(arguments,[0,r-1]),a=o.length,s=o.join("_");for(n.once(s,i),e=function(t){n.bind(t,function(e){n.trigger(s,{data:e,eventName:t})})},t=0;t<a;t++)e(o[t])},t.prototype.not=function(t,e){var n=this;n.bind("all",function(n,r){n!==t&&e(r)})},t.create=function(){var e=new t;return arguments.length&&e.assign.apply(e,Array.prototype.slice.call(arguments)),e},e.EventProxy=t}()},function(t,e,n){function r(t){return t&&t.__esModule?t:{"default":t}}var i,o,i,a=n(6),s=r(a);i=function(t,e,r){!function(t,a){function l(t){var e,n,r=$[t]={};for(t=t.split(/\s+/),e=0,n=t.length;e<n;e++)r[t[e]]=!0;return r}function u(t,e,n){if(n===a&&1===t.nodeType){var r="data-"+e.replace(U,"-$1").toLowerCase();if(n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:j.isNumeric(n)?parseFloat(n):V.test(n)?j.parseJSON(n):n)}catch(i){}j.data(t,e,n)}else n=a}return n}function c(t){for(var e in t)if(("data"!==e||!j.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function f(t,e,n){var r=e+"defer",i=e+"queue",o=e+"mark",a=j._data(t,r);!a||"queue"!==n&&j._data(t,i)||"mark"!==n&&j._data(t,o)||setTimeout(function(){j._data(t,i)||j._data(t,o)||(j.removeData(t,r,!0),a.fire())},0)}function h(){return!1}function d(){return!0}function p(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function g(t,e,n){if(e=e||0,j.isFunction(e))return j.grep(t,function(t,r){var i=!!e.call(t,r,t);return i===n});if(e.nodeType)return j.grep(t,function(t,r){return t===e===n});if("string"==typeof e){var r=j.grep(t,function(t){return 1===t.nodeType});if(vt.test(e))return j.filter(e,r,!n);e=j.filter(e,r)}return j.grep(t,function(t,r){return j.inArray(t,e)>=0===n})}function m(t){var e=wt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function v(t,e){return j.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t,e){if(1===e.nodeType&&j.hasData(t)){var n,r,i,o=j._data(t),a=j._data(e,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;r<i;r++)j.event.add(e,n+(s[n][r].namespace?".":"")+s[n][r].namespace,s[n][r],s[n][r].data)}a.data&&(a.data=j.extend({},a.data))}}function b(t,e){var n;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),n=e.nodeName.toLowerCase(),"object"===n?e.outerHTML=t.outerHTML:"input"!==n||"checkbox"!==t.type&&"radio"!==t.type?"option"===n?e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(j.expando))}function x(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function w(t){"checkbox"!==t.type&&"radio"!==t.type||(t.defaultChecked=t.checked)}function _(t){var e=(t.nodeName||"").toLowerCase();"input"===e?w(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&j.grep(t.getElementsByTagName("input"),w)}function C(t){var e=W.createElement("div");return zt.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function k(t,e){e.src?j.ajax({url:e.src,async:!1,dataType:"script"}):j.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Ot,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)}function S(t,e,n){var r="width"===e?t.offsetWidth:t.offsetHeight,i="width"===e?Ut:Xt,o=0,a=i.length;if(r>0){if("border"!==n)for(;o<a;o++)n||(r-=parseFloat(j.css(t,"padding"+i[o]))||0),"margin"===n?r+=parseFloat(j.css(t,n+i[o]))||0:r-=parseFloat(j.css(t,"border"+i[o]+"Width"))||0;return r+"px"}if(r=Rt(t,e,e),(r<0||null==r)&&(r=t.style[e]||0),r=parseFloat(r)||0,n)for(;o<a;o++)r+=parseFloat(j.css(t,"padding"+i[o]))||0,"padding"!==n&&(r+=parseFloat(j.css(t,"border"+i[o]+"Width"))||0),"margin"===n&&(r+=parseFloat(j.css(t,n+i[o]))||0);return r+"px"}function T(t){return function(e,n){if("string"!=typeof e&&(n=e,e="*"),j.isFunction(n))for(var r,i,o,a=e.toLowerCase().split(le),s=0,l=a.length;s<l;s++)r=a[s],o=/^\+/.test(r),o&&(r=r.substr(1)||"*"),i=t[r]=t[r]||[],i[o?"unshift":"push"](n)}}function M(t,e,n,r,i,o){i=i||e.dataTypes[0],o=o||{},o[i]=!0;for(var s,l=t[i],u=0,c=l?l.length:0,f=t===he;u<c&&(f||!s);u++)s=l[u](e,n,r),"string"==typeof s&&(!f||o[s]?s=a:(e.dataTypes.unshift(s),s=M(t,e,n,r,s,o)));return!f&&s||o["*"]||(s=M(t,e,n,r,"*",o)),s}function N(t,e){var n,r,i=j.ajaxSettings.flatOptions||{};for(n in e)e[n]!==a&&((i[n]?t:r||(r={}))[n]=e[n]);r&&j.extend(!0,t,r)}function A(t,e,n,r){if(j.isArray(e))j.each(e,function(e,i){n||Jt.test(t)?r(t,i):A(t+"["+("object"===("undefined"==typeof i?"undefined":(0,s["default"])(i))||j.isArray(i)?e:"")+"]",i,n,r)});else if(n||null==e||"object"!==("undefined"==typeof e?"undefined":(0,s["default"])(e)))r(t,e);else for(var i in e)A(t+"["+i+"]",e[i],n,r)}function L(t,e,n){var r,i,o,s,l=t.contents,u=t.dataTypes,c=t.responseFields;for(i in c)i in n&&(e[c[i]]=n[i]);for(;"*"===u[0];)u.shift(),r===a&&(r=t.mimeType||e.getResponseHeader("content-type"));if(r)for(i in l)if(l[i]&&l[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}function E(t,e){t.dataFilter&&(e=t.dataFilter(e,t.dataType));var n,r,i,o,s,l,u,c,f=t.dataTypes,h={},d=f.length,p=f[0];for(n=1;n<d;n++){if(1===n)for(r in t.converters)"string"==typeof r&&(h[r.toLowerCase()]=t.converters[r]);if(o=p,p=f[n],"*"===p)p=o;else if("*"!==o&&o!==p){if(s=o+" "+p,l=h[s]||h["* "+p],!l){c=a;for(u in h)if(i=u.split(" "),(i[0]===o||"*"===i[0])&&(c=h[i[1]+" "+p])){u=h[u],u===!0?l=c:c===!0&&(l=u);break}}l||c||j.error("No conversion from "+s.replace(" "," to ")),l!==!0&&(e=l?l(e):c(u(e)))}}return e}function D(){try{return new t.XMLHttpRequest}catch(e){}}function O(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function F(){return setTimeout(z,0),ke=j.now()}function z(){ke=a}function R(t,e){var n={};return j.each(Ne.concat.apply([],Ne.slice(0,e)),function(){n[this]=t}),n}function P(t){if(!Se[t]){var e=W.body,n=j("<"+t+">").appendTo(e),r=n.css("display");n.remove(),"none"!==r&&""!==r||(we||(we=W.createElement("iframe"),we.frameBorder=we.width=we.height=0),e.appendChild(we),_e&&we.createElement||(_e=(we.contentWindow||we.contentDocument).document,_e.write(("CSS1Compat"===W.compatMode?"<!doctype html>":"")+"<html><body>"),_e.close()),n=_e.createElement(t),_e.body.appendChild(n),r=j.css(n,"display"),e.removeChild(we)),Se[t]=r}return Se[t]}function B(t){return j.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var W=t.document,I=t.navigator,H=t.location,j=function(){function e(){if(!l.isReady){try{W.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}l.ready()}}var n,r,i,o,l=function z(t,e){return new z.fn.init(t,e,n)},u=t.jQuery,c=t.$,f=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,h=/\S/,d=/^\s+/,p=/\s+$/,g=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,y=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,b=/(?:^|:|,)(?:\s*\[)+/g,x=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,_=/(msie) ([\w.]+)/,C=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,S=/^-ms-/,T=function(t,e){return(e+"").toUpperCase()},M=I.userAgent,N=Object.prototype.toString,A=Object.prototype.hasOwnProperty,L=Array.prototype.push,E=Array.prototype.slice,D=String.prototype.trim,O=Array.prototype.indexOf,F={};return l.fn=l.prototype={constructor:l,init:function(t,e,n){var r,i,o,s;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!e&&W.body)return this.context=W,this[0]=W.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:f.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1])return e=e instanceof l?e[0]:e,s=e?e.ownerDocument||e:W,o=g.exec(t),o?l.isPlainObject(e)?(t=[W.createElement(o[1])],l.fn.attr.call(t,e,!0)):t=[s.createElement(o[1])]:(o=l.buildFragment([r[1]],[s]),t=(o.cacheable?l.clone(o.fragment):o.fragment).childNodes),l.merge(this,t);if(i=W.getElementById(r[2]),i&&i.parentNode){if(i.id!==r[2])return n.find(t);this.length=1,this[0]=i}return this.context=W,this.selector=t,this}return l.isFunction(t)?n.ready(t):(t.selector!==a&&(this.selector=t.selector,this.context=t.context),l.makeArray(t,this))},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return E.call(this,0)},get:function(t){return null==t?this.toArray():t<0?this[this.length+t]:this[t]},pushStack:function(t,e,n){var r=this.constructor();return l.isArray(t)?L.apply(r,t):l.merge(r,t),r.prevObject=this,r.context=this.context,"find"===e?r.selector=this.selector+(this.selector?" ":"")+n:e&&(r.selector=this.selector+"."+e+"("+n+")"),r},each:function(t,e){return l.each(this,t,e)},ready:function(t){return l.bindReady(),i.add(t),this},eq:function(t){return t=+t,t===-1?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(E.apply(this,arguments),"slice",E.call(arguments).join(","))},map:function(t){return this.pushStack(l.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:L,sort:[].sort,splice:[].splice},l.fn.init.prototype=l.fn,l.extend=l.fn.extend=function(){var t,e,n,r,i,o,u=arguments[0]||{},c=1,f=arguments.length,h=!1;for("boolean"==typeof u&&(h=u,u=arguments[1]||{},c=2),"object"===("undefined"==typeof u?"undefined":(0,s["default"])(u))||l.isFunction(u)||(u={}),f===c&&(u=this,--c);c<f;c++)if(null!=(t=arguments[c]))for(e in t)n=u[e],r=t[e],u!==r&&(h&&r&&(l.isPlainObject(r)||(i=l.isArray(r)))?(i?(i=!1,o=n&&l.isArray(n)?n:[]):o=n&&l.isPlainObject(n)?n:{},u[e]=l.extend(h,o,r)):r!==a&&(u[e]=r));return u},l.extend({noConflict:function(e){return t.$===l&&(t.$=c),e&&t.jQuery===l&&(t.jQuery=u),l},isReady:!1,readyWait:1,holdReady:function(t){t?l.readyWait++:l.ready(!0)},ready:function(t){if(t===!0&&!--l.readyWait||t!==!0&&!l.isReady){if(!W.body)return setTimeout(l.ready,1);if(l.isReady=!0,t!==!0&&--l.readyWait>0)return;i.fireWith(W,[l]),l.fn.trigger&&l(W).trigger("ready").off("ready")}},bindReady:function(){if(!i){if(i=l.Callbacks("once memory"),"complete"===W.readyState)return setTimeout(l.ready,1);if(W.addEventListener)W.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",l.ready,!1);else if(W.attachEvent){W.attachEvent("onreadystatechange",o),t.attachEvent("onload",l.ready);var n=!1;try{n=null==t.frameElement}catch(r){}W.documentElement.doScroll&&n&&e()}}},isFunction:function(t){return"function"===l.type(t)},isArray:Array.isArray||function(t){return"array"===l.type(t)},isWindow:function(t){return t&&"object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))&&"setInterval"in t},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):F[N.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==l.type(t)||t.nodeType||l.isWindow(t))return!1;try{if(t.constructor&&!A.call(t,"constructor")&&!A.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in t);return n===a||A.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=l.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):m.test(e.replace(v,"@").replace(y,"]").replace(b,""))?new Function("return "+e)():void l.error("Invalid JSON: "+e)):null},parseXML:function(e){var n,r;try{t.DOMParser?(r=new DOMParser,n=r.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(i){n=a}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||l.error("Invalid XML: "+e),n},noop:function(){},globalEval:function(e){e&&h.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(S,"ms-").replace(k,T)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,e,n){var r,i=0,o=t.length,s=o===a||l.isFunction(t);if(n)if(s){for(r in t)if(e.apply(t[r],n)===!1)break}else for(;i<o&&e.apply(t[i++],n)!==!1;);else if(s){for(r in t)if(e.call(t[r],r,t[r])===!1)break}else for(;i<o&&e.call(t[i],i,t[i++])!==!1;);return t},trim:D?function(t){return null==t?"":D.call(t)}:function(t){return null==t?"":t.toString().replace(d,"").replace(p,"")},makeArray:function(t,e){var n=e||[];if(null!=t){var r=l.type(t);null==t.length||"string"===r||"function"===r||"regexp"===r||l.isWindow(t)?L.call(n,t):l.merge(n,t)}return n},inArray:function(t,e,n){var r;if(e){if(O)return O.call(e,t,n);for(r=e.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){var n=t.length,r=0;if("number"==typeof e.length)for(var i=e.length;r<i;r++)t[n++]=e[r];else for(;e[r]!==a;)t[n++]=e[r++];return t.length=n,t},grep:function(t,e,n){var r,i=[];n=!!n;for(var o=0,a=t.length;o<a;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,n){var r,i,o=[],s=0,u=t.length,c=t instanceof l||u!==a&&"number"==typeof u&&(u>0&&t[0]&&t[u-1]||0===u||l.isArray(t));if(c)for(;s<u;s++)r=e(t[s],s,n),null!=r&&(o[o.length]=r);else for(i in t)r=e(t[i],i,n),null!=r&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function R(t,e){if("string"==typeof e){var n=t[e];e=t,t=n}if(!l.isFunction(t))return a;var r=E.call(arguments,2),R=function(){return t.apply(e,r.concat(E.call(arguments)))};return R.guid=t.guid=t.guid||R.guid||l.guid++,R},access:function(t,e,n,r,i,o){var u=t.length;if("object"===("undefined"==typeof e?"undefined":(0,s["default"])(e))){for(var c in e)l.access(t,c,e[c],r,i,n);return t}if(n!==a){r=!o&&r&&l.isFunction(n);for(var f=0;f<u;f++)i(t[f],e,r?n.call(t[f],f,i(t[f],e)):n,o);return t}return u?i(t[0],e):a},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=x.exec(t)||w.exec(t)||_.exec(t)||t.indexOf("compatible")<0&&C.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,n){return new t.fn.init(e,n)}l.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(n,r){return r&&r instanceof l&&!(r instanceof t)&&(r=t(r)),l.fn.init.call(this,n,r,e)},t.fn.init.prototype=t.fn;var e=t(W);return t},browser:{}}),l.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){F["[object "+e+"]"]=e.toLowerCase()}),r=l.uaMatch(M),r.browser&&(l.browser[r.browser]=!0,l.browser.version=r.version),l.browser.webkit&&(l.browser.safari=!0),h.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),n=l(W),W.addEventListener?o=function(){W.removeEventListener("DOMContentLoaded",o,!1),l.ready()}:W.attachEvent&&(o=function(){"complete"===W.readyState&&(W.detachEvent("onreadystatechange",o),l.ready())}),l}(),$={};j.Callbacks=function(t){t=t?$[t]||l(t):{};var e,n,r,i,o,s=[],u=[],c=function d(e){var n,r,i,o;for(n=0,r=e.length;n<r;n++)i=e[n],o=j.type(i),"array"===o?d(i):"function"===o&&(t.unique&&h.has(i)||s.push(i))},f=function(a,l){for(l=l||[],e=!t.memory||[a,l],n=!0,o=r||0,r=0,i=s.length;s&&o<i;o++)if(s[o].apply(a,l)===!1&&t.stopOnFalse){e=!0;break}n=!1,s&&(t.once?e===!0?h.disable():s=[]:u&&u.length&&(e=u.shift(),h.fireWith(e[0],e[1])))},h={add:function(){if(s){var t=s.length;c(arguments),n?i=s.length:e&&e!==!0&&(r=t,f(e[0],e[1]))}return this},remove:function(){if(s)for(var e=arguments,r=0,a=e.length;r<a;r++)for(var l=0;l<s.length&&(e[r]!==s[l]||(n&&l<=i&&(i--,l<=o&&o--),s.splice(l--,1),!t.unique));l++);return this},has:function(t){if(s)for(var e=0,n=s.length;e<n;e++)if(t===s[e])return!0;return!1},empty:function(){return s=[],this},disable:function(){return s=u=e=a,this},disabled:function(){return!s},lock:function(){return u=a,e&&e!==!0||h.disable(),this},locked:function(){return!u},fireWith:function(r,i){return u&&(n?t.once||u.push([r,i]):t.once&&e||f(r,i)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!e}};return h};var q=[].slice;j.extend({Deferred:function(t){var e,n=j.Callbacks("once memory"),r=j.Callbacks("once memory"),i=j.Callbacks("memory"),o="pending",a={resolve:n,reject:r,notify:i},s={done:n.add,fail:r.add,progress:i.add,state:function(){return o},isResolved:n.fired,isRejected:r.fired,then:function(t,e,n){return l.done(t).fail(e).progress(n),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,n){return j.Deferred(function(r){j.each({done:[t,"resolve"],fail:[e,"reject"],progress:[n,"notify"]},function(t,e){var n,i=e[0],o=e[1];j.isFunction(i)?l[t](function(){n=i.apply(this,arguments),n&&j.isFunction(n.promise)?n.promise().then(r.resolve,r.reject,r.notify):r[o+"With"](this===l?r:this,[n])}):l[t](r[o])})}).promise()},promise:function(t){if(null==t)t=s;else for(var e in s)t[e]=s[e];return t}},l=s.promise({});for(e in a)l[e]=a[e].fire,l[e+"With"]=a[e].fireWith;return l.done(function(){o="resolved"},r.disable,i.lock).fail(function(){o="rejected"},n.disable,i.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){r[t]=arguments.length>1?q.call(arguments,0):e,--s||l.resolveWith(l,r)}}function n(t){return function(e){a[t]=arguments.length>1?q.call(arguments,0):e,l.notifyWith(u,a)}}var r=q.call(arguments,0),i=0,o=r.length,a=new Array(o),s=o,l=o<=1&&t&&j.isFunction(t.promise)?t:j.Deferred(),u=l.promise();if(o>1){for(;i<o;i++)r[i]&&r[i].promise&&j.isFunction(r[i].promise)?r[i].promise().then(e(i),l.reject,n(i)):--s;s||l.resolveWith(l,r)}else l!==t&&l.resolveWith(l,o?[t]:[]);return u}}),j.support=function(){var e,n,r,i,o,a,s,l,u,c,f,h,d=W.createElement("div");W.documentElement;if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!n.length||!r)return{};i=W.createElement("select"),o=i.appendChild(W.createElement("option")),a=d.getElementsByTagName("input")[0],e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!W.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==W.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},a.checked=!0,e.noCloneChecked=a.cloneNode(!0).checked,i.disabled=!0,e.optDisabled=!o.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),a=W.createElement("input"),a.value="t",a.setAttribute("type","radio"),e.radioValue="t"===a.value,a.setAttribute("checked","checked"),d.appendChild(a),l=W.createDocumentFragment(),l.appendChild(d.lastChild),e.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=a.checked,l.removeChild(a),l.appendChild(d),d.innerHTML="",t.getComputedStyle&&(s=W.createElement("div"),s.style.width="0",s.style.marginRight="0",d.style.width="2px",d.appendChild(s),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(s,null)||{marginRight:0}).marginRight,10)||0)),d.attachEvent)for(f in{submit:1,change:1,focusin:1})c="on"+f,h=c in d,h||(d.setAttribute(c,"return;"),h="function"==typeof d[c]),e[f+"Bubbles"]=h;return l.removeChild(d),l=i=o=s=d=a=null,j(function(){var t,n,r,i,o,a,s,l,c,f,p=W.getElementsByTagName("body")[0];p&&(a=1,s="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;",l="visibility:hidden;border:0;",c="style='"+s+"border:5px solid #000;padding:0;'",f="<div "+c+"><div></div></div><table "+c+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",t=W.createElement("div"),t.style.cssText=l+"width:0;height:0;position:static;top:0;margin-top:"+a+"px",p.insertBefore(t,p.firstChild),d=W.createElement("div"),
t.appendChild(d),d.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>",u=d.getElementsByTagName("td"),h=0===u[0].offsetHeight,u[0].style.display="",u[1].style.display="none",e.reliableHiddenOffsets=h&&0===u[0].offsetHeight,d.innerHTML="",d.style.width=d.style.paddingLeft="1px",j.boxModel=e.boxModel=2===d.offsetWidth,"undefined"!=typeof d.style.zoom&&(d.style.display="inline",d.style.zoom=1,e.inlineBlockNeedsLayout=2===d.offsetWidth,d.style.display="",d.innerHTML="<div style='width:4px;'></div>",e.shrinkWrapBlocks=2!==d.offsetWidth),d.style.cssText=s+l,d.innerHTML=f,n=d.firstChild,r=n.firstChild,i=n.nextSibling.firstChild.firstChild,o={doesNotAddBorder:5!==r.offsetTop,doesAddBorderForTableAndCells:5===i.offsetTop},r.style.position="fixed",r.style.top="20px",o.fixedPosition=20===r.offsetTop||15===r.offsetTop,r.style.position=r.style.top="",n.style.overflow="hidden",n.style.position="relative",o.subtractsBorderForOverflowNotVisible=r.offsetTop===-5,o.doesNotIncludeMarginInBodyOffset=p.offsetTop!==a,p.removeChild(t),d=t=null,j.extend(e,o))}),e}();var V=/^(?:\{.*\}|\[.*\])$/,U=/([A-Z])/g;j.extend({cache:{},uuid:0,expando:"jQuery"+(j.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?j.cache[t[j.expando]]:t[j.expando],!!t&&!c(t)},data:function(t,e,n,r){if(j.acceptData(t)){var i,o,l,u=j.expando,c="string"==typeof e,f=t.nodeType,h=f?j.cache:t,d=f?t[u]:t[u]&&u,p="events"===e;if(d&&h[d]&&(p||r||h[d].data)||!c||n!==a)return d||(f?t[u]=d=++j.uuid:d=u),h[d]||(h[d]={},f||(h[d].toJSON=j.noop)),"object"!==("undefined"==typeof e?"undefined":(0,s["default"])(e))&&"function"!=typeof e||(r?h[d]=j.extend(h[d],e):h[d].data=j.extend(h[d].data,e)),i=o=h[d],r||(o.data||(o.data={}),o=o.data),n!==a&&(o[j.camelCase(e)]=n),p&&!o[e]?i.events:(c?(l=o[e],null==l&&(l=o[j.camelCase(e)])):l=o,l)}},removeData:function(t,e,n){if(j.acceptData(t)){var r,i,o,a=j.expando,s=t.nodeType,l=s?j.cache:t,u=s?t[a]:a;if(l[u]){if(e&&(r=n?l[u]:l[u].data)){j.isArray(e)||(e in r?e=[e]:(e=j.camelCase(e),e=e in r?[e]:e.split(" ")));for(i=0,o=e.length;i<o;i++)delete r[e[i]];if(!(n?c:j.isEmptyObject)(r))return}(n||(delete l[u].data,c(l[u])))&&(j.support.deleteExpando||!l.setInterval?delete l[u]:l[u]=null,s&&(j.support.deleteExpando?delete t[a]:t.removeAttribute?t.removeAttribute(a):t[a]=null))}}},_data:function(t,e,n){return j.data(t,e,n,!0)},acceptData:function(t){if(t.nodeName){var e=j.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),j.fn.extend({data:function Ee(t,e){var n,r,i,Ee=null;if("undefined"==typeof t){if(this.length&&(Ee=j.data(this[0]),1===this[0].nodeType&&!j._data(this[0],"parsedAttrs"))){r=this[0].attributes;for(var o=0,l=r.length;o<l;o++)i=r[o].name,0===i.indexOf("data-")&&(i=j.camelCase(i.substring(5)),u(this[0],i,Ee[i]));j._data(this[0],"parsedAttrs",!0)}return Ee}return"object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))?this.each(function(){j.data(this,t)}):(n=t.split("."),n[1]=n[1]?"."+n[1]:"",e===a?(Ee=this.triggerHandler("getData"+n[1]+"!",[n[0]]),Ee===a&&this.length&&(Ee=j.data(this[0],t),Ee=u(this[0],t,Ee)),Ee===a&&n[1]?this.data(n[0]):Ee):this.each(function(){var r=j(this),i=[n[0],e];r.triggerHandler("setData"+n[1]+"!",i),j.data(this,t,e),r.triggerHandler("changeData"+n[1]+"!",i)}))},removeData:function(t){return this.each(function(){j.removeData(this,t)})}}),j.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",j._data(t,e,(j._data(t,e)||0)+1))},_unmark:function(t,e,n){if(t!==!0&&(n=e,e=t,t=!1),e){n=n||"fx";var r=n+"mark",i=t?0:(j._data(e,r)||1)-1;i?j._data(e,r,i):(j.removeData(e,r,!0),f(e,n,"mark"))}},queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=j._data(t,e),n&&(!r||j.isArray(n)?r=j._data(t,e,j.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=j.queue(t,e),r=n.shift(),i={};"inprogress"===r&&(r=n.shift()),r&&("fx"===e&&n.unshift("inprogress"),j._data(t,e+".run",i),r.call(t,function(){j.dequeue(t,e)},i)),n.length||(j.removeData(t,e+"queue "+e+".run",!0),f(t,e,"queue"))}}),j.fn.extend({queue:function(t,e){return"string"!=typeof t&&(e=t,t="fx"),e===a?j.queue(this[0],t):this.each(function(){var n=j.queue(this,t,e);"fx"===t&&"inprogress"!==n[0]&&j.dequeue(this,t)})},dequeue:function(t){return this.each(function(){j.dequeue(this,t)})},delay:function(t,e){return t=j.fx?j.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--l||i.resolveWith(o,[o])}"string"!=typeof t&&(e=t,t=a),t=t||"fx";for(var r,i=j.Deferred(),o=this,s=o.length,l=1,u=t+"defer",c=t+"queue",f=t+"mark";s--;)(r=j.data(o[s],u,a,!0)||(j.data(o[s],c,a,!0)||j.data(o[s],f,a,!0))&&j.data(o[s],u,j.Callbacks("once memory"),!0))&&(l++,r.add(n));return n(),i.promise()}});var X,G,Y,K=/[\n\t\r]/g,J=/\s+/,Z=/\r/g,Q=/^(?:button|input)$/i,tt=/^(?:button|input|object|select|textarea)$/i,et=/^a(?:rea)?$/i,nt=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,rt=j.support.getSetAttribute;j.fn.extend({attr:function(t,e){return j.access(this,t,e,!0,j.attr)},removeAttr:function(t){return this.each(function(){j.removeAttr(this,t)})},prop:function(t,e){return j.access(this,t,e,!0,j.prop)},removeProp:function(t){return t=j.propFix[t]||t,this.each(function(){try{this[t]=a,delete this[t]}catch(e){}})},addClass:function(t){var e,n,r,i,o,a,s;if(j.isFunction(t))return this.each(function(e){j(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(J),n=0,r=this.length;n<r;n++)if(i=this[n],1===i.nodeType)if(i.className||1!==e.length){for(o=" "+i.className+" ",a=0,s=e.length;a<s;a++)~o.indexOf(" "+e[a]+" ")||(o+=e[a]+" ");i.className=j.trim(o)}else i.className=t;return this},removeClass:function(t){var e,n,r,i,o,s,l;if(j.isFunction(t))return this.each(function(e){j(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===a)for(e=(t||"").split(J),n=0,r=this.length;n<r;n++)if(i=this[n],1===i.nodeType&&i.className)if(t){for(o=(" "+i.className+" ").replace(K," "),s=0,l=e.length;s<l;s++)o=o.replace(" "+e[s]+" "," ");i.className=j.trim(o)}else i.className="";return this},toggleClass:function(t,e){var n="undefined"==typeof t?"undefined":(0,s["default"])(t),r="boolean"==typeof e;return j.isFunction(t)?this.each(function(n){j(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var i,o=0,a=j(this),s=e,l=t.split(J);i=l[o++];)s=r?s:!a.hasClass(i),a[s?"addClass":"removeClass"](i);else"undefined"!==n&&"boolean"!==n||(this.className&&j._data(this,"__className__",this.className),this.className=this.className||t===!1?"":j._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(K," ").indexOf(e)>-1)return!0;return!1},val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=j.isFunction(t),this.each(function(n){var i,o=j(this);1===this.nodeType&&(i=r?t.call(this,n,o.val()):t,null==i?i="":"number"==typeof i?i+="":j.isArray(i)&&(i=j.map(i,function(t){return null==t?"":t+""})),e=j.valHooks[this.nodeName.toLowerCase()]||j.valHooks[this.type],e&&"set"in e&&e.set(this,i,"value")!==a||(this.value=i))});if(i)return e=j.valHooks[i.nodeName.toLowerCase()]||j.valHooks[i.type],e&&"get"in e&&(n=e.get(i,"value"))!==a?n:(n=i.value,"string"==typeof n?n.replace(Z,""):null==n?"":n)}}}),j.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,n,r,i,o=t.selectedIndex,a=[],s=t.options,l="select-one"===t.type;if(o<0)return null;for(n=l?o:0,r=l?o+1:s.length;n<r;n++)if(i=s[n],i.selected&&(j.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!j.nodeName(i.parentNode,"optgroup"))){if(e=j(i).val(),l)return e;a.push(e)}return l&&!a.length&&s.length?j(s[o]).val():a},set:function(t,e){var n=j.makeArray(e);return j(t).find("option").each(function(){this.selected=j.inArray(j(this).val(),n)>=0}),n.length||(t.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,e,n,r){var i,o,s,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return r&&e in j.attrFn?j(t)[e](n):"undefined"==typeof t.getAttribute?j.prop(t,e,n):(s=1!==l||!j.isXMLDoc(t),s&&(e=e.toLowerCase(),o=j.attrHooks[e]||(nt.test(e)?G:X)),n!==a?null===n?void j.removeAttr(t,e):o&&"set"in o&&s&&(i=o.set(t,n,e))!==a?i:(t.setAttribute(e,""+n),n):o&&"get"in o&&s&&null!==(i=o.get(t,e))?i:(i=t.getAttribute(e),null===i?a:i))},removeAttr:function(t,e){var n,r,i,o,a=0;if(e&&1===t.nodeType)for(r=e.toLowerCase().split(J),o=r.length;a<o;a++)i=r[a],i&&(n=j.propFix[i]||i,j.attr(t,i,""),t.removeAttribute(rt?i:n),nt.test(i)&&n in t&&(t[n]=!1))},attrHooks:{type:{set:function(t,e){if(Q.test(t.nodeName)&&t.parentNode)j.error("type property can't be changed");else if(!j.support.radioValue&&"radio"===e&&j.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}},value:{get:function(t,e){return X&&j.nodeName(t,"button")?X.get(t,e):e in t?t.value:null},set:function(t,e,n){return X&&j.nodeName(t,"button")?X.set(t,e,n):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!j.isXMLDoc(t),o&&(e=j.propFix[e]||e,i=j.propHooks[e]),n!==a?i&&"set"in i&&(r=i.set(t,n,e))!==a?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=t.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):tt.test(t.nodeName)||et.test(t.nodeName)&&t.href?0:a}}}}),j.attrHooks.tabindex=j.propHooks.tabIndex,G={get:function(t,e){var n,r=j.prop(t,e);return r===!0||"boolean"!=typeof r&&(n=t.getAttributeNode(e))&&n.nodeValue!==!1?e.toLowerCase():a},set:function(t,e,n){var r;return e===!1?j.removeAttr(t,n):(r=j.propFix[n]||n,r in t&&(t[r]=!0),t.setAttribute(n,n.toLowerCase())),n}},rt||(Y={name:!0,id:!0},X=j.valHooks.button={get:function(t,e){var n;return n=t.getAttributeNode(e),n&&(Y[e]?""!==n.nodeValue:n.specified)?n.nodeValue:a},set:function(t,e,n){var r=t.getAttributeNode(n);return r||(r=W.createAttribute(n),t.setAttributeNode(r)),r.nodeValue=e+""}},j.attrHooks.tabindex.set=X.set,j.each(["width","height"],function(t,e){j.attrHooks[e]=j.extend(j.attrHooks[e],{set:function(t,n){if(""===n)return t.setAttribute(e,"auto"),n}})}),j.attrHooks.contenteditable={get:X.get,set:function(t,e,n){""===e&&(e="false"),X.set(t,e,n)}}),j.support.hrefNormalized||j.each(["href","src","width","height"],function(t,e){j.attrHooks[e]=j.extend(j.attrHooks[e],{get:function(t){var n=t.getAttribute(e,2);return null===n?a:n}})}),j.support.style||(j.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||a},set:function(t,e){return t.style.cssText=""+e}}),j.support.optSelected||(j.propHooks.selected=j.extend(j.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),j.support.enctype||(j.propFix.enctype="encoding"),j.support.checkOn||j.each(["radio","checkbox"],function(){j.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),j.each(["radio","checkbox"],function(){j.valHooks[this]=j.extend(j.valHooks[this],{set:function(t,e){if(j.isArray(e))return t.checked=j.inArray(j(t).val(),e)>=0}})});var it=/^(?:textarea|input|select)$/i,ot=/^([^\.]*)?(?:\.(.+))?$/,at=/\bhover(\.\S+)?\b/,st=/^key/,lt=/^(?:mouse|contextmenu)|click/,ut=/^(?:focusinfocus|focusoutblur)$/,ct=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,ft=function(t){var e=ct.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},ht=function(t,e){var n=t.attributes||{};return(!e[1]||t.nodeName.toLowerCase()===e[1])&&(!e[2]||(n.id||{}).value===e[2])&&(!e[3]||e[3].test((n["class"]||{}).value))},dt=function(t){return j.event.special.hover?t:t.replace(at,"mouseenter$1 mouseleave$1")};j.event={add:function(t,e,n,r,i){var o,s,l,u,c,f,h,d,p,g,m;if(3!==t.nodeType&&8!==t.nodeType&&e&&n&&(o=j._data(t))){for(n.handler&&(p=n,n=p.handler),n.guid||(n.guid=j.guid++),l=o.events,l||(o.events=l={}),s=o.handle,s||(o.handle=s=function(t){return"undefined"==typeof j||t&&j.event.triggered===t.type?a:j.event.dispatch.apply(s.elem,arguments)},s.elem=t),e=j.trim(dt(e)).split(" "),u=0;u<e.length;u++)c=ot.exec(e[u])||[],f=c[1],h=(c[2]||"").split(".").sort(),m=j.event.special[f]||{},f=(i?m.delegateType:m.bindType)||f,m=j.event.special[f]||{},d=j.extend({type:f,origType:c[1],data:r,handler:n,guid:n.guid,selector:i,quick:ft(i),namespace:h.join(".")},p),g=l[f],g||(g=l[f]=[],g.delegateCount=0,m.setup&&m.setup.call(t,r,h,s)!==!1||(t.addEventListener?t.addEventListener(f,s,!1):t.attachEvent&&t.attachEvent("on"+f,s))),m.add&&(m.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),i?g.splice(g.delegateCount++,0,d):g.push(d),j.event.global[f]=!0;t=null}},global:{},remove:function(t,e,n,r,i){var o,a,s,l,u,c,f,h,d,p,g,m,v=j.hasData(t)&&j._data(t);if(v&&(h=v.events)){for(e=j.trim(dt(e||"")).split(" "),o=0;o<e.length;o++)if(a=ot.exec(e[o])||[],s=l=a[1],u=a[2],s){for(d=j.event.special[s]||{},s=(r?d.delegateType:d.bindType)||s,g=h[s]||[],c=g.length,u=u?new RegExp("(^|\\.)"+u.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,f=0;f<g.length;f++)m=g[f],!i&&l!==m.origType||n&&n.guid!==m.guid||u&&!u.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(g.splice(f--,1),m.selector&&g.delegateCount--,d.remove&&d.remove.call(t,m));0===g.length&&c!==g.length&&(d.teardown&&d.teardown.call(t,u)!==!1||j.removeEvent(t,s,v.handle),delete h[s])}else for(s in h)j.event.remove(t,s+e[o],n,r,!0);j.isEmptyObject(h)&&(p=v.handle,p&&(p.elem=null),j.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(e,n,r,i){if(!r||3!==r.nodeType&&8!==r.nodeType){var o,l,u,c,f,h,d,p,g,m,v=e.type||e,y=[];if(!ut.test(v+j.event.triggered)&&(v.indexOf("!")>=0&&(v=v.slice(0,-1),l=!0),v.indexOf(".")>=0&&(y=v.split("."),v=y.shift(),y.sort()),r&&!j.event.customEvent[v]||j.event.global[v]))if(e="object"===("undefined"==typeof e?"undefined":(0,s["default"])(e))?e[j.expando]?e:new j.Event(v,e):new j.Event(v),e.type=v,e.isTrigger=!0,e.exclusive=l,e.namespace=y.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,h=v.indexOf(":")<0?"on"+v:"",r){if(e.result=a,e.target||(e.target=r),n=null!=n?j.makeArray(n):[],n.unshift(e),d=j.event.special[v]||{},!d.trigger||d.trigger.apply(r,n)!==!1){if(g=[[r,d.bindType||v]],!i&&!d.noBubble&&!j.isWindow(r)){for(m=d.delegateType||v,c=ut.test(m+v)?r:r.parentNode,f=null;c;c=c.parentNode)g.push([c,m]),f=c;f&&f===r.ownerDocument&&g.push([f.defaultView||f.parentWindow||t,m])}for(u=0;u<g.length&&!e.isPropagationStopped();u++)c=g[u][0],e.type=g[u][1],p=(j._data(c,"events")||{})[e.type]&&j._data(c,"handle"),p&&p.apply(c,n),p=h&&c[h],p&&j.acceptData(c)&&p.apply(c,n)===!1&&e.preventDefault();return e.type=v,i||e.isDefaultPrevented()||d._default&&d._default.apply(r.ownerDocument,n)!==!1||"click"===v&&j.nodeName(r,"a")||!j.acceptData(r)||h&&r[v]&&("focus"!==v&&"blur"!==v||0!==e.target.offsetWidth)&&!j.isWindow(r)&&(f=r[h],f&&(r[h]=null),j.event.triggered=v,r[v](),j.event.triggered=a,f&&(r[h]=f)),e.result}}else{o=j.cache;for(u in o)o[u].events&&o[u].events[v]&&j.event.trigger(e,n,o[u].handle.elem,!0)}}},dispatch:function(e){e=j.event.fix(e||t.event);var n,r,i,o,s,l,u,c,f,h,d=(j._data(this,"events")||{})[e.type]||[],p=d.delegateCount,g=[].slice.call(arguments,0),m=!e.exclusive&&!e.namespace,v=[];if(g[0]=e,e.delegateTarget=this,p&&!e.target.disabled&&(!e.button||"click"!==e.type))for(o=j(this),o.context=this.ownerDocument||this,i=e.target;i!=this;i=i.parentNode||this){for(l={},c=[],o[0]=i,n=0;n<p;n++)f=d[n],h=f.selector,l[h]===a&&(l[h]=f.quick?ht(i,f.quick):o.is(h)),l[h]&&c.push(f);c.length&&v.push({elem:i,matches:c})}for(d.length>p&&v.push({elem:this,matches:d.slice(p)}),n=0;n<v.length&&!e.isPropagationStopped();n++)for(u=v[n],e.currentTarget=u.elem,r=0;r<u.matches.length&&!e.isImmediatePropagationStopped();r++)f=u.matches[r],(m||!e.namespace&&!f.namespace||e.namespace_re&&e.namespace_re.test(f.namespace))&&(e.data=f.data,e.handleObj=f,s=((j.event.special[f.origType]||{}).handle||f.handler).apply(u.elem,g),s!==a&&(e.result=s,s===!1&&(e.preventDefault(),e.stopPropagation())));return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||W,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||o===a||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[j.expando])return t;var e,n,r=t,i=j.event.fixHooks[t.type]||{},o=i.props?this.props.concat(i.props):this.props;for(t=j.Event(r),e=o.length;e;)n=o[--e],t[n]=r[n];return t.target||(t.target=r.srcElement||W),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===a&&(t.metaKey=t.ctrlKey),i.filter?i.filter(t,r):t},special:{ready:{setup:j.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,n){j.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,n,r){var i=j.extend(new j.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?j.event.trigger(i,null,e):j.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},j.event.handle=j.event.dispatch,j.removeEvent=W.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent&&t.detachEvent("on"+e,n)},j.Event=function(t,e){return this instanceof j.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?d:h):this.type=t,e&&j.extend(this,e),this.timeStamp=t&&t.timeStamp||j.now(),void(this[j.expando]=!0)):new j.Event(t,e)},j.Event.prototype={preventDefault:function(){this.isDefaultPrevented=d;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=d;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=d,this.stopPropagation()},isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h},j.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){j.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;o.selector;return i&&(i===r||j.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),j.support.submitBubbles||(j.event.special.submit={setup:function(){return!j.nodeName(this,"form")&&void j.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=j.nodeName(e,"input")||j.nodeName(e,"button")?e.form:a;n&&!n._submit_attached&&(j.event.add(n,"submit._submit",function(t){this.parentNode&&!t.isTrigger&&j.event.simulate("submit",this.parentNode,t,!0)}),n._submit_attached=!0)})},teardown:function(){return!j.nodeName(this,"form")&&void j.event.remove(this,"._submit")}}),j.support.changeBubbles||(j.event.special.change={setup:function(){return it.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(j.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),j.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,j.event.simulate("change",this,t,!0))})),!1):void j.event.add(this,"beforeactivate._change",function(t){var e=t.target;it.test(e.nodeName)&&!e._change_attached&&(j.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||j.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return j.event.remove(this,"._change"),it.test(this.nodeName)}}),j.support.focusinBubbles||j.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){j.event.simulate(e,t.target,j.event.fix(t),!0)};j.event.special[e]={setup:function(){0===n++&&W.addEventListener(t,r,!0)},teardown:function(){0===--n&&W.removeEventListener(t,r,!0)}}}),j.fn.extend({on:function(t,e,n,r,i){var o,l;if("object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))){"string"!=typeof e&&(n=e,e=a);for(l in t)this.on(l,e,n,t[l],i);return this}if(null==n&&null==r?(r=e,n=e=a):null==r&&("string"==typeof e?(r=n,n=a):(r=n,n=e,e=a)),r===!1)r=h;else if(!r)return this;return 1===i&&(o=r,r=function(t){return j().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=j.guid++)),this.each(function(){j.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on.call(this,t,e,n,r,1)},off:function(t,e,n){if(t&&t.preventDefault&&t.handleObj){var r=t.handleObj;return j(t.delegateTarget).off(r.namespace?r.type+"."+r.namespace:r.type,r.selector,r.handler),this}if("object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))){for(var i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=a),n===!1&&(n=h),this.each(function(){j.event.remove(this,t,n,e)})},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,n){return j(this.context).on(t,this.selector,e,n),this},die:function(t,e){return j(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1==arguments.length?this.off(t,"**"):this.off(e,t,n)},trigger:function(t,e){return this.each(function(){j.event.trigger(t,e,this)})},triggerHandler:function(t,e){if(this[0])return j.event.trigger(t,e,this[0],!0)},toggle:function(t){var e=arguments,n=t.guid||j.guid++,r=0,i=function(n){var i=(j._data(this,"lastToggle"+t.guid)||0)%r;return j._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),e[i].apply(this,arguments)||!1};for(i.guid=n;r<e.length;)e[r++].guid=n;return this.click(i)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),j.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){j.fn[e]=function(t,n){return null==n&&(n=t,t=null),arguments.length>0?this.on(e,null,t,n):this.trigger(e)},j.attrFn&&(j.attrFn[e]=!0),st.test(e)&&(j.event.fixHooks[e]=j.event.keyHooks),lt.test(e)&&(j.event.fixHooks[e]=j.event.mouseHooks)}),function(){function t(t,e,n,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[t];u;){if(u[r]===n){c=i[u.sizset];break}if(1!==u.nodeType||a||(u[r]=n,u.sizset=s),u.nodeName.toLowerCase()===e){c=u;break}u=u[t]}i[s]=c}}}function e(t,e,n,i,o,a){for(var s=0,l=i.length;s<l;s++){var u=i[s];if(u){var c=!1;for(u=u[t];u;){if(u[r]===n){c=i[u.sizset];break}if(1===u.nodeType)if(a||(u[r]=n,u.sizset=s),"string"!=typeof e){if(u===e){c=!0;break}}else if(h.filter(e,[u]).length>0){c=u;break}u=u[t]}i[s]=c}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),i=0,o=Object.prototype.toString,s=!1,l=!0,u=/\\/g,c=/\r\n/g,f=/\W/;[0,0].sort(function(){return l=!1,0});var h=function(t,e,r,i){r=r||[],e=e||W;var a=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return r;var s,l,u,c,f,d,m,v,b=!0,x=h.isXML(e),w=[],C=t;do if(n.exec(""),s=n.exec(C),s&&(C=s[3],w.push(s[1]),s[2])){c=s[3];break}while(s);if(w.length>1&&g.exec(t))if(2===w.length&&p.relative[w[0]])l=_(w[0]+w[1],e,i);else for(l=p.relative[w[0]]?[e]:h(w.shift(),e);w.length;)t=w.shift(),p.relative[t]&&(t+=w.shift()),l=_(t,l,i);else if(!i&&w.length>1&&9===e.nodeType&&!x&&p.match.ID.test(w[0])&&!p.match.ID.test(w[w.length-1])&&(f=h.find(w.shift(),e,x),e=f.expr?h.filter(f.expr,f.set)[0]:f.set[0]),e)for(f=i?{expr:w.pop(),set:y(i)}:h.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!e.parentNode?e:e.parentNode,x),l=f.expr?h.filter(f.expr,f.set):f.set,w.length>0?u=y(l):b=!1;w.length;)d=w.pop(),m=d,p.relative[d]?m=w.pop():d="",null==m&&(m=e),p.relative[d](u,m,x);else u=w=[];if(u||(u=l),u||h.error(d||t),"[object Array]"===o.call(u))if(b)if(e&&1===e.nodeType)for(v=0;null!=u[v];v++)u[v]&&(u[v]===!0||1===u[v].nodeType&&h.contains(e,u[v]))&&r.push(l[v]);else for(v=0;null!=u[v];v++)u[v]&&1===u[v].nodeType&&r.push(l[v]);else r.push.apply(r,u);else y(u,r);return c&&(h(c,a,r,i),h.uniqueSort(r)),r};h.uniqueSort=function(t){if(x&&(s=l,t.sort(x),s))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},h.matches=function(t,e){return h(t,null,null,e)},h.matchesSelector=function(t,e){return h(e,null,null,[t]).length>0},h.find=function(t,e,n){var r,i,o,a,s,l;if(!t)return[];for(i=0,o=p.order.length;i<o;i++)if(s=p.order[i],(a=p.leftMatch[s].exec(t))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(u,""),r=p.find[s](a,e,n),null!=r))){t=t.replace(p.match[s],"");break}return r||(r="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:r,expr:t}},h.filter=function(t,e,n,r){for(var i,o,s,l,u,c,f,d,g,m=t,v=[],y=e,b=e&&e[0]&&h.isXML(e[0]);t&&e.length;){for(s in p.filter)if(null!=(i=p.leftMatch[s].exec(t))&&i[2]){if(c=p.filter[s],f=i[1],o=!1,i.splice(1,1),"\\"===f.substr(f.length-1))continue;if(y===v&&(v=[]),p.preFilter[s])if(i=p.preFilter[s](i,y,n,v,r,b)){if(i===!0)continue}else o=l=!0;if(i)for(d=0;null!=(u=y[d]);d++)u&&(l=c(u,i,d,y),g=r^l,n&&null!=l?g?o=!0:y[d]=!1:g&&(v.push(u),o=!0));if(l!==a){if(n||(y=v),t=t.replace(p.match[s],""),!o)return[];break}}if(t===m){if(null!=o)break;h.error(t)}m=t}return y},h.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var d=h.getText=function(t){var e,n,r=t.nodeType,i="";if(r){if(1===r||9===r){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(c,"");for(t=t.firstChild;t;t=t.nextSibling)i+=d(t)}else if(3===r||4===r)return t.nodeValue}else for(e=0;n=t[e];e++)8!==n.nodeType&&(i+=d(n));return i},p=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var n="string"==typeof e,r=n&&!f.test(e),i=n&&!r;r&&(e=e.toLowerCase());for(var o,a=0,s=t.length;a<s;a++)if(o=t[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);t[a]=i||o&&o.nodeName.toLowerCase()===e?o||!1:o===e}i&&h.filter(e,t,!0)},">":function(t,e){var n,r="string"==typeof e,i=0,o=t.length;if(r&&!f.test(e)){for(e=e.toLowerCase();i<o;i++)if(n=t[i]){var a=n.parentNode;t[i]=a.nodeName.toLowerCase()===e&&a}}else{for(;i<o;i++)n=t[i],n&&(t[i]=r?n.parentNode:n.parentNode===e);r&&h.filter(e,t,!0)}},"":function(n,r,o){var a,s=i++,l=e;"string"!=typeof r||f.test(r)||(r=r.toLowerCase(),a=r,l=t),l("parentNode",r,s,n,a,o)},"~":function(n,r,o){var a,s=i++,l=e;"string"!=typeof r||f.test(r)||(r=r.toLowerCase(),a=r,l=t),l("previousSibling",r,s,n,a,o)}},find:{ID:function(t,e,n){if("undefined"!=typeof e.getElementById&&!n){var r=e.getElementById(t[1]);return r&&r.parentNode?[r]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var n=[],r=e.getElementsByName(t[1]),i=0,o=r.length;i<o;i++)r[i].getAttribute("name")===t[1]&&n.push(r[i]);return 0===n.length?null:n}},TAG:function(t,e){if("undefined"!=typeof e.getElementsByTagName)return e.getElementsByTagName(t[1])}},preFilter:{CLASS:function(t,e,n,r,i,o){if(t=" "+t[1].replace(u,"")+" ",o)return t;for(var a,s=0;null!=(a=e[s]);s++)a&&(i^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?n||r.push(a):n&&(e[s]=!1));return!1},ID:function(t){return t[1].replace(u,"")},TAG:function(t,e){return t[1].replace(u,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||h.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&h.error(t[0]);return t[0]=i++,t},ATTR:function(t,e,n,r,i,o){var a=t[1]=t[1].replace(u,"");return!o&&p.attrMap[a]&&(t[1]=p.attrMap[a]),t[4]=(t[4]||t[5]||"").replace(u,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,r,i,o){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=h.filter(t[3],e,r,!0^o);return r||i.push.apply(i,a),!1}t[3]=h(t[3],null,null,e)}else if(p.match.POS.test(t[0])||p.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,n){return!!h(n[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),n=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===n&&(e===n||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName);
},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,n,r){return e===r.length-1},even:function(t,e){return e%2===0},odd:function(t,e){return e%2===1},lt:function(t,e,n){return e<n[3]-0},gt:function(t,e,n){return e>n[3]-0},nth:function(t,e,n){return n[3]-0===e},eq:function(t,e,n){return n[3]-0===e}},filter:{PSEUDO:function(t,e,n,r){var i=e[1],o=p.filters[i];if(o)return o(t,n,e,r);if("contains"===i)return(t.textContent||t.innerText||d([t])||"").indexOf(e[3])>=0;if("not"===i){for(var a=e[3],s=0,l=a.length;s<l;s++)if(a[s]===t)return!1;return!0}h.error(i)},CHILD:function(t,e){var n,i,o,a,s,l,u=e[1],c=t;switch(u){case"only":case"first":for(;c=c.previousSibling;)if(1===c.nodeType)return!1;if("first"===u)return!0;c=t;case"last":for(;c=c.nextSibling;)if(1===c.nodeType)return!1;return!0;case"nth":if(n=e[2],i=e[3],1===n&&0===i)return!0;if(o=e[0],a=t.parentNode,a&&(a[r]!==o||!t.nodeIndex)){for(s=0,c=a.firstChild;c;c=c.nextSibling)1===c.nodeType&&(c.nodeIndex=++s);a[r]=o}return l=t.nodeIndex-i,0===n?0===l:l%n===0&&l/n>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var n=e[1],r=h.attr?h.attr(t,n):p.attrHandle[n]?p.attrHandle[n](t):null!=t[n]?t[n]:t.getAttribute(n),i=r+"",o=e[2],a=e[4];return null==r?"!="===o:!o&&h.attr?null!=r:"="===o?i===a:"*="===o?i.indexOf(a)>=0:"~="===o?(" "+i+" ").indexOf(a)>=0:a?"!="===o?i!==a:"^="===o?0===i.indexOf(a):"$="===o?i.substr(i.length-a.length)===a:"|="===o&&(i===a||i.substr(0,a.length+1)===a+"-"):i&&r!==!1},POS:function(t,e,n,r){var i=e[2],o=p.setFilters[i];if(o)return o(t,n,e,r)}}},g=p.match.POS,m=function(t,e){return"\\"+(e-0+1)};for(var v in p.match)p.match[v]=new RegExp(p.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[v].source.replace(/\\(\d+)/g,m));var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(W.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var n=0,r=e||[];if("[object Array]"===o.call(t))Array.prototype.push.apply(r,t);else if("number"==typeof t.length)for(var i=t.length;n<i;n++)r.push(t[n]);else for(;t[n];n++)r.push(t[n]);return r}}var x,w;W.documentElement.compareDocumentPosition?x=function(t,e){return t===e?(s=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(x=function(t,e){if(t===e)return s=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var n,r,i=[],o=[],a=t.parentNode,l=e.parentNode,u=a;if(a===l)return w(t,e);if(!a)return-1;if(!l)return 1;for(;u;)i.unshift(u),u=u.parentNode;for(u=l;u;)o.unshift(u),u=u.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return w(i[c],o[c]);return c===n?w(t,o[c],-1):w(i[c],e,1)},w=function(t,e,n){if(t===e)return n;for(var r=t.nextSibling;r;){if(r===e)return-1;r=r.nextSibling}return 1}),function(){var t=W.createElement("div"),e="script"+(new Date).getTime(),n=W.documentElement;t.innerHTML="<a name='"+e+"'/>",n.insertBefore(t,n.firstChild),W.getElementById(e)&&(p.find.ID=function(t,e,n){if("undefined"!=typeof e.getElementById&&!n){var r=e.getElementById(t[1]);return r?r.id===t[1]||"undefined"!=typeof r.getAttributeNode&&r.getAttributeNode("id").nodeValue===t[1]?[r]:a:[]}},p.filter.ID=function(t,e){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&n&&n.nodeValue===e}),n.removeChild(t),n=t=null}(),function(){var t=W.createElement("div");t.appendChild(W.createComment("")),t.getElementsByTagName("*").length>0&&(p.find.TAG=function(t,e){var n=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var r=[],i=0;n[i];i++)1===n[i].nodeType&&r.push(n[i]);n=r}return n}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(p.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),W.querySelectorAll&&!function(){var t=h,e=W.createElement("div"),n="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){h=function(e,r,i,o){if(r=r||W,!o&&!h.isXML(r)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(a&&(1===r.nodeType||9===r.nodeType)){if(a[1])return y(r.getElementsByTagName(e),i);if(a[2]&&p.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(a[2]),i)}if(9===r.nodeType){if("body"===e&&r.body)return y([r.body],i);if(a&&a[3]){var s=r.getElementById(a[3]);if(!s||!s.parentNode)return y([],i);if(s.id===a[3])return y([s],i)}try{return y(r.querySelectorAll(e),i)}catch(l){}}else if(1===r.nodeType&&"object"!==r.nodeName.toLowerCase()){var u=r,c=r.getAttribute("id"),f=c||n,d=r.parentNode,g=/^\s*[+~]/.test(e);c?f=f.replace(/'/g,"\\$&"):r.setAttribute("id",f),g&&d&&(r=r.parentNode);try{if(!g||d)return y(r.querySelectorAll("[id='"+f+"'] "+e),i)}catch(m){}finally{c||u.removeAttribute("id")}}}return t(e,r,i,o)};for(var r in t)h[r]=t[r];e=null}}(),function(){var t=W.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var n=!e.call(W.createElement("div"),"div"),r=!1;try{e.call(W.documentElement,"[test!='']:sizzle")}catch(i){r=!0}h.matchesSelector=function(t,i){if(i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!h.isXML(t))try{if(r||!p.match.PSEUDO.test(i)&&!/!=/.test(i)){var o=e.call(t,i);if(o||!n||t.document&&11!==t.document.nodeType)return o}}catch(a){}return h(i,null,null,[t]).length>0}}}(),function(){var t=W.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(t,e,n){if("undefined"!=typeof e.getElementsByClassName&&!n)return e.getElementsByClassName(t[1])},t=null))}(),W.documentElement.contains?h.contains=function(t,e){return t!==e&&(!t.contains||t.contains(e))}:W.documentElement.compareDocumentPosition?h.contains=function(t,e){return!!(16&t.compareDocumentPosition(e))}:h.contains=function(){return!1},h.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return!!e&&"HTML"!==e.nodeName};var _=function(t,e,n){for(var r,i=[],o="",a=e.nodeType?[e]:e;r=p.match.PSEUDO.exec(t);)o+=r[0],t=t.replace(p.match.PSEUDO,"");t=p.relative[t]?t+"*":t;for(var s=0,l=a.length;s<l;s++)h(t,a[s],i,n);return h.filter(o,i)};h.attr=j.attr,h.selectors.attrMap={},j.find=h,j.expr=h.selectors,j.expr[":"]=j.expr.filters,j.unique=h.uniqueSort,j.text=h.getText,j.isXMLDoc=h.isXML,j.contains=h.contains}();var pt=/Until$/,gt=/^(?:parents|prevUntil|prevAll)/,mt=/,/,vt=/^.[^:#\[\.,]*$/,yt=Array.prototype.slice,bt=j.expr.match.POS,xt={children:!0,contents:!0,next:!0,prev:!0};j.fn.extend({find:function(t){var e,n,r=this;if("string"!=typeof t)return j(t).filter(function(){for(e=0,n=r.length;e<n;e++)if(j.contains(r[e],this))return!0});var i,o,a,s=this.pushStack("","find",t);for(e=0,n=this.length;e<n;e++)if(i=s.length,j.find(t,this[e],s),e>0)for(o=i;o<s.length;o++)for(a=0;a<i;a++)if(s[a]===s[o]){s.splice(o--,1);break}return s},has:function(t){var e=j(t);return this.filter(function(){for(var t=0,n=e.length;t<n;t++)if(j.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(g(this,t,!1),"not",t)},filter:function(t){return this.pushStack(g(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?bt.test(t)?j(t,this.context).index(this[0])>=0:j.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var n,r,i=[],o=this[0];if(j.isArray(t)){for(var a=1;o&&o.ownerDocument&&o!==e;){for(n=0;n<t.length;n++)j(o).is(t[n])&&i.push({selector:t[n],elem:o,level:a});o=o.parentNode,a++}return i}var s=bt.test(t)||"string"!=typeof t?j(t,e||this.context):0;for(n=0,r=this.length;n<r;n++)for(o=this[n];o;){if(s?s.index(o)>-1:j.find.matchesSelector(o,t)){i.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===e||11===o.nodeType)break}return i=i.length>1?j.unique(i):i,this.pushStack(i,"closest",t)},index:function(t){return t?"string"==typeof t?j.inArray(this[0],j(t)):j.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var n="string"==typeof t?j(t,e):j.makeArray(t&&t.nodeType?[t]:t),r=j.merge(this.get(),n);return this.pushStack(p(n[0])||p(r[0])?r:j.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),j.each({parent:function De(t){var De=t.parentNode;return De&&11!==De.nodeType?De:null},parents:function(t){return j.dir(t,"parentNode")},parentsUntil:function(t,e,n){return j.dir(t,"parentNode",n)},next:function(t){return j.nth(t,2,"nextSibling")},prev:function(t){return j.nth(t,2,"previousSibling")},nextAll:function(t){return j.dir(t,"nextSibling")},prevAll:function(t){return j.dir(t,"previousSibling")},nextUntil:function(t,e,n){return j.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return j.dir(t,"previousSibling",n)},siblings:function(t){return j.sibling(t.parentNode.firstChild,t)},children:function(t){return j.sibling(t.firstChild)},contents:function(t){return j.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:j.makeArray(t.childNodes)}},function(t,e){j.fn[t]=function(n,r){var i=j.map(this,e,n);return pt.test(t)||(r=n),r&&"string"==typeof r&&(i=j.filter(r,i)),i=this.length>1&&!xt[t]?j.unique(i):i,(this.length>1||mt.test(r))&&gt.test(t)&&(i=i.reverse()),this.pushStack(i,t,yt.call(arguments).join(","))}}),j.extend({filter:function(t,e,n){return n&&(t=":not("+t+")"),1===e.length?j.find.matchesSelector(e[0],t)?[e[0]]:[]:j.find.matches(t,e)},dir:function(t,e,n){for(var r=[],i=t[e];i&&9!==i.nodeType&&(n===a||1!==i.nodeType||!j(i).is(n));)1===i.nodeType&&r.push(i),i=i[e];return r},nth:function(t,e,n,r){e=e||1;for(var i=0;t&&(1!==t.nodeType||++i!==e);t=t[n]);return t},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var wt="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",_t=/ jQuery\d+="(?:\d+|null)"/g,Ct=/^\s+/,kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,St=/<([\w:]+)/,Tt=/<tbody/i,Mt=/<|&#?\w+;/,Nt=/<(?:script|style)/i,At=/<(?:script|object|embed|option|style)/i,Lt=new RegExp("<(?:"+wt+")","i"),Et=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/\/(java|ecma)script/i,Ot=/^\s*<!(?:\[CDATA\[|\-\-)/,Ft={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},zt=m(W);Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,j.support.htmlSerialize||(Ft._default=[1,"div<div>","</div>"]),j.fn.extend({text:function(t){return j.isFunction(t)?this.each(function(e){var n=j(this);n.text(t.call(this,e,n.text()))}):"object"!==("undefined"==typeof t?"undefined":(0,s["default"])(t))&&t!==a?this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(t)):j.text(this)},wrapAll:function(t){if(j.isFunction(t))return this.each(function(e){j(this).wrapAll(t.call(this,e))});if(this[0]){var e=j(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return j.isFunction(t)?this.each(function(e){j(this).wrapInner(t.call(this,e))}):this.each(function(){var e=j(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=j.isFunction(t);return this.each(function(n){j(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){j.nodeName(this,"body")||j(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=j.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,j.clean(arguments)),t}},remove:function(t,e){for(var n,r=0;null!=(n=this[r]);r++)t&&!j.filter(t,[n]).length||(e||1!==n.nodeType||(j.cleanData(n.getElementsByTagName("*")),j.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&j.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return j.clone(this,t,e)})},html:function(t){if(t===a)return this[0]&&1===this[0].nodeType?this[0].innerHTML.replace(_t,""):null;if("string"!=typeof t||Nt.test(t)||!j.support.leadingWhitespace&&Ct.test(t)||Ft[(St.exec(t)||["",""])[1].toLowerCase()])j.isFunction(t)?this.each(function(e){var n=j(this);n.html(t.call(this,e,n.html()))}):this.empty().append(t);else{t=t.replace(kt,"<$1></$2>");try{for(var e=0,n=this.length;e<n;e++)1===this[e].nodeType&&(j.cleanData(this[e].getElementsByTagName("*")),this[e].innerHTML=t)}catch(r){this.empty().append(t)}}return this},replaceWith:function(t){return this[0]&&this[0].parentNode?j.isFunction(t)?this.each(function(e){var n=j(this),r=n.html();n.replaceWith(t.call(this,e,r))}):("string"!=typeof t&&(t=j(t).detach()),this.each(function(){var e=this.nextSibling,n=this.parentNode;j(this).remove(),e?j(e).before(t):j(n).append(t)})):this.length?this.pushStack(j(j.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){var r,i,o,s,l=t[0],u=[];if(!j.support.checkClone&&3===arguments.length&&"string"==typeof l&&Et.test(l))return this.each(function(){j(this).domManip(t,e,n,!0)});if(j.isFunction(l))return this.each(function(r){var i=j(this);t[0]=l.call(this,r,e?i.html():a),i.domManip(t,e,n)});if(this[0]){if(s=l&&l.parentNode,r=j.support.parentNode&&s&&11===s.nodeType&&s.childNodes.length===this.length?{fragment:s}:j.buildFragment(t,this,u),o=r.fragment,i=1===o.childNodes.length?o=o.firstChild:o.firstChild){e=e&&j.nodeName(i,"tr");for(var c=0,f=this.length,h=f-1;c<f;c++)n.call(e?v(this[c],i):this[c],r.cacheable||f>1&&c<h?j.clone(o,!0,!0):o)}u.length&&j.each(u,k)}return this}}),j.buildFragment=function(t,e,n){var r,i,o,a,s=t[0];return e&&e[0]&&(a=e[0].ownerDocument||e[0]),a.createDocumentFragment||(a=W),!(1===t.length&&"string"==typeof s&&s.length<512&&a===W&&"<"===s.charAt(0))||At.test(s)||!j.support.checkClone&&Et.test(s)||!j.support.html5Clone&&Lt.test(s)||(i=!0,o=j.fragments[s],o&&1!==o&&(r=o)),r||(r=a.createDocumentFragment(),j.clean(t,a,r,n)),i&&(j.fragments[s]=o?r:1),{fragment:r,cacheable:i}},j.fragments={},j.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){j.fn[t]=function(n){var r=[],i=j(n),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===i.length)return i[e](this[0]),this;for(var a=0,s=i.length;a<s;a++){var l=(a>0?this.clone(!0):this).get();j(i[a])[e](l),r=r.concat(l)}return this.pushStack(r,t,i.selector)}}),j.extend({clone:function Oe(t,e,n){var r,i,o,Oe=j.support.html5Clone||!Lt.test("<"+t.nodeName)?t.cloneNode(!0):C(t);if(!(j.support.noCloneEvent&&j.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||j.isXMLDoc(t)))for(b(t,Oe),r=x(t),i=x(Oe),o=0;r[o];++o)i[o]&&b(r[o],i[o]);if(e&&(y(t,Oe),n))for(r=x(t),i=x(Oe),o=0;r[o];++o)y(r[o],i[o]);return r=i=null,Oe},clean:function(t,e,n,r){var i;e=e||W,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||W);for(var o,a,s=[],l=0;null!=(a=t[l]);l++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Mt.test(a)){a=a.replace(kt,"<$1></$2>");var u=(St.exec(a)||["",""])[1].toLowerCase(),c=Ft[u]||Ft._default,f=c[0],h=e.createElement("div");for(e===W?zt.appendChild(h):m(e).appendChild(h),h.innerHTML=c[1]+a+c[2];f--;)h=h.lastChild;if(!j.support.tbody){var d=Tt.test(a),p="table"!==u||d?"<table>"!==c[1]||d?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes;for(o=p.length-1;o>=0;--o)j.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!j.support.leadingWhitespace&&Ct.test(a)&&h.insertBefore(e.createTextNode(Ct.exec(a)[0]),h.firstChild),a=h.childNodes}else a=e.createTextNode(a);var g;if(!j.support.appendChecked)if(a[0]&&"number"==typeof(g=a.length))for(o=0;o<g;o++)_(a[o]);else _(a);a.nodeType?s.push(a):s=j.merge(s,a)}if(n)for(i=function(t){return!t.type||Dt.test(t.type)},l=0;s[l];l++)if(!r||!j.nodeName(s[l],"script")||s[l].type&&"text/javascript"!==s[l].type.toLowerCase()){if(1===s[l].nodeType){var v=j.grep(s[l].getElementsByTagName("script"),i);s.splice.apply(s,[l+1,0].concat(v))}n.appendChild(s[l])}else r.push(s[l].parentNode?s[l].parentNode.removeChild(s[l]):s[l]);return s},cleanData:function(t){for(var e,n,r,i=j.cache,o=j.event.special,a=j.support.deleteExpando,s=0;null!=(r=t[s]);s++)if((!r.nodeName||!j.noData[r.nodeName.toLowerCase()])&&(n=r[j.expando])){if(e=i[n],e&&e.events){for(var l in e.events)o[l]?j.event.remove(r,l):j.removeEvent(r,l,e.handle);e.handle&&(e.handle.elem=null)}a?delete r[j.expando]:r.removeAttribute&&r.removeAttribute(j.expando),delete i[n]}}});var Rt,Pt,Bt,Wt=/alpha\([^)]*\)/i,It=/opacity=([^)]*)/,Ht=/([A-Z]|^ms)/g,jt=/^-?\d+(?:px)?$/i,$t=/^-?\d/,qt=/^([\-+])=([\-+.\de]+)/,Vt={position:"absolute",visibility:"hidden",display:"block"},Ut=["Left","Right"],Xt=["Top","Bottom"];j.fn.css=function(t,e){return 2===arguments.length&&e===a?this:j.access(this,t,e,!0,function(t,e,n){return n!==a?j.style(t,e,n):j.css(t,e)})},j.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Rt(t,"opacity","opacity");return""===n?"1":n}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":j.support.cssFloat?"cssFloat":"styleFloat"},style:function Fe(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,l=j.camelCase(e),Fe=t.style,u=j.cssHooks[l];if(e=j.cssProps[l]||l,n===a)return u&&"get"in u&&(i=u.get(t,!1,r))!==a?i:Fe[e];if(o="undefined"==typeof n?"undefined":(0,s["default"])(n),"string"===o&&(i=qt.exec(n))&&(n=+(i[1]+1)*+i[2]+parseFloat(j.css(t,e)),o="number"),!(null==n||"number"===o&&isNaN(n)||("number"!==o||j.cssNumber[l]||(n+="px"),u&&"set"in u&&(n=u.set(t,n))===a)))try{Fe[e]=n}catch(c){}}},css:function(t,e,n){var r,i;return e=j.camelCase(e),i=j.cssHooks[e],e=j.cssProps[e]||e,"cssFloat"===e&&(e="float"),i&&"get"in i&&(r=i.get(t,!0,n))!==a?r:Rt?Rt(t,e):void 0},swap:function(t,e,n){var r={};for(var i in e)r[i]=t.style[i],t.style[i]=e[i];n.call(t);for(i in e)t.style[i]=r[i]}}),j.curCSS=j.css,j.each(["height","width"],function(t,e){j.cssHooks[e]={get:function(t,n,r){var i;if(n)return 0!==t.offsetWidth?S(t,e,r):(j.swap(t,Vt,function(){i=S(t,e,r)}),i)},set:function(t,e){return jt.test(e)?(e=parseFloat(e),e>=0?e+"px":void 0):e}}}),j.support.opacity||(j.cssHooks.opacity={get:function(t,e){return It.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var n=t.style,r=t.currentStyle,i=j.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,e>=1&&""===j.trim(o.replace(Wt,""))&&(n.removeAttribute("filter"),r&&!r.filter)||(n.filter=Wt.test(o)?o.replace(Wt,i):o+" "+i)}}),j(function(){j.support.reliableMarginRight||(j.cssHooks.marginRight={get:function(t,e){var n;return j.swap(t,{display:"inline-block"},function(){n=e?Rt(t,"margin-right","marginRight"):t.style.marginRight}),n}})}),W.defaultView&&W.defaultView.getComputedStyle&&(Pt=function(t,e){var n,r,i;return e=e.replace(Ht,"-$1").toLowerCase(),(r=t.ownerDocument.defaultView)&&(i=r.getComputedStyle(t,null))&&(n=i.getPropertyValue(e),""!==n||j.contains(t.ownerDocument.documentElement,t)||(n=j.style(t,e))),n}),W.documentElement.currentStyle&&(Bt=function(t,e){var n,r,i,o=t.currentStyle&&t.currentStyle[e],a=t.style;return null===o&&a&&(i=a[e])&&(o=i),!jt.test(o)&&$t.test(o)&&(n=a.left,r=t.runtimeStyle&&t.runtimeStyle.left,r&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":o||0,o=a.pixelLeft+"px",a.left=n,r&&(t.runtimeStyle.left=r)),""===o?"auto":o}),Rt=Pt||Bt,j.expr&&j.expr.filters&&(j.expr.filters.hidden=function(t){var e=t.offsetWidth,n=t.offsetHeight;return 0===e&&0===n||!j.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||j.css(t,"display"))},j.expr.filters.visible=function(t){return!j.expr.filters.hidden(t)});var Gt,Yt,Kt=/%20/g,Jt=/\[\]$/,Zt=/\r?\n/g,Qt=/#.*$/,te=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ee=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ne=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,re=/^(?:GET|HEAD)$/,ie=/^\/\//,oe=/\?/,ae=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,se=/^(?:select|textarea)/i,le=/\s+/,ue=/([?&])_=[^&]*/,ce=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,fe=j.fn.load,he={},de={},pe=["*/"]+["*"];try{Gt=H.href}catch(ge){Gt=W.createElement("a"),Gt.href="",Gt=Gt.href}Yt=ce.exec(Gt.toLowerCase())||[],j.fn.extend({load:function(t,e,n){if("string"!=typeof t&&fe)return fe.apply(this,arguments);if(!this.length)return this;var r=t.indexOf(" ");if(r>=0){var i=t.slice(r,t.length);t=t.slice(0,r)}var o="GET";e&&(j.isFunction(e)?(n=e,e=a):"object"===("undefined"==typeof e?"undefined":(0,s["default"])(e))&&(e=j.param(e,j.ajaxSettings.traditional),o="POST"));var l=this;return j.ajax({url:t,type:o,dataType:"html",data:e,complete:function(t,e,r){r=t.responseText,t.isResolved()&&(t.done(function(t){r=t}),l.html(i?j("<div>").append(r.replace(ae,"")).find(i):r)),n&&l.each(n,[r,e,t])}}),this},serialize:function(){return j.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?j.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||se.test(this.nodeName)||ee.test(this.type))}).map(function(t,e){var n=j(this).val();return null==n?null:j.isArray(n)?j.map(n,function(t,n){return{name:e.name,value:t.replace(Zt,"\r\n")}}):{name:e.name,value:n.replace(Zt,"\r\n")}}).get()}}),j.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){j.fn[e]=function(t){return this.on(e,t)}}),j.each(["get","post"],function(t,e){j[e]=function(t,n,r,i){return j.isFunction(n)&&(i=i||r,r=n,n=a),j.ajax({type:e,url:t,data:n,success:r,dataType:i})}}),j.extend({getScript:function(t,e){return j.get(t,a,e,"script")},getJSON:function(t,e,n){return j.get(t,e,n,"json")},ajaxSetup:function(t,e){return e?N(t,j.ajaxSettings):(e=t,t=j.ajaxSettings),N(t,e),t},ajaxSettings:{url:Gt,isLocal:ne.test(Yt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":pe},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":j.parseJSON,"text xml":j.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:T(he),ajaxTransport:T(de),ajax:function(t,e){function n(t,e,n,o){if(2!==w){w=2,u&&clearTimeout(u),l=a,i=o||"",_.readyState=t>0?4:0;var s,c,h,b,x,C=e,k=n?L(d,_,n):a;if(t>=200&&t<300||304===t)if(d.ifModified&&((b=_.getResponseHeader("Last-Modified"))&&(j.lastModified[r]=b),(x=_.getResponseHeader("Etag"))&&(j.etag[r]=x)),304===t)C="notmodified",s=!0;else try{c=E(d,k),C="success",s=!0}catch(S){C="parsererror",h=S}else h=C,C&&!t||(C="error",t<0&&(t=0));_.status=t,_.statusText=""+(e||C),s?m.resolveWith(p,[c,C,_]):m.rejectWith(p,[_,C,h]),_.statusCode(y),y=a,f&&g.trigger("ajax"+(s?"Success":"Error"),[_,d,s?c:h]),v.fireWith(p,[_,C]),f&&(g.trigger("ajaxComplete",[_,d]),--j.active||j.event.trigger("ajaxStop"))}}"object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))&&(e=t,t=a),e=e||{};var r,i,o,l,u,c,f,h,d=j.ajaxSetup({},e),p=d.context||d,g=p!==d&&(p.nodeType||p instanceof j)?j(p):j.event,m=j.Deferred(),v=j.Callbacks("once memory"),y=d.statusCode||{},b={},x={},w=0,_={readyState:0,setRequestHeader:function(t,e){if(!w){var n=t.toLowerCase();t=x[n]=x[n]||t,b[t]=e}return this},getAllResponseHeaders:function(){return 2===w?i:null},getResponseHeader:function(t){var e;if(2===w){if(!o)for(o={};e=te.exec(i);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return e===a?null:e},overrideMimeType:function(t){return w||(d.mimeType=t),this},abort:function(t){return t=t||"abort",l&&l.abort(t),n(0,t),this}};if(m.promise(_),_.success=_.done,_.error=_.fail,_.complete=v.add,_.statusCode=function(t){if(t){var e;if(w<2)for(e in t)y[e]=[y[e],t[e]];else e=t[_.status],_.then(e,e)}return this},d.url=((t||d.url)+"").replace(Qt,"").replace(ie,Yt[1]+"//"),d.dataTypes=j.trim(d.dataType||"*").toLowerCase().split(le),null==d.crossDomain&&(c=ce.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]==Yt[1]&&c[2]==Yt[2]&&(c[3]||("http:"===c[1]?80:443))==(Yt[3]||("http:"===Yt[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=j.param(d.data,d.traditional)),M(he,d,e,_),2===w)return!1;if(f=d.global,d.type=d.type.toUpperCase(),d.hasContent=!re.test(d.type),f&&0===j.active++&&j.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(oe.test(d.url)?"&":"?")+d.data,delete d.data),r=d.url,d.cache===!1)){var C=j.now(),k=d.url.replace(ue,"$1_="+C);d.url=k+(k===d.url?(oe.test(d.url)?"&":"?")+"_="+C:"")}(d.data&&d.hasContent&&d.contentType!==!1||e.contentType)&&_.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(r=r||d.url,j.lastModified[r]&&_.setRequestHeader("If-Modified-Since",j.lastModified[r]),j.etag[r]&&_.setRequestHeader("If-None-Match",j.etag[r])),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+pe+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)_.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===w))return _.abort(),!1;for(h in{success:1,error:1,complete:1})_[h](d[h]);if(l=M(de,d,e,_)){_.readyState=1,f&&g.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(u=setTimeout(function(){_.abort("timeout")},d.timeout));try{w=1,l.send(b,n)}catch(S){if(!(w<2))throw S;n(-1,S)}}else n(-1,"No Transport");return _},param:function(t,e){var n=[],r=function(t,e){e=j.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===a&&(e=j.ajaxSettings.traditional),j.isArray(t)||t.jquery&&!j.isPlainObject(t))j.each(t,function(){r(this.name,this.value)});else for(var i in t)A(i,t[i],e,r);return n.join("&").replace(Kt,"+")}}),j.extend({active:0,lastModified:{},etag:{}});var me=j.now(),ve=/(\=)\?(&|$)|\?\?/i;j.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return j.expando+"_"+me++}}),j.ajaxPrefilter("json jsonp",function(e,n,r){var i="application/x-www-form-urlencoded"===e.contentType&&"string"==typeof e.data;if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(ve.test(e.url)||i&&ve.test(e.data))){var o,a=e.jsonpCallback=j.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s=t[a],l=e.url,u=e.data,c="$1"+a+"$2";return e.jsonp!==!1&&(l=l.replace(ve,c),e.url===l&&(i&&(u=u.replace(ve,c)),e.data===u&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+a))),e.url=l,e.data=u,t[a]=function(t){o=[t]},r.always(function(){t[a]=s,o&&j.isFunction(s)&&t[a](o[0])}),e.converters["script json"]=function(){return o||j.error(a+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),j.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return j.globalEval(t),t}}}),j.ajaxPrefilter("script",function(t){t.cache===a&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),j.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=W.head||W.getElementsByTagName("head")[0]||W.documentElement;return{send:function(r,i){e=W.createElement("script"),e.async="async",t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,r){(r||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,n&&e.parentNode&&n.removeChild(e),e=a,r||i(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(0,1)}}}});var ye,be=!!t.ActiveXObject&&function(){for(var t in ye)ye[t](0,1)},xe=0;j.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&D()||O()}:D,function(t){j.extend(j.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(j.ajaxSettings.xhr()),j.support.ajax&&j.ajaxTransport(function(e){if(!e.crossDomain||j.support.cors){var n;return{send:function(r,i){var o,s,l=e.xhr();if(e.username?l.open(e.type,e.url,e.async,e.username,e.password):l.open(e.type,e.url,e.async),e.xhrFields)for(s in e.xhrFields)l[s]=e.xhrFields[s];e.mimeType&&l.overrideMimeType&&l.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(u){}l.send(e.hasContent&&e.data||null),n=function(t,r){var s,u,c,f,h;try{if(n&&(r||4===l.readyState))if(n=a,o&&(l.onreadystatechange=j.noop,be&&delete ye[o]),r)4!==l.readyState&&l.abort();else{s=l.status,c=l.getAllResponseHeaders(),f={},h=l.responseXML,h&&h.documentElement&&(f.xml=h),f.text=l.responseText;try{u=l.statusText}catch(d){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=f.text?200:404}}catch(p){r||i(-1,p)}f&&i(s,u,f,c)},e.async&&4!==l.readyState?(o=++xe,be&&(ye||(ye={},j(t).unload(be)),ye[o]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var we,_e,Ce,ke,Se={},Te=/^(?:toggle|show|hide)$/,Me=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,Ne=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];j.fn.extend({show:function(t,e,n){var r,i;if(t||0===t)return this.animate(R("show",3),t,e,n);for(var o=0,a=this.length;o<a;o++)r=this[o],r.style&&(i=r.style.display,j._data(r,"olddisplay")||"none"!==i||(i=r.style.display=""),""===i&&"none"===j.css(r,"display")&&j._data(r,"olddisplay",P(r.nodeName)));for(o=0;o<a;o++)r=this[o],r.style&&(i=r.style.display,""!==i&&"none"!==i||(r.style.display=j._data(r,"olddisplay")||""));return this},hide:function(t,e,n){if(t||0===t)return this.animate(R("hide",3),t,e,n);for(var r,i,o=0,a=this.length;o<a;o++)r=this[o],r.style&&(i=j.css(r,"display"),"none"===i||j._data(r,"olddisplay")||j._data(r,"olddisplay",i));for(o=0;o<a;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:j.fn.toggle,toggle:function(t,e,n){var r="boolean"==typeof t;return j.isFunction(t)&&j.isFunction(e)?this._toggle.apply(this,arguments):null==t||r?this.each(function(){var e=r?t:j(this).is(":hidden");j(this)[e?"show":"hide"]()}):this.animate(R("toggle",3),t,e,n),this},fadeTo:function(t,e,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){function i(){o.queue===!1&&j._mark(this);
var e,n,r,i,a,s,l,u,c,f=j.extend({},o),h=1===this.nodeType,d=h&&j(this).is(":hidden");f.animatedProperties={};for(r in t){if(e=j.camelCase(r),r!==e&&(t[e]=t[r],delete t[r]),n=t[e],j.isArray(n)?(f.animatedProperties[e]=n[1],n=t[e]=n[0]):f.animatedProperties[e]=f.specialEasing&&f.specialEasing[e]||f.easing||"swing","hide"===n&&d||"show"===n&&!d)return f.complete.call(this);!h||"height"!==e&&"width"!==e||(f.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===j.css(this,"display")&&"none"===j.css(this,"float")&&(j.support.inlineBlockNeedsLayout&&"inline"!==P(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=f.overflow&&(this.style.overflow="hidden");for(r in t)i=new j.fx(this,f,r),n=t[r],Te.test(n)?(c=j._data(this,"toggle"+r)||("toggle"===n?d?"show":"hide":0),c?(j._data(this,"toggle"+r,"show"===c?"hide":"show"),i[c]()):i[n]()):(a=Me.exec(n),s=i.cur(),a?(l=parseFloat(a[2]),u=a[3]||(j.cssNumber[r]?"":"px"),"px"!==u&&(j.style(this,r,(l||1)+u),s=(l||1)/i.cur()*s,j.style(this,r,s+u)),a[1]&&(l=("-="===a[1]?-1:1)*l+s),i.custom(s,l,u)):i.custom(s,n,""));return!0}var o=j.speed(e,n,r);return j.isEmptyObject(t)?this.each(o.complete,[!1]):(t=j.extend({},t),o.queue===!1?this.each(i):this.queue(o.queue,i))},stop:function(t,e,n){return"string"!=typeof t&&(n=e,e=t,t=a),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,r){var i=e[r];j.removeData(t,r,!0),i.stop(n)}var r,i=!1,o=j.timers,a=j._data(this);if(n||j._unmark(!0,this),null==t)for(r in a)a[r]&&a[r].stop&&r.indexOf(".run")===r.length-4&&e(this,a,r);else a[r=t+".run"]&&a[r].stop&&e(this,a,r);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(n?o[r](!0):o[r].saveState(),i=!0,o.splice(r,1));n&&i||j.dequeue(this,t)})}}),j.each({slideDown:R("show",1),slideUp:R("hide",1),slideToggle:R("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){j.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),j.extend({speed:function(t,e,n){var r=t&&"object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))?j.extend({},t):{complete:n||!n&&e||j.isFunction(t)&&t,duration:t,easing:n&&e||e&&!j.isFunction(e)&&e};return r.duration=j.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in j.fx.speeds?j.fx.speeds[r.duration]:j.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(t){j.isFunction(r.old)&&r.old.call(this),r.queue?j.dequeue(this,r.queue):t!==!1&&j._unmark(this)},r},easing:{linear:function(t,e,n,r){return n+r*t},swing:function(t,e,n,r){return(-Math.cos(t*Math.PI)/2+.5)*r+n}},timers:[],fx:function(t,e,n){this.options=e,this.elem=t,this.prop=n,e.orig=e.orig||{}}}),j.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(j.fx.step[this.prop]||j.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=j.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,e,n){function r(t){return i.step(t)}var i=this,o=j.fx;this.startTime=ke||F(),this.end=e,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||(j.cssNumber[this.prop]?"":"px"),r.queue=this.options.queue,r.elem=this.elem,r.saveState=function(){i.options.hide&&j._data(i.elem,"fxshow"+i.prop)===a&&j._data(i.elem,"fxshow"+i.prop,i.start)},r()&&j.timers.push(r)&&!Ce&&(Ce=setInterval(o.tick,o.interval))},show:function(){var t=j._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||j.style(this.elem,this.prop),this.options.show=!0,t!==a?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),j(this.elem).show()},hide:function(){this.options.orig[this.prop]=j._data(this.elem,"fxshow"+this.prop)||j.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,n,r,i=ke||F(),o=!0,a=this.elem,s=this.options;if(t||i>=s.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),s.animatedProperties[this.prop]=!0;for(e in s.animatedProperties)s.animatedProperties[e]!==!0&&(o=!1);if(o){if(null==s.overflow||j.support.shrinkWrapBlocks||j.each(["","X","Y"],function(t,e){a.style["overflow"+e]=s.overflow[t]}),s.hide&&j(a).hide(),s.hide||s.show)for(e in s.animatedProperties)j.style(a,e,s.orig[e]),j.removeData(a,"fxshow"+e,!0),j.removeData(a,"toggle"+e,!0);r=s.complete,r&&(s.complete=!1,r.call(a))}return!1}return s.duration==1/0?this.now=i:(n=i-this.startTime,this.state=n/s.duration,this.pos=j.easing[s.animatedProperties[this.prop]](this.state,n,0,1,s.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},j.extend(j.fx,{tick:function(){for(var t,e=j.timers,n=0;n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||j.fx.stop()},interval:13,stop:function(){clearInterval(Ce),Ce=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){j.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),j.each(["width","height"],function(t,e){j.fx.step[e]=function(t){j.style(t.elem,e,Math.max(0,t.now)+t.unit)}}),j.expr&&j.expr.filters&&(j.expr.filters.animated=function(t){return j.grep(j.timers,function(e){return t===e.elem}).length});var Ae=/^t(?:able|d|h)$/i,Le=/^(?:body|html)$/i;"getBoundingClientRect"in W.documentElement?j.fn.offset=function(t){var e,n=this[0];if(t)return this.each(function(e){j.offset.setOffset(this,t,e)});if(!n||!n.ownerDocument)return null;if(n===n.ownerDocument.body)return j.offset.bodyOffset(n);try{e=n.getBoundingClientRect()}catch(r){}var i=n.ownerDocument,o=i.documentElement;if(!e||!j.contains(o,n))return e?{top:e.top,left:e.left}:{top:0,left:0};var a=i.body,s=B(i),l=o.clientTop||a.clientTop||0,u=o.clientLeft||a.clientLeft||0,c=s.pageYOffset||j.support.boxModel&&o.scrollTop||a.scrollTop,f=s.pageXOffset||j.support.boxModel&&o.scrollLeft||a.scrollLeft,h=e.top+c-l,d=e.left+f-u;return{top:h,left:d}}:j.fn.offset=function(t){var e=this[0];if(t)return this.each(function(e){j.offset.setOffset(this,t,e)});if(!e||!e.ownerDocument)return null;if(e===e.ownerDocument.body)return j.offset.bodyOffset(e);for(var n,r=e.offsetParent,i=e,o=e.ownerDocument,a=o.documentElement,s=o.body,l=o.defaultView,u=l?l.getComputedStyle(e,null):e.currentStyle,c=e.offsetTop,f=e.offsetLeft;(e=e.parentNode)&&e!==s&&e!==a&&(!j.support.fixedPosition||"fixed"!==u.position);)n=l?l.getComputedStyle(e,null):e.currentStyle,c-=e.scrollTop,f-=e.scrollLeft,e===r&&(c+=e.offsetTop,f+=e.offsetLeft,!j.support.doesNotAddBorder||j.support.doesAddBorderForTableAndCells&&Ae.test(e.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,f+=parseFloat(n.borderLeftWidth)||0),i=r,r=e.offsetParent),j.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,f+=parseFloat(n.borderLeftWidth)||0),u=n;return"relative"!==u.position&&"static"!==u.position||(c+=s.offsetTop,f+=s.offsetLeft),j.support.fixedPosition&&"fixed"===u.position&&(c+=Math.max(a.scrollTop,s.scrollTop),f+=Math.max(a.scrollLeft,s.scrollLeft)),{top:c,left:f}},j.offset={bodyOffset:function(t){var e=t.offsetTop,n=t.offsetLeft;return j.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(j.css(t,"marginTop"))||0,n+=parseFloat(j.css(t,"marginLeft"))||0),{top:e,left:n}},setOffset:function(t,e,n){var r=j.css(t,"position");"static"===r&&(t.style.position="relative");var i,o,a=j(t),s=a.offset(),l=j.css(t,"top"),u=j.css(t,"left"),c=("absolute"===r||"fixed"===r)&&j.inArray("auto",[l,u])>-1,f={},h={};c?(h=a.position(),i=h.top,o=h.left):(i=parseFloat(l)||0,o=parseFloat(u)||0),j.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+i),null!=e.left&&(f.left=e.left-s.left+o),"using"in e?e.using.call(t,f):a.css(f)}},j.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),n=this.offset(),r=Le.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(j.css(t,"marginTop"))||0,n.left-=parseFloat(j.css(t,"marginLeft"))||0,r.top+=parseFloat(j.css(e[0],"borderTopWidth"))||0,r.left+=parseFloat(j.css(e[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||W.body;t&&!Le.test(t.nodeName)&&"static"===j.css(t,"position");)t=t.offsetParent;return t})}}),j.each(["Left","Top"],function(t,e){var n="scroll"+e;j.fn[n]=function(e){var r,i;return e===a?(r=this[0])?(i=B(r),i?"pageXOffset"in i?i[t?"pageYOffset":"pageXOffset"]:j.support.boxModel&&i.document.documentElement[n]||i.document.body[n]:r[n]):null:this.each(function(){i=B(this),i?i.scrollTo(t?j(i).scrollLeft():e,t?e:j(i).scrollTop()):this[n]=e})}}),j.each(["Height","Width"],function(t,e){var n=e.toLowerCase();j.fn["inner"+e]=function(){var t=this[0];return t?t.style?parseFloat(j.css(t,n,"padding")):this[n]():null},j.fn["outer"+e]=function(t){var e=this[0];return e?e.style?parseFloat(j.css(e,n,t?"margin":"border")):this[n]():null},j.fn[n]=function(t){var r=this[0];if(!r)return null==t?null:this;if(j.isFunction(t))return this.each(function(e){var r=j(this);r[n](t.call(this,e,r[n]()))});if(j.isWindow(r)){var i=r.document.documentElement["client"+e],o=r.document.body;return"CSS1Compat"===r.document.compatMode&&i||o&&o["client"+e]||i}if(9===r.nodeType)return Math.max(r.documentElement["client"+e],r.body["scroll"+e],r.documentElement["scroll"+e],r.body["offset"+e],r.documentElement["offset"+e]);if(t===a){var s=j.css(r,n),l=parseFloat(s);return j.isNumeric(l)?l:s}return this.css(n,"string"==typeof t?t:t+"px")}}),t.jQuery=t.$=j,n(56)&&n(56).jQuery&&(o=[],i=function(){return j}.apply(e,o),!(i!==a&&(r.exports=i)))}(window),r.exports=jQuery}.call(e,n,e,t),!(void 0!==i&&(t.exports=i))},function(t,e,n){var r,i,o;(function(t){"use strict";function a(t){return t&&t.__esModule?t:{"default":t}}var s=n(6),l=a(s);!function(a){"object"==(0,l["default"])(e)&&"object"==(0,l["default"])(t)?a(n(1)):(i=[n(1)],r=a,o="function"==typeof r?r.apply(e,i):r,!(void 0!==o&&(t.exports=o)))}(function(t){Array.prototype.has=function(t){return this.indexOf(t)!=-1},Array.prototype.rear=function(){if(this.length)return this[this.length-1]},t.defineMode("toy",function(t,e){function n(t,e){var n=t.next();return a.test(n)?(t.eatWhile(/^[*+\-<>!=\/]/),/^\/\//.test(t.current())?(t.skipToEnd(),"comment"):"operator"):/\d/.test(n)?(t.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),"number"):i.test(n)?(t.eatWhile(i),o.test(t.current())?"keyword":"variable"):null}var r=t.indentUnit,i=e.wordCharacters||/[\w$\xa1-\uffff]/,o=/\b(int|real|if|else|then|while)\b/,a=/^(\+|\-|\*|\/|>=?|<=?|==?)$/;return{startState:function(){return{indentStack:[]}},token:function(t,e){if(t.eatSpace())return null;var r=n(t,e),i=t.current();return["{","then","else"].has(i)?("{"==i&&"{"!=e.indentStack.rear()&&e.indentStack.pop(),e.indentStack.push(i)):"}"===i?"{"==e.indentStack.rear()&&e.indentStack.pop():";"===i&&["else","then"].has(e.indentStack.rear())&&e.indentStack.pop(),r},indent:function(t,e){var n=e&&e.charAt(0);return"}"==n&&"{"==t.indentStack.rear()&&t.indentStack.pop(),t.indentStack.length*r},electricInput:/^\s*(?:\{|})$/}})})}).call(e,n(24)(t))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(66),o=n(44),a=r(o);e["default"]={state:{tabs:[],currentTab:null,compilee:null},getters:{currentCursorPos:function(t){if(t.currentTab)return t.currentTab.cursorPosition},unsavedTabs:function(t){return t.tabs.filter(function(t){return t.unsaved})},editorNeedSave:function(t,e){return!!e.unsavedTabs.length}},mutations:{openTab:function(t,e){t.tabs.push(e)},closeTab:function(t,e){(0,i.remove)(t.tabs,e)},setCurrentTab:function(t,e){t.currentTab=e},setCompilee:function(t,e){t.compilee=e}},actions:{openFile:function(t,e){var n=t.commit,r=t.state,i=r.tabs.filter(function(t){return t.file==e});if(i.length)n("setCurrentTab",i[0]);else{var o=new a["default"](e);n("openTab",o),n("setCurrentTab",o)}},switchTab:function(t,e){var n=t.commit;n("setCurrentTab",e)},closeTab:function(t,e){var n=t.commit,r=t.state;n("closeTab",e),n("setCurrentTab",(0,i.rear)(r.tabs))}}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var i=n(26),o=r(i),a=n(47),s=r(a),l=n(42),u=r(l),c=n(45),f=r(c),h=n(9),d=window.Storage=(0,u["default"])(window.localStorage),p={},g=function(t){p[t.fileName]=t},m=function(){for(var t=JSON.parse(d.getItem("stored-files")||"[]"),e=0,n=t.length;e<n;e++){var r=d.getItem(t[e]);if(r){var i=JSON.parse(r),o=new f["default"](i.name,i.content,(!1));g(o)}}t.length||g(f["default"].example())},v=function(t){d.setItem(t.fileName,t.serialize()),t.isNew=!1};m(),e["default"]={state:{fileMap:p,cached:[]},getters:{fileList:function(t){return(0,s["default"])(t.fileMap).map(function(e){return t.fileMap[e]})}},mutations:{newFile:function(t,e){t.cached.push(e)},addFile:function(t,e){(0,h.set)(t.fileMap,e.fileName,e)}},actions:{createNewFile:function(t){var e=t.commit,n=new f["default"];e("newFile",n)},cacheFile:function(t,e){var n=t.commit;n("addFile",e)},saveFilesToStorage:function(t){for(var e=t.getters,n=[],r=0,i=e.fileList,a=i.length;r<a;r++)v(i[r]),n[n.length]=i[r].fileName;d.setItem("stored-files",(0,o["default"])(n))}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){var r,i;n(121),r=n(57);var o=n(137);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"App",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;n(116),r=n(58);var o=n(132);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"Console",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;r=n(59);var o=n(130);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"Editor",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;n(117),r=n(60);var o=n(133);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"Layout",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;r=n(61);var o=n(131);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"ParseTree",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;r=n(63);var o=n(138);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"SymbolTable",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;n(118),r=n(64);var o=n(134);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"ToolBar",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(t,e,n){var r,i;n(120),r=n(65);var o=n(136);i=r=r||{},"object"!=typeof r["default"]&&"function"!=typeof r["default"]||(i=r=r["default"]),"function"==typeof i&&(i=i.options),i.name=i.name||"Workspace",i.render=o.render,i.staticRenderFns=o.staticRenderFns,t.exports=r},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"editor-box",on:{click:function(t){$emit("click")}}},[_h("div",{directives:[{name:"show",rawName:"v-show",value:!editorState.tabs.length,expression:"!editorState.tabs.length"}],staticClass:"editor-placeholder"},["\n    Choose a file from workspace or ",_h("a",{attrs:{id:"cover-open"},on:{click:openNewFile}},["create a new file"])])," ",_h("div",{staticClass:"tab-bar"},[editorState.compilee?_h("div",{staticClass:"tab-bar-cover"},[_h("span",{attrs:{id:"compiling-filename"}},[_s(editorState.compilee.fileName)])]):_e()," ",_h("button",{staticClass:"tab-new",on:{click:openNewFile}},["+"])," ",_h("div",{staticClass:"tab-row"},[_h("div",{staticClass:"tab-group"},[_l(editorState.tabs,function(t){return _h("div",{staticClass:"tab-cell","class":{active:currentTab==t},on:{click:function(e){switchTab(t)}}},[_h("a",[_h("span",[_s(t.file.fileName)])," ",_h("span",{staticClass:"tab-dismiss",on:{click:function(e){e.stopPropagation(),closeTab(t)}}},["×"])])])})])])])," ",_h("div",{staticClass:"editor-container"},[_h("textarea",{ref:"textarea",attrs:{id:"editor"}})])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"tree-box resizable",style:{width:width+"px"},on:{click:function(t){$emit("click")}}},[_h("resizer",{attrs:{type:"vertical"},on:{"resizer:begin":onResizeBegin,"resizer:resize":onResize}})," ",_h("div",{staticClass:"box-header"},[_h("div",{staticClass:"box-title"},[_s(showAssembly?"Assembly":"Syntax Tree")])," ",_h("span",{staticClass:"box-caret glyphicon glyphicon-menu-right",on:{click:function(t){$emit("parse-tree:close")}}})])," ",_h("div",{directives:[{name:"show",rawName:"v-show",value:!showAssembly,expression:"!showAssembly"}],ref:"boxBody",staticClass:"box-body",attrs:{id:"tree-pane"}},[_m(0)])," ",_h("div",{directives:[{name:"show",rawName:"v-show",value:showAssembly,expression:"showAssembly"}],staticClass:"box-body",attrs:{id:"assembly-pane"}},[_m(1)," ",_h("textarea",{ref:"textarea",attrs:{id:"assembly"}})])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"placeholder"},["Nothing to show"])},function(){with(this)return _h("div",{attrs:{style:"float: left;height: 100%;width: 18px;background: rgb(60, 63, 65)"}})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"bottom-box resizable",style:{height:height+"px"},on:{click:function(t){$emit("click")}}},[_h("resizer",{attrs:{type:"horizontal"},on:{"resizer:begin":onResizeBegin,"resizer:resize":onResize}})," ",_h("div",{staticClass:"box-header"},[_m(0)," ",_h("span",{staticClass:"box-caret glyphicon glyphicon-menu-down",on:{click:function(t){$emit("console:close")}}})])," ",_h("div",{staticClass:"console-container"},[_m(1)," ",_h("textarea",{ref:"textarea",attrs:{id:"console"}})])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"box-title"},["Output"])},function(){with(this)return _h("div",{staticClass:"console-seal"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"layout",attrs:{id:"main"}},[_h("div",{staticClass:"upper-box",style:upperStyleObj},[_h("div",{staticClass:"center-box"},[_h("div",{staticClass:"center-box-inner",style:centerStyleObj},[_h("parse-tree",{directives:[{name:"show",rawName:"v-show",value:parseTree.open,expression:"parseTree.open"}],"class":{"active-box":"parseTree"==currentActiveBox},attrs:{width:parseTreeWidth},on:{"parse-tree:resize":onParseTreeResize,"parse-tree:close":onParseTreeClose,click:function(t){currentActiveBox="parseTree"}}})," ",_h("editor",{style:{width:editorWidth+"px"},on:{click:function(t){currentActiveBox="editor"}}})])])," ",_h("workspace",{directives:[{name:"show",rawName:"v-show",value:workspace.open,expression:"workspace.open"}],"class":{"active-box":"workspace"==currentActiveBox},style:leftStyleObj,attrs:{width:workspaceWidth},on:{"workspace:resize":onWorkspaceResize,"workspace:close":onWorkspaceClose,click:function(t){currentActiveBox="workspace"}}})," ",_h("symbol-table",{directives:[{name:"show",rawName:"v-show",value:symbolTable.open,expression:"symbolTable.open"}],"class":{"active-box":"symbolTable"==currentActiveBox},style:rightStyleObj,attrs:{width:symbolTableWidth},on:{"symbol-table:resize":onSymbolTableResize,"symbol-table:close":onSymbolTableClose,click:function(t){currentActiveBox="symbolTable"}}})])," ",_h("console",{directives:[{name:"show",rawName:"v-show",value:console.open,expression:"console.open"}],"class":{"active-box":"console"==currentActiveBox},attrs:{height:consoleHeight},on:{"console:close":onConsoleClose,"console:resize":onConsoleResize,click:function(t){currentActiveBox="console"}}})])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("nav",{staticClass:"tool-bar navbar navbar-inverse navbar-fixed-top",attrs:{style:"margin-bottom: 0"}},[_h("div",{staticClass:"container-fluid",attrs:{style:"padding-right: 15px"}},[_m(0)," ",_h("ul",{directives:[{name:"show",rawName:"v-show",value:"edit"==ui.mode,expression:"ui.mode == 'edit'"}],staticClass:"nav navbar-nav navbar-right",attrs:{id:"editing-btn-group","data-bind":"with: controls"}},[_h("li",[_h("button",{staticClass:"btn navbar-btn-o","class":{unsaved:editorNeedSave},attrs:{id:"btn-save"},on:{click:save}},[_m(1)," Save\n        "])])," ",_h("li",[_h("button",{staticClass:"btn navbar-btn",attrs:{id:"btn-tidy"},on:{click:tidy}},[_m(2)," Tidy\n        "])])," ",_m(3)," ",_h("li",[_h("button",{staticClass:"btn navbar-btn",attrs:{id:"btn-compile"},on:{click:compile}},[_m(4)," Compile\n        "])])])," ",_h("ul",{directives:[{name:"show",rawName:"v-show",value:"compile"==ui.mode,expression:"ui.mode == 'compile'"}],staticClass:"nav navbar-nav navbar-right",attrs:{id:"compiling-btn-group",style:"margin-right: -15px","data-bind":"with: controls"}},[_h("li",[_h("button",{staticClass:"btn navbar-btn-o",attrs:{id:"btn-stop"},on:{click:stop}},[_m(5)," Stop\n        "])])," ",_h("li",[_h("button",{staticClass:"btn navbar-btn",attrs:{id:"btn-next"},on:{click:next}},[_m(6)," Next\n        "])])," ",_h("li",[_h("button",{staticClass:"btn navbar-btn",attrs:{id:"btn-ff"},on:{click:ff}},[_m(7)," Fast Forward\n        "])])])])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"navbar-header"},[_h("div",{staticClass:"navbar-brand"},[_h("span",{staticClass:"glyphicon glyphicon-console"}),"\n        Compiler\n      "])])},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-floppy-disk"})},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-flash"})},function(){with(this)return _h("li",[_h("button",{staticClass:"btn navbar-btn",attrs:{id:"btn-import","data-bind":"click: importFile"}},[_h("span",{staticClass:"glyphicon glyphicon-import"})," Import\n        "])])},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-download-alt"})},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-stop"})},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-share-alt"})},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-fast-forward"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"resizer","class":[type,{resizing:resizing}],on:{mousedown:onMouseDown,mousemove:onMouseMove,mouseleave:onMouseUp,mouseup:onMouseUp}})},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"left-box resizable",style:{width:width+"px"},attrs:{id:"workspace"},on:{click:function(t){$emit("click")}}},[_h("resizer",{attrs:{type:"vertical"},on:{"resizer:begin":onResizeBegin,"resizer:resize":onResize}})," ",_h("div",{staticClass:"box-header"},[_m(0)," ",_h("span",{staticClass:"box-caret glyphicon glyphicon-menu-left",on:{click:function(t){$emit("workspace:close")}}})])," ",_h("div",{staticClass:"box-body"},[_h("div",{directives:[{name:"show",rawName:"v-show",value:!files.length,expression:"!files.length"}],staticClass:"placeholder"},["Nothing to show"])," ",_h("ul",{staticClass:"list",attrs:{id:"file-list"}},[_l(files,function(t){return _h("li",{"class":{active:t==selectedFile},attrs:{"data-bind":"attr: {id: attrId}, css: {active: isActive},\n                      event: {contextmenu: $parents[0].setActive.bind($data)}"},on:{click:function(e){selectedFile=t},dblclick:function(e){openFileInEditor(t)}}},[_m(1,!0)," ",_h("span",[_s(t.fileName)])])})])])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"box-title"},["Workspace"])},function(){with(this)return _h("span",{staticClass:"glyphicon glyphicon-file"})}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{attrs:{id:"app"},on:{contextmenu:function(t){t.preventDefault()}}},[_h("div",{directives:[{name:"show",rawName:"v-show",value:about.show,expression:"about.show"}],attrs:{id:"about-mask"}},[_h("div",{staticClass:"mask-backdrop",on:{click:hideAbout}})," ",_m(0)])," "," ",_h("div",{directives:[{name:"show",rawName:"v-show",value:renameDialog.show,expression:"renameDialog.show"}],attrs:{id:"dialog-mask"}},[_h("div",{staticClass:"dialog",attrs:{id:"rename-dialog"}},[_m(1)," ",_h("input",{directives:[{name:"model",rawName:"v-model",value:renameDialog.name,expression:"renameDialog.name"}],attrs:{type:"text",id:"filename"},domProps:{value:_s(renameDialog.name)},on:{input:function(t){t.target.composing||(renameDialog.name=t.target.value)}}})," ",_m(2)," ",_h("div",{staticClass:"dialog-btn-group"},[_h("button",{staticClass:"dialog-btn",attrs:{id:"rename-cancel"},on:{click:onRenameCancel}},["Cancel"])," ",_h("button",{staticClass:"dialog-btn",attrs:{id:"rename-confirm"},on:{click:onRenameConfirm}},["Confirm"])])])])," ",_h("tool-bar")," ",_h("layout")," ",_h("div",{attrs:{id:"footer"}},["compile"!=ui.mode?_h("div",{staticClass:"footer-text footer-btn","class":{active:workspace.open},on:{click:toggleWorkspace}},["Workspace\n    "]):_e()," ",_h("div",{staticClass:"footer-text footer-btn","class":{active:console.open},on:{click:toggleConsole}},["Output\n    "])," ","compile"==ui.mode?_h("div",{staticClass:"footer-text footer-btn","class":{active:parseTree.open},on:{click:toggleParseTree}},["Syntax Tree\n    "]):_e()," ","compile"==ui.mode?_h("div",{staticClass:"footer-text footer-btn","class":{active:symbolTable.open},on:{click:toggleSymbolTable}},["Symbol Table\n    "]):_e()," ",currentCursorPos?_h("div",{staticClass:"footer-text",attrs:{id:"cursor-position"}},[_s(currentCursorPos.line+1)+":"+_s(currentCursorPos.ch+1)+"\n    "]):_e()," ",_h("div",{staticClass:"footer-text footer-btn","class":{active:about.show},attrs:{style:"float: right;margin: 0 1px 0 0;"},on:{click:toggleAbout}},["About\n    "])])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"dialog",attrs:{id:"about-dialog"}},[_h("div",{staticClass:"dialog-banner"},[_h("h1",[_h("span",{staticClass:"glyphicon glyphicon-console"})," Compiler"])," ",_h("p",["Presented by ",_h("a",{attrs:{href:"https://github.com/SevenOutman",target:"_blank"}},["SevenOutman"]),". Compiler implemented\n          by ",_h("a",{attrs:{href:"https://github.com/ExinCoda",target:"_blank"}},["ExinCoda"]),"."])])])},function(){with(this)return _h("p",["New name:"])},function(){with(this)return _h("p",["File type: .toy"])}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"right-box resizable",style:{width:width+"px"},on:{click:function(t){$emit("click")}}},[_h("resizer",{attrs:{type:"vertical"},on:{"resizer:begin":onResizeBegin,"resizer:resize":onResize}})," ",_h("div",{staticClass:"box-header"},[_m(0)," ",_h("span",{staticClass:"box-caret glyphicon glyphicon-menu-right",on:{click:function(t){$emit("symbol-table:close")}}})])," ",_h("div",{staticClass:"box-body"},[_h("div",{directives:[{name:"show",rawName:"v-show",value:symbols.length<1,expression:"symbols.length < 1"}],staticClass:"placeholder"},["Nothing to show"])," ",_h("ul",{staticClass:"list",attrs:{id:"symbol-list"}},[_l(symbols,function(t){return[_h("li",{attrs:{"data-bind":"attr: {id: attrId}, css: {active: isActive}, event: {click: $parents[0].setActive.bind($data), dblclick: toggle}"}},[_m(1)," ",_h("span",[_s(t.name)])," ",_h("span",{staticClass:"extra",attrs:{"data-bind":"text: rowText"}},["type: "+_s(t.type||"unknown")+", occurance: "+_s(t.positions.length)])])," ",_l(t.positions,function(t,e){return _h("li",{staticClass:"position-row",attrs:{"data-bind":"text: rowText, visible: $parents[0].isOpen, css: {active: isActive}, click: $parents[1].setActive.bind($data)"}},["\n          ["+_s(e+1)+"] line: "+_s(t.first_row)+", ch: "+_s(t.first_col)+"\n        "])})," "]})])])])},staticRenderFns:[function(){with(this)return _h("div",{staticClass:"box-title"},["Symbol Table"])},function(){with(this)return _h("span",{staticClass:"glyphicon li-caret",attrs:{"data-bind":"css: {'glyphicon-triangle-right': !isOpen(), 'glyphicon-triangle-bottom': isOpen}, click: toggle"}})}]}}]);
//# sourceMappingURL=app.973b11402d280acb9dfc.js.map