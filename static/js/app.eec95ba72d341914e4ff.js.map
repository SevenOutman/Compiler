{"version":3,"sources":["webpack:///static/js/app.eec95ba72d341914e4ff.js","webpack:///./src/main.js","webpack:///./src/libs/codemirror/lib/codemirror.js","webpack:///./src/helpers/EventBus.js","webpack:///./src/components/Resizer.vue","webpack:///./src/libs/codemirror/addon/scroll/simplescrollbars.js","webpack:///./src/helpers/Processor.js","webpack:///./src/helpers/storage.js","webpack:///./src/libs/console.js","webpack:///./src/models/EditorTab.js","webpack:///./src/models/File.js","webpack:///./src/store/index.js","webpack:///App.vue","webpack:///Console.vue","webpack:///Editor.vue","webpack:///Layout.vue","webpack:///ParseTree.vue","webpack:///Resizer.vue","webpack:///SymbolTable.vue","webpack:///ToolBar.vue","webpack:///Workspace.vue","webpack:///./src/helpers/ArrayHelper.js","webpack:///./src/helpers/Benchmark.js","webpack:///./src/helpers/Paxer.js","webpack:///./src/helpers/Semantic.js","webpack:///./src/libs/compiler.datav.js","webpack:///./src/libs/datavjs/deps/eventproxy.js","webpack:///./src/libs/datavjs/deps/jquery-1.7.1.js","webpack:///./src/libs/toy.js","webpack:///./src/store/modules/editor.js","webpack:///./src/store/modules/fileManager.js","webpack:///./src/App.vue","webpack:///./src/components/Console.vue","webpack:///./src/components/Editor.vue","webpack:///./src/components/Layout.vue","webpack:///./src/components/ParseTree.vue","webpack:///./src/components/SymbolTable.vue","webpack:///./src/components/ToolBar.vue","webpack:///./src/components/Workspace.vue","webpack:///./src/components/Editor.vue?3ea8","webpack:///./src/components/ParseTree.vue?d304","webpack:///./src/components/Console.vue?d214","webpack:///./src/components/Layout.vue?8847","webpack:///./src/components/ToolBar.vue?d4a3","webpack:///./src/components/Resizer.vue?ca38","webpack:///./src/components/Workspace.vue?26d1","webpack:///./src/App.vue?9a18","webpack:///./src/components/SymbolTable.vue?a623"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","_index","_index2","el","store","render","h","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_create","_create2","_typeof2","_typeof3","mod","apply","undefined","CodeMirror","place","options","this","copyObj","defaults","setGuttersForLineNumbers","doc","value","Doc","mode","lineSeparator","input","inputStyles","inputStyle","display","Display","wrapper","updateGutters","themeChanged","lineWrapping","className","autofocus","mobile","focus","initScrollbars","state","keyMaps","overlays","modeGen","overwrite","delayingBlurEvent","focused","suppressEdits","pasteIncoming","cutIncoming","selectingText","draggingText","highlight","Delayed","keySeq","specialChars","cm","ie","ie_version","setTimeout","reset","registerEventHandlers","ensureGlobalHandlers","startOperation","curOp","forceUpdate","attachDoc","hasFocus","bind","onFocus","onBlur","opt","optionHandlers","hasOwnProperty","Init","maybeUpdateLineNumberWidth","finishInit","i","initHooks","length","endOperation","webkit","getComputedStyle","lineDiv","textRendering","style","d","scrollbarFiller","elt","setAttribute","gutterFiller","selectionDiv","cursorDiv","measure","lineMeasure","lineSpace","mover","sizer","sizerWidth","heightForcer","scrollerGap","gutters","lineGutter","scroller","zIndex","paddingRight","gecko","draggable","appendChild","viewFrom","viewTo","first","reportedViewFrom","reportedViewTo","view","renderedView","externalMeasured","viewOffset","lastWrapHeight","lastWrapWidth","updateLineNumbers","nativeBarWidth","barHeight","barWidth","scrollbarsClipped","lineNumWidth","lineNumInnerWidth","lineNumChars","alignWidgets","cachedCharWidth","cachedTextHeight","cachedPaddingH","maxLine","maxLineLength","maxLineChanged","wheelDX","wheelDY","wheelStartX","wheelStartY","shift","selForContextMenu","activeTouch","init","loadMode","getMode","modeOption","resetModeState","iter","line","stateAfter","styles","frontier","startWorker","regChange","wrappingChanged","addClass","minWidth","rmClass","findMaxLine","estimateLineHeights","clearCaches","updateScrollbars","estimateHeight","th","textHeight","wrapping","perLine","Math","max","clientWidth","charWidth","lineIsHidden","widgetsHeight","widgets","height","ceil","text","est","estHeight","updateLineHeight","replace","theme","guttersChanged","alignHorizontally","specs","removeChildren","gutterClass","gElt","width","updateGutterSpace","offsetWidth","marginLeft","lineLength","merged","len","cur","collapsedSpanAtStart","found","find","from","ch","to","collapsedSpanAtEnd","getLine","indexOf","lineNumbers","concat","slice","splice","measureForScrollbars","gutterW","docH","round","paddingVert","clientHeight","viewHeight","scrollWidth","viewWidth","barLeft","fixedGutter","docHeight","scrollHeight","scrollGap","gutterWidth","NativeScrollbars","scroll","vert","horiz","on","scrollTop","scrollLeft","checkedZeroWidth","minHeight","NullScrollbars","scrollbars","clear","scrollbarModel","scrollbarStyle","node","insertBefore","pos","axis","setScrollLeft","setScrollTop","startWidth","startHeight","updateScrollbarsInner","updateHeightsInViewport","sizes","update","right","paddingBottom","bottom","coverGutterNextToScrollbar","visibleLines","viewport","top","floor","paddingTop","lineAtHeight","ensure","ensureFrom","ensureTo","heightAtLine","min","lastLine","firstChild","comp","compensateForHScroll","left","hidden","gutter","align","alignable","j","last","lineNumberFor","size","test","innerW","padding","String","lineNumberFormatter","firstLineNumber","getBoundingClientRect","DisplayUpdate","force","visible","editorIsHidden","wrapperHeight","wrapperWidth","oldDisplayWidth","displayWidth","dims","getDimensions","events","maybeClipScrollbars","marginBottom","borderRightWidth","updateDisplayIfNeeded","resetView","countDirtyView","end","viewportMargin","sawCollapsedSpans","visualLineNo","visualLineEndNo","different","adjustView","toUpdate","activeElt","patchDisplay","offsetHeight","postUpdateDisplay","displayHeight","barMeasure","updateSelection","setDocumentHeight","signal","updateDisplaySimple","finish","total","prevBottom","offsetTop","bot","box","diff","updateWidgetHeight","rest","gutterLeft","clientLeft","n","nextSibling","offsetLeft","fixedPos","gutterTotalWidth","updateNumbersFrom","rm","next","mac","currentWheelTarget","parentNode","removeChild","container","lineN","lineView","updateNumber","lineNumber","changes","updateLineForChanges","document","createTextNode","buildLineElement","type","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","updateLineBackground","cls","bgClass","background","wrap","getLineContent","ext","built","buildLineContent","pre","textClass","wrapClass","gutterBackground","markers","gutterMarkers","gutterWrap","setUneditable","k","id","insertLineWidgets","insertLineWidgetsFor","allowAbove","ws","widget","handleMouseEvents","positionLineWidget","above","signalLater","noHScroll","push","coverGutter","paddingLeft","position","copyPos","x","Pos","maxPos","a","b","cmp","minPos","ensureFocus","isReadOnly","readOnly","cantEdit","applyTextInput","inserted","deleted","sel","origin","paste","textLines","splitLines","multiPaste","ranges","lastCopied","join","map","l","range","empty","lst","updateInput","changeEvent","makeChange","triggerElectric","ensureCursorVisible","typing","handlePaste","e","pasted","clipboardData","getData","preventDefault","disableInput","runInOp","electricChars","smartIndent","head","getModeAt","indented","charAt","indentLine","electricInput","copyableRanges","lineRange","anchor","getRange","disableBrowserMagic","field","TextareaInput","prevInput","pollingFast","polling","inaccurateSelection","hasSelection","composing","hiddenTextarea","te","div","ios","border","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","gracePeriod","posToDOM","findViewForLine","info","mapFromLineView","order","getOrder","side","partPos","getBidiPartAt","result","nodeAndOffsetInLineMap","offset","collapse","start","badPos","bad","domToPos","lineNode","childNodes","clipPos","locateNodeInLineView","textNode","topNode","maps","curNode","lineNo","contains","nodeType","nodeValue","after","dist","textContent","before","previousSibling","domTextBetween","fromLine","toLine","recognizeMarker","marker","walk","cmText","getAttribute","markerID","findMarks","getBetween","lineSep","nodeName","closing","val","Selection","primIndex","Range","normalizeSelection","prim","sort","prev","inv","simpleSelection","clipLine","clipToLen","linelen","isLine","clipPosArray","array","out","extendRange","other","extend","posBefore","extendSelection","setSelection","primary","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","done","history","setSelectionNoUndo","addSelectionToHistory","NaN","hasHandler","bias","setSelectionInner","skipAtomicInSelection","equals","selectionChanged","signalCursorActivity","reCheckSelection","sel_dontScroll","mayClear","newAnchor","skipAtomic","newHead","flipped","curPos","dir","search","markedSpans","sp","m","inclusiveLeft","inclusiveRight","explicitlyCleared","atomic","newPos","showSelection","prepareSelection","curFragment","cursors","createDocumentFragment","selFragment","selection","collapsed","showCursorWhenSelecting","drawSelectionCursor","drawSelectionRange","output","cursorCoords","singleCursorHeightPerLine","cursor","cursorHeight","otherCursor","add","fragment","rightSide","drawForLine","fromArg","toArg","coords","charCoords","lineObj","lineLen","iterateBidiSections","rightPos","leftPos","tmp","leftSide","paddingH","sFrom","sTo","singleVLine","visualLine","leftEnd","rightStart","restartBlink","clearInterval","blinker","visibility","cursorBlinkRate","setInterval","time","startState","set","highlightWorker","Date","workTime","copyState","getStateBefore","changedLines","oldStyles","tooLong","maxHighlightLength","highlighted","highlightLine","oldCls","styleClasses","newCls","classes","ischange","processLine","workDelay","regLineChange","findStartLine","precise","minindent","minline","lim","innerMode","countColumn","tabSize","save","removeChildrenAndAdd","window","currentStyle","data","parseInt","isNaN","ensureLineHeights","rect","curWidth","heights","rects","getClientRects","abs","cache","caches","updateExternalMeasurement","LineView","measureChar","measureCharPrepared","prepareMeasureForLine","findViewIndex","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","mStart","mEnd","insertLeft","coverStart","coverEnd","isExtendingChar","nullRect","maybeUpdateRectForZooming","rSpan","rbot","mid","screen","logicalXDPI","deviceXDPI","hasBadZoomedRects","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","pageScrollX","pageXOffset","documentElement","body","pageScrollY","pageYOffset","intoCoordSystem","context","widgetHeight","yOff","lOff","xOff","fromCoordSystem","localBox","lineSpaceBox","preparedMeasure","get","getBidi","part","level","bidiLeft","bidiRight","bidiOther","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","mergedPos","getX","wrongLine","innerOff","adjust","bidi","lineLeft","lineRight","fromX","fromOutside","toX","toOutside","moveVisually","xDiff","step","middle","middleX","measureText","viewChanged","changeObjs","cursorActivityHandlers","cursorActivityCalled","updateMaxLine","scrollToPos","nextOpId","operationGroup","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","call","op","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","mustUpdate","updatedDisplay","adjustWidthTo","maxScrollLeft","preparedSelection","forceScroll","scrollPosIntoView","margin","isCursor","maybeScrollWindow","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","lines","f","operation","arguments","methodOp","docMethodOp","visualLineContinued","buildViewArray","nextPos","lendiff","cut","viewCuttingPoint","index","cutTop","cutBot","arr","oldN","newN","dirty","finishTouch","touchFinished","prevTouch","isMouseLikeTouchEvent","touches","touch","radiusX","radiusY","farAway","dx","dy","onMouseDown","signalDOMEvent","posFromMouse","clickInGutter","eventInWidget","e_preventDefault","word","findWordAt","captureRightClick","onContextMenu","clearTimeout","now","moved","pageX","pageY","onScrollWheel","dragFunctions","enter","e_stop","over","onDragOver","onDragStart","drop","onDrop","leave","clearDragCursor","inp","getField","onKeyUp","onKeyDown","onKeyPress","dragDropChanged","old","wasOn","funcs","toggle","off","onResize","setSize","e_target","liberal","forRect","space","clientX","clientY","colDiff","supportsTouch","shiftKey","e_button","leftButtonDown","lastMiddleDown","delayBlurEvent","lastDoubleClick","lastClick","contained","modifier","metaKey","ctrlKey","dragDrop","dragAndDrop","leftButtonStartDrag","leftButtonSelect","startTime","dragEnd","e2","addNew","extendTo","lastPos","startCol","posCol","findColumn","startSel","ourIndex","scrollIntoView","oldRange","ourRange","sel_mouse","curCount","counter","editorSize","Infinity","move","up","lastSelOrigin","altKey","gutterEvent","prevent","mX","mY","lineBox","e_defaultPrevented","g","lastDrop","files","dataTransfer","FileReader","File","Array","read","loadFile","file","allowDropFileTypes","reader","onload","content","change","changeEnd","readAsText","selected","listSelections","replaceRange","replaceSelection","setData","getSelection","setDragImage","safari","img","src","presto","_top","frag","dragCursor","isScroller","delta","wheelEventDelta","canScrollX","canScrollY","outer","target","wheelPixelsPerUnit","pixels","wheelSamples","movedX","movedY","sample","doHandleBinding","bound","dropShift","commands","ensurePolled","prevShift","Pass","lookupKeyForEditor","name","handle","lookupKey","extraKeys","keyMap","dispatchKey","seq","isModifierKey","stopSeq","handleKeyBinding","keyName","motion","handleCharBinding","keyCode","returnValue","code","handled","lastStoppedKey","hasCopyEvent","showCrossHair","charCode","which","fromCharCode","receivedFocus","contextMenuInGutter","adjustForChange","computeSelAfterChange","offsetPos","nw","computeReplacedSel","hint","oldPrev","newPrev","filterChange","canceled","cancel","ignoreReadOnly","split","sawReadOnlySpans","removeReadOnlyRanges","makeChangeInner","selAfter","addChangeToHistory","makeChangeSingleDoc","stretchSpansOverChange","rebased","linkedDocs","sharedHist","rebaseHist","makeChangeFromHistory","allowSelectionOnly","event","hist","source","undone","dest","lastOrigin","pop","pushSelectionToHistory","clearRedo","antiChanges","generation","maxGeneration","filter","historyChangeFromChange","mergeOldSpans","shiftDoc","distance","spans","removed","makeChangeSingleDocInEditor","updateDoc","recomputeMaxLength","checkWidthStart","full","isWholeLineUpdate","changesHandler","changeHandler","doScroll","innerHeight","phantom","scrollNode","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","x1","y1","x2","y2","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollPos","resolveScrollToPos","getCursor","cursorScrollMargin","sPos","scrollTo","how","aggressive","indent","curSpace","indentation","curSpaceString","match","indentUnit","indentString","indentWithTabs","spaceStr","changeLine","changeType","no","deleteNearSelection","compute","kill","toKill","replaced","findPosH","unit","visually","findNextLine","possible","moveOnce","boundToLine","moveLogically","origDir","sawType","helper","getHelper","isWordChar","hitSide","findPosV","pageSize","option","deflt","notOnInit","normalizeKeyName","alt","ctrl","cmd","parts","Error","getKeyMap","markText","shared","markTextShared","TextMarker","clearWhenEmpty","replacedWith","widgetNode","conflictingCollapsedRange","addToHistory","curLine","addMarkedSpan","MarkedSpan","clearOnEnter","clearHistory","nextMarkerId","title","startStyle","endStyle","css","cloneNode","linked","isParent","SharedTextMarker","findSharedMarkers","parent","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","getMarkedSpanFor","span","removeMarkedSpan","r","attachLine","markedSpansBefore","startCh","isInsert","startsBefore","endsAfter","markedSpansAfter","endCh","oldFirst","oldLast","sameLine","clearEmptySpans","newMarkers","gapMarkers","gap","getOldSpans","stretched","oldCur","stretchCur","mark","mk","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","vis","lineIsHiddenInner","adjustScrollWhenAboveVisible","parentStyle","addLineWidget","LineWidget","insertAt","aboveVisible","updateLine","cleanUpLine","extractLineClasses","lineClass","prop","RegExp","callBlankLine","blankLine","inner","readToken","stream","token","takeToken","asArray","getObj","copy","string","current","tokens","StringStream","eol","runMode","lineClasses","forceToEnd","flattenSpans","curStart","curStyle","addModeClass","mName","st","o","overlay","at","i_end","opaque","getLineStyles","updateFrontier","startAt","interpretTokenStyle","styleToClassCacheWithMode","styleToClassCache","builder","col","splitSpaces","getOption","addToken","buildToken","hasBadBidiRects","buildTokenBadBidi","allowFrontierUpdate","insertLineContent","joinClasses","zeroWidthElement","lastChild","defaultSpecialCharPlaceholder","charCodeAt","toString","displayText","special","mustWrap","lastIndex","exec","skipped","txt","tabWidth","specialCharPlaceholder","fullStyle","buildCollapsedSpan","ignoreWidget","needsContentAttribute","createElement","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","foundBookmarks","upto","tokenText","wholeLineUpdateBefore","spansFor","linesFor","Line","firstLine","lastText","lastSpans","nlines","insert","remove","added","LeafChunk","BranchChunk","children","chunkSize","sharedHistOnly","propagate","skip","rel","chunk","child","sz","getLines","lh","bidiOrdering","History","startGen","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","histChange","attachLocalSpans","clearSelectionEvents","lastChangeEvent","opId","historyEventDelay","selectionEventCanBeMerged","somethingSelected","existing","removeClearedSpans","copyHistoryArray","newGroup","instantiateSel","prototype","deepCopy","newChanges","Number","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","defaultPrevented","srcElement","button","getHandlers","emitter","_handlers","noHandlers","bnd","args","list","orphanDelayedCallbacks","fireOrphanDelayed","delayed","override","codemirrorIgnore","cursorActivity","eventMixin","ctor","spaceStrs","nothing","createObj","base","props","inst","isWordCharBasic","isEmpty","extendingChars","tag","cssText","count","activeElement","root","classTest","as","forEachCodeMirror","getElementsByClassName","byClass","globalsRegistered","registerGlobalHandlers","resizeTimer","zwspSupported","badBidiRects","r0","r1","badZoomedRects","normal","fromRange","lineStart","visual","lineEnd","lineStartSmart","firstNonWS","inWS","compareBidiLevel","linedir","moveInLine","byUnit","userAgent","navigator","platform","ie_upto10","ie_11up","documentMode","qtwebkit","chrome","vendor","mac_geMountainLion","windows","presto_version","flipCtrlCmd","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","w","pointerEvents","bar","delay","maybeDisable","elementFromPoint","native","null","cmpPos","prepareCopyCut","getSelections","selectInput","lineWiseCopyCut","setSelections","textarea","poll","fastPoll","moveInputWithCursor","headPos","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","minimal","blur","resetPosition","slowPoll","pollInterval","missed","execCommand","same","self","prepareSelectAllHack","selectionStart","extval","selectionEnd","rehide","oldCSS","selectAll","detectingSelectAll","resetSelectionOnContextMenu","oldScrollY","scrollY","mouseup","readOnlyChanged","onCopyCut","clearData","kludge","hadFocus","startData","ours","applyComposition","forceCompositionEnd","pollContent","showPrimarySelection","showMultipleSelections","curAnchor","anchorNode","anchorOffset","curFocus","focusNode","focusOffset","rangeCount","getRangeAt","rng","removeAllRanges","addRange","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","fromIndex","fromNode","toIndex","toNode","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","contenteditable","here","there","wheelDeltaX","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","constructor","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","spec","modeSpec","removeOverlay","indentSelection","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelpers","helpers","help","helperType","_global","pred","getStateAfter","defaultTextHeight","defaultCharWidth","setGutterMarker","gutterID","clearGutter","lineInfo","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","amount","moveH","extendSelectionsBy","rtlMoveVisually","sel_move","deleteH","goalColumn","moveV","goals","startChar","check","toggleOverwrite","getScrollInfo","interpret","refresh","oldHeight","swapDoc","getInputField","getWrapperElement","getScrollerElement","getGutterElement","setValue","newBreaks","detach","attach","integer","disabled","tabIndex","modes","mimeModes","defineMode","dependencies","defineMIME","mime","resolveMode","mfactory","modeObj","modeExtensions","exts","modeProps","skipToEnd","extendMode","properties","defineExtension","func","defineDocExtension","defineOption","defineInitHook","registerHelper","registerGlobalHelper","predicate","nstate","a1","a2","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","undo","redo","undoSelection","redoSelection","goDocStart","goDocEnd","goLineStart","goLineStartSmart","goLineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","goLineDown","goPageUp","goPageDown","goCharLeft","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentMore","indentLess","insertTab","insertSoftTab","spaces","replaceSelections","defaultTab","transposeChars","newlineAndIndent","basic","Left","Right","Up","Down","End","Home","PageUp","PageDown","Delete","Backspace","Shift-Backspace","Tab","Shift-Tab","Enter","Insert","Esc","pcDefault","Ctrl-A","Ctrl-D","Ctrl-Z","Shift-Ctrl-Z","Ctrl-Y","Ctrl-Home","Ctrl-End","Ctrl-Up","Ctrl-Down","Ctrl-Left","Ctrl-Right","Alt-Left","Alt-Right","Ctrl-Backspace","Ctrl-Delete","Ctrl-S","Ctrl-F","Ctrl-G","Shift-Ctrl-G","Shift-Ctrl-F","Shift-Ctrl-R","Ctrl-[","Ctrl-]","Ctrl-U","Shift-Ctrl-U","Alt-U","fallthrough","emacsy","Ctrl-B","Ctrl-P","Ctrl-N","Alt-F","Alt-B","Ctrl-E","Ctrl-V","Shift-Ctrl-V","Ctrl-H","Alt-D","Alt-Backspace","Ctrl-K","Ctrl-T","macDefault","Cmd-A","Cmd-D","Cmd-Z","Shift-Cmd-Z","Cmd-Y","Cmd-Home","Cmd-Up","Cmd-End","Cmd-Down","Cmd-Left","Cmd-Right","Ctrl-Alt-Backspace","Alt-Delete","Cmd-S","Cmd-F","Cmd-G","Shift-Cmd-G","Cmd-Alt-F","Shift-Cmd-Alt-F","Cmd-[","Cmd-]","Cmd-Backspace","Cmd-Delete","Cmd-U","Shift-Cmd-U","normalizeKeyMap","keymap","keyname","keys","Object","keyNames","noShift","altGraphKey","fromTextArea","getValue","tabindex","placeholder","form","leaveSubmitMethodAlone","realSubmit","submit","wrappedSubmit","getTextArea","toTextArea","lastColumnPos","lastColumnValue","sol","peek","eat","eatWhile","eatSpace","skipTo","backUp","column","pattern","consume","caseInsensitive","cased","str","toLowerCase","substr","hideFirstChars","withOp","dHeight","oldH","removeInner","insertInner","iterN","spilled","newleaf","maybeSpill","me","sibling","myIndex","used","nextDocId","cleanGeneration","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","setCursor","addSelection","dup","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","indexFromPos","copyHistory","linkedDoc","unlinkDoc","link","splitIds","iterLinkedDocs","getEditor","splitLinesAuto","eachLine","dontDelegate","method","e_stopPropagation","stopPropagation","cancelBubble","addEventListener","attachEvent","removeEventListener","detachEvent","handlers","ms","startIndex","startValue","nextTab","goal","select","_e","nonASCIISingleCaseWordChar","toUpperCase","createRange","endNode","setEnd","setStart","createTextRange","moveToElementText","moveEnd","moveStart","host","nl","rt","ownerDocument","parentElement","compareEndPoints","oncopy","3","8","9","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","44","45","46","59","61","91","92","93","106","107","109","110","111","127","173","186","187","188","189","190","191","192","219","220","221","222","63232","63233","63234","63235","63272","63273","63275","63276","63277","63302","charType","lowTypes","arabicTypes","BidiSpan","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","outerType","types","nstart","unshift","version","defineProperty","__vue_exports__","__vue_options__","__vue_template__","staticRenderFns","Bar","orientation","onWheel","oldPos","moveTo","startpos","innerBox","SimpleScrollbars","minButtonSize","scrollSize","clientSize","barSize","buttonSize","simple","Processor","paxer","_Paxer2","semantic","_Semantic2","compilee","compile","Cache","commit","symbols","_EventBus2","$emit","fileName","setInput","preprocesscode","processed","findOperatorReg","findDelimiterReg","trim","compileNext","status","getStatus","go","getRootS","getSymbolTable","getCurMovementF","getWarningMsg","getErrorMsg","getAssembly","getErrMsg","getSequentialNodes","compileFF","_Benchmark2","parseTime","getMovementsF","toFixed","_Paxer","_Semantic","_Benchmark","_EventBus","fakeStorage","storage","testKey","setItem","removeItem","error","_data","getItem","config","parserConfig","TOKEN_NAMES","+","-",":","@","ctx","tw_pos","token_name","EditorTab","cachedContent","cursorPosition","computed","unsaved","$defined","v","isNew","methods","serialize","_stringify2","_stringify","example","_keys","_keys2","_vuex","_vuex2","_fileManager","_fileManager2","_editor","_editor2","use","Store","modules","fileManager","editor","ui","about","show","console","open","workspace","symbolTable","parseTree","renameDialog","renaming","mutations","updateState","payload","forEach","updateStateAbout","updateStateConsole","updateStateWorkspace","updateStateSymbolTable","updateStateParseTree","updateStateUI","updateStateRenameDialog","actions","_extends2","_extends3","_ToolBar","_ToolBar2","_Layout","_Layout2","components","ToolBar","Layout","mapState","mapGetters","mapMutations","mapActions","hideAbout","toggleAbout","toggleConsole","toggleWorkspace","toggleSymbolTable","toggleParseTree","compileMode","$nextTick","renameFile","onRenameConfirm","fileMap","confirm","cacheFile","saveFilesToStorage","onRenameCancel","created","_this","$on","onbeforeunload","editorNeedSave","onunload","mounted","toTimeString","_preoutput","addon","para","_lastNLines","_Resizer","_Resizer2","_codemirror","_codemirror2","Resizer","twoWay","watch","console.open","onResizeBegin","outputWithAddon","log","success","warn","$refs","_File","_File2","_EditorTab","_Processor","_Processor2","_storage","_storage2","Storage","localStorage","editorState","tabs","currentTab","openNewFile","newFile","openFile","$off","saveAllTabs","_this2","unsavedTabs","tab","openedFiles","formatCode","lock","setCompilee","stop","unlock","loadOpenedFiles","_this3","JSON","parse","lastEditing","opened","editorState.currentTab","newTab","oldTab","_this4","autoCloseBrackets","matchBrackets","styleActiveLine","selectionPointer","styleSelectedText","_Workspace","_Workspace2","_SymbolTable","_SymbolTable2","_ParseTree","_ParseTree2","_Editor","_Editor2","_Console","_Console2","Workspace","SymbolTable","ParseTree","Editor","Console","elHeight","elWidth","storedConsoleHeight","workspaceWidth","symbolTableWidth","currentActiveBox","consoleHeight","parseTreeWidth","upperHeight","editorWidth","upperStyleObj","centerStyleObj","marginRight","leftStyleObj","rightStyleObj","onConsoleResize","onConsoleClose","onWorkspaceResize","onWorkspaceClose","onSymbolTableResize","onSymbolTableClose","onParseTreeResize","onParseTreeClose","$el","_compiler","_compiler2","oldWidth","pen","showAssembly","resizePen","boxBody","clearPen","canvas","resetPen","setSource","renderPen","nodes","assembly","radius","resizing","resizeStart","resizeEnd","resizeDelta","onMouseMove","onMouseUp","symbolTableState","updateUIMode","tidy","ff","selectedFile","openFileInEditor","has","ele","hasThose","filterFunc","front","rear","marks","_mark","performance","getTime","_measure","_test","repeat","_clear","Invalid","new","tableA","indexA","addSymbol","symbol","lexeme","positions","updateSymbol","getD","getLength","Lexer","curStatus","lexSequence","errorMsg","curLexeme","matched","rules","regExp","abstract","containValue","Pointer","first_row","first_col","last_row","last_col","pointer","newLine","reduce","lexer","needBlank","lexing","_input","lexDone","lex","singleStepping","tryMatch","getToken","getSequence","getSequenceByAbstract","getSequenceByLexeme","Parser","movements","warningMsgs","curWarningMsg","stack","curMovement","toBuild","building","singleSpot","curFormula","lastStmtsNode","recovering","parseErr","nextT","interminal","product","table","program","{","}","if","(",")","then","else","while","int","real","ID","NUM",",",";","*","/","=","<",">","<=",">=","==","$","stmt","compoundstmt","stmts","ifstmt","whilestmt","assgstmt","decl","list1","boolexpr","boolop","arithexpr","arithexprprime","multexpr","multexprprime","simpleexpr","Node","fatherNode","subNodes","formula","parsed","addSubNode","sNode","getSubNodes","setPosition","assign","shiftSubNode","newNodes","epsilon","parser","pushToken","isTerminal","cleanNewNodes","item","newNode","rule","parseDone","needPush","filterNode","nodeS","subNodesS","checkParsed","allParsed","generateSequentialNodes","digNode","fartherID","onParsingBranch","thisID","countNode","subSqu","sequentialNodes","countUnparsed","treeChanged","padBlank","thisMove","sSTACK","sINPUT","sACTION","arrMovements","length0","length1","length2","inputLimit","substring","sMovements","Paxer","warningMsg","prepare","c","commenting","getTreeChanged","SemanticAnalyzer","ad1","ad2","ad3","a3","_r","second","father","nodeStack","symboltable","occurance","_errors","SemanticError","_assembly","t","_t","ID_NUM","startf","_f","arithexpr1","arithexpr2","stmt1","stmt2","_F","_T","_reset","_eat","tree","msg","global","d3_scaleExtent","domain","d3_scaleRange","scale","rangeExtent","d3_svg_axisSubdivide","ticks","subticks","extent","d3_svg_brushRedrawX","brushEls","fg","attr","resizerSet","orient","d3_svg_brushRedrawY","d3_svg_brushMove1","mouse","d3_svg_brushOffset","d3_svg_brushExtent","d3_svg_brushDrag","d3_svg_brushCenter","d3_svg_brushMove","bgOffset","_jquery2","d3_svg_brushTarget","d3_svg_brushX","d3_svg_brushEls","d3_svg_brushY","d3_svg_brushDispatch","d3_svg_brushKeydown","d3_svg_brushKeyup","d3_svg_brushUp","resizer","d3_svg_brush","d3_svg_brushResize","_jquery","_eventproxy","G","TypeError","B","P","every","K","W","da","L","E","toJSON","M","isFinite","valueOf","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","Boolean","\b","\t","\n","\f","\r","\"","\\","stringify","","eval","SyntaxError","D","ja","pow","LN10","lastIndexOf","reverse","aa","Da","cos","PI","ka","sqrt","Wa","ba","d3","va","Xa","ea","Y","fa","Ea","parseFloat","wa","Ya","Fa","ga","J","s","ra","Q","vb","I","la","ib","sa","Pb","ta","classList","baseVal","requote","each","xa","ascending","__data__","ya","Z","dispatch","oc","tween","ease","timer","S","active","q","C","Oa","__transition__","duration","Za","$a","interpolateTransform","interpolate","Ha","flush","callback","ha","jb","kb","Qb","U","ma","rotate","atan2","Rb","translate","skew","za","Ia","Pa","ab","invert","rangeRound","interpolateRound","clamp","tickFormat","nice","rebind","format","bisect","X","pc","u","exponent","Sb","rangePoints","rangeBands","rangeRoundBands","rangeBand","z","quantile","quantiles","F","A","innerRadius","H","outerRadius","na","startAngle","R","endAngle","N","ia","Ja","V","wb","tension","lb","Aa","xb","yb","mb","zb","Ga","Tb","bb","oa","Ub","Vb","Qa","Ab","Wb","Ka","sin","Xb","x0","y0","Yb","Zb","qc","$b","ac","ownerSVGElement","createSVGPoint","Bb","scrollX","append","getScreenCTM","matrixTransform","inverse","rc","sc","bc","cc","dc","ec","tc","La","ua","pa","O","T","uc","Cb","svg","nb","fc","ob","cb","vc","Db","Ra","Eb","gc","Ba","Ma","Na","Fb","Ca","pb","changedTouches","hc","Gb","Hb","wc","qb","ca","ic","qa","db","identifier","xc","Sa","LN2","yc","rb","eb","Ta","zc","Ib","Jb","Kb","Lb","Ac","Mb","transform","setProperty","Tc","CSSStyleDeclaration","jc","Bc","fb","Uc","__proto__","functor","descending","mean","median","random","sum","transpose","zip","bisectLeft","bisectRight","nest","values","entries","sortKeys","sortValues","rollup","permute","merge","Cc","xhr","XMLHttpRequest","ActiveXObject","overrideMimeType","setRequestHeader","onreadystatechange","readyState","send","responseText","json","html","selectNode","createContextualFragment","xml","responseXML","sb","xhtml","xlink","xmlns","ns","prefix","qualify","local","Dc","Ec","formatPrefix","toPrecision","toExponential","Fc","Gc","Hc","Ic","linear","poly","quad","cubic","exp","circle","elastic","asin","back","bounce","Jc","in","in-out","out-in","interpolators","interpolateNumber","interpolateString","tb","interpolateRgb","rgb","interpolateHsl","hsl","interpolateArray","interpolateObject","brighter","darker","Nb","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","querySelector","querySelectorAll","Ua","Kc","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","kc","Sizzle","uniqueSort","gb","removeAttribute","removeAttributeNS","setAttributeNS","getAttributeNS","classed","Lc","removeProperty","getPropertyValue","property","innerHTML","createElementNS","namespaceURI","Va","exit","_","transition","Mc","attrTween","styleTween","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","consolidate","matrix","ordinal","category10","Nc","category20","Oc","category20b","Pc","category20c","Qc","quantize","arc","Rc","centroid","step-before","step-after","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone","radial","angle","area","chord","p0","a0","p1","diagonal","projection","Ob","cross","diamond","lc","square","triangle-down","ub","triangle-up","symbolTypes","__chart__","tickSize","tickPadding","tickSubdivide","brush","Sc","ne","se","sw","behavior","drag","zoom","hb","dispatchEvent","mc","nc","fixed","px","py","resume","charge","leaf","cx","cy","point","pointCharge","links","_pack_next","_pack_prev","acos","_tree","thread","depth","layout","subindex","sortGroups","sortSubgroups","sortChords","chords","groups","weight","geom","quadtree","visit","tick","alpha","linkDistance","linkStrength","friction","gravity","theta","partition","hierarchy","pie","zero","inside-out","silhouette","wiggle","expand","histogram","bins","frequency","revalue","pack","cluster","separation","ancestor","prelim","number","treemap","sticky","ratio","csv","parseRows","setDate","setHours","getTimezoneOffset","UTC","toISOString","setTime","year","setFullYear","getFullYear","setUTCFullYear","hour12","getHours","hour12pm","getDay","getMonth","getDate","getMilliseconds","getMinutes","getSeconds","%","setMonth","setMilliseconds","setMinutes","setSeconds","sun","mon","tue","wed","thu","fri","sat","jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec","january","february","march","april","june","july","august","september","october","november","december","am","pm","utc","getUTCDay","getUTCMilliseconds","setUTCDate","setDay","setUTCDay","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","iso","seconds","minute","minutes","hour","hours","day","days","week","weeks","month","months","years","d3_csv_formatRow","row","d3_csv_formatValue","url","header","re","EOF","EOL","rows","glob","current_event","separator","wildcard","fun","numsort","eve","scope","oldstop","listeners","indexed","queue","ce","ii","items","jj","nes","names","es","nt","subname","unbind","once","f2","res","is","loaded","_engine","create","nu","clone","repush","cacher","postprocessor","newf","arg","clrToString","hex","catmullRom2bezier","crp","iLen","base3","p2","p3","p4","t1","t2","bezlen","x3","y3","x4","y4","z2","Tvalues","Cvalues","ct","xbase","ybase","comb","math","getTatLen","ll","intersect","mmax","mmin","nx","ny","denominator","px2","py2","interHelper","bez1","bez2","justCount","bbox1","bezierBBox","bbox2","isBBoxIntersect","l1","l2","n1","n2","dots1","dots2","xy","findDotsAtSegment","di","di1","dj","dj1","ci","cj","interPathHelper","path1","path2","_path2curve","x1m","y1m","x2m","y2m","pi","pj","intr","kk","segment1","segment2","Matrix","x_y_w_h","CubicBezierAtTime","p1x","p1y","p2x","p2y","sampleCurveX","ax","bx","solve","solveCurveX","ay","by","t0","d2","Animation","anim","percents","newAnim","times","toFloat","sortByNumber","runAnimation","element","percent","totalOrigin","params","isInAnim","isInAnimSet","timestamp","animationElements","initstatus","availableAnimAttrs","paper","customAttributes","availableAttrs","getRGB","toColour","pathes","path2curve","toPath","eq","equaliseTransform","to2","getBBox","extractTransform","Str","from2","easing","easyeasy","easing_formulas","bezierrg","curve","pipe","del","animation","requestAnimFrame","stopAnimation","paperproto","elements","path","ellipse","image","formatrg","win","oldRaphael","was","Raphael","Paper","touchMap","mousedown","mousemove","lowerCase","objectToString","colourRegExp","_ISURL","isnan","-Infinity","toInt","upperCase","_availableAttrs","arrow-end","arrow-start","clip-rect","fill","fill-opacity","font","font-family","font-size","font-style","font-weight","gradient","href","letter-spacing","opacity","rx","ry","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","_availableAnimAttrs","commaSpaces","hsrg","hs","rg","p2s","pathCommand","tCommand","pathValues","eldata","_radial_gradient","rectPath","_rectPath","ellipsePath","getPath","_getPath","attrs","bbox","_getBBox","mapPath","pathi","_g","SVGAngle","implementation","hasFeature","adj","vml","_Paper","fn","_id","_oid","isArray","rad","deg","snapTo","tolerance","rem","createUUID","uuidRegEx","uuidReplacer","setWindow","newwin","initWin","toHex","color","bod","docum","write","close","createPopup","queryCommandValue","defaultView","hsbtoString","hsltoString","rgbtoString","prepareRGB","clr","packageRGB","hsb2rgb","hsl2rgb","rgb2hsl","rgb2hsb","_path2string","_preload","onerror","colour","hsb","getColor","parsePathString","pathString","pth","paths","pathClone","paramCounts","parseTransformString","TString","ps","sleep","c1x","c1y","c2x","c2y","t13","t12","t3","mx","my","curveDim","isPointInsideBBox","pathIntersection","pathIntersectionNumber","isPointInsidePath","pathBBox","_removedFactory","methodname","pathDimensions","dim","xmin","ymin","xmax","ymax","pathArray","pathToRelative","_pathToRelative","pathToAbsolute","_pathToAbsolute","crz","dots","l2c","q2c","_13","_23","a2c","large_arc_flag","sweep_flag","recursive","_120","f1","rx2","ry2","df","f2old","x2old","y2old","c1","s1","c2","s2","hx","hy","m1","m2","m3","m4","newres","findDotAtSegment","dot","qx","qy","attrs2","processPath","fixArc","pp","fixM","seg","seg2","seglen","seg2len","tear","_parseDots","par","_tear","toMatrix","_tofront","_toback","_insertafter","el2","_insertbefore","transformPath","_extractTransform","tstr","tdata","sx","sy","tlen","command","absolute","inver","dirtyT","getEmpty","_equaliseTransform","tt1","tt2","maxlength","_getContainer","getElementById","tagName","pixelWidth","pixelHeight","matrixproto","norm","normalize","mag","toFilter","scalex","shear","scaley","isSimple","isSuperSimple","noRotation","toTransformString","shorter","preventTouch","originalEvent","stopTouch","addEvent","realName","targetTouches","olde","detacher","dragMove","dragi","_drag","opera","getElementByPoint","move_scope","dragUp","unmousemove","unmouseup","end_scope","start_scope","elproto","eventName","shape","removeData","hover","f_in","f_out","scope_in","scope_out","mouseover","mouseout","unhover","unmouseover","unmouseout","onmove","onstart","onend","undrag","unmousedown","__set__","itemsArray","Set","setFinish","setViewBox","fit","raphael","getOffset","elem","docElem","clientTop","so","sr","createSVGRect","hits","getIntersectionList","getById","raphaelid","thisArg","getElementsByPoint","isPointInside","rp","realPath","isWithoutTransform","bboxwt","glow","offsetx","offsety","getPointAtSegmentLength","getLengthFactory","istotal","subpath","onlystart","subpaths","getTotalLength","getPointAtLength","getSubpathsAtLength","getSubpath","ef","<>","backIn","backOut","easeIn","easeOut","easeInOut","Now","paused","that","upto255","animateWith","onAnimation","100","animate","pause","setproto","insertion","tail","todel","arglen","exclude","collector","insertAfter","registerFont","face","fonts","fontcopy","glyphs","family","glyph","getFont","stretch","bold","lighter","bolder","fontName","thefont","print","letter_spacing","letters","notfirst","lineHeight","shifty","descent","curr","fullfill","tokenRegex","objNotationRegex","replacer","all","quote","quotedName","isFunc","ninja","isLoaded","block","classic","oval","markerCounter","webkitTapHighlightColor","addGradientFill","fx","fy","SVG","_fx","_fy","vector","defs","gradientTransform","stop-color","fillOpacity","updatePosition","patternTransform","addArrow","isEnd","refX","arrows","endPath","endMarker","startPath","startMarker","pathId","markerId","getElementsByTagName","markerHeight","markerWidth","refY","xlink:href","startdx","enddx","dasharray","none",".","-.","-..",". ","- ","--","- .","--.","--..","addDashes","butt","dashes","setFillAndStroke","att","pn","hl","clip","clip-path","startString","endString","_vbSize","isURL","ig","patternUnits","stops","stop-opacity","cssrule","tuneText","leading","fontSize","tspan","texts","tspans","dif","Element","hide","def","subkey","toFront","toBack","fltr","stdDeviation","_blur","preserveAspectRatio","_viewBox","con","isFloating","cnvs","_left","renderfix","aspectRatio","viewBox","createSVGMatrix","desc","fillString","bites","blurregexp","cssDot","pathTypes","ovalTypes","path2vml","vals","isMove","compensation","setCoords","fillpos","flip","kx","ky","coordsize","rotation","coordorigin","fillsize","newpath","isOval","clipRect","dstyle","textpath","textpathStyle","fontFamily","fontWeight","fontStyle","newfill","createNode","newstroke","strokeColor","joinstyle","miterlimit","endcap","dashstyle","brect","dirtyattrs","dd","bbx","fxfy","color2","clrs","colors","focussize","focusposition","oldt","vbs","_viewBoxShift","vbt","isGrad","isPatt","bbt","runtimeStyle","Path","textpathok","cs","createStyleSheet","addRule","namespaces","rvml","EventProxy","_callbacks","_fired","addListener","ev","await","removeListener","calls","removeAllListeners","trigger","both","emit","fire","immediate","_assign","eventname1","eventname2","_all","isOnce","proxy","argsLength","flag","assignAll","assignAlways","firedData","any","_bind","_eventName","not","ep","DataV","Themes","theme0","COLOR_ARGS","theme1","theme2","theme3","theme4","_currentTheme","themeName","changeTheme","ret","getDiscreteColor","gotColor","colorLineCount","num","thisColor","thisolorCount","gradientColor","endColor","startColor","colorCount","dH","dNum","startHSB","endHSB","startH","endH","startNum","endNum","Chart","getType","initialize","Axis","tickArguments_","tickFormat_","axisSet","tickX","tickMinorSize","minorTickAttr_","tickMajorSize","tickAttr_","tickTextAttr_","tickEndSize","domainAttr_","tickY","tickAttr","tickTextAttr","minorTickAttr","domainAttr","d3_svg_brushCursor","vml_brushCursor","Brush","down","__brushNodeType__","dispatcher","resizes","brushSet","bg","backgroundAttr","ondragstart","brushClass","foregroundAttr","brushElements","argumentz","FloatTag","floatTag","cont","jqNode","border-color","browser","msie","background-color","border-radius","box-shadow","font-familiy","z-index","text-align","_mousemove","mouseToFloatTag","setContent","floatTagWidth","floatTagHeight","outerWidth","outerHeight","Tree","addlink","treeDepth","deep","setOptions","createCanvas","hierarchyTableToJson","rootID","record","ids","pnode","recurse","draw","childNode","conf","rawData","remapSource","_children","nodesData","treedepth","origDepth","colorMatrix","canvasStyle","canvasF","DOMNode","click","dblclick","mousewheel","delegate","multiple","getLinkPath","tx","ty","link_path","generatePaths","nodeupdate","nodesLength","extra","lit","childLength","startX","startY","orig","textY","thisradius","thisstrokewidth","getFline","textpathLength","thisparent","nodeslength","pathNum","linkchildLength","anparent","clearDraw","require","createFlags","flags","object","flagsCache","dataAttr","rmultiDash","jQuery","isNumeric","rbrace","parseJSON","isEmptyDataObject","isEmptyObject","handleQueueMarkDefer","deferDataKey","queueDataKey","markDataKey","defer","returnFalse","returnTrue","isDisconnected","winnow","qualifier","keep","isFunction","grep","retVal","filtered","inArray","createSafeFragment","nodeNames","safeFrag","cloneCopyEvent","hasData","oldData","curData","namespace","cloneFixAttributes","clearAttributes","mergeAttributes","outerHTML","defaultSelected","defaultValue","checked","defaultChecked","expando","getAll","fixDefaultChecked","findInputs","shimCloneNode","safeFragment","evalScript","ajax","async","dataType","globalEval","rcleanScript","getWH","cssWidth","cssHeight","curCSS","addToPrefiltersOrTransports","structure","dataTypeExpression","placeBefore","dataTypes","rspacesAjax","inspectPrefiltersOrTransports","originalOptions","jqXHR","inspected","executeOnly","prefilters","ajaxExtend","flatOptions","ajaxSettings","buildParams","traditional","rbracket","ajaxHandleResponses","responses","finalDataType","firstDataType","contents","responseFields","mimeType","getResponseHeader","converters","ajaxConvert","response","dataFilter","conversion","conv","conv1","conv2","createStandardXHR","createActiveXHR","createFxNow","clearFxNow","fxNow","genFx","fxAttrs","defaultDisplay","elemdisplay","appendTo","iframe","frameBorder","iframeDoc","contentWindow","contentDocument","compatMode","getWindow","isWindow","parentWindow","location","doScrollCheck","isReady","ready","rootjQuery","browserMatch","readyList","DOMContentLoaded","selector","_jQuery","_$","quickExpr","rnotwhite","trimLeft","trimRight","rsingleTag","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rwebkit","ropera","rmsie","rmozilla","rdashAlpha","rmsPrefix","fcamelCase","letter","hasOwn","class2type","jquery","isPlainObject","buildFragment","cacheable","makeArray","toArray","pushStack","elems","prevObject","bindReady","copyIsArray","noConflict","readyWait","holdReady","hold","wait","fireWith","Callbacks","toplevel","frameElement","Function","parseXML","DOMParser","parseFromString","loadXML","noop","execScript","camelCase","isObj","results","guid","access","pass","uaMatch","jQuerySub","superclass","rootjQuerySub","memory","firing","firingStart","firingLength","firingIndex","unique","stopOnFalse","disable","argIndex","argLength","locked","fired","sliceDeferred","Deferred","doneList","failList","progressList","lists","resolve","reject","notify","promise","fail","progress","isResolved","isRejected","doneCallbacks","failCallbacks","progressCallbacks","deferred","always","fnDone","fnFail","fnProgress","newDefer","handler","returned","action","when","firstParam","resolveFunc","resolveWith","progressFunc","pValues","notifyWith","support","marginDiv","tds","isSupported","leadingWhitespace","tbody","htmlSerialize","hrefNormalized","cssFloat","checkOn","optSelected","getSetAttribute","enctype","html5Clone","submitBubbles","changeBubbles","focusinBubbles","deleteExpando","noCloneEvent","inlineBlockNeedsLayout","shrinkWrapBlocks","reliableMarginRight","noCloneChecked","optDisabled","fireEvent","radioValue","checkClone","appendChecked","focusin","td","offsetSupport","conMarginTop","ptlm","reliableHiddenOffsets","boxModel","doesNotAddBorder","doesAddBorderForTableAndCells","fixedPosition","overflow","subtractsBorderForOverflowNotVisible","doesNotIncludeMarginInBodyOffset","uuid","noData","embed","applet","pvt","acceptData","privateCache","thisCache","internalKey","getByName","isNode","isEvents","attributes","triggerHandler","_unmark","dequeue","hooks","speeds","timeout","clearQueue","nodeHook","boolHook","fixSpecified","rclass","rspace","rreturn","rtype","rfocusable","rclickable","rboolean","removeAttr","removeProp","propFix","classNames","setClass","cl","removeClass","toggleClass","stateVal","isBool","hasClass","valHooks","specified","selectedIndex","one","attrFn","notxml","nType","isXMLDoc","attrHooks","propName","attrNames","readonly","for","class","cellspacing","cellpadding","rowspan","colspan","usemap","frameborder","propHooks","attributeNode","getAttributeNode","attrNode","createAttribute","setAttributeNode","rformElems","rtypenamespace","rhoverHack","rkeyEvent","rmouseEvent","rfocusMorph","rquickIs","quickParse","quick","quickIs","hoverHack","elemData","eventHandle","tns","handleObj","handleObjIn","triggered","delegateType","bindType","origType","delegateCount","setup","mappedTypes","origCount","eventType","teardown","removeEvent","customEvent","changeData","onlyHandlers","exclusive","ontype","eventPath","bubbleType","Event","isTrigger","namespace_re","noBubble","isPropagationStopped","isDefaultPrevented","_default","fix","jqcur","selMatch","matches","run_all","handlerQueue","delegateTarget","currentTarget","isImmediatePropagationStopped","fixHooks","keyHooks","original","mouseHooks","eventDoc","fromElement","relatedTarget","toElement","fixHook","load","beforeunload","simulate","bubble","isSimulated","getPreventDefault","timeStamp","stopImmediatePropagation","mouseenter","mouseleave","related","_submit_attached","propertyName","_just_changed","_change_attached","attaches","origFn","live","die","undelegate","toggler","lastToggle","fnOver","fnOut","dirNodeCheck","doneName","checkSet","nodeCheck","isXML","sizset","dirCheck","chunker","hasDuplicate","baseHasDuplicate","rBackslash","rReturn","rNonWord","seed","origContext","prune","contextXML","soFar","origPOS","Expr","relative","posProcess","expr","sortOrder","leftMatch","inplace","anyFound","curLoop","isXMLFilter","preFilter","getText","innerText","selectors","CLASS","NAME","ATTR","TAG","CHILD","POS","PSEUDO","attrMap","attrHandle","isPartStr","isTag","isPartStrNotTag","checkFn","~","getElementsByName","filters","enabled","radio","checkbox","password","setFilters","even","odd","lt","gt","nth","nodeIndex","fescape","siblingCheck","compareDocumentPosition","sourceIndex","al","bl","ap","bp","aup","bup","createComment","oldSizzle","query","qsaError","oldContext","nid","hasParent","relativeHierarchySelector","pseudoError","disconnectedMatch","pseudoWorks","tmpSet","later","runtil","rparentsprev","rmultiselector","guaranteedUnique","targets","closest","prevAll","andSelf","parents","parentsUntil","until","nextAll","nextUntil","prevUntil","siblings","rinlinejQuery","rleadingWhitespace","rxhtmlTag","rtagName","rtbody","rhtml","rnoInnerhtml","rnocache","rnoshimcache","rchecked","rscriptType","wrapMap","legend","thead","tr","optgroup","tfoot","colgroup","caption","wrapAll","wrapInner","unwrap","replaceWith","domManip","prepend","clean","keepData","cleanData","dataAndEvents","deepDataAndEvents","scripts","cacheresults","fragments","prependTo","replaceAll","srcElements","destElements","checkScriptType","hasBody","jsTags","ralpha","ropacity","rupper","rnumpx","rnum","rrelNum","cssShow","cssHooks","cssNumber","orphans","widows","cssProps","float","origName","swap","$1","computedStyle","rsLeft","uncomputed","pixelLeft","ajaxLocation","ajaxLocParts","r20","rCRLF","rhash","rheaders","rinput","rlocalProtocol","rnoContent","rprotocol","rquery","rscript","rselectTextarea","rts","rurl","_load","transports","allTypes","param","complete","serializeArray","getScript","getJSON","ajaxSetup","settings","isLocal","contentType","processData","accepts","* text","text html","text json","text xml","ajaxPrefilter","ajaxTransport","nativeStatusText","headers","timeoutTimer","transport","responseHeadersString","isSuccess","lastModified","etag","statusText","ifModified","ifModifiedKey","callbackContext","rejectWith","statusCode","fireGlobals","globalEventContext","completeDeferred","responseHeaders","requestHeaders","requestHeadersNames","lname","getAllResponseHeaders","abort","crossDomain","hasContent","ts","beforeSend","encodeURIComponent","jsc","jsre","jsonp","jsonpCallback","originalSettings","inspectData","responseContainer","previous","script","text script","scriptCharset","charset","isAbort","xhrCallbacks","xhrOnUnloadAbort","xhrId","cors","username","xhrFields","firefoxAccessException","unload","timerId","rfxtypes","rfxnum","speed","_toggle","fn2","bool","fadeTo","doAnimation","optall","isElement","animatedProperties","specialEasing","overflowX","overflowY","custom","gotoEnd","stopQueue","hadTimers","timers","saveState","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","noUnmark","firstNum","swing","interval","dataShow","slow","fast","animated","rtable","rroot","setOffset","bodyOffset","offsetParent","prevOffsetParent","prevComputedStyle","borderTopWidth","borderLeftWidth","curTop","curLeft","curElem","curOffset","curCSSTop","curCSSLeft","calculatePosition","curPosition","using","parentOffset","docElemProp","tokenize","char","operatorReg","wordReg","keywordReg","wordCharacters","indentStack","textAfter","_ArrayHelper","_EditorTab2","getters","currentCursorPos","openTab","closeTab","setCurrentTab","_ref","switchTab","_ref2","_ref3","addFile","storedFileNames","fileInfo","saveFile","cached","fileList","createNewFile","storedFiles","_h","staticClass","$event","directives","rawName","expression","_s","_l","ref","resizer:begin","resizer:resize","_m","active-box","parse-tree:resize","parse-tree:close","workspace:resize","workspace:close","symbol-table:resize","symbol-table:close","console:close","console:resize","data-bind","contextmenu","domProps","$index"],"mappings":"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","file":"static/js/app.eec95ba72d341914e4ff.js","sourcesContent":["webpackJsonp([2,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(122);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _index = __webpack_require__(46);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#loading-mask',\n\t  store: _index2.default,\n\t  render: function render(h) {\n\t    return h(_App2.default);\n\t  }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {\"use strict\";var _create=__webpack_require__(77);var _create2=_interopRequireDefault(_create);var _typeof2=__webpack_require__(6);var _typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}(function(mod){if(( false?\"undefined\":(0,_typeof3.default)(exports))==\"object\"&&( false?\"undefined\":(0,_typeof3.default)(module))==\"object\")module.exports=mod();else if(true)return !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else this.CodeMirror=mod();})(function(){\"use strict\";var userAgent=navigator.userAgent;var platform=navigator.platform;var gecko=/gecko\\/\\d/i.test(userAgent);var ie_upto10=/MSIE \\d/.test(userAgent);var ie_11up=/Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);var ie=ie_upto10||ie_11up;var ie_version=ie&&(ie_upto10?document.documentMode||6:ie_11up[1]);var webkit=/WebKit\\//.test(userAgent);var qtwebkit=webkit&&/Qt\\/\\d+\\.\\d+/.test(userAgent);var chrome=/Chrome\\//.test(userAgent);var presto=/Opera\\//.test(userAgent);var safari=/Apple Computer/.test(navigator.vendor);var mac_geMountainLion=/Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);var phantom=/PhantomJS/.test(userAgent);var ios=/AppleWebKit/.test(userAgent)&&/Mobile\\/\\w+/.test(userAgent);var mobile=ios||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);var mac=ios||/Mac/.test(platform);var windows=/win/i.test(platform);var presto_version=presto&&userAgent.match(/Version\\/(\\d*\\.\\d*)/);if(presto_version)presto_version=Number(presto_version[1]);if(presto_version&&presto_version>=15){presto=false;webkit=true;}var flipCtrlCmd=mac&&(qtwebkit||presto&&(presto_version==null||presto_version<12.11));var captureRightClick=gecko||ie&&ie_version>=9;var sawReadOnlySpans=false,sawCollapsedSpans=false;function CodeMirror(place,options){if(!(this instanceof CodeMirror))return new CodeMirror(place,options);this.options=options=options?copyObj(options):{};copyObj(defaults,options,false);setGuttersForLineNumbers(options);var doc=options.value;if(typeof doc==\"string\")doc=new Doc(doc,options.mode,null,options.lineSeparator);this.doc=doc;var input=new CodeMirror.inputStyles[options.inputStyle](this);var display=this.display=new Display(place,doc,input);display.wrapper.CodeMirror=this;updateGutters(this);themeChanged(this);if(options.lineWrapping)this.display.wrapper.className+=\" CodeMirror-wrap\";if(options.autofocus&&!mobile)display.input.focus();initScrollbars(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:false,delayingBlurEvent:false,focused:false,suppressEdits:false,pasteIncoming:false,cutIncoming:false,selectingText:false,draggingText:false,highlight:new Delayed(),keySeq:null,specialChars:null};var cm=this;if(ie&&ie_version<11)setTimeout(function(){cm.display.input.reset(true);},20);registerEventHandlers(this);ensureGlobalHandlers();startOperation(this);this.curOp.forceUpdate=true;attachDoc(this,doc);if(options.autofocus&&!mobile||cm.hasFocus())setTimeout(bind(onFocus,this),20);else onBlur(this);for(var opt in optionHandlers){if(optionHandlers.hasOwnProperty(opt))optionHandlers[opt](this,options[opt],Init);}maybeUpdateLineNumberWidth(this);if(options.finishInit)options.finishInit(this);for(var i=0;i<initHooks.length;++i){initHooks[i](this);}endOperation(this);if(webkit&&options.lineWrapping&&getComputedStyle(display.lineDiv).textRendering==\"optimizelegibility\")display.lineDiv.style.textRendering=\"auto\";}function Display(place,doc,input){var d=this;this.input=input;d.scrollbarFiller=elt(\"div\",null,\"CodeMirror-scrollbar-filler\");d.scrollbarFiller.setAttribute(\"cm-not-content\",\"true\");d.gutterFiller=elt(\"div\",null,\"CodeMirror-gutter-filler\");d.gutterFiller.setAttribute(\"cm-not-content\",\"true\");d.lineDiv=elt(\"div\",null,\"CodeMirror-code\");d.selectionDiv=elt(\"div\",null,null,\"position: relative; z-index: 1\");d.cursorDiv=elt(\"div\",null,\"CodeMirror-cursors\");d.measure=elt(\"div\",null,\"CodeMirror-measure\");d.lineMeasure=elt(\"div\",null,\"CodeMirror-measure\");d.lineSpace=elt(\"div\",[d.measure,d.lineMeasure,d.selectionDiv,d.cursorDiv,d.lineDiv],null,\"position: relative; outline: none\");d.mover=elt(\"div\",[elt(\"div\",[d.lineSpace],\"CodeMirror-lines\")],null,\"position: relative\");d.sizer=elt(\"div\",[d.mover],\"CodeMirror-sizer\");d.sizerWidth=null;d.heightForcer=elt(\"div\",null,null,\"position: absolute; height: \"+scrollerGap+\"px; width: 1px;\");d.gutters=elt(\"div\",null,\"CodeMirror-gutters\");d.lineGutter=null;d.scroller=elt(\"div\",[d.sizer,d.heightForcer,d.gutters],\"CodeMirror-scroll\");d.scroller.setAttribute(\"tabIndex\",\"-1\");d.wrapper=elt(\"div\",[d.scrollbarFiller,d.gutterFiller,d.scroller],\"CodeMirror\");if(ie&&ie_version<8){d.gutters.style.zIndex=-1;d.scroller.style.paddingRight=0;}if(!webkit&&!(gecko&&mobile))d.scroller.draggable=true;if(place){if(place.appendChild)place.appendChild(d.wrapper);else place(d.wrapper);}d.viewFrom=d.viewTo=doc.first;d.reportedViewFrom=d.reportedViewTo=doc.first;d.view=[];d.renderedView=null;d.externalMeasured=null;d.viewOffset=0;d.lastWrapHeight=d.lastWrapWidth=0;d.updateLineNumbers=null;d.nativeBarWidth=d.barHeight=d.barWidth=0;d.scrollbarsClipped=false;d.lineNumWidth=d.lineNumInnerWidth=d.lineNumChars=null;d.alignWidgets=false;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.maxLine=null;d.maxLineLength=0;d.maxLineChanged=false;d.wheelDX=d.wheelDY=d.wheelStartX=d.wheelStartY=null;d.shift=false;d.selForContextMenu=null;d.activeTouch=null;input.init(d);}function loadMode(cm){cm.doc.mode=CodeMirror.getMode(cm.options,cm.doc.modeOption);resetModeState(cm);}function resetModeState(cm){cm.doc.iter(function(line){if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;});cm.doc.frontier=cm.doc.first;startWorker(cm,100);cm.state.modeGen++;if(cm.curOp)regChange(cm);}function wrappingChanged(cm){if(cm.options.lineWrapping){addClass(cm.display.wrapper,\"CodeMirror-wrap\");cm.display.sizer.style.minWidth=\"\";cm.display.sizerWidth=null;}else{rmClass(cm.display.wrapper,\"CodeMirror-wrap\");findMaxLine(cm);}estimateLineHeights(cm);regChange(cm);clearCaches(cm);setTimeout(function(){updateScrollbars(cm);},100);}function estimateHeight(cm){var th=textHeight(cm.display),wrapping=cm.options.lineWrapping;var perLine=wrapping&&Math.max(5,cm.display.scroller.clientWidth/charWidth(cm.display)-3);return function(line){if(lineIsHidden(cm.doc,line))return 0;var widgetsHeight=0;if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].height)widgetsHeight+=line.widgets[i].height;}if(wrapping)return widgetsHeight+(Math.ceil(line.text.length/perLine)||1)*th;else return widgetsHeight+th;};}function estimateLineHeights(cm){var doc=cm.doc,est=estimateHeight(cm);doc.iter(function(line){var estHeight=est(line);if(estHeight!=line.height)updateLineHeight(line,estHeight);});}function themeChanged(cm){cm.display.wrapper.className=cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g,\"\")+cm.options.theme.replace(/(^|\\s)\\s*/g,\" cm-s-\");clearCaches(cm);}function guttersChanged(cm){updateGutters(cm);regChange(cm);setTimeout(function(){alignHorizontally(cm);},20);}function updateGutters(cm){var gutters=cm.display.gutters,specs=cm.options.gutters;removeChildren(gutters);for(var i=0;i<specs.length;++i){var gutterClass=specs[i];var gElt=gutters.appendChild(elt(\"div\",null,\"CodeMirror-gutter \"+gutterClass));if(gutterClass==\"CodeMirror-linenumbers\"){cm.display.lineGutter=gElt;gElt.style.width=(cm.display.lineNumWidth||1)+\"px\";}}gutters.style.display=i?\"\":\"none\";updateGutterSpace(cm);}function updateGutterSpace(cm){var width=cm.display.gutters.offsetWidth;cm.display.sizer.style.marginLeft=width+\"px\";}function lineLength(line){if(line.height==0)return 0;var len=line.text.length,merged,cur=line;while(merged=collapsedSpanAtStart(cur)){var found=merged.find(0,true);cur=found.from.line;len+=found.from.ch-found.to.ch;}cur=line;while(merged=collapsedSpanAtEnd(cur)){var found=merged.find(0,true);len-=cur.text.length-found.from.ch;cur=found.to.line;len+=cur.text.length-found.to.ch;}return len;}function findMaxLine(cm){var d=cm.display,doc=cm.doc;d.maxLine=getLine(doc,doc.first);d.maxLineLength=lineLength(d.maxLine);d.maxLineChanged=true;doc.iter(function(line){var len=lineLength(line);if(len>d.maxLineLength){d.maxLineLength=len;d.maxLine=line;}});}function setGuttersForLineNumbers(options){var found=indexOf(options.gutters,\"CodeMirror-linenumbers\");if(found==-1&&options.lineNumbers){options.gutters=options.gutters.concat([\"CodeMirror-linenumbers\"]);}else if(found>-1&&!options.lineNumbers){options.gutters=options.gutters.slice(0);options.gutters.splice(found,1);}}function measureForScrollbars(cm){var d=cm.display,gutterW=d.gutters.offsetWidth;var docH=Math.round(cm.doc.height+paddingVert(cm.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:cm.options.fixedGutter?gutterW:0,docHeight:docH,scrollHeight:docH+scrollGap(cm)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:gutterW};}function NativeScrollbars(place,scroll,cm){this.cm=cm;var vert=this.vert=elt(\"div\",[elt(\"div\",null,null,\"min-width: 1px\")],\"CodeMirror-vscrollbar\");var horiz=this.horiz=elt(\"div\",[elt(\"div\",null,null,\"height: 100%; min-height: 1px\")],\"CodeMirror-hscrollbar\");place(vert);place(horiz);on(vert,\"scroll\",function(){if(vert.clientHeight)scroll(vert.scrollTop,\"vertical\");});on(horiz,\"scroll\",function(){if(horiz.clientWidth)scroll(horiz.scrollLeft,\"horizontal\");});this.checkedZeroWidth=false;if(ie&&ie_version<8)this.horiz.style.minHeight=this.vert.style.minWidth=\"18px\";}NativeScrollbars.prototype=copyObj({update:function update(measure){var needsH=measure.scrollWidth>measure.clientWidth+1;var needsV=measure.scrollHeight>measure.clientHeight+1;var sWidth=measure.nativeBarWidth;if(needsV){this.vert.style.display=\"block\";this.vert.style.bottom=needsH?sWidth+\"px\":\"0\";var totalHeight=measure.viewHeight-(needsH?sWidth:0);this.vert.firstChild.style.height=Math.max(0,measure.scrollHeight-measure.clientHeight+totalHeight)+\"px\";}else{this.vert.style.display=\"\";this.vert.firstChild.style.height=\"0\";}if(needsH){this.horiz.style.display=\"block\";this.horiz.style.right=needsV?sWidth+\"px\":\"0\";this.horiz.style.left=measure.barLeft+\"px\";var totalWidth=measure.viewWidth-measure.barLeft-(needsV?sWidth:0);this.horiz.firstChild.style.width=measure.scrollWidth-measure.clientWidth+totalWidth+\"px\";}else{this.horiz.style.display=\"\";this.horiz.firstChild.style.width=\"0\";}if(!this.checkedZeroWidth&&measure.clientHeight>0){if(sWidth==0)this.zeroWidthHack();this.checkedZeroWidth=true;}return{right:needsV?sWidth:0,bottom:needsH?sWidth:0};},setScrollLeft:function setScrollLeft(pos){if(this.horiz.scrollLeft!=pos)this.horiz.scrollLeft=pos;if(this.disableHoriz)this.enableZeroWidthBar(this.horiz,this.disableHoriz);},setScrollTop:function setScrollTop(pos){if(this.vert.scrollTop!=pos)this.vert.scrollTop=pos;if(this.disableVert)this.enableZeroWidthBar(this.vert,this.disableVert);},zeroWidthHack:function zeroWidthHack(){var w=mac&&!mac_geMountainLion?\"12px\":\"18px\";this.horiz.style.height=this.vert.style.width=w;this.horiz.style.pointerEvents=this.vert.style.pointerEvents=\"none\";this.disableHoriz=new Delayed();this.disableVert=new Delayed();},enableZeroWidthBar:function enableZeroWidthBar(bar,delay){bar.style.pointerEvents=\"auto\";function maybeDisable(){var box=bar.getBoundingClientRect();var elt=document.elementFromPoint(box.left+1,box.bottom-1);if(elt!=bar)bar.style.pointerEvents=\"none\";else delay.set(1000,maybeDisable);}delay.set(1000,maybeDisable);},clear:function clear(){var parent=this.horiz.parentNode;parent.removeChild(this.horiz);parent.removeChild(this.vert);}},NativeScrollbars.prototype);function NullScrollbars(){}NullScrollbars.prototype=copyObj({update:function update(){return{bottom:0,right:0};},setScrollLeft:function setScrollLeft(){},setScrollTop:function setScrollTop(){},clear:function clear(){}},NullScrollbars.prototype);CodeMirror.scrollbarModel={\"native\":NativeScrollbars,\"null\":NullScrollbars};function initScrollbars(cm){if(cm.display.scrollbars){cm.display.scrollbars.clear();if(cm.display.scrollbars.addClass)rmClass(cm.display.wrapper,cm.display.scrollbars.addClass);}cm.display.scrollbars=new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node){cm.display.wrapper.insertBefore(node,cm.display.scrollbarFiller);on(node,\"mousedown\",function(){if(cm.state.focused)setTimeout(function(){cm.display.input.focus();},0);});node.setAttribute(\"cm-not-content\",\"true\");},function(pos,axis){if(axis==\"horizontal\")setScrollLeft(cm,pos);else setScrollTop(cm,pos);},cm);if(cm.display.scrollbars.addClass)addClass(cm.display.wrapper,cm.display.scrollbars.addClass);}function updateScrollbars(cm,measure){if(!measure)measure=measureForScrollbars(cm);var startWidth=cm.display.barWidth,startHeight=cm.display.barHeight;updateScrollbarsInner(cm,measure);for(var i=0;i<4&&startWidth!=cm.display.barWidth||startHeight!=cm.display.barHeight;i++){if(startWidth!=cm.display.barWidth&&cm.options.lineWrapping)updateHeightsInViewport(cm);updateScrollbarsInner(cm,measureForScrollbars(cm));startWidth=cm.display.barWidth;startHeight=cm.display.barHeight;}}function updateScrollbarsInner(cm,measure){var d=cm.display;var sizes=d.scrollbars.update(measure);d.sizer.style.paddingRight=(d.barWidth=sizes.right)+\"px\";d.sizer.style.paddingBottom=(d.barHeight=sizes.bottom)+\"px\";if(sizes.right&&sizes.bottom){d.scrollbarFiller.style.display=\"block\";d.scrollbarFiller.style.height=sizes.bottom+\"px\";d.scrollbarFiller.style.width=sizes.right+\"px\";}else d.scrollbarFiller.style.display=\"\";if(sizes.bottom&&cm.options.coverGutterNextToScrollbar&&cm.options.fixedGutter){d.gutterFiller.style.display=\"block\";d.gutterFiller.style.height=sizes.bottom+\"px\";d.gutterFiller.style.width=measure.gutterWidth+\"px\";}else d.gutterFiller.style.display=\"\";}function visibleLines(display,doc,viewport){var top=viewport&&viewport.top!=null?Math.max(0,viewport.top):display.scroller.scrollTop;top=Math.floor(top-paddingTop(display));var bottom=viewport&&viewport.bottom!=null?viewport.bottom:top+display.wrapper.clientHeight;var from=_lineAtHeight(doc,top),to=_lineAtHeight(doc,bottom);if(viewport&&viewport.ensure){var ensureFrom=viewport.ensure.from.line,ensureTo=viewport.ensure.to.line;if(ensureFrom<from){from=ensureFrom;to=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureFrom))+display.wrapper.clientHeight);}else if(Math.min(ensureTo,doc.lastLine())>=to){from=_lineAtHeight(doc,_heightAtLine(getLine(doc,ensureTo))-display.wrapper.clientHeight);to=ensureTo;}}return{from:from,to:Math.max(to,from+1)};}function alignHorizontally(cm){var display=cm.display,view=display.view;if(!display.alignWidgets&&(!display.gutters.firstChild||!cm.options.fixedGutter))return;var comp=compensateForHScroll(display)-display.scroller.scrollLeft+cm.doc.scrollLeft;var gutterW=display.gutters.offsetWidth,left=comp+\"px\";for(var i=0;i<view.length;i++){if(!view[i].hidden){if(cm.options.fixedGutter&&view[i].gutter)view[i].gutter.style.left=left;var align=view[i].alignable;if(align)for(var j=0;j<align.length;j++){align[j].style.left=left;}}}if(cm.options.fixedGutter)display.gutters.style.left=comp+gutterW+\"px\";}function maybeUpdateLineNumberWidth(cm){if(!cm.options.lineNumbers)return false;var doc=cm.doc,last=lineNumberFor(cm.options,doc.first+doc.size-1),display=cm.display;if(last.length!=display.lineNumChars){var test=display.measure.appendChild(elt(\"div\",[elt(\"div\",last)],\"CodeMirror-linenumber CodeMirror-gutter-elt\"));var innerW=test.firstChild.offsetWidth,padding=test.offsetWidth-innerW;display.lineGutter.style.width=\"\";display.lineNumInnerWidth=Math.max(innerW,display.lineGutter.offsetWidth-padding)+1;display.lineNumWidth=display.lineNumInnerWidth+padding;display.lineNumChars=display.lineNumInnerWidth?last.length:-1;display.lineGutter.style.width=display.lineNumWidth+\"px\";updateGutterSpace(cm);return true;}return false;}function lineNumberFor(options,i){return String(options.lineNumberFormatter(i+options.firstLineNumber));}function compensateForHScroll(display){return display.scroller.getBoundingClientRect().left-display.sizer.getBoundingClientRect().left;}function DisplayUpdate(cm,viewport,force){var display=cm.display;this.viewport=viewport;this.visible=visibleLines(display,cm.doc,viewport);this.editorIsHidden=!display.wrapper.offsetWidth;this.wrapperHeight=display.wrapper.clientHeight;this.wrapperWidth=display.wrapper.clientWidth;this.oldDisplayWidth=displayWidth(cm);this.force=force;this.dims=getDimensions(cm);this.events=[];}DisplayUpdate.prototype.signal=function(emitter,type){if(hasHandler(emitter,type))this.events.push(arguments);};DisplayUpdate.prototype.finish=function(){for(var i=0;i<this.events.length;i++){signal.apply(null,this.events[i]);}};function maybeClipScrollbars(cm){var display=cm.display;if(!display.scrollbarsClipped&&display.scroller.offsetWidth){display.nativeBarWidth=display.scroller.offsetWidth-display.scroller.clientWidth;display.heightForcer.style.height=scrollGap(cm)+\"px\";display.sizer.style.marginBottom=-display.nativeBarWidth+\"px\";display.sizer.style.borderRightWidth=scrollGap(cm)+\"px\";display.scrollbarsClipped=true;}}function updateDisplayIfNeeded(cm,update){var display=cm.display,doc=cm.doc;if(update.editorIsHidden){resetView(cm);return false;}if(!update.force&&update.visible.from>=display.viewFrom&&update.visible.to<=display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo)&&display.renderedView==display.view&&countDirtyView(cm)==0)return false;if(maybeUpdateLineNumberWidth(cm)){resetView(cm);update.dims=getDimensions(cm);}var end=doc.first+doc.size;var from=Math.max(update.visible.from-cm.options.viewportMargin,doc.first);var to=Math.min(end,update.visible.to+cm.options.viewportMargin);if(display.viewFrom<from&&from-display.viewFrom<20)from=Math.max(doc.first,display.viewFrom);if(display.viewTo>to&&display.viewTo-to<20)to=Math.min(end,display.viewTo);if(sawCollapsedSpans){from=visualLineNo(cm.doc,from);to=visualLineEndNo(cm.doc,to);}var different=from!=display.viewFrom||to!=display.viewTo||display.lastWrapHeight!=update.wrapperHeight||display.lastWrapWidth!=update.wrapperWidth;adjustView(cm,from,to);display.viewOffset=_heightAtLine(getLine(cm.doc,display.viewFrom));cm.display.mover.style.top=display.viewOffset+\"px\";var toUpdate=countDirtyView(cm);if(!different&&toUpdate==0&&!update.force&&display.renderedView==display.view&&(display.updateLineNumbers==null||display.updateLineNumbers>=display.viewTo))return false;var focused=activeElt();if(toUpdate>4)display.lineDiv.style.display=\"none\";patchDisplay(cm,display.updateLineNumbers,update.dims);if(toUpdate>4)display.lineDiv.style.display=\"\";display.renderedView=display.view;if(focused&&activeElt()!=focused&&focused.offsetHeight)focused.focus();removeChildren(display.cursorDiv);removeChildren(display.selectionDiv);display.gutters.style.height=display.sizer.style.minHeight=0;if(different){display.lastWrapHeight=update.wrapperHeight;display.lastWrapWidth=update.wrapperWidth;startWorker(cm,400);}display.updateLineNumbers=null;return true;}function postUpdateDisplay(cm,update){var viewport=update.viewport;for(var first=true;;first=false){if(!first||!cm.options.lineWrapping||update.oldDisplayWidth==displayWidth(cm)){if(viewport&&viewport.top!=null)viewport={top:Math.min(cm.doc.height+paddingVert(cm.display)-displayHeight(cm),viewport.top)};update.visible=visibleLines(cm.display,cm.doc,viewport);if(update.visible.from>=cm.display.viewFrom&&update.visible.to<=cm.display.viewTo)break;}if(!updateDisplayIfNeeded(cm,update))break;updateHeightsInViewport(cm);var barMeasure=measureForScrollbars(cm);updateSelection(cm);setDocumentHeight(cm,barMeasure);updateScrollbars(cm,barMeasure);}update.signal(cm,\"update\",cm);if(cm.display.viewFrom!=cm.display.reportedViewFrom||cm.display.viewTo!=cm.display.reportedViewTo){update.signal(cm,\"viewportChange\",cm,cm.display.viewFrom,cm.display.viewTo);cm.display.reportedViewFrom=cm.display.viewFrom;cm.display.reportedViewTo=cm.display.viewTo;}}function updateDisplaySimple(cm,viewport){var update=new DisplayUpdate(cm,viewport);if(updateDisplayIfNeeded(cm,update)){updateHeightsInViewport(cm);postUpdateDisplay(cm,update);var barMeasure=measureForScrollbars(cm);updateSelection(cm);setDocumentHeight(cm,barMeasure);updateScrollbars(cm,barMeasure);update.finish();}}function setDocumentHeight(cm,measure){cm.display.sizer.style.minHeight=measure.docHeight+\"px\";var total=measure.docHeight+cm.display.barHeight;cm.display.heightForcer.style.top=total+\"px\";cm.display.gutters.style.height=Math.max(total+scrollGap(cm),measure.clientHeight)+\"px\";}function updateHeightsInViewport(cm){var display=cm.display;var prevBottom=display.lineDiv.offsetTop;for(var i=0;i<display.view.length;i++){var cur=display.view[i],height;if(cur.hidden)continue;if(ie&&ie_version<8){var bot=cur.node.offsetTop+cur.node.offsetHeight;height=bot-prevBottom;prevBottom=bot;}else{var box=cur.node.getBoundingClientRect();height=box.bottom-box.top;}var diff=cur.line.height-height;if(height<2)height=textHeight(display);if(diff>.001||diff<-.001){updateLineHeight(cur.line,height);updateWidgetHeight(cur.line);if(cur.rest)for(var j=0;j<cur.rest.length;j++){updateWidgetHeight(cur.rest[j]);}}}}function updateWidgetHeight(line){if(line.widgets)for(var i=0;i<line.widgets.length;++i){line.widgets[i].height=line.widgets[i].node.offsetHeight;}}function getDimensions(cm){var d=cm.display,left={},width={};var gutterLeft=d.gutters.clientLeft;for(var n=d.gutters.firstChild,i=0;n;n=n.nextSibling,++i){left[cm.options.gutters[i]]=n.offsetLeft+n.clientLeft+gutterLeft;width[cm.options.gutters[i]]=n.clientWidth;}return{fixedPos:compensateForHScroll(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:left,gutterWidth:width,wrapperWidth:d.wrapper.clientWidth};}function patchDisplay(cm,updateNumbersFrom,dims){var display=cm.display,lineNumbers=cm.options.lineNumbers;var container=display.lineDiv,cur=container.firstChild;function rm(node){var next=node.nextSibling;if(webkit&&mac&&cm.display.currentWheelTarget==node)node.style.display=\"none\";else node.parentNode.removeChild(node);return next;}var view=display.view,lineN=display.viewFrom;for(var i=0;i<view.length;i++){var lineView=view[i];if(lineView.hidden){}else if(!lineView.node||lineView.node.parentNode!=container){var node=buildLineElement(cm,lineView,lineN,dims);container.insertBefore(node,cur);}else{while(cur!=lineView.node){cur=rm(cur);}var updateNumber=lineNumbers&&updateNumbersFrom!=null&&updateNumbersFrom<=lineN&&lineView.lineNumber;if(lineView.changes){if(indexOf(lineView.changes,\"gutter\")>-1)updateNumber=false;updateLineForChanges(cm,lineView,lineN,dims);}if(updateNumber){removeChildren(lineView.lineNumber);lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options,lineN)));}cur=lineView.node.nextSibling;}lineN+=lineView.size;}while(cur){cur=rm(cur);}}function updateLineForChanges(cm,lineView,lineN,dims){for(var j=0;j<lineView.changes.length;j++){var type=lineView.changes[j];if(type==\"text\")updateLineText(cm,lineView);else if(type==\"gutter\")updateLineGutter(cm,lineView,lineN,dims);else if(type==\"class\")updateLineClasses(lineView);else if(type==\"widget\")updateLineWidgets(cm,lineView,dims);}lineView.changes=null;}function ensureLineWrapped(lineView){if(lineView.node==lineView.text){lineView.node=elt(\"div\",null,null,\"position: relative\");if(lineView.text.parentNode)lineView.text.parentNode.replaceChild(lineView.node,lineView.text);lineView.node.appendChild(lineView.text);if(ie&&ie_version<8)lineView.node.style.zIndex=2;}return lineView.node;}function updateLineBackground(lineView){var cls=lineView.bgClass?lineView.bgClass+\" \"+(lineView.line.bgClass||\"\"):lineView.line.bgClass;if(cls)cls+=\" CodeMirror-linebackground\";if(lineView.background){if(cls)lineView.background.className=cls;else{lineView.background.parentNode.removeChild(lineView.background);lineView.background=null;}}else if(cls){var wrap=ensureLineWrapped(lineView);lineView.background=wrap.insertBefore(elt(\"div\",null,cls),wrap.firstChild);}}function getLineContent(cm,lineView){var ext=cm.display.externalMeasured;if(ext&&ext.line==lineView.line){cm.display.externalMeasured=null;lineView.measure=ext.measure;return ext.built;}return buildLineContent(cm,lineView);}function updateLineText(cm,lineView){var cls=lineView.text.className;var built=getLineContent(cm,lineView);if(lineView.text==lineView.node)lineView.node=built.pre;lineView.text.parentNode.replaceChild(built.pre,lineView.text);lineView.text=built.pre;if(built.bgClass!=lineView.bgClass||built.textClass!=lineView.textClass){lineView.bgClass=built.bgClass;lineView.textClass=built.textClass;updateLineClasses(lineView);}else if(cls){lineView.text.className=cls;}}function updateLineClasses(lineView){updateLineBackground(lineView);if(lineView.line.wrapClass)ensureLineWrapped(lineView).className=lineView.line.wrapClass;else if(lineView.node!=lineView.text)lineView.node.className=\"\";var textClass=lineView.textClass?lineView.textClass+\" \"+(lineView.line.textClass||\"\"):lineView.line.textClass;lineView.text.className=textClass||\"\";}function updateLineGutter(cm,lineView,lineN,dims){if(lineView.gutter){lineView.node.removeChild(lineView.gutter);lineView.gutter=null;}if(lineView.gutterBackground){lineView.node.removeChild(lineView.gutterBackground);lineView.gutterBackground=null;}if(lineView.line.gutterClass){var wrap=ensureLineWrapped(lineView);lineView.gutterBackground=elt(\"div\",null,\"CodeMirror-gutter-background \"+lineView.line.gutterClass,\"left: \"+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\"px; width: \"+dims.gutterTotalWidth+\"px\");wrap.insertBefore(lineView.gutterBackground,lineView.text);}var markers=lineView.line.gutterMarkers;if(cm.options.lineNumbers||markers){var wrap=ensureLineWrapped(lineView);var gutterWrap=lineView.gutter=elt(\"div\",null,\"CodeMirror-gutter-wrapper\",\"left: \"+(cm.options.fixedGutter?dims.fixedPos:-dims.gutterTotalWidth)+\"px\");cm.display.input.setUneditable(gutterWrap);wrap.insertBefore(gutterWrap,lineView.text);if(lineView.line.gutterClass)gutterWrap.className+=\" \"+lineView.line.gutterClass;if(cm.options.lineNumbers&&(!markers||!markers[\"CodeMirror-linenumbers\"]))lineView.lineNumber=gutterWrap.appendChild(elt(\"div\",lineNumberFor(cm.options,lineN),\"CodeMirror-linenumber CodeMirror-gutter-elt\",\"left: \"+dims.gutterLeft[\"CodeMirror-linenumbers\"]+\"px; width: \"+cm.display.lineNumInnerWidth+\"px\"));if(markers)for(var k=0;k<cm.options.gutters.length;++k){var id=cm.options.gutters[k],found=markers.hasOwnProperty(id)&&markers[id];if(found)gutterWrap.appendChild(elt(\"div\",[found],\"CodeMirror-gutter-elt\",\"left: \"+dims.gutterLeft[id]+\"px; width: \"+dims.gutterWidth[id]+\"px\"));}}}function updateLineWidgets(cm,lineView,dims){if(lineView.alignable)lineView.alignable=null;for(var node=lineView.node.firstChild,next;node;node=next){var next=node.nextSibling;if(node.className==\"CodeMirror-linewidget\")lineView.node.removeChild(node);}insertLineWidgets(cm,lineView,dims);}function buildLineElement(cm,lineView,lineN,dims){var built=getLineContent(cm,lineView);lineView.text=lineView.node=built.pre;if(built.bgClass)lineView.bgClass=built.bgClass;if(built.textClass)lineView.textClass=built.textClass;updateLineClasses(lineView);updateLineGutter(cm,lineView,lineN,dims);insertLineWidgets(cm,lineView,dims);return lineView.node;}function insertLineWidgets(cm,lineView,dims){insertLineWidgetsFor(cm,lineView.line,lineView,dims,true);if(lineView.rest)for(var i=0;i<lineView.rest.length;i++){insertLineWidgetsFor(cm,lineView.rest[i],lineView,dims,false);}}function insertLineWidgetsFor(cm,line,lineView,dims,allowAbove){if(!line.widgets)return;var wrap=ensureLineWrapped(lineView);for(var i=0,ws=line.widgets;i<ws.length;++i){var widget=ws[i],node=elt(\"div\",[widget.node],\"CodeMirror-linewidget\");if(!widget.handleMouseEvents)node.setAttribute(\"cm-ignore-events\",\"true\");positionLineWidget(widget,node,lineView,dims);cm.display.input.setUneditable(node);if(allowAbove&&widget.above)wrap.insertBefore(node,lineView.gutter||lineView.text);else wrap.appendChild(node);signalLater(widget,\"redraw\");}}function positionLineWidget(widget,node,lineView,dims){if(widget.noHScroll){(lineView.alignable||(lineView.alignable=[])).push(node);var width=dims.wrapperWidth;node.style.left=dims.fixedPos+\"px\";if(!widget.coverGutter){width-=dims.gutterTotalWidth;node.style.paddingLeft=dims.gutterTotalWidth+\"px\";}node.style.width=width+\"px\";}if(widget.coverGutter){node.style.zIndex=5;node.style.position=\"relative\";if(!widget.noHScroll)node.style.marginLeft=-dims.gutterTotalWidth+\"px\";}}var Pos=CodeMirror.Pos=function(line,ch){if(!(this instanceof Pos))return new Pos(line,ch);this.line=line;this.ch=ch;};var cmp=CodeMirror.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch;};function copyPos(x){return Pos(x.line,x.ch);}function maxPos(a,b){return cmp(a,b)<0?b:a;}function minPos(a,b){return cmp(a,b)<0?a:b;}function ensureFocus(cm){if(!cm.state.focused){cm.display.input.focus();onFocus(cm);}}function isReadOnly(cm){return cm.options.readOnly||cm.doc.cantEdit;}var lastCopied=null;function applyTextInput(cm,inserted,deleted,sel,origin){var doc=cm.doc;cm.display.shift=false;if(!sel)sel=doc.sel;var paste=cm.state.pasteIncoming||origin==\"paste\";var textLines=doc.splitLines(inserted),multiPaste=null;if(paste&&sel.ranges.length>1){if(lastCopied&&lastCopied.join(\"\\n\")==inserted){if(sel.ranges.length%lastCopied.length==0){multiPaste=[];for(var i=0;i<lastCopied.length;i++){multiPaste.push(doc.splitLines(lastCopied[i]));}}}else if(textLines.length==sel.ranges.length){multiPaste=map(textLines,function(l){return[l];});}}for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];var from=range.from(),to=range.to();if(range.empty()){if(deleted&&deleted>0)from=Pos(from.line,from.ch-deleted);else if(cm.state.overwrite&&!paste)to=Pos(to.line,Math.min(getLine(doc,to.line).text.length,to.ch+lst(textLines).length));}var updateInput=cm.curOp.updateInput;var changeEvent={from:from,to:to,text:multiPaste?multiPaste[i%multiPaste.length]:textLines,origin:origin||(paste?\"paste\":cm.state.cutIncoming?\"cut\":\"+input\")};makeChange(cm.doc,changeEvent);signalLater(cm,\"inputRead\",cm,changeEvent);}if(inserted&&!paste)triggerElectric(cm,inserted);ensureCursorVisible(cm);cm.curOp.updateInput=updateInput;cm.curOp.typing=true;cm.state.pasteIncoming=cm.state.cutIncoming=false;}function handlePaste(e,cm){var pasted=e.clipboardData&&e.clipboardData.getData(\"text/plain\");if(pasted){e.preventDefault();if(!isReadOnly(cm)&&!cm.options.disableInput)runInOp(cm,function(){applyTextInput(cm,pasted,0,null,\"paste\");});return true;}}function triggerElectric(cm,inserted){if(!cm.options.electricChars||!cm.options.smartIndent)return;var sel=cm.doc.sel;for(var i=sel.ranges.length-1;i>=0;i--){var range=sel.ranges[i];if(range.head.ch>100||i&&sel.ranges[i-1].head.line==range.head.line)continue;var mode=cm.getModeAt(range.head);var indented=false;if(mode.electricChars){for(var j=0;j<mode.electricChars.length;j++){if(inserted.indexOf(mode.electricChars.charAt(j))>-1){indented=indentLine(cm,range.head.line,\"smart\");break;}}}else if(mode.electricInput){if(mode.electricInput.test(getLine(cm.doc,range.head.line).text.slice(0,range.head.ch)))indented=indentLine(cm,range.head.line,\"smart\");}if(indented)signalLater(cm,\"electricInput\",cm,range.head.line);}}function copyableRanges(cm){var text=[],ranges=[];for(var i=0;i<cm.doc.sel.ranges.length;i++){var line=cm.doc.sel.ranges[i].head.line;var lineRange={anchor:Pos(line,0),head:Pos(line+1,0)};ranges.push(lineRange);text.push(cm.getRange(lineRange.anchor,lineRange.head));}return{text:text,ranges:ranges};}function disableBrowserMagic(field){field.setAttribute(\"autocorrect\",\"off\");field.setAttribute(\"autocapitalize\",\"off\");field.setAttribute(\"spellcheck\",\"false\");}function TextareaInput(cm){this.cm=cm;this.prevInput=\"\";this.pollingFast=false;this.polling=new Delayed();this.inaccurateSelection=false;this.hasSelection=false;this.composing=null;};function hiddenTextarea(){var te=elt(\"textarea\",null,null,\"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\");var div=elt(\"div\",[te],null,\"overflow: hidden; position: relative; width: 3px; height: 0px;\");if(webkit)te.style.width=\"1000px\";else te.setAttribute(\"wrap\",\"off\");if(ios)te.style.border=\"1px solid black\";disableBrowserMagic(te);return div;}TextareaInput.prototype=copyObj({init:function init(display){var input=this,cm=this.cm;var div=this.wrapper=hiddenTextarea();var te=this.textarea=div.firstChild;display.wrapper.insertBefore(div,display.wrapper.firstChild);if(ios)te.style.width=\"0px\";on(te,\"input\",function(){if(ie&&ie_version>=9&&input.hasSelection)input.hasSelection=null;input.poll();});on(te,\"paste\",function(e){if(handlePaste(e,cm))return true;cm.state.pasteIncoming=true;input.fastPoll();});function prepareCopyCut(e){if(cm.somethingSelected()){lastCopied=cm.getSelections();if(input.inaccurateSelection){input.prevInput=\"\";input.inaccurateSelection=false;te.value=lastCopied.join(\"\\n\");selectInput(te);}}else if(!cm.options.lineWiseCopyCut){return;}else{var ranges=copyableRanges(cm);lastCopied=ranges.text;if(e.type==\"cut\"){cm.setSelections(ranges.ranges,null,sel_dontScroll);}else{input.prevInput=\"\";te.value=ranges.text.join(\"\\n\");selectInput(te);}}if(e.type==\"cut\")cm.state.cutIncoming=true;}on(te,\"cut\",prepareCopyCut);on(te,\"copy\",prepareCopyCut);on(display.scroller,\"paste\",function(e){if(eventInWidget(display,e))return;cm.state.pasteIncoming=true;input.focus();});on(display.lineSpace,\"selectstart\",function(e){if(!eventInWidget(display,e))e_preventDefault(e);});on(te,\"compositionstart\",function(){var start=cm.getCursor(\"from\");if(input.composing)input.composing.range.clear();input.composing={start:start,range:cm.markText(start,cm.getCursor(\"to\"),{className:\"CodeMirror-composing\"})};});on(te,\"compositionend\",function(){if(input.composing){input.poll();input.composing.range.clear();input.composing=null;}});},prepareSelection:function prepareSelection(){var cm=this.cm,display=cm.display,doc=cm.doc;var result=_prepareSelection(cm);if(cm.options.moveInputWithCursor){var headPos=_cursorCoords(cm,doc.sel.primary().head,\"div\");var wrapOff=display.wrapper.getBoundingClientRect(),lineOff=display.lineDiv.getBoundingClientRect();result.teTop=Math.max(0,Math.min(display.wrapper.clientHeight-10,headPos.top+lineOff.top-wrapOff.top));result.teLeft=Math.max(0,Math.min(display.wrapper.clientWidth-10,headPos.left+lineOff.left-wrapOff.left));}return result;},showSelection:function showSelection(drawn){var cm=this.cm,display=cm.display;removeChildrenAndAdd(display.cursorDiv,drawn.cursors);removeChildrenAndAdd(display.selectionDiv,drawn.selection);if(drawn.teTop!=null){this.wrapper.style.top=drawn.teTop+\"px\";this.wrapper.style.left=drawn.teLeft+\"px\";}},reset:function reset(typing){if(this.contextMenuPending)return;var minimal,selected,cm=this.cm,doc=cm.doc;if(cm.somethingSelected()){this.prevInput=\"\";var range=doc.sel.primary();minimal=hasCopyEvent&&(range.to().line-range.from().line>100||(selected=cm.getSelection()).length>1000);var content=minimal?\"-\":selected||cm.getSelection();this.textarea.value=content;if(cm.state.focused)selectInput(this.textarea);if(ie&&ie_version>=9)this.hasSelection=content;}else if(!typing){this.prevInput=this.textarea.value=\"\";if(ie&&ie_version>=9)this.hasSelection=null;}this.inaccurateSelection=minimal;},getField:function getField(){return this.textarea;},supportsTouch:function supportsTouch(){return false;},focus:function focus(){if(this.cm.options.readOnly!=\"nocursor\"&&(!mobile||activeElt()!=this.textarea)){try{this.textarea.focus();}catch(e){}}},blur:function blur(){this.textarea.blur();},resetPosition:function resetPosition(){this.wrapper.style.top=this.wrapper.style.left=0;},receivedFocus:function receivedFocus(){this.slowPoll();},slowPoll:function slowPoll(){var input=this;if(input.pollingFast)return;input.polling.set(this.cm.options.pollInterval,function(){input.poll();if(input.cm.state.focused)input.slowPoll();});},fastPoll:function fastPoll(){var missed=false,input=this;input.pollingFast=true;function p(){var changed=input.poll();if(!changed&&!missed){missed=true;input.polling.set(60,p);}else{input.pollingFast=false;input.slowPoll();}}input.polling.set(20,p);},poll:function poll(){var cm=this.cm,input=this.textarea,prevInput=this.prevInput;if(this.contextMenuPending||!cm.state.focused||hasSelection(input)&&!prevInput&&!this.composing||isReadOnly(cm)||cm.options.disableInput||cm.state.keySeq)return false;var text=input.value;if(text==prevInput&&!cm.somethingSelected())return false;if(ie&&ie_version>=9&&this.hasSelection===text||mac&&/[\\uf700-\\uf7ff]/.test(text)){cm.display.input.reset();return false;}if(cm.doc.sel==cm.display.selForContextMenu){var first=text.charCodeAt(0);if(first==0x200b&&!prevInput)prevInput=\"\\u200B\";if(first==0x21da){this.reset();return this.cm.execCommand(\"undo\");}}var same=0,l=Math.min(prevInput.length,text.length);while(same<l&&prevInput.charCodeAt(same)==text.charCodeAt(same)){++same;}var self=this;runInOp(cm,function(){applyTextInput(cm,text.slice(same),prevInput.length-same,null,self.composing?\"*compose\":null);if(text.length>1000||text.indexOf(\"\\n\")>-1)input.value=self.prevInput=\"\";else self.prevInput=text;if(self.composing){self.composing.range.clear();self.composing.range=cm.markText(self.composing.start,cm.getCursor(\"to\"),{className:\"CodeMirror-composing\"});}});return true;},ensurePolled:function ensurePolled(){if(this.pollingFast&&this.poll())this.pollingFast=false;},onKeyPress:function onKeyPress(){if(ie&&ie_version>=9)this.hasSelection=null;this.fastPoll();},onContextMenu:function onContextMenu(e){var input=this,cm=input.cm,display=cm.display,te=input.textarea;var pos=posFromMouse(cm,e),scrollPos=display.scroller.scrollTop;if(!pos||presto)return;var reset=cm.options.resetSelectionOnContextMenu;if(reset&&cm.doc.sel.contains(pos)==-1)operation(cm,setSelection)(cm.doc,simpleSelection(pos),sel_dontScroll);var oldCSS=te.style.cssText;input.wrapper.style.position=\"absolute\";te.style.cssText=\"position: fixed; width: 30px; height: 30px; top: \"+(e.clientY-5)+\"px; left: \"+(e.clientX-5)+\"px; z-index: 1000; background: \"+(ie?\"rgba(255, 255, 255, .05)\":\"transparent\")+\"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";if(webkit)var oldScrollY=window.scrollY;display.input.focus();if(webkit)window.scrollTo(null,oldScrollY);display.input.reset();if(!cm.somethingSelected())te.value=input.prevInput=\" \";input.contextMenuPending=true;display.selForContextMenu=cm.doc.sel;clearTimeout(display.detectingSelectAll);function prepareSelectAllHack(){if(te.selectionStart!=null){var selected=cm.somethingSelected();var extval=\"\\u200B\"+(selected?te.value:\"\");te.value=\"\\u21DA\";te.value=extval;input.prevInput=selected?\"\":\"\\u200B\";te.selectionStart=1;te.selectionEnd=extval.length;display.selForContextMenu=cm.doc.sel;}}function rehide(){input.contextMenuPending=false;input.wrapper.style.position=\"relative\";te.style.cssText=oldCSS;if(ie&&ie_version<9)display.scrollbars.setScrollTop(display.scroller.scrollTop=scrollPos);if(te.selectionStart!=null){if(!ie||ie&&ie_version<9)prepareSelectAllHack();var i=0,poll=function poll(){if(display.selForContextMenu==cm.doc.sel&&te.selectionStart==0&&te.selectionEnd>0&&input.prevInput==\"\\u200B\")operation(cm,commands.selectAll)(cm);else if(i++<10)display.detectingSelectAll=setTimeout(poll,500);else display.input.reset();};display.detectingSelectAll=setTimeout(poll,200);}}if(ie&&ie_version>=9)prepareSelectAllHack();if(captureRightClick){e_stop(e);var mouseup=function mouseup(){off(window,\"mouseup\",mouseup);setTimeout(rehide,20);};on(window,\"mouseup\",mouseup);}else{setTimeout(rehide,50);}},readOnlyChanged:function readOnlyChanged(val){if(!val)this.reset();},setUneditable:nothing,needsContentAttribute:false},TextareaInput.prototype);function ContentEditableInput(cm){this.cm=cm;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Delayed();this.gracePeriod=false;}ContentEditableInput.prototype=copyObj({init:function init(display){var input=this,cm=input.cm;var div=input.div=display.lineDiv;disableBrowserMagic(div);on(div,\"paste\",function(e){handlePaste(e,cm);});on(div,\"compositionstart\",function(e){var data=e.data;input.composing={sel:cm.doc.sel,data:data,startData:data};if(!data)return;var prim=cm.doc.sel.primary();var line=cm.getLine(prim.head.line);var found=line.indexOf(data,Math.max(0,prim.head.ch-data.length));if(found>-1&&found<=prim.head.ch)input.composing.sel=simpleSelection(Pos(prim.head.line,found),Pos(prim.head.line,found+data.length));});on(div,\"compositionupdate\",function(e){input.composing.data=e.data;});on(div,\"compositionend\",function(e){var ours=input.composing;if(!ours)return;if(e.data!=ours.startData&&!/\\u200b/.test(e.data))ours.data=e.data;setTimeout(function(){if(!ours.handled)input.applyComposition(ours);if(input.composing==ours)input.composing=null;},50);});on(div,\"touchstart\",function(){input.forceCompositionEnd();});on(div,\"input\",function(){if(input.composing)return;if(isReadOnly(cm)||!input.pollContent())runInOp(input.cm,function(){regChange(cm);});});function onCopyCut(e){if(cm.somethingSelected()){lastCopied=cm.getSelections();if(e.type==\"cut\")cm.replaceSelection(\"\",null,\"cut\");}else if(!cm.options.lineWiseCopyCut){return;}else{var ranges=copyableRanges(cm);lastCopied=ranges.text;if(e.type==\"cut\"){cm.operation(function(){cm.setSelections(ranges.ranges,0,sel_dontScroll);cm.replaceSelection(\"\",null,\"cut\");});}}if(e.clipboardData&&!ios){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData(\"text/plain\",lastCopied.join(\"\\n\"));}else{var kludge=hiddenTextarea(),te=kludge.firstChild;cm.display.lineSpace.insertBefore(kludge,cm.display.lineSpace.firstChild);te.value=lastCopied.join(\"\\n\");var hadFocus=document.activeElement;selectInput(te);setTimeout(function(){cm.display.lineSpace.removeChild(kludge);hadFocus.focus();},50);}}on(div,\"copy\",onCopyCut);on(div,\"cut\",onCopyCut);},prepareSelection:function prepareSelection(){var result=_prepareSelection(this.cm,false);result.focus=this.cm.state.focused;return result;},showSelection:function showSelection(info){if(!info||!this.cm.display.view.length)return;if(info.focus)this.showPrimarySelection();this.showMultipleSelections(info);},showPrimarySelection:function showPrimarySelection(){var sel=window.getSelection(),prim=this.cm.doc.sel.primary();var curAnchor=domToPos(this.cm,sel.anchorNode,sel.anchorOffset);var curFocus=domToPos(this.cm,sel.focusNode,sel.focusOffset);if(curAnchor&&!curAnchor.bad&&curFocus&&!curFocus.bad&&cmp(minPos(curAnchor,curFocus),prim.from())==0&&cmp(maxPos(curAnchor,curFocus),prim.to())==0)return;var start=posToDOM(this.cm,prim.from());var end=posToDOM(this.cm,prim.to());if(!start&&!end)return;var view=this.cm.display.view;var old=sel.rangeCount&&sel.getRangeAt(0);if(!start){start={node:view[0].measure.map[2],offset:0};}else if(!end){var measure=view[view.length-1].measure;var map=measure.maps?measure.maps[measure.maps.length-1]:measure.map;end={node:map[map.length-1],offset:map[map.length-2]-map[map.length-3]};}try{var rng=range(start.node,start.offset,end.offset,end.node);}catch(e){}if(rng){sel.removeAllRanges();sel.addRange(rng);if(old&&sel.anchorNode==null)sel.addRange(old);else if(gecko)this.startGracePeriod();}this.rememberSelection();},startGracePeriod:function startGracePeriod(){var input=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){input.gracePeriod=false;if(input.selectionChanged())input.cm.operation(function(){input.cm.curOp.selectionChanged=true;});},20);},showMultipleSelections:function showMultipleSelections(info){removeChildrenAndAdd(this.cm.display.cursorDiv,info.cursors);removeChildrenAndAdd(this.cm.display.selectionDiv,info.selection);},rememberSelection:function rememberSelection(){var sel=window.getSelection();this.lastAnchorNode=sel.anchorNode;this.lastAnchorOffset=sel.anchorOffset;this.lastFocusNode=sel.focusNode;this.lastFocusOffset=sel.focusOffset;},selectionInEditor:function selectionInEditor(){var sel=window.getSelection();if(!sel.rangeCount)return false;var node=sel.getRangeAt(0).commonAncestorContainer;return contains(this.div,node);},focus:function focus(){if(this.cm.options.readOnly!=\"nocursor\")this.div.focus();},blur:function blur(){this.div.blur();},getField:function getField(){return this.div;},supportsTouch:function supportsTouch(){return true;},receivedFocus:function receivedFocus(){var input=this;if(this.selectionInEditor())this.pollSelection();else runInOp(this.cm,function(){input.cm.curOp.selectionChanged=true;});function poll(){if(input.cm.state.focused){input.pollSelection();input.polling.set(input.cm.options.pollInterval,poll);}}this.polling.set(this.cm.options.pollInterval,poll);},selectionChanged:function selectionChanged(){var sel=window.getSelection();return sel.anchorNode!=this.lastAnchorNode||sel.anchorOffset!=this.lastAnchorOffset||sel.focusNode!=this.lastFocusNode||sel.focusOffset!=this.lastFocusOffset;},pollSelection:function pollSelection(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var sel=window.getSelection(),cm=this.cm;this.rememberSelection();var anchor=domToPos(cm,sel.anchorNode,sel.anchorOffset);var head=domToPos(cm,sel.focusNode,sel.focusOffset);if(anchor&&head)runInOp(cm,function(){setSelection(cm.doc,simpleSelection(anchor,head),sel_dontScroll);if(anchor.bad||head.bad)cm.curOp.selectionChanged=true;});}},pollContent:function pollContent(){var cm=this.cm,display=cm.display,sel=cm.doc.sel.primary();var from=sel.from(),to=sel.to();if(from.line<display.viewFrom||to.line>display.viewTo-1)return false;var fromIndex;if(from.line==display.viewFrom||(fromIndex=findViewIndex(cm,from.line))==0){var fromLine=lineNo(display.view[0].line);var fromNode=display.view[0].node;}else{var fromLine=lineNo(display.view[fromIndex].line);var fromNode=display.view[fromIndex-1].node.nextSibling;}var toIndex=findViewIndex(cm,to.line);if(toIndex==display.view.length-1){var toLine=display.viewTo-1;var toNode=display.lineDiv.lastChild;}else{var toLine=lineNo(display.view[toIndex+1].line)-1;var toNode=display.view[toIndex+1].node.previousSibling;}var newText=cm.doc.splitLines(domTextBetween(cm,fromNode,toNode,fromLine,toLine));var oldText=getBetween(cm.doc,Pos(fromLine,0),Pos(toLine,getLine(cm.doc,toLine).text.length));while(newText.length>1&&oldText.length>1){if(lst(newText)==lst(oldText)){newText.pop();oldText.pop();toLine--;}else if(newText[0]==oldText[0]){newText.shift();oldText.shift();fromLine++;}else break;}var cutFront=0,cutEnd=0;var newTop=newText[0],oldTop=oldText[0],maxCutFront=Math.min(newTop.length,oldTop.length);while(cutFront<maxCutFront&&newTop.charCodeAt(cutFront)==oldTop.charCodeAt(cutFront)){++cutFront;}var newBot=lst(newText),oldBot=lst(oldText);var maxCutEnd=Math.min(newBot.length-(newText.length==1?cutFront:0),oldBot.length-(oldText.length==1?cutFront:0));while(cutEnd<maxCutEnd&&newBot.charCodeAt(newBot.length-cutEnd-1)==oldBot.charCodeAt(oldBot.length-cutEnd-1)){++cutEnd;}newText[newText.length-1]=newBot.slice(0,newBot.length-cutEnd);newText[0]=newText[0].slice(cutFront);var chFrom=Pos(fromLine,cutFront);var chTo=Pos(toLine,oldText.length?lst(oldText).length-cutEnd:0);if(newText.length>1||newText[0]||cmp(chFrom,chTo)){_replaceRange(cm.doc,newText,chFrom,chTo,\"+input\");return true;}},ensurePolled:function ensurePolled(){this.forceCompositionEnd();},reset:function reset(){this.forceCompositionEnd();},forceCompositionEnd:function forceCompositionEnd(){if(!this.composing||this.composing.handled)return;this.applyComposition(this.composing);this.composing.handled=true;this.div.blur();this.div.focus();},applyComposition:function applyComposition(composing){if(isReadOnly(this.cm))operation(this.cm,regChange)(this.cm);else if(composing.data&&composing.data!=composing.startData)operation(this.cm,applyTextInput)(this.cm,composing.data,0,composing.sel);},setUneditable:function setUneditable(node){node.contentEditable=\"false\";},onKeyPress:function onKeyPress(e){e.preventDefault();if(!isReadOnly(this.cm))operation(this.cm,applyTextInput)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0);},readOnlyChanged:function readOnlyChanged(val){this.div.contentEditable=String(val!=\"nocursor\");},onContextMenu:nothing,resetPosition:nothing,needsContentAttribute:true},ContentEditableInput.prototype);function posToDOM(cm,pos){var view=findViewForLine(cm,pos.line);if(!view||view.hidden)return null;var line=getLine(cm.doc,pos.line);var info=mapFromLineView(view,line,pos.line);var order=getOrder(line),side=\"left\";if(order){var partPos=getBidiPartAt(order,pos.ch);side=partPos%2?\"right\":\"left\";}var result=nodeAndOffsetInLineMap(info.map,pos.ch,side);result.offset=result.collapse==\"right\"?result.end:result.start;return result;}function badPos(pos,bad){if(bad)pos.bad=true;return pos;}function domToPos(cm,node,offset){var lineNode;if(node==cm.display.lineDiv){lineNode=cm.display.lineDiv.childNodes[offset];if(!lineNode)return badPos(cm.clipPos(Pos(cm.display.viewTo-1)),true);node=null;offset=0;}else{for(lineNode=node;;lineNode=lineNode.parentNode){if(!lineNode||lineNode==cm.display.lineDiv)return null;if(lineNode.parentNode&&lineNode.parentNode==cm.display.lineDiv)break;}}for(var i=0;i<cm.display.view.length;i++){var lineView=cm.display.view[i];if(lineView.node==lineNode)return locateNodeInLineView(lineView,node,offset);}}function locateNodeInLineView(lineView,node,offset){var wrapper=lineView.text.firstChild,bad=false;if(!node||!contains(wrapper,node))return badPos(Pos(lineNo(lineView.line),0),true);if(node==wrapper){bad=true;node=wrapper.childNodes[offset];offset=0;if(!node){var line=lineView.rest?lst(lineView.rest):lineView.line;return badPos(Pos(lineNo(line),line.text.length),bad);}}var textNode=node.nodeType==3?node:null,topNode=node;if(!textNode&&node.childNodes.length==1&&node.firstChild.nodeType==3){textNode=node.firstChild;if(offset)offset=textNode.nodeValue.length;}while(topNode.parentNode!=wrapper){topNode=topNode.parentNode;}var measure=lineView.measure,maps=measure.maps;function find(textNode,topNode,offset){for(var i=-1;i<(maps?maps.length:0);i++){var map=i<0?measure.map:maps[i];for(var j=0;j<map.length;j+=3){var curNode=map[j+2];if(curNode==textNode||curNode==topNode){var line=lineNo(i<0?lineView.line:lineView.rest[i]);var ch=map[j]+offset;if(offset<0||curNode!=textNode)ch=map[j+(offset?1:0)];return Pos(line,ch);}}}}var found=find(textNode,topNode,offset);if(found)return badPos(found,bad);for(var after=topNode.nextSibling,dist=textNode?textNode.nodeValue.length-offset:0;after;after=after.nextSibling){found=find(after,after.firstChild,0);if(found)return badPos(Pos(found.line,found.ch-dist),bad);else dist+=after.textContent.length;}for(var before=topNode.previousSibling,dist=offset;before;before=before.previousSibling){found=find(before,before.firstChild,-1);if(found)return badPos(Pos(found.line,found.ch+dist),bad);else dist+=after.textContent.length;}}function domTextBetween(cm,from,to,fromLine,toLine){var text=\"\",closing=false,lineSep=cm.doc.lineSeparator();function recognizeMarker(id){return function(marker){return marker.id==id;};}function walk(node){if(node.nodeType==1){var cmText=node.getAttribute(\"cm-text\");if(cmText!=null){if(cmText==\"\")cmText=node.textContent.replace(/\\u200b/g,\"\");text+=cmText;return;}var markerID=node.getAttribute(\"cm-marker\"),range;if(markerID){var found=cm.findMarks(Pos(fromLine,0),Pos(toLine+1,0),recognizeMarker(+markerID));if(found.length&&(range=found[0].find()))text+=getBetween(cm.doc,range.from,range.to).join(lineSep);return;}if(node.getAttribute(\"contenteditable\")==\"false\")return;for(var i=0;i<node.childNodes.length;i++){walk(node.childNodes[i]);}if(/^(pre|div|p)$/i.test(node.nodeName))closing=true;}else if(node.nodeType==3){var val=node.nodeValue;if(!val)return;if(closing){text+=lineSep;closing=false;}text+=val;}}for(;;){walk(from);if(from==to)break;from=from.nextSibling;}return text;}CodeMirror.inputStyles={\"textarea\":TextareaInput,\"contenteditable\":ContentEditableInput};function Selection(ranges,primIndex){this.ranges=ranges;this.primIndex=primIndex;}Selection.prototype={primary:function primary(){return this.ranges[this.primIndex];},equals:function equals(other){if(other==this)return true;if(other.primIndex!=this.primIndex||other.ranges.length!=this.ranges.length)return false;for(var i=0;i<this.ranges.length;i++){var here=this.ranges[i],there=other.ranges[i];if(cmp(here.anchor,there.anchor)!=0||cmp(here.head,there.head)!=0)return false;}return true;},deepCopy:function deepCopy(){for(var out=[],i=0;i<this.ranges.length;i++){out[i]=new Range(copyPos(this.ranges[i].anchor),copyPos(this.ranges[i].head));}return new Selection(out,this.primIndex);},somethingSelected:function somethingSelected(){for(var i=0;i<this.ranges.length;i++){if(!this.ranges[i].empty())return true;}return false;},contains:function contains(pos,end){if(!end)end=pos;for(var i=0;i<this.ranges.length;i++){var range=this.ranges[i];if(cmp(end,range.from())>=0&&cmp(pos,range.to())<=0)return i;}return-1;}};function Range(anchor,head){this.anchor=anchor;this.head=head;}Range.prototype={from:function from(){return minPos(this.anchor,this.head);},to:function to(){return maxPos(this.anchor,this.head);},empty:function empty(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch;}};function normalizeSelection(ranges,primIndex){var prim=ranges[primIndex];ranges.sort(function(a,b){return cmp(a.from(),b.from());});primIndex=indexOf(ranges,prim);for(var i=1;i<ranges.length;i++){var cur=ranges[i],prev=ranges[i-1];if(cmp(prev.to(),cur.from())>=0){var from=minPos(prev.from(),cur.from()),to=maxPos(prev.to(),cur.to());var inv=prev.empty()?cur.from()==cur.head:prev.from()==prev.head;if(i<=primIndex)--primIndex;ranges.splice(--i,2,new Range(inv?to:from,inv?from:to));}}return new Selection(ranges,primIndex);}function simpleSelection(anchor,head){return new Selection([new Range(anchor,head||anchor)],0);}function clipLine(doc,n){return Math.max(doc.first,Math.min(n,doc.first+doc.size-1));}function _clipPos(doc,pos){if(pos.line<doc.first)return Pos(doc.first,0);var last=doc.first+doc.size-1;if(pos.line>last)return Pos(last,getLine(doc,last).text.length);return clipToLen(pos,getLine(doc,pos.line).text.length);}function clipToLen(pos,linelen){var ch=pos.ch;if(ch==null||ch>linelen)return Pos(pos.line,linelen);else if(ch<0)return Pos(pos.line,0);else return pos;}function isLine(doc,l){return l>=doc.first&&l<doc.first+doc.size;}function clipPosArray(doc,array){for(var out=[],i=0;i<array.length;i++){out[i]=_clipPos(doc,array[i]);}return out;}function extendRange(doc,range,head,other){if(doc.cm&&doc.cm.display.shift||doc.extend){var anchor=range.anchor;if(other){var posBefore=cmp(head,anchor)<0;if(posBefore!=cmp(other,anchor)<0){anchor=head;head=other;}else if(posBefore!=cmp(head,other)<0){head=other;}}return new Range(anchor,head);}else{return new Range(other||head,head);}}function extendSelection(doc,head,other,options){setSelection(doc,new Selection([extendRange(doc,doc.sel.primary(),head,other)],0),options);}function extendSelections(doc,heads,options){for(var out=[],i=0;i<doc.sel.ranges.length;i++){out[i]=extendRange(doc,doc.sel.ranges[i],heads[i],null);}var newSel=normalizeSelection(out,doc.sel.primIndex);setSelection(doc,newSel,options);}function replaceOneSelection(doc,i,range,options){var ranges=doc.sel.ranges.slice(0);ranges[i]=range;setSelection(doc,normalizeSelection(ranges,doc.sel.primIndex),options);}function setSimpleSelection(doc,anchor,head,options){setSelection(doc,simpleSelection(anchor,head),options);}function filterSelectionChange(doc,sel){var obj={ranges:sel.ranges,update:function update(ranges){this.ranges=[];for(var i=0;i<ranges.length;i++){this.ranges[i]=new Range(_clipPos(doc,ranges[i].anchor),_clipPos(doc,ranges[i].head));}}};signal(doc,\"beforeSelectionChange\",doc,obj);if(doc.cm)signal(doc.cm,\"beforeSelectionChange\",doc.cm,obj);if(obj.ranges!=sel.ranges)return normalizeSelection(obj.ranges,obj.ranges.length-1);else return sel;}function setSelectionReplaceHistory(doc,sel,options){var done=doc.history.done,last=lst(done);if(last&&last.ranges){done[done.length-1]=sel;setSelectionNoUndo(doc,sel,options);}else{setSelection(doc,sel,options);}}function setSelection(doc,sel,options){setSelectionNoUndo(doc,sel,options);addSelectionToHistory(doc,doc.sel,doc.cm?doc.cm.curOp.id:NaN,options);}function setSelectionNoUndo(doc,sel,options){if(hasHandler(doc,\"beforeSelectionChange\")||doc.cm&&hasHandler(doc.cm,\"beforeSelectionChange\"))sel=filterSelectionChange(doc,sel);var bias=options&&options.bias||(cmp(sel.primary().head,doc.sel.primary().head)<0?-1:1);setSelectionInner(doc,skipAtomicInSelection(doc,sel,bias,true));if(!(options&&options.scroll===false)&&doc.cm)ensureCursorVisible(doc.cm);}function setSelectionInner(doc,sel){if(sel.equals(doc.sel))return;doc.sel=sel;if(doc.cm){doc.cm.curOp.updateInput=doc.cm.curOp.selectionChanged=true;signalCursorActivity(doc.cm);}signalLater(doc,\"cursorActivity\",doc);}function reCheckSelection(doc){setSelectionInner(doc,skipAtomicInSelection(doc,doc.sel,null,false),sel_dontScroll);}function skipAtomicInSelection(doc,sel,bias,mayClear){var out;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];var newAnchor=skipAtomic(doc,range.anchor,bias,mayClear);var newHead=skipAtomic(doc,range.head,bias,mayClear);if(out||newAnchor!=range.anchor||newHead!=range.head){if(!out)out=sel.ranges.slice(0,i);out[i]=new Range(newAnchor,newHead);}}return out?normalizeSelection(out,sel.primIndex):sel;}function skipAtomic(doc,pos,bias,mayClear){var flipped=false,curPos=pos;var dir=bias||1;doc.cantEdit=false;search:for(;;){var line=getLine(doc,curPos.line);if(line.markedSpans){for(var i=0;i<line.markedSpans.length;++i){var sp=line.markedSpans[i],m=sp.marker;if((sp.from==null||(m.inclusiveLeft?sp.from<=curPos.ch:sp.from<curPos.ch))&&(sp.to==null||(m.inclusiveRight?sp.to>=curPos.ch:sp.to>curPos.ch))){if(mayClear){signal(m,\"beforeCursorEnter\");if(m.explicitlyCleared){if(!line.markedSpans)break;else{--i;continue;}}}if(!m.atomic)continue;var newPos=m.find(dir<0?-1:1);if(cmp(newPos,curPos)==0){newPos.ch+=dir;if(newPos.ch<0){if(newPos.line>doc.first)newPos=_clipPos(doc,Pos(newPos.line-1));else newPos=null;}else if(newPos.ch>line.text.length){if(newPos.line<doc.first+doc.size-1)newPos=Pos(newPos.line+1,0);else newPos=null;}if(!newPos){if(flipped){if(!mayClear)return skipAtomic(doc,pos,bias,true);doc.cantEdit=true;return Pos(doc.first,0);}flipped=true;newPos=pos;dir=-dir;}}curPos=newPos;continue search;}}}return curPos;}}function updateSelection(cm){cm.display.input.showSelection(cm.display.input.prepareSelection());}function _prepareSelection(cm,primary){var doc=cm.doc,result={};var curFragment=result.cursors=document.createDocumentFragment();var selFragment=result.selection=document.createDocumentFragment();for(var i=0;i<doc.sel.ranges.length;i++){if(primary===false&&i==doc.sel.primIndex)continue;var range=doc.sel.ranges[i];var collapsed=range.empty();if(collapsed||cm.options.showCursorWhenSelecting)drawSelectionCursor(cm,range.head,curFragment);if(!collapsed)drawSelectionRange(cm,range,selFragment);}return result;}function drawSelectionCursor(cm,head,output){var pos=_cursorCoords(cm,head,\"div\",null,null,!cm.options.singleCursorHeightPerLine);var cursor=output.appendChild(elt(\"div\",\"\\xA0\",\"CodeMirror-cursor\"));cursor.style.left=pos.left+\"px\";cursor.style.top=pos.top+\"px\";cursor.style.height=Math.max(0,pos.bottom-pos.top)*cm.options.cursorHeight+\"px\";if(pos.other){var otherCursor=output.appendChild(elt(\"div\",\"\\xA0\",\"CodeMirror-cursor CodeMirror-secondarycursor\"));otherCursor.style.display=\"\";otherCursor.style.left=pos.other.left+\"px\";otherCursor.style.top=pos.other.top+\"px\";otherCursor.style.height=(pos.other.bottom-pos.other.top)*.85+\"px\";}}function drawSelectionRange(cm,range,output){var display=cm.display,doc=cm.doc;var fragment=document.createDocumentFragment();var padding=paddingH(cm.display),leftSide=padding.left;var rightSide=Math.max(display.sizerWidth,displayWidth(cm)-display.sizer.offsetLeft)-padding.right;function add(left,top,width,bottom){if(top<0)top=0;top=Math.round(top);bottom=Math.round(bottom);fragment.appendChild(elt(\"div\",null,\"CodeMirror-selected\",\"position: absolute; left: \"+left+\"px; top: \"+top+\"px; width: \"+(width==null?rightSide-left:width)+\"px; height: \"+(bottom-top)+\"px\"));}function drawForLine(line,fromArg,toArg){var lineObj=getLine(doc,line);var lineLen=lineObj.text.length;var start,end;function coords(ch,bias){return _charCoords(cm,Pos(line,ch),\"div\",lineObj,bias);}iterateBidiSections(getOrder(lineObj),fromArg||0,toArg==null?lineLen:toArg,function(from,to,dir){var leftPos=coords(from,\"left\"),rightPos,left,right;if(from==to){rightPos=leftPos;left=right=leftPos.left;}else{rightPos=coords(to-1,\"right\");if(dir==\"rtl\"){var tmp=leftPos;leftPos=rightPos;rightPos=tmp;}left=leftPos.left;right=rightPos.right;}if(fromArg==null&&from==0)left=leftSide;if(rightPos.top-leftPos.top>3){add(left,leftPos.top,null,leftPos.bottom);left=leftSide;if(leftPos.bottom<rightPos.top)add(left,leftPos.bottom,null,rightPos.top);}if(toArg==null&&to==lineLen)right=rightSide;if(!start||leftPos.top<start.top||leftPos.top==start.top&&leftPos.left<start.left)start=leftPos;if(!end||rightPos.bottom>end.bottom||rightPos.bottom==end.bottom&&rightPos.right>end.right)end=rightPos;if(left<leftSide+1)left=leftSide;add(left,rightPos.top,right-left,rightPos.bottom);});return{start:start,end:end};}var sFrom=range.from(),sTo=range.to();if(sFrom.line==sTo.line){drawForLine(sFrom.line,sFrom.ch,sTo.ch);}else{var fromLine=getLine(doc,sFrom.line),toLine=getLine(doc,sTo.line);var singleVLine=visualLine(fromLine)==visualLine(toLine);var leftEnd=drawForLine(sFrom.line,sFrom.ch,singleVLine?fromLine.text.length+1:null).end;var rightStart=drawForLine(sTo.line,singleVLine?0:null,sTo.ch).start;if(singleVLine){if(leftEnd.top<rightStart.top-2){add(leftEnd.right,leftEnd.top,null,leftEnd.bottom);add(leftSide,rightStart.top,rightStart.left,rightStart.bottom);}else{add(leftEnd.right,leftEnd.top,rightStart.left-leftEnd.right,leftEnd.bottom);}}if(leftEnd.bottom<rightStart.top)add(leftSide,leftEnd.bottom,null,rightStart.top);}output.appendChild(fragment);}function restartBlink(cm){if(!cm.state.focused)return;var display=cm.display;clearInterval(display.blinker);var on=true;display.cursorDiv.style.visibility=\"\";if(cm.options.cursorBlinkRate>0)display.blinker=setInterval(function(){display.cursorDiv.style.visibility=(on=!on)?\"\":\"hidden\";},cm.options.cursorBlinkRate);else if(cm.options.cursorBlinkRate<0)display.cursorDiv.style.visibility=\"hidden\";}function startWorker(cm,time){if(cm.doc.mode.startState&&cm.doc.frontier<cm.display.viewTo)cm.state.highlight.set(time,bind(highlightWorker,cm));}function highlightWorker(cm){var doc=cm.doc;if(doc.frontier<doc.first)doc.frontier=doc.first;if(doc.frontier>=cm.display.viewTo)return;var end=+new Date()+cm.options.workTime;var state=copyState(doc.mode,getStateBefore(cm,doc.frontier));var changedLines=[];doc.iter(doc.frontier,Math.min(doc.first+doc.size,cm.display.viewTo+500),function(line){if(doc.frontier>=cm.display.viewFrom){var oldStyles=line.styles,tooLong=line.text.length>cm.options.maxHighlightLength;var highlighted=highlightLine(cm,line,tooLong?copyState(doc.mode,state):state,true);line.styles=highlighted.styles;var oldCls=line.styleClasses,newCls=highlighted.classes;if(newCls)line.styleClasses=newCls;else if(oldCls)line.styleClasses=null;var ischange=!oldStyles||oldStyles.length!=line.styles.length||oldCls!=newCls&&(!oldCls||!newCls||oldCls.bgClass!=newCls.bgClass||oldCls.textClass!=newCls.textClass);for(var i=0;!ischange&&i<oldStyles.length;++i){ischange=oldStyles[i]!=line.styles[i];}if(ischange)changedLines.push(doc.frontier);line.stateAfter=tooLong?state:copyState(doc.mode,state);}else{if(line.text.length<=cm.options.maxHighlightLength)processLine(cm,line.text,state);line.stateAfter=doc.frontier%5==0?copyState(doc.mode,state):null;}++doc.frontier;if(+new Date()>end){startWorker(cm,cm.options.workDelay);return true;}});if(changedLines.length)runInOp(cm,function(){for(var i=0;i<changedLines.length;i++){regLineChange(cm,changedLines[i],\"text\");}});}function findStartLine(cm,n,precise){var minindent,minline,doc=cm.doc;var lim=precise?-1:n-(cm.doc.mode.innerMode?1000:100);for(var search=n;search>lim;--search){if(search<=doc.first)return doc.first;var line=getLine(doc,search-1);if(line.stateAfter&&(!precise||search<=doc.frontier))return search;var indented=countColumn(line.text,null,cm.options.tabSize);if(minline==null||minindent>indented){minline=search-1;minindent=indented;}}return minline;}function getStateBefore(cm,n,precise){var doc=cm.doc,display=cm.display;if(!doc.mode.startState)return true;var pos=findStartLine(cm,n,precise),state=pos>doc.first&&getLine(doc,pos-1).stateAfter;if(!state)state=startState(doc.mode);else state=copyState(doc.mode,state);doc.iter(pos,n,function(line){processLine(cm,line.text,state);var save=pos==n-1||pos%5==0||pos>=display.viewFrom&&pos<display.viewTo;line.stateAfter=save?copyState(doc.mode,state):null;++pos;});if(precise)doc.frontier=pos;return state;}function paddingTop(display){return display.lineSpace.offsetTop;}function paddingVert(display){return display.mover.offsetHeight-display.lineSpace.offsetHeight;}function paddingH(display){if(display.cachedPaddingH)return display.cachedPaddingH;var e=removeChildrenAndAdd(display.measure,elt(\"pre\",\"x\"));var style=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle;var data={left:parseInt(style.paddingLeft),right:parseInt(style.paddingRight)};if(!isNaN(data.left)&&!isNaN(data.right))display.cachedPaddingH=data;return data;}function scrollGap(cm){return scrollerGap-cm.display.nativeBarWidth;}function displayWidth(cm){return cm.display.scroller.clientWidth-scrollGap(cm)-cm.display.barWidth;}function displayHeight(cm){return cm.display.scroller.clientHeight-scrollGap(cm)-cm.display.barHeight;}function ensureLineHeights(cm,lineView,rect){var wrapping=cm.options.lineWrapping;var curWidth=wrapping&&displayWidth(cm);if(!lineView.measure.heights||wrapping&&lineView.measure.width!=curWidth){var heights=lineView.measure.heights=[];if(wrapping){lineView.measure.width=curWidth;var rects=lineView.text.firstChild.getClientRects();for(var i=0;i<rects.length-1;i++){var cur=rects[i],next=rects[i+1];if(Math.abs(cur.bottom-next.bottom)>2)heights.push((cur.bottom+next.top)/2-rect.top);}}heights.push(rect.bottom-rect.top);}}function mapFromLineView(lineView,line,lineN){if(lineView.line==line)return{map:lineView.measure.map,cache:lineView.measure.cache};for(var i=0;i<lineView.rest.length;i++){if(lineView.rest[i]==line)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i]};}for(var i=0;i<lineView.rest.length;i++){if(lineNo(lineView.rest[i])>lineN)return{map:lineView.measure.maps[i],cache:lineView.measure.caches[i],before:true};}}function updateExternalMeasurement(cm,line){line=visualLine(line);var lineN=lineNo(line);var view=cm.display.externalMeasured=new LineView(cm.doc,line,lineN);view.lineN=lineN;var built=view.built=buildLineContent(cm,view);view.text=built.pre;removeChildrenAndAdd(cm.display.lineMeasure,built.pre);return view;}function measureChar(cm,line,ch,bias){return measureCharPrepared(cm,prepareMeasureForLine(cm,line),ch,bias);}function findViewForLine(cm,lineN){if(lineN>=cm.display.viewFrom&&lineN<cm.display.viewTo)return cm.display.view[findViewIndex(cm,lineN)];var ext=cm.display.externalMeasured;if(ext&&lineN>=ext.lineN&&lineN<ext.lineN+ext.size)return ext;}function prepareMeasureForLine(cm,line){var lineN=lineNo(line);var view=findViewForLine(cm,lineN);if(view&&!view.text){view=null;}else if(view&&view.changes){updateLineForChanges(cm,view,lineN,getDimensions(cm));cm.curOp.forceUpdate=true;}if(!view)view=updateExternalMeasurement(cm,line);var info=mapFromLineView(view,line,lineN);return{line:line,view:view,rect:null,map:info.map,cache:info.cache,before:info.before,hasHeights:false};}function measureCharPrepared(cm,prepared,ch,bias,varHeight){if(prepared.before)ch=-1;var key=ch+(bias||\"\"),found;if(prepared.cache.hasOwnProperty(key)){found=prepared.cache[key];}else{if(!prepared.rect)prepared.rect=prepared.view.text.getBoundingClientRect();if(!prepared.hasHeights){ensureLineHeights(cm,prepared.view,prepared.rect);prepared.hasHeights=true;}found=measureCharInner(cm,prepared,ch,bias);if(!found.bogus)prepared.cache[key]=found;}return{left:found.left,right:found.right,top:varHeight?found.rtop:found.top,bottom:varHeight?found.rbottom:found.bottom};}var nullRect={left:0,right:0,top:0,bottom:0};function nodeAndOffsetInLineMap(map,ch,bias){var node,start,end,collapse;for(var i=0;i<map.length;i+=3){var mStart=map[i],mEnd=map[i+1];if(ch<mStart){start=0;end=1;collapse=\"left\";}else if(ch<mEnd){start=ch-mStart;end=start+1;}else if(i==map.length-3||ch==mEnd&&map[i+3]>ch){end=mEnd-mStart;start=end-1;if(ch>=mEnd)collapse=\"right\";}if(start!=null){node=map[i+2];if(mStart==mEnd&&bias==(node.insertLeft?\"left\":\"right\"))collapse=bias;if(bias==\"left\"&&start==0)while(i&&map[i-2]==map[i-3]&&map[i-1].insertLeft){node=map[(i-=3)+2];collapse=\"left\";}if(bias==\"right\"&&start==mEnd-mStart)while(i<map.length-3&&map[i+3]==map[i+4]&&!map[i+5].insertLeft){node=map[(i+=3)+2];collapse=\"right\";}break;}}return{node:node,start:start,end:end,collapse:collapse,coverStart:mStart,coverEnd:mEnd};}function measureCharInner(cm,prepared,ch,bias){var place=nodeAndOffsetInLineMap(prepared.map,ch,bias);var node=place.node,start=place.start,end=place.end,collapse=place.collapse;var rect;if(node.nodeType==3){for(var i=0;i<4;i++){while(start&&isExtendingChar(prepared.line.text.charAt(place.coverStart+start))){--start;}while(place.coverStart+end<place.coverEnd&&isExtendingChar(prepared.line.text.charAt(place.coverStart+end))){++end;}if(ie&&ie_version<9&&start==0&&end==place.coverEnd-place.coverStart){rect=node.parentNode.getBoundingClientRect();}else if(ie&&cm.options.lineWrapping){var rects=range(node,start,end).getClientRects();if(rects.length)rect=rects[bias==\"right\"?rects.length-1:0];else rect=nullRect;}else{rect=range(node,start,end).getBoundingClientRect()||nullRect;}if(rect.left||rect.right||start==0)break;end=start;start=start-1;collapse=\"right\";}if(ie&&ie_version<11)rect=maybeUpdateRectForZooming(cm.display.measure,rect);}else{if(start>0)collapse=bias=\"right\";var rects;if(cm.options.lineWrapping&&(rects=node.getClientRects()).length>1)rect=rects[bias==\"right\"?rects.length-1:0];else rect=node.getBoundingClientRect();}if(ie&&ie_version<9&&!start&&(!rect||!rect.left&&!rect.right)){var rSpan=node.parentNode.getClientRects()[0];if(rSpan)rect={left:rSpan.left,right:rSpan.left+charWidth(cm.display),top:rSpan.top,bottom:rSpan.bottom};else rect=nullRect;}var rtop=rect.top-prepared.rect.top,rbot=rect.bottom-prepared.rect.top;var mid=(rtop+rbot)/2;var heights=prepared.view.measure.heights;for(var i=0;i<heights.length-1;i++){if(mid<heights[i])break;}var top=i?heights[i-1]:0,bot=heights[i];var result={left:(collapse==\"right\"?rect.right:rect.left)-prepared.rect.left,right:(collapse==\"left\"?rect.left:rect.right)-prepared.rect.left,top:top,bottom:bot};if(!rect.left&&!rect.right)result.bogus=true;if(!cm.options.singleCursorHeightPerLine){result.rtop=rtop;result.rbottom=rbot;}return result;}function maybeUpdateRectForZooming(measure,rect){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!hasBadZoomedRects(measure))return rect;var scaleX=screen.logicalXDPI/screen.deviceXDPI;var scaleY=screen.logicalYDPI/screen.deviceYDPI;return{left:rect.left*scaleX,right:rect.right*scaleX,top:rect.top*scaleY,bottom:rect.bottom*scaleY};}function clearLineMeasurementCacheFor(lineView){if(lineView.measure){lineView.measure.cache={};lineView.measure.heights=null;if(lineView.rest)for(var i=0;i<lineView.rest.length;i++){lineView.measure.caches[i]={};}}}function clearLineMeasurementCache(cm){cm.display.externalMeasure=null;removeChildren(cm.display.lineMeasure);for(var i=0;i<cm.display.view.length;i++){clearLineMeasurementCacheFor(cm.display.view[i]);}}function clearCaches(cm){clearLineMeasurementCache(cm);cm.display.cachedCharWidth=cm.display.cachedTextHeight=cm.display.cachedPaddingH=null;if(!cm.options.lineWrapping)cm.display.maxLineChanged=true;cm.display.lineNumChars=null;}function pageScrollX(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft;}function pageScrollY(){return window.pageYOffset||(document.documentElement||document.body).scrollTop;}function intoCoordSystem(cm,lineObj,rect,context){if(lineObj.widgets)for(var i=0;i<lineObj.widgets.length;++i){if(lineObj.widgets[i].above){var size=widgetHeight(lineObj.widgets[i]);rect.top+=size;rect.bottom+=size;}}if(context==\"line\")return rect;if(!context)context=\"local\";var yOff=_heightAtLine(lineObj);if(context==\"local\")yOff+=paddingTop(cm.display);else yOff-=cm.display.viewOffset;if(context==\"page\"||context==\"window\"){var lOff=cm.display.lineSpace.getBoundingClientRect();yOff+=lOff.top+(context==\"window\"?0:pageScrollY());var xOff=lOff.left+(context==\"window\"?0:pageScrollX());rect.left+=xOff;rect.right+=xOff;}rect.top+=yOff;rect.bottom+=yOff;return rect;}function fromCoordSystem(cm,coords,context){if(context==\"div\")return coords;var left=coords.left,top=coords.top;if(context==\"page\"){left-=pageScrollX();top-=pageScrollY();}else if(context==\"local\"||!context){var localBox=cm.display.sizer.getBoundingClientRect();left+=localBox.left;top+=localBox.top;}var lineSpaceBox=cm.display.lineSpace.getBoundingClientRect();return{left:left-lineSpaceBox.left,top:top-lineSpaceBox.top};}function _charCoords(cm,pos,context,lineObj,bias){if(!lineObj)lineObj=getLine(cm.doc,pos.line);return intoCoordSystem(cm,lineObj,measureChar(cm,lineObj,pos.ch,bias),context);}function _cursorCoords(cm,pos,context,lineObj,preparedMeasure,varHeight){lineObj=lineObj||getLine(cm.doc,pos.line);if(!preparedMeasure)preparedMeasure=prepareMeasureForLine(cm,lineObj);function get(ch,right){var m=measureCharPrepared(cm,preparedMeasure,ch,right?\"right\":\"left\",varHeight);if(right)m.left=m.right;else m.right=m.left;return intoCoordSystem(cm,lineObj,m,context);}function getBidi(ch,partPos){var part=order[partPos],right=part.level%2;if(ch==bidiLeft(part)&&partPos&&part.level<order[partPos-1].level){part=order[--partPos];ch=bidiRight(part)-(part.level%2?0:1);right=true;}else if(ch==bidiRight(part)&&partPos<order.length-1&&part.level<order[partPos+1].level){part=order[++partPos];ch=bidiLeft(part)-part.level%2;right=false;}if(right&&ch==part.to&&ch>part.from)return get(ch-1);return get(ch,right);}var order=getOrder(lineObj),ch=pos.ch;if(!order)return get(ch);var partPos=getBidiPartAt(order,ch);var val=getBidi(ch,partPos);if(bidiOther!=null)val.other=getBidi(ch,bidiOther);return val;}function estimateCoords(cm,pos){var left=0,pos=_clipPos(cm.doc,pos);if(!cm.options.lineWrapping)left=charWidth(cm.display)*pos.ch;var lineObj=getLine(cm.doc,pos.line);var top=_heightAtLine(lineObj)+paddingTop(cm.display);return{left:left,right:left,top:top,bottom:top+lineObj.height};}function PosWithInfo(line,ch,outside,xRel){var pos=Pos(line,ch);pos.xRel=xRel;if(outside)pos.outside=true;return pos;}function _coordsChar(cm,x,y){var doc=cm.doc;y+=cm.display.viewOffset;if(y<0)return PosWithInfo(doc.first,0,true,-1);var lineN=_lineAtHeight(doc,y),last=doc.first+doc.size-1;if(lineN>last)return PosWithInfo(doc.first+doc.size-1,getLine(doc,last).text.length,true,1);if(x<0)x=0;var lineObj=getLine(doc,lineN);for(;;){var found=coordsCharInner(cm,lineObj,lineN,x,y);var merged=collapsedSpanAtEnd(lineObj);var mergedPos=merged&&merged.find(0,true);if(merged&&(found.ch>mergedPos.from.ch||found.ch==mergedPos.from.ch&&found.xRel>0))lineN=lineNo(lineObj=mergedPos.to.line);else return found;}}function coordsCharInner(cm,lineObj,lineNo,x,y){var innerOff=y-_heightAtLine(lineObj);var wrongLine=false,adjust=2*cm.display.wrapper.clientWidth;var preparedMeasure=prepareMeasureForLine(cm,lineObj);function getX(ch){var sp=_cursorCoords(cm,Pos(lineNo,ch),\"line\",lineObj,preparedMeasure);wrongLine=true;if(innerOff>sp.bottom)return sp.left-adjust;else if(innerOff<sp.top)return sp.left+adjust;else wrongLine=false;return sp.left;}var bidi=getOrder(lineObj),dist=lineObj.text.length;var from=lineLeft(lineObj),to=lineRight(lineObj);var fromX=getX(from),fromOutside=wrongLine,toX=getX(to),toOutside=wrongLine;if(x>toX)return PosWithInfo(lineNo,to,toOutside,1);for(;;){if(bidi?to==from||to==moveVisually(lineObj,from,1):to-from<=1){var ch=x<fromX||x-fromX<=toX-x?from:to;var xDiff=x-(ch==from?fromX:toX);while(isExtendingChar(lineObj.text.charAt(ch))){++ch;}var pos=PosWithInfo(lineNo,ch,ch==from?fromOutside:toOutside,xDiff<-1?-1:xDiff>1?1:0);return pos;}var step=Math.ceil(dist/2),middle=from+step;if(bidi){middle=from;for(var i=0;i<step;++i){middle=moveVisually(lineObj,middle,1);}}var middleX=getX(middle);if(middleX>x){to=middle;toX=middleX;if(toOutside=wrongLine)toX+=1000;dist=step;}else{from=middle;fromX=middleX;fromOutside=wrongLine;dist-=step;}}}var measureText;function textHeight(display){if(display.cachedTextHeight!=null)return display.cachedTextHeight;if(measureText==null){measureText=elt(\"pre\");for(var i=0;i<49;++i){measureText.appendChild(document.createTextNode(\"x\"));measureText.appendChild(elt(\"br\"));}measureText.appendChild(document.createTextNode(\"x\"));}removeChildrenAndAdd(display.measure,measureText);var height=measureText.offsetHeight/50;if(height>3)display.cachedTextHeight=height;removeChildren(display.measure);return height||1;}function charWidth(display){if(display.cachedCharWidth!=null)return display.cachedCharWidth;var anchor=elt(\"span\",\"xxxxxxxxxx\");var pre=elt(\"pre\",[anchor]);removeChildrenAndAdd(display.measure,pre);var rect=anchor.getBoundingClientRect(),width=(rect.right-rect.left)/10;if(width>2)display.cachedCharWidth=width;return width||10;}var operationGroup=null;var nextOpId=0;function startOperation(cm){cm.curOp={cm:cm,viewChanged:false,startHeight:cm.doc.height,forceUpdate:false,updateInput:null,typing:false,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:false,updateMaxLine:false,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:false,id:++nextOpId};if(operationGroup){operationGroup.ops.push(cm.curOp);}else{cm.curOp.ownsGroup=operationGroup={ops:[cm.curOp],delayedCallbacks:[]};}}function fireCallbacksForOps(group){var callbacks=group.delayedCallbacks,i=0;do{for(;i<callbacks.length;i++){callbacks[i].call(null);}for(var j=0;j<group.ops.length;j++){var op=group.ops[j];if(op.cursorActivityHandlers)while(op.cursorActivityCalled<op.cursorActivityHandlers.length){op.cursorActivityHandlers[op.cursorActivityCalled++].call(null,op.cm);}}}while(i<callbacks.length);}function endOperation(cm){var op=cm.curOp,group=op.ownsGroup;if(!group)return;try{fireCallbacksForOps(group);}finally{operationGroup=null;for(var i=0;i<group.ops.length;i++){group.ops[i].cm.curOp=null;}endOperations(group);}}function endOperations(group){var ops=group.ops;for(var i=0;i<ops.length;i++){endOperation_R1(ops[i]);}for(var i=0;i<ops.length;i++){endOperation_W1(ops[i]);}for(var i=0;i<ops.length;i++){endOperation_R2(ops[i]);}for(var i=0;i<ops.length;i++){endOperation_W2(ops[i]);}for(var i=0;i<ops.length;i++){endOperation_finish(ops[i]);}}function endOperation_R1(op){var cm=op.cm,display=cm.display;maybeClipScrollbars(cm);if(op.updateMaxLine)findMaxLine(cm);op.mustUpdate=op.viewChanged||op.forceUpdate||op.scrollTop!=null||op.scrollToPos&&(op.scrollToPos.from.line<display.viewFrom||op.scrollToPos.to.line>=display.viewTo)||display.maxLineChanged&&cm.options.lineWrapping;op.update=op.mustUpdate&&new DisplayUpdate(cm,op.mustUpdate&&{top:op.scrollTop,ensure:op.scrollToPos},op.forceUpdate);}function endOperation_W1(op){op.updatedDisplay=op.mustUpdate&&updateDisplayIfNeeded(op.cm,op.update);}function endOperation_R2(op){var cm=op.cm,display=cm.display;if(op.updatedDisplay)updateHeightsInViewport(cm);op.barMeasure=measureForScrollbars(cm);if(display.maxLineChanged&&!cm.options.lineWrapping){op.adjustWidthTo=measureChar(cm,display.maxLine,display.maxLine.text.length).left+3;cm.display.sizerWidth=op.adjustWidthTo;op.barMeasure.scrollWidth=Math.max(display.scroller.clientWidth,display.sizer.offsetLeft+op.adjustWidthTo+scrollGap(cm)+cm.display.barWidth);op.maxScrollLeft=Math.max(0,display.sizer.offsetLeft+op.adjustWidthTo-displayWidth(cm));}if(op.updatedDisplay||op.selectionChanged)op.preparedSelection=display.input.prepareSelection();}function endOperation_W2(op){var cm=op.cm;if(op.adjustWidthTo!=null){cm.display.sizer.style.minWidth=op.adjustWidthTo+\"px\";if(op.maxScrollLeft<cm.doc.scrollLeft)setScrollLeft(cm,Math.min(cm.display.scroller.scrollLeft,op.maxScrollLeft),true);cm.display.maxLineChanged=false;}if(op.preparedSelection)cm.display.input.showSelection(op.preparedSelection);if(op.updatedDisplay)setDocumentHeight(cm,op.barMeasure);if(op.updatedDisplay||op.startHeight!=cm.doc.height)updateScrollbars(cm,op.barMeasure);if(op.selectionChanged)restartBlink(cm);if(cm.state.focused&&op.updateInput)cm.display.input.reset(op.typing);if(op.focus&&op.focus==activeElt()&&(!document.hasFocus||document.hasFocus()))ensureFocus(op.cm);}function endOperation_finish(op){var cm=op.cm,display=cm.display,doc=cm.doc;if(op.updatedDisplay)postUpdateDisplay(cm,op.update);if(display.wheelStartX!=null&&(op.scrollTop!=null||op.scrollLeft!=null||op.scrollToPos))display.wheelStartX=display.wheelStartY=null;if(op.scrollTop!=null&&(display.scroller.scrollTop!=op.scrollTop||op.forceScroll)){doc.scrollTop=Math.max(0,Math.min(display.scroller.scrollHeight-display.scroller.clientHeight,op.scrollTop));display.scrollbars.setScrollTop(doc.scrollTop);display.scroller.scrollTop=doc.scrollTop;}if(op.scrollLeft!=null&&(display.scroller.scrollLeft!=op.scrollLeft||op.forceScroll)){doc.scrollLeft=Math.max(0,Math.min(display.scroller.scrollWidth-displayWidth(cm),op.scrollLeft));display.scrollbars.setScrollLeft(doc.scrollLeft);display.scroller.scrollLeft=doc.scrollLeft;alignHorizontally(cm);}if(op.scrollToPos){var coords=scrollPosIntoView(cm,_clipPos(doc,op.scrollToPos.from),_clipPos(doc,op.scrollToPos.to),op.scrollToPos.margin);if(op.scrollToPos.isCursor&&cm.state.focused)maybeScrollWindow(cm,coords);}var hidden=op.maybeHiddenMarkers,unhidden=op.maybeUnhiddenMarkers;if(hidden)for(var i=0;i<hidden.length;++i){if(!hidden[i].lines.length)signal(hidden[i],\"hide\");}if(unhidden)for(var i=0;i<unhidden.length;++i){if(unhidden[i].lines.length)signal(unhidden[i],\"unhide\");}if(display.wrapper.offsetHeight)doc.scrollTop=cm.display.scroller.scrollTop;if(op.changeObjs)signal(cm,\"changes\",cm,op.changeObjs);if(op.update)op.update.finish();}function runInOp(cm,f){if(cm.curOp)return f();startOperation(cm);try{return f();}finally{endOperation(cm);}}function operation(cm,f){return function(){if(cm.curOp)return f.apply(cm,arguments);startOperation(cm);try{return f.apply(cm,arguments);}finally{endOperation(cm);}};}function methodOp(f){return function(){if(this.curOp)return f.apply(this,arguments);startOperation(this);try{return f.apply(this,arguments);}finally{endOperation(this);}};}function docMethodOp(f){return function(){var cm=this.cm;if(!cm||cm.curOp)return f.apply(this,arguments);startOperation(cm);try{return f.apply(this,arguments);}finally{endOperation(cm);}};}function LineView(doc,line,lineN){this.line=line;this.rest=visualLineContinued(line);this.size=this.rest?lineNo(lst(this.rest))-lineN+1:1;this.node=this.text=null;this.hidden=lineIsHidden(doc,line);}function buildViewArray(cm,from,to){var array=[],nextPos;for(var pos=from;pos<to;pos=nextPos){var view=new LineView(cm.doc,getLine(cm.doc,pos),pos);nextPos=pos+view.size;array.push(view);}return array;}function regChange(cm,from,to,lendiff){if(from==null)from=cm.doc.first;if(to==null)to=cm.doc.first+cm.doc.size;if(!lendiff)lendiff=0;var display=cm.display;if(lendiff&&to<display.viewTo&&(display.updateLineNumbers==null||display.updateLineNumbers>from))display.updateLineNumbers=from;cm.curOp.viewChanged=true;if(from>=display.viewTo){if(sawCollapsedSpans&&visualLineNo(cm.doc,from)<display.viewTo)resetView(cm);}else if(to<=display.viewFrom){if(sawCollapsedSpans&&visualLineEndNo(cm.doc,to+lendiff)>display.viewFrom){resetView(cm);}else{display.viewFrom+=lendiff;display.viewTo+=lendiff;}}else if(from<=display.viewFrom&&to>=display.viewTo){resetView(cm);}else if(from<=display.viewFrom){var cut=viewCuttingPoint(cm,to,to+lendiff,1);if(cut){display.view=display.view.slice(cut.index);display.viewFrom=cut.lineN;display.viewTo+=lendiff;}else{resetView(cm);}}else if(to>=display.viewTo){var cut=viewCuttingPoint(cm,from,from,-1);if(cut){display.view=display.view.slice(0,cut.index);display.viewTo=cut.lineN;}else{resetView(cm);}}else{var cutTop=viewCuttingPoint(cm,from,from,-1);var cutBot=viewCuttingPoint(cm,to,to+lendiff,1);if(cutTop&&cutBot){display.view=display.view.slice(0,cutTop.index).concat(buildViewArray(cm,cutTop.lineN,cutBot.lineN)).concat(display.view.slice(cutBot.index));display.viewTo+=lendiff;}else{resetView(cm);}}var ext=display.externalMeasured;if(ext){if(to<ext.lineN)ext.lineN+=lendiff;else if(from<ext.lineN+ext.size)display.externalMeasured=null;}}function regLineChange(cm,line,type){cm.curOp.viewChanged=true;var display=cm.display,ext=cm.display.externalMeasured;if(ext&&line>=ext.lineN&&line<ext.lineN+ext.size)display.externalMeasured=null;if(line<display.viewFrom||line>=display.viewTo)return;var lineView=display.view[findViewIndex(cm,line)];if(lineView.node==null)return;var arr=lineView.changes||(lineView.changes=[]);if(indexOf(arr,type)==-1)arr.push(type);}function resetView(cm){cm.display.viewFrom=cm.display.viewTo=cm.doc.first;cm.display.view=[];cm.display.viewOffset=0;}function findViewIndex(cm,n){if(n>=cm.display.viewTo)return null;n-=cm.display.viewFrom;if(n<0)return null;var view=cm.display.view;for(var i=0;i<view.length;i++){n-=view[i].size;if(n<0)return i;}}function viewCuttingPoint(cm,oldN,newN,dir){var index=findViewIndex(cm,oldN),diff,view=cm.display.view;if(!sawCollapsedSpans||newN==cm.doc.first+cm.doc.size)return{index:index,lineN:newN};for(var i=0,n=cm.display.viewFrom;i<index;i++){n+=view[i].size;}if(n!=oldN){if(dir>0){if(index==view.length-1)return null;diff=n+view[index].size-oldN;index++;}else{diff=n-oldN;}oldN+=diff;newN+=diff;}while(visualLineNo(cm.doc,newN)!=newN){if(index==(dir<0?0:view.length-1))return null;newN+=dir*view[index-(dir<0?1:0)].size;index+=dir;}return{index:index,lineN:newN};}function adjustView(cm,from,to){var display=cm.display,view=display.view;if(view.length==0||from>=display.viewTo||to<=display.viewFrom){display.view=buildViewArray(cm,from,to);display.viewFrom=from;}else{if(display.viewFrom>from)display.view=buildViewArray(cm,from,display.viewFrom).concat(display.view);else if(display.viewFrom<from)display.view=display.view.slice(findViewIndex(cm,from));display.viewFrom=from;if(display.viewTo<to)display.view=display.view.concat(buildViewArray(cm,display.viewTo,to));else if(display.viewTo>to)display.view=display.view.slice(0,findViewIndex(cm,to));}display.viewTo=to;}function countDirtyView(cm){var view=cm.display.view,dirty=0;for(var i=0;i<view.length;i++){var lineView=view[i];if(!lineView.hidden&&(!lineView.node||lineView.changes))++dirty;}return dirty;}function registerEventHandlers(cm){var d=cm.display;on(d.scroller,\"mousedown\",operation(cm,onMouseDown));if(ie&&ie_version<11)on(d.scroller,\"dblclick\",operation(cm,function(e){if(signalDOMEvent(cm,e))return;var pos=posFromMouse(cm,e);if(!pos||clickInGutter(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);var word=cm.findWordAt(pos);extendSelection(cm.doc,word.anchor,word.head);}));else on(d.scroller,\"dblclick\",function(e){signalDOMEvent(cm,e)||e_preventDefault(e);});if(!captureRightClick)on(d.scroller,\"contextmenu\",function(e){onContextMenu(cm,e);});var touchFinished,prevTouch={end:0};function finishTouch(){if(d.activeTouch){touchFinished=setTimeout(function(){d.activeTouch=null;},1000);prevTouch=d.activeTouch;prevTouch.end=+new Date();}};function isMouseLikeTouchEvent(e){if(e.touches.length!=1)return false;var touch=e.touches[0];return touch.radiusX<=1&&touch.radiusY<=1;}function farAway(touch,other){if(other.left==null)return true;var dx=other.left-touch.left,dy=other.top-touch.top;return dx*dx+dy*dy>20*20;}on(d.scroller,\"touchstart\",function(e){if(!isMouseLikeTouchEvent(e)){clearTimeout(touchFinished);var now=+new Date();d.activeTouch={start:now,moved:false,prev:now-prevTouch.end<=300?prevTouch:null};if(e.touches.length==1){d.activeTouch.left=e.touches[0].pageX;d.activeTouch.top=e.touches[0].pageY;}}});on(d.scroller,\"touchmove\",function(){if(d.activeTouch)d.activeTouch.moved=true;});on(d.scroller,\"touchend\",function(e){var touch=d.activeTouch;if(touch&&!eventInWidget(d,e)&&touch.left!=null&&!touch.moved&&new Date()-touch.start<300){var pos=cm.coordsChar(d.activeTouch,\"page\"),range;if(!touch.prev||farAway(touch,touch.prev))range=new Range(pos,pos);else if(!touch.prev.prev||farAway(touch,touch.prev.prev))range=cm.findWordAt(pos);else range=new Range(Pos(pos.line,0),_clipPos(cm.doc,Pos(pos.line+1,0)));cm.setSelection(range.anchor,range.head);cm.focus();e_preventDefault(e);}finishTouch();});on(d.scroller,\"touchcancel\",finishTouch);on(d.scroller,\"scroll\",function(){if(d.scroller.clientHeight){setScrollTop(cm,d.scroller.scrollTop);setScrollLeft(cm,d.scroller.scrollLeft,true);signal(cm,\"scroll\",cm);}});on(d.scroller,\"mousewheel\",function(e){onScrollWheel(cm,e);});on(d.scroller,\"DOMMouseScroll\",function(e){onScrollWheel(cm,e);});on(d.wrapper,\"scroll\",function(){d.wrapper.scrollTop=d.wrapper.scrollLeft=0;});d.dragFunctions={enter:function enter(e){if(!signalDOMEvent(cm,e))e_stop(e);},over:function over(e){if(!signalDOMEvent(cm,e)){onDragOver(cm,e);e_stop(e);}},start:function start(e){onDragStart(cm,e);},drop:operation(cm,onDrop),leave:function leave(){clearDragCursor(cm);}};var inp=d.input.getField();on(inp,\"keyup\",function(e){onKeyUp.call(cm,e);});on(inp,\"keydown\",operation(cm,onKeyDown));on(inp,\"keypress\",operation(cm,onKeyPress));on(inp,\"focus\",bind(onFocus,cm));on(inp,\"blur\",bind(onBlur,cm));}function dragDropChanged(cm,value,old){var wasOn=old&&old!=CodeMirror.Init;if(!value!=!wasOn){var funcs=cm.display.dragFunctions;var toggle=value?on:off;toggle(cm.display.scroller,\"dragstart\",funcs.start);toggle(cm.display.scroller,\"dragenter\",funcs.enter);toggle(cm.display.scroller,\"dragover\",funcs.over);toggle(cm.display.scroller,\"dragleave\",funcs.leave);toggle(cm.display.scroller,\"drop\",funcs.drop);}}function onResize(cm){var d=cm.display;if(d.lastWrapHeight==d.wrapper.clientHeight&&d.lastWrapWidth==d.wrapper.clientWidth)return;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null;d.scrollbarsClipped=false;cm.setSize();}function eventInWidget(display,e){for(var n=e_target(e);n!=display.wrapper;n=n.parentNode){if(!n||n.nodeType==1&&n.getAttribute(\"cm-ignore-events\")==\"true\"||n.parentNode==display.sizer&&n!=display.mover)return true;}}function posFromMouse(cm,e,liberal,forRect){var display=cm.display;if(!liberal&&e_target(e).getAttribute(\"cm-not-content\")==\"true\")return null;var x,y,space=display.lineSpace.getBoundingClientRect();try{x=e.clientX-space.left;y=e.clientY-space.top;}catch(e){return null;}var coords=_coordsChar(cm,x,y),line;if(forRect&&coords.xRel==1&&(line=getLine(cm.doc,coords.line).text).length==coords.ch){var colDiff=countColumn(line,line.length,cm.options.tabSize)-line.length;coords=Pos(coords.line,Math.max(0,Math.round((x-paddingH(cm.display).left)/charWidth(cm.display))-colDiff));}return coords;}function onMouseDown(e){var cm=this,display=cm.display;if(display.activeTouch&&display.input.supportsTouch()||signalDOMEvent(cm,e))return;display.shift=e.shiftKey;if(eventInWidget(display,e)){if(!webkit){display.scroller.draggable=false;setTimeout(function(){display.scroller.draggable=true;},100);}return;}if(clickInGutter(cm,e))return;var start=posFromMouse(cm,e);window.focus();switch(e_button(e)){case 1:if(cm.state.selectingText)cm.state.selectingText(e);else if(start)leftButtonDown(cm,e,start);else if(e_target(e)==display.scroller)e_preventDefault(e);break;case 2:if(webkit)cm.state.lastMiddleDown=+new Date();if(start)extendSelection(cm.doc,start);setTimeout(function(){display.input.focus();},20);e_preventDefault(e);break;case 3:if(captureRightClick)onContextMenu(cm,e);else delayBlurEvent(cm);break;}}var lastClick,lastDoubleClick;function leftButtonDown(cm,e,start){if(ie)setTimeout(bind(ensureFocus,cm),0);else cm.curOp.focus=activeElt();var now=+new Date(),type;if(lastDoubleClick&&lastDoubleClick.time>now-400&&cmp(lastDoubleClick.pos,start)==0){type=\"triple\";}else if(lastClick&&lastClick.time>now-400&&cmp(lastClick.pos,start)==0){type=\"double\";lastDoubleClick={time:now,pos:start};}else{type=\"single\";lastClick={time:now,pos:start};}var sel=cm.doc.sel,modifier=mac?e.metaKey:e.ctrlKey,contained;if(cm.options.dragDrop&&dragAndDrop&&!isReadOnly(cm)&&type==\"single\"&&(contained=sel.contains(start))>-1&&(cmp((contained=sel.ranges[contained]).from(),start)<0||start.xRel>0)&&(cmp(contained.to(),start)>0||start.xRel<0))leftButtonStartDrag(cm,e,start,modifier);else leftButtonSelect(cm,e,start,type,modifier);}function leftButtonStartDrag(cm,e,start,modifier){var display=cm.display,startTime=+new Date();var dragEnd=operation(cm,function(e2){if(webkit)display.scroller.draggable=false;cm.state.draggingText=false;off(document,\"mouseup\",dragEnd);off(display.scroller,\"drop\",dragEnd);if(Math.abs(e.clientX-e2.clientX)+Math.abs(e.clientY-e2.clientY)<10){e_preventDefault(e2);if(!modifier&&+new Date()-200<startTime)extendSelection(cm.doc,start);if(webkit||ie&&ie_version==9)setTimeout(function(){document.body.focus();display.input.focus();},20);else display.input.focus();}});if(webkit)display.scroller.draggable=true;cm.state.draggingText=dragEnd;if(display.scroller.dragDrop)display.scroller.dragDrop();on(document,\"mouseup\",dragEnd);on(display.scroller,\"drop\",dragEnd);}function leftButtonSelect(cm,e,start,type,addNew){var display=cm.display,doc=cm.doc;e_preventDefault(e);var ourRange,ourIndex,startSel=doc.sel,ranges=startSel.ranges;if(addNew&&!e.shiftKey){ourIndex=doc.sel.contains(start);if(ourIndex>-1)ourRange=ranges[ourIndex];else ourRange=new Range(start,start);}else{ourRange=doc.sel.primary();ourIndex=doc.sel.primIndex;}if(e.altKey){type=\"rect\";if(!addNew)ourRange=new Range(start,start);start=posFromMouse(cm,e,true,true);ourIndex=-1;}else if(type==\"double\"){var word=cm.findWordAt(start);if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,word.anchor,word.head);else ourRange=word;}else if(type==\"triple\"){var line=new Range(Pos(start.line,0),_clipPos(doc,Pos(start.line+1,0)));if(cm.display.shift||doc.extend)ourRange=extendRange(doc,ourRange,line.anchor,line.head);else ourRange=line;}else{ourRange=extendRange(doc,ourRange,start);}if(!addNew){ourIndex=0;setSelection(doc,new Selection([ourRange],0),sel_mouse);startSel=doc.sel;}else if(ourIndex==-1){ourIndex=ranges.length;setSelection(doc,normalizeSelection(ranges.concat([ourRange]),ourIndex),{scroll:false,origin:\"*mouse\"});}else if(ranges.length>1&&ranges[ourIndex].empty()&&type==\"single\"&&!e.shiftKey){setSelection(doc,normalizeSelection(ranges.slice(0,ourIndex).concat(ranges.slice(ourIndex+1)),0),{scroll:false,origin:\"*mouse\"});startSel=doc.sel;}else{replaceOneSelection(doc,ourIndex,ourRange,sel_mouse);}var lastPos=start;function extendTo(pos){if(cmp(lastPos,pos)==0)return;lastPos=pos;if(type==\"rect\"){var ranges=[],tabSize=cm.options.tabSize;var startCol=countColumn(getLine(doc,start.line).text,start.ch,tabSize);var posCol=countColumn(getLine(doc,pos.line).text,pos.ch,tabSize);var left=Math.min(startCol,posCol),right=Math.max(startCol,posCol);for(var line=Math.min(start.line,pos.line),end=Math.min(cm.lastLine(),Math.max(start.line,pos.line));line<=end;line++){var text=getLine(doc,line).text,leftPos=findColumn(text,left,tabSize);if(left==right)ranges.push(new Range(Pos(line,leftPos),Pos(line,leftPos)));else if(text.length>leftPos)ranges.push(new Range(Pos(line,leftPos),Pos(line,findColumn(text,right,tabSize))));}if(!ranges.length)ranges.push(new Range(start,start));setSelection(doc,normalizeSelection(startSel.ranges.slice(0,ourIndex).concat(ranges),ourIndex),{origin:\"*mouse\",scroll:false});cm.scrollIntoView(pos);}else{var oldRange=ourRange;var anchor=oldRange.anchor,head=pos;if(type!=\"single\"){if(type==\"double\")var range=cm.findWordAt(pos);else var range=new Range(Pos(pos.line,0),_clipPos(doc,Pos(pos.line+1,0)));if(cmp(range.anchor,anchor)>0){head=range.head;anchor=minPos(oldRange.from(),range.anchor);}else{head=range.anchor;anchor=maxPos(oldRange.to(),range.head);}}var ranges=startSel.ranges.slice(0);ranges[ourIndex]=new Range(_clipPos(doc,anchor),head);setSelection(doc,normalizeSelection(ranges,ourIndex),sel_mouse);}}var editorSize=display.wrapper.getBoundingClientRect();var counter=0;function extend(e){var curCount=++counter;var cur=posFromMouse(cm,e,true,type==\"rect\");if(!cur)return;if(cmp(cur,lastPos)!=0){cm.curOp.focus=activeElt();extendTo(cur);var visible=visibleLines(display,doc);if(cur.line>=visible.to||cur.line<visible.from)setTimeout(operation(cm,function(){if(counter==curCount)extend(e);}),150);}else{var outside=e.clientY<editorSize.top?-20:e.clientY>editorSize.bottom?20:0;if(outside)setTimeout(operation(cm,function(){if(counter!=curCount)return;display.scroller.scrollTop+=outside;extend(e);}),50);}}function done(e){cm.state.selectingText=false;counter=Infinity;e_preventDefault(e);display.input.focus();off(document,\"mousemove\",move);off(document,\"mouseup\",up);doc.history.lastSelOrigin=null;}var move=operation(cm,function(e){if(!e_button(e))done(e);else extend(e);});var up=operation(cm,done);cm.state.selectingText=up;on(document,\"mousemove\",move);on(document,\"mouseup\",up);}function gutterEvent(cm,e,type,prevent){try{var mX=e.clientX,mY=e.clientY;}catch(e){return false;}if(mX>=Math.floor(cm.display.gutters.getBoundingClientRect().right))return false;if(prevent)e_preventDefault(e);var display=cm.display;var lineBox=display.lineDiv.getBoundingClientRect();if(mY>lineBox.bottom||!hasHandler(cm,type))return e_defaultPrevented(e);mY-=lineBox.top-display.viewOffset;for(var i=0;i<cm.options.gutters.length;++i){var g=display.gutters.childNodes[i];if(g&&g.getBoundingClientRect().right>=mX){var line=_lineAtHeight(cm.doc,mY);var gutter=cm.options.gutters[i];signal(cm,type,cm,line,gutter,e);return e_defaultPrevented(e);}}}function clickInGutter(cm,e){return gutterEvent(cm,e,\"gutterClick\",true);}var lastDrop=0;function onDrop(e){var cm=this;clearDragCursor(cm);if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e_preventDefault(e);if(ie)lastDrop=+new Date();var pos=posFromMouse(cm,e,true),files=e.dataTransfer.files;if(!pos||isReadOnly(cm))return;if(files&&files.length&&window.FileReader&&window.File){var n=files.length,text=Array(n),read=0;var loadFile=function loadFile(file,i){if(cm.options.allowDropFileTypes&&indexOf(cm.options.allowDropFileTypes,file.type)==-1)return;var reader=new FileReader();reader.onload=operation(cm,function(){var content=reader.result;if(/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content))content=\"\";text[i]=content;if(++read==n){pos=_clipPos(cm.doc,pos);var change={from:pos,to:pos,text:cm.doc.splitLines(text.join(cm.doc.lineSeparator())),origin:\"paste\"};makeChange(cm.doc,change);setSelectionReplaceHistory(cm.doc,simpleSelection(pos,changeEnd(change)));}});reader.readAsText(file);};for(var i=0;i<n;++i){loadFile(files[i],i);}}else{if(cm.state.draggingText&&cm.doc.sel.contains(pos)>-1){cm.state.draggingText(e);setTimeout(function(){cm.display.input.focus();},20);return;}try{var text=e.dataTransfer.getData(\"Text\");if(text){if(cm.state.draggingText&&!(mac?e.altKey:e.ctrlKey))var selected=cm.listSelections();setSelectionNoUndo(cm.doc,simpleSelection(pos,pos));if(selected)for(var i=0;i<selected.length;++i){_replaceRange(cm.doc,\"\",selected[i].anchor,selected[i].head,\"drag\");}cm.replaceSelection(text,\"around\",\"paste\");cm.display.input.focus();}}catch(e){}}}function onDragStart(cm,e){if(ie&&(!cm.state.draggingText||+new Date()-lastDrop<100)){e_stop(e);return;}if(signalDOMEvent(cm,e)||eventInWidget(cm.display,e))return;e.dataTransfer.setData(\"Text\",cm.getSelection());if(e.dataTransfer.setDragImage&&!safari){var img=elt(\"img\",null,null,\"position: fixed; left: 0; top: 0;\");img.src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";if(presto){img.width=img.height=1;cm.display.wrapper.appendChild(img);img._top=img.offsetTop;}e.dataTransfer.setDragImage(img,0,0);if(presto)img.parentNode.removeChild(img);}}function onDragOver(cm,e){var pos=posFromMouse(cm,e);if(!pos)return;var frag=document.createDocumentFragment();drawSelectionCursor(cm,pos,frag);if(!cm.display.dragCursor){cm.display.dragCursor=elt(\"div\",null,\"CodeMirror-cursors CodeMirror-dragcursors\");cm.display.lineSpace.insertBefore(cm.display.dragCursor,cm.display.cursorDiv);}removeChildrenAndAdd(cm.display.dragCursor,frag);}function clearDragCursor(cm){if(cm.display.dragCursor){cm.display.lineSpace.removeChild(cm.display.dragCursor);cm.display.dragCursor=null;}}function setScrollTop(cm,val){if(Math.abs(cm.doc.scrollTop-val)<2)return;cm.doc.scrollTop=val;if(!gecko)updateDisplaySimple(cm,{top:val});if(cm.display.scroller.scrollTop!=val)cm.display.scroller.scrollTop=val;cm.display.scrollbars.setScrollTop(val);if(gecko)updateDisplaySimple(cm);startWorker(cm,100);}function setScrollLeft(cm,val,isScroller){if(isScroller?val==cm.doc.scrollLeft:Math.abs(cm.doc.scrollLeft-val)<2)return;val=Math.min(val,cm.display.scroller.scrollWidth-cm.display.scroller.clientWidth);cm.doc.scrollLeft=val;alignHorizontally(cm);if(cm.display.scroller.scrollLeft!=val)cm.display.scroller.scrollLeft=val;cm.display.scrollbars.setScrollLeft(val);}var wheelSamples=0,wheelPixelsPerUnit=null;if(ie)wheelPixelsPerUnit=-.53;else if(gecko)wheelPixelsPerUnit=15;else if(chrome)wheelPixelsPerUnit=-.7;else if(safari)wheelPixelsPerUnit=-1/3;var wheelEventDelta=function wheelEventDelta(e){var dx=e.wheelDeltaX,dy=e.wheelDeltaY;if(dx==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS)dx=e.detail;if(dy==null&&e.detail&&e.axis==e.VERTICAL_AXIS)dy=e.detail;else if(dy==null)dy=e.wheelDelta;return{x:dx,y:dy};};CodeMirror.wheelEventPixels=function(e){var delta=wheelEventDelta(e);delta.x*=wheelPixelsPerUnit;delta.y*=wheelPixelsPerUnit;return delta;};function onScrollWheel(cm,e){var delta=wheelEventDelta(e),dx=delta.x,dy=delta.y;var display=cm.display,scroll=display.scroller;var canScrollX=scroll.scrollWidth>scroll.clientWidth;var canScrollY=scroll.scrollHeight>scroll.clientHeight;if(!(dx&&canScrollX||dy&&canScrollY))return;if(dy&&mac&&webkit){outer:for(var cur=e.target,view=display.view;cur!=scroll;cur=cur.parentNode){for(var i=0;i<view.length;i++){if(view[i].node==cur){cm.display.currentWheelTarget=cur;break outer;}}}}if(dx&&!gecko&&!presto&&wheelPixelsPerUnit!=null){if(dy&&canScrollY)setScrollTop(cm,Math.max(0,Math.min(scroll.scrollTop+dy*wheelPixelsPerUnit,scroll.scrollHeight-scroll.clientHeight)));setScrollLeft(cm,Math.max(0,Math.min(scroll.scrollLeft+dx*wheelPixelsPerUnit,scroll.scrollWidth-scroll.clientWidth)));if(!dy||dy&&canScrollY)e_preventDefault(e);display.wheelStartX=null;return;}if(dy&&wheelPixelsPerUnit!=null){var pixels=dy*wheelPixelsPerUnit;var top=cm.doc.scrollTop,bot=top+display.wrapper.clientHeight;if(pixels<0)top=Math.max(0,top+pixels-50);else bot=Math.min(cm.doc.height,bot+pixels+50);updateDisplaySimple(cm,{top:top,bottom:bot});}if(wheelSamples<20){if(display.wheelStartX==null){display.wheelStartX=scroll.scrollLeft;display.wheelStartY=scroll.scrollTop;display.wheelDX=dx;display.wheelDY=dy;setTimeout(function(){if(display.wheelStartX==null)return;var movedX=scroll.scrollLeft-display.wheelStartX;var movedY=scroll.scrollTop-display.wheelStartY;var sample=movedY&&display.wheelDY&&movedY/display.wheelDY||movedX&&display.wheelDX&&movedX/display.wheelDX;display.wheelStartX=display.wheelStartY=null;if(!sample)return;wheelPixelsPerUnit=(wheelPixelsPerUnit*wheelSamples+sample)/(wheelSamples+1);++wheelSamples;},200);}else{display.wheelDX+=dx;display.wheelDY+=dy;}}}function doHandleBinding(cm,bound,dropShift){if(typeof bound==\"string\"){bound=commands[bound];if(!bound)return false;}cm.display.input.ensurePolled();var prevShift=cm.display.shift,done=false;try{if(isReadOnly(cm))cm.state.suppressEdits=true;if(dropShift)cm.display.shift=false;done=bound(cm)!=Pass;}finally{cm.display.shift=prevShift;cm.state.suppressEdits=false;}return done;}function lookupKeyForEditor(cm,name,handle){for(var i=0;i<cm.state.keyMaps.length;i++){var result=lookupKey(name,cm.state.keyMaps[i],handle,cm);if(result)return result;}return cm.options.extraKeys&&lookupKey(name,cm.options.extraKeys,handle,cm)||lookupKey(name,cm.options.keyMap,handle,cm);}var stopSeq=new Delayed();function dispatchKey(cm,name,e,handle){var seq=cm.state.keySeq;if(seq){if(isModifierKey(name))return\"handled\";stopSeq.set(50,function(){if(cm.state.keySeq==seq){cm.state.keySeq=null;cm.display.input.reset();}});name=seq+\" \"+name;}var result=lookupKeyForEditor(cm,name,handle);if(result==\"multi\")cm.state.keySeq=name;if(result==\"handled\")signalLater(cm,\"keyHandled\",cm,name,e);if(result==\"handled\"||result==\"multi\"){e_preventDefault(e);restartBlink(cm);}if(seq&&!result&&/\\'$/.test(name)){e_preventDefault(e);return true;}return!!result;}function handleKeyBinding(cm,e){var name=keyName(e,true);if(!name)return false;if(e.shiftKey&&!cm.state.keySeq){return dispatchKey(cm,\"Shift-\"+name,e,function(b){return doHandleBinding(cm,b,true);})||dispatchKey(cm,name,e,function(b){if(typeof b==\"string\"?/^go[A-Z]/.test(b):b.motion)return doHandleBinding(cm,b);});}else{return dispatchKey(cm,name,e,function(b){return doHandleBinding(cm,b);});}}function handleCharBinding(cm,e,ch){return dispatchKey(cm,\"'\"+ch+\"'\",e,function(b){return doHandleBinding(cm,b,true);});}var lastStoppedKey=null;function onKeyDown(e){var cm=this;cm.curOp.focus=activeElt();if(signalDOMEvent(cm,e))return;if(ie&&ie_version<11&&e.keyCode==27)e.returnValue=false;var code=e.keyCode;cm.display.shift=code==16||e.shiftKey;var handled=handleKeyBinding(cm,e);if(presto){lastStoppedKey=handled?code:null;if(!handled&&code==88&&!hasCopyEvent&&(mac?e.metaKey:e.ctrlKey))cm.replaceSelection(\"\",null,\"cut\");}if(code==18&&!/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))showCrossHair(cm);}function showCrossHair(cm){var lineDiv=cm.display.lineDiv;addClass(lineDiv,\"CodeMirror-crosshair\");function up(e){if(e.keyCode==18||!e.altKey){rmClass(lineDiv,\"CodeMirror-crosshair\");off(document,\"keyup\",up);off(document,\"mouseover\",up);}}on(document,\"keyup\",up);on(document,\"mouseover\",up);}function onKeyUp(e){if(e.keyCode==16)this.doc.sel.shift=false;signalDOMEvent(this,e);}function onKeyPress(e){var cm=this;if(eventInWidget(cm.display,e)||signalDOMEvent(cm,e)||e.ctrlKey&&!e.altKey||mac&&e.metaKey)return;var keyCode=e.keyCode,charCode=e.charCode;if(presto&&keyCode==lastStoppedKey){lastStoppedKey=null;e_preventDefault(e);return;}if(presto&&(!e.which||e.which<10)&&handleKeyBinding(cm,e))return;var ch=String.fromCharCode(charCode==null?keyCode:charCode);if(handleCharBinding(cm,e,ch))return;cm.display.input.onKeyPress(e);}function delayBlurEvent(cm){cm.state.delayingBlurEvent=true;setTimeout(function(){if(cm.state.delayingBlurEvent){cm.state.delayingBlurEvent=false;onBlur(cm);}},100);}function onFocus(cm){if(cm.state.delayingBlurEvent)cm.state.delayingBlurEvent=false;if(cm.options.readOnly==\"nocursor\")return;if(!cm.state.focused){signal(cm,\"focus\",cm);cm.state.focused=true;addClass(cm.display.wrapper,\"CodeMirror-focused\");if(!cm.curOp&&cm.display.selForContextMenu!=cm.doc.sel){cm.display.input.reset();if(webkit)setTimeout(function(){cm.display.input.reset(true);},20);}cm.display.input.receivedFocus();}restartBlink(cm);}function onBlur(cm){if(cm.state.delayingBlurEvent)return;if(cm.state.focused){signal(cm,\"blur\",cm);cm.state.focused=false;rmClass(cm.display.wrapper,\"CodeMirror-focused\");}clearInterval(cm.display.blinker);setTimeout(function(){if(!cm.state.focused)cm.display.shift=false;},150);}function onContextMenu(cm,e){if(eventInWidget(cm.display,e)||contextMenuInGutter(cm,e))return;if(signalDOMEvent(cm,e,\"contextmenu\"))return;cm.display.input.onContextMenu(e);}function contextMenuInGutter(cm,e){if(!hasHandler(cm,\"gutterContextMenu\"))return false;return gutterEvent(cm,e,\"gutterContextMenu\",false);}var changeEnd=CodeMirror.changeEnd=function(change){if(!change.text)return change.to;return Pos(change.from.line+change.text.length-1,lst(change.text).length+(change.text.length==1?change.from.ch:0));};function adjustForChange(pos,change){if(cmp(pos,change.from)<0)return pos;if(cmp(pos,change.to)<=0)return changeEnd(change);var line=pos.line+change.text.length-(change.to.line-change.from.line)-1,ch=pos.ch;if(pos.line==change.to.line)ch+=changeEnd(change).ch-change.to.ch;return Pos(line,ch);}function computeSelAfterChange(doc,change){var out=[];for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];out.push(new Range(adjustForChange(range.anchor,change),adjustForChange(range.head,change)));}return normalizeSelection(out,doc.sel.primIndex);}function offsetPos(pos,old,nw){if(pos.line==old.line)return Pos(nw.line,pos.ch-old.ch+nw.ch);else return Pos(nw.line+(pos.line-old.line),pos.ch);}function computeReplacedSel(doc,changes,hint){var out=[];var oldPrev=Pos(doc.first,0),newPrev=oldPrev;for(var i=0;i<changes.length;i++){var change=changes[i];var from=offsetPos(change.from,oldPrev,newPrev);var to=offsetPos(changeEnd(change),oldPrev,newPrev);oldPrev=change.to;newPrev=to;if(hint==\"around\"){var range=doc.sel.ranges[i],inv=cmp(range.head,range.anchor)<0;out[i]=new Range(inv?to:from,inv?from:to);}else{out[i]=new Range(from,from);}}return new Selection(out,doc.sel.primIndex);}function filterChange(doc,change,update){var obj={canceled:false,from:change.from,to:change.to,text:change.text,origin:change.origin,cancel:function cancel(){this.canceled=true;}};if(update)obj.update=function(from,to,text,origin){if(from)this.from=_clipPos(doc,from);if(to)this.to=_clipPos(doc,to);if(text)this.text=text;if(origin!==undefined)this.origin=origin;};signal(doc,\"beforeChange\",doc,obj);if(doc.cm)signal(doc.cm,\"beforeChange\",doc.cm,obj);if(obj.canceled)return null;return{from:obj.from,to:obj.to,text:obj.text,origin:obj.origin};}function makeChange(doc,change,ignoreReadOnly){if(doc.cm){if(!doc.cm.curOp)return operation(doc.cm,makeChange)(doc,change,ignoreReadOnly);if(doc.cm.state.suppressEdits)return;}if(hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\")){change=filterChange(doc,change,true);if(!change)return;}var split=sawReadOnlySpans&&!ignoreReadOnly&&removeReadOnlyRanges(doc,change.from,change.to);if(split){for(var i=split.length-1;i>=0;--i){makeChangeInner(doc,{from:split[i].from,to:split[i].to,text:i?[\"\"]:change.text});}}else{makeChangeInner(doc,change);}}function makeChangeInner(doc,change){if(change.text.length==1&&change.text[0]==\"\"&&cmp(change.from,change.to)==0)return;var selAfter=computeSelAfterChange(doc,change);addChangeToHistory(doc,change,selAfter,doc.cm?doc.cm.curOp.id:NaN);makeChangeSingleDoc(doc,change,selAfter,stretchSpansOverChange(doc,change));var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,stretchSpansOverChange(doc,change));});}function makeChangeFromHistory(doc,type,allowSelectionOnly){if(doc.cm&&doc.cm.state.suppressEdits)return;var hist=doc.history,event,selAfter=doc.sel;var source=type==\"undo\"?hist.done:hist.undone,dest=type==\"undo\"?hist.undone:hist.done;for(var i=0;i<source.length;i++){event=source[i];if(allowSelectionOnly?event.ranges&&!event.equals(doc.sel):!event.ranges)break;}if(i==source.length)return;hist.lastOrigin=hist.lastSelOrigin=null;for(;;){event=source.pop();if(event.ranges){pushSelectionToHistory(event,dest);if(allowSelectionOnly&&!event.equals(doc.sel)){setSelection(doc,event,{clearRedo:false});return;}selAfter=event;}else break;}var antiChanges=[];pushSelectionToHistory(selAfter,dest);dest.push({changes:antiChanges,generation:hist.generation});hist.generation=event.generation||++hist.maxGeneration;var filter=hasHandler(doc,\"beforeChange\")||doc.cm&&hasHandler(doc.cm,\"beforeChange\");for(var i=event.changes.length-1;i>=0;--i){var change=event.changes[i];change.origin=type;if(filter&&!filterChange(doc,change,false)){source.length=0;return;}antiChanges.push(historyChangeFromChange(doc,change));var after=i?computeSelAfterChange(doc,change):lst(source);makeChangeSingleDoc(doc,change,after,mergeOldSpans(doc,change));if(!i&&doc.cm)doc.cm.scrollIntoView({from:change.from,to:changeEnd(change)});var rebased=[];linkedDocs(doc,function(doc,sharedHist){if(!sharedHist&&indexOf(rebased,doc.history)==-1){rebaseHist(doc.history,change);rebased.push(doc.history);}makeChangeSingleDoc(doc,change,null,mergeOldSpans(doc,change));});}}function shiftDoc(doc,distance){if(distance==0)return;doc.first+=distance;doc.sel=new Selection(map(doc.sel.ranges,function(range){return new Range(Pos(range.anchor.line+distance,range.anchor.ch),Pos(range.head.line+distance,range.head.ch));}),doc.sel.primIndex);if(doc.cm){regChange(doc.cm,doc.first,doc.first-distance,distance);for(var d=doc.cm.display,l=d.viewFrom;l<d.viewTo;l++){regLineChange(doc.cm,l,\"gutter\");}}}function makeChangeSingleDoc(doc,change,selAfter,spans){if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,makeChangeSingleDoc)(doc,change,selAfter,spans);if(change.to.line<doc.first){shiftDoc(doc,change.text.length-1-(change.to.line-change.from.line));return;}if(change.from.line>doc.lastLine())return;if(change.from.line<doc.first){var shift=change.text.length-1-(doc.first-change.from.line);shiftDoc(doc,shift);change={from:Pos(doc.first,0),to:Pos(change.to.line+shift,change.to.ch),text:[lst(change.text)],origin:change.origin};}var last=doc.lastLine();if(change.to.line>last){change={from:change.from,to:Pos(last,getLine(doc,last).text.length),text:[change.text[0]],origin:change.origin};}change.removed=getBetween(doc,change.from,change.to);if(!selAfter)selAfter=computeSelAfterChange(doc,change);if(doc.cm)makeChangeSingleDocInEditor(doc.cm,change,spans);else updateDoc(doc,change,spans);setSelectionNoUndo(doc,selAfter,sel_dontScroll);}function makeChangeSingleDocInEditor(cm,change,spans){var doc=cm.doc,display=cm.display,from=change.from,to=change.to;var recomputeMaxLength=false,checkWidthStart=from.line;if(!cm.options.lineWrapping){checkWidthStart=lineNo(visualLine(getLine(doc,from.line)));doc.iter(checkWidthStart,to.line+1,function(line){if(line==display.maxLine){recomputeMaxLength=true;return true;}});}if(doc.sel.contains(change.from,change.to)>-1)signalCursorActivity(cm);updateDoc(doc,change,spans,estimateHeight(cm));if(!cm.options.lineWrapping){doc.iter(checkWidthStart,from.line+change.text.length,function(line){var len=lineLength(line);if(len>display.maxLineLength){display.maxLine=line;display.maxLineLength=len;display.maxLineChanged=true;recomputeMaxLength=false;}});if(recomputeMaxLength)cm.curOp.updateMaxLine=true;}doc.frontier=Math.min(doc.frontier,from.line);startWorker(cm,400);var lendiff=change.text.length-(to.line-from.line)-1;if(change.full)regChange(cm);else if(from.line==to.line&&change.text.length==1&&!isWholeLineUpdate(cm.doc,change))regLineChange(cm,from.line,\"text\");else regChange(cm,from.line,to.line+1,lendiff);var changesHandler=hasHandler(cm,\"changes\"),changeHandler=hasHandler(cm,\"change\");if(changeHandler||changesHandler){var obj={from:from,to:to,text:change.text,removed:change.removed,origin:change.origin};if(changeHandler)signalLater(cm,\"change\",cm,obj);if(changesHandler)(cm.curOp.changeObjs||(cm.curOp.changeObjs=[])).push(obj);}cm.display.selForContextMenu=null;}function _replaceRange(doc,code,from,to,origin){if(!to)to=from;if(cmp(to,from)<0){var tmp=to;to=from;from=tmp;}if(typeof code==\"string\")code=doc.splitLines(code);makeChange(doc,{from:from,to:to,text:code,origin:origin});}function maybeScrollWindow(cm,coords){if(signalDOMEvent(cm,\"scrollCursorIntoView\"))return;var display=cm.display,box=display.sizer.getBoundingClientRect(),doScroll=null;if(coords.top+box.top<0)doScroll=true;else if(coords.bottom+box.top>(window.innerHeight||document.documentElement.clientHeight))doScroll=false;if(doScroll!=null&&!phantom){var scrollNode=elt(\"div\",\"\\u200B\",null,\"position: absolute; top: \"+(coords.top-display.viewOffset-paddingTop(cm.display))+\"px; height: \"+(coords.bottom-coords.top+scrollGap(cm)+display.barHeight)+\"px; left: \"+coords.left+\"px; width: 2px;\");cm.display.lineSpace.appendChild(scrollNode);scrollNode.scrollIntoView(doScroll);cm.display.lineSpace.removeChild(scrollNode);}}function scrollPosIntoView(cm,pos,end,margin){if(margin==null)margin=0;for(var limit=0;limit<5;limit++){var changed=false,coords=_cursorCoords(cm,pos);var endCoords=!end||end==pos?coords:_cursorCoords(cm,end);var scrollPos=calculateScrollPos(cm,Math.min(coords.left,endCoords.left),Math.min(coords.top,endCoords.top)-margin,Math.max(coords.left,endCoords.left),Math.max(coords.bottom,endCoords.bottom)+margin);var startTop=cm.doc.scrollTop,startLeft=cm.doc.scrollLeft;if(scrollPos.scrollTop!=null){setScrollTop(cm,scrollPos.scrollTop);if(Math.abs(cm.doc.scrollTop-startTop)>1)changed=true;}if(scrollPos.scrollLeft!=null){setScrollLeft(cm,scrollPos.scrollLeft);if(Math.abs(cm.doc.scrollLeft-startLeft)>1)changed=true;}if(!changed)break;}return coords;}function scrollIntoView(cm,x1,y1,x2,y2){var scrollPos=calculateScrollPos(cm,x1,y1,x2,y2);if(scrollPos.scrollTop!=null)setScrollTop(cm,scrollPos.scrollTop);if(scrollPos.scrollLeft!=null)setScrollLeft(cm,scrollPos.scrollLeft);}function calculateScrollPos(cm,x1,y1,x2,y2){var display=cm.display,snapMargin=textHeight(cm.display);if(y1<0)y1=0;var screentop=cm.curOp&&cm.curOp.scrollTop!=null?cm.curOp.scrollTop:display.scroller.scrollTop;var screen=displayHeight(cm),result={};if(y2-y1>screen)y2=y1+screen;var docBottom=cm.doc.height+paddingVert(display);var atTop=y1<snapMargin,atBottom=y2>docBottom-snapMargin;if(y1<screentop){result.scrollTop=atTop?0:y1;}else if(y2>screentop+screen){var newTop=Math.min(y1,(atBottom?docBottom:y2)-screen);if(newTop!=screentop)result.scrollTop=newTop;}var screenleft=cm.curOp&&cm.curOp.scrollLeft!=null?cm.curOp.scrollLeft:display.scroller.scrollLeft;var screenw=displayWidth(cm)-(cm.options.fixedGutter?display.gutters.offsetWidth:0);var tooWide=x2-x1>screenw;if(tooWide)x2=x1+screenw;if(x1<10)result.scrollLeft=0;else if(x1<screenleft)result.scrollLeft=Math.max(0,x1-(tooWide?0:10));else if(x2>screenw+screenleft-3)result.scrollLeft=x2+(tooWide?0:10)-screenw;return result;}function addToScrollPos(cm,left,top){if(left!=null||top!=null)resolveScrollToPos(cm);if(left!=null)cm.curOp.scrollLeft=(cm.curOp.scrollLeft==null?cm.doc.scrollLeft:cm.curOp.scrollLeft)+left;if(top!=null)cm.curOp.scrollTop=(cm.curOp.scrollTop==null?cm.doc.scrollTop:cm.curOp.scrollTop)+top;}function ensureCursorVisible(cm){resolveScrollToPos(cm);var cur=cm.getCursor(),from=cur,to=cur;if(!cm.options.lineWrapping){from=cur.ch?Pos(cur.line,cur.ch-1):cur;to=Pos(cur.line,cur.ch+1);}cm.curOp.scrollToPos={from:from,to:to,margin:cm.options.cursorScrollMargin,isCursor:true};}function resolveScrollToPos(cm){var range=cm.curOp.scrollToPos;if(range){cm.curOp.scrollToPos=null;var from=estimateCoords(cm,range.from),to=estimateCoords(cm,range.to);var sPos=calculateScrollPos(cm,Math.min(from.left,to.left),Math.min(from.top,to.top)-range.margin,Math.max(from.right,to.right),Math.max(from.bottom,to.bottom)+range.margin);cm.scrollTo(sPos.scrollLeft,sPos.scrollTop);}}function indentLine(cm,n,how,aggressive){var doc=cm.doc,state;if(how==null)how=\"add\";if(how==\"smart\"){if(!doc.mode.indent)how=\"prev\";else state=getStateBefore(cm,n);}var tabSize=cm.options.tabSize;var line=getLine(doc,n),curSpace=countColumn(line.text,null,tabSize);if(line.stateAfter)line.stateAfter=null;var curSpaceString=line.text.match(/^\\s*/)[0],indentation;if(!aggressive&&!/\\S/.test(line.text)){indentation=0;how=\"not\";}else if(how==\"smart\"){indentation=doc.mode.indent(state,line.text.slice(curSpaceString.length),line.text);if(indentation==Pass||indentation>150){if(!aggressive)return;how=\"prev\";}}if(how==\"prev\"){if(n>doc.first)indentation=countColumn(getLine(doc,n-1).text,null,tabSize);else indentation=0;}else if(how==\"add\"){indentation=curSpace+cm.options.indentUnit;}else if(how==\"subtract\"){indentation=curSpace-cm.options.indentUnit;}else if(typeof how==\"number\"){indentation=curSpace+how;}indentation=Math.max(0,indentation);var indentString=\"\",pos=0;if(cm.options.indentWithTabs)for(var i=Math.floor(indentation/tabSize);i;--i){pos+=tabSize;indentString+=\"\\t\";}if(pos<indentation)indentString+=spaceStr(indentation-pos);if(indentString!=curSpaceString){_replaceRange(doc,indentString,Pos(n,0),Pos(n,curSpaceString.length),\"+input\");line.stateAfter=null;return true;}else{for(var i=0;i<doc.sel.ranges.length;i++){var range=doc.sel.ranges[i];if(range.head.line==n&&range.head.ch<curSpaceString.length){var pos=Pos(n,curSpaceString.length);replaceOneSelection(doc,i,new Range(pos,pos));break;}}}}function changeLine(doc,handle,changeType,op){var no=handle,line=handle;if(typeof handle==\"number\")line=getLine(doc,clipLine(doc,handle));else no=lineNo(handle);if(no==null)return null;if(op(line,no)&&doc.cm)regLineChange(doc.cm,no,changeType);return line;}function deleteNearSelection(cm,compute){var ranges=cm.doc.sel.ranges,kill=[];for(var i=0;i<ranges.length;i++){var toKill=compute(ranges[i]);while(kill.length&&cmp(toKill.from,lst(kill).to)<=0){var replaced=kill.pop();if(cmp(replaced.from,toKill.from)<0){toKill.from=replaced.from;break;}}kill.push(toKill);}runInOp(cm,function(){for(var i=kill.length-1;i>=0;i--){_replaceRange(cm.doc,\"\",kill[i].from,kill[i].to,\"+delete\");}ensureCursorVisible(cm);});}function _findPosH(doc,pos,dir,unit,visually){var line=pos.line,ch=pos.ch,origDir=dir;var lineObj=getLine(doc,line);var possible=true;function findNextLine(){var l=line+dir;if(l<doc.first||l>=doc.first+doc.size)return possible=false;line=l;return lineObj=getLine(doc,l);}function moveOnce(boundToLine){var next=(visually?moveVisually:moveLogically)(lineObj,ch,dir,true);if(next==null){if(!boundToLine&&findNextLine()){if(visually)ch=(dir<0?lineRight:lineLeft)(lineObj);else ch=dir<0?lineObj.text.length:0;}else return possible=false;}else ch=next;return true;}if(unit==\"char\")moveOnce();else if(unit==\"column\")moveOnce(true);else if(unit==\"word\"||unit==\"group\"){var sawType=null,group=unit==\"group\";var helper=doc.cm&&doc.cm.getHelper(pos,\"wordChars\");for(var first=true;;first=false){if(dir<0&&!moveOnce(!first))break;var cur=lineObj.text.charAt(ch)||\"\\n\";var type=isWordChar(cur,helper)?\"w\":group&&cur==\"\\n\"?\"n\":!group||/\\s/.test(cur)?null:\"p\";if(group&&!first&&!type)type=\"s\";if(sawType&&sawType!=type){if(dir<0){dir=1;moveOnce();}break;}if(type)sawType=type;if(dir>0&&!moveOnce(!first))break;}}var result=skipAtomic(doc,Pos(line,ch),origDir,true);if(!possible)result.hitSide=true;return result;}function _findPosV(cm,pos,dir,unit){var doc=cm.doc,x=pos.left,y;if(unit==\"page\"){var pageSize=Math.min(cm.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);y=pos.top+dir*(pageSize-(dir<0?1.5:.5)*textHeight(cm.display));}else if(unit==\"line\"){y=dir>0?pos.bottom+3:pos.top-3;}for(;;){var target=_coordsChar(cm,x,y);if(!target.outside)break;if(dir<0?y<=0:y>=doc.height){target.hitSide=true;break;}y+=dir*5;}return target;}CodeMirror.prototype={constructor:CodeMirror,focus:function focus(){window.focus();this.display.input.focus();},setOption:function setOption(option,value){var options=this.options,old=options[option];if(options[option]==value&&option!=\"mode\")return;options[option]=value;if(optionHandlers.hasOwnProperty(option))operation(this,optionHandlers[option])(this,value,old);},getOption:function getOption(option){return this.options[option];},getDoc:function getDoc(){return this.doc;},addKeyMap:function addKeyMap(map,bottom){this.state.keyMaps[bottom?\"push\":\"unshift\"](getKeyMap(map));},removeKeyMap:function removeKeyMap(map){var maps=this.state.keyMaps;for(var i=0;i<maps.length;++i){if(maps[i]==map||maps[i].name==map){maps.splice(i,1);return true;}}},addOverlay:methodOp(function(spec,options){var mode=spec.token?spec:CodeMirror.getMode(this.options,spec);if(mode.startState)throw new Error(\"Overlays may not be stateful.\");this.state.overlays.push({mode:mode,modeSpec:spec,opaque:options&&options.opaque});this.state.modeGen++;regChange(this);}),removeOverlay:methodOp(function(spec){var overlays=this.state.overlays;for(var i=0;i<overlays.length;++i){var cur=overlays[i].modeSpec;if(cur==spec||typeof spec==\"string\"&&cur.name==spec){overlays.splice(i,1);this.state.modeGen++;regChange(this);return;}}}),indentLine:methodOp(function(n,dir,aggressive){if(typeof dir!=\"string\"&&typeof dir!=\"number\"){if(dir==null)dir=this.options.smartIndent?\"smart\":\"prev\";else dir=dir?\"add\":\"subtract\";}if(isLine(this.doc,n))indentLine(this,n,dir,aggressive);}),indentSelection:methodOp(function(how){var ranges=this.doc.sel.ranges,end=-1;for(var i=0;i<ranges.length;i++){var range=ranges[i];if(!range.empty()){var from=range.from(),to=range.to();var start=Math.max(end,from.line);end=Math.min(this.lastLine(),to.line-(to.ch?0:1))+1;for(var j=start;j<end;++j){indentLine(this,j,how);}var newRanges=this.doc.sel.ranges;if(from.ch==0&&ranges.length==newRanges.length&&newRanges[i].from().ch>0)replaceOneSelection(this.doc,i,new Range(from,newRanges[i].to()),sel_dontScroll);}else if(range.head.line>end){indentLine(this,range.head.line,how,true);end=range.head.line;if(i==this.doc.sel.primIndex)ensureCursorVisible(this);}}}),getTokenAt:function getTokenAt(pos,precise){return takeToken(this,pos,precise);},getLineTokens:function getLineTokens(line,precise){return takeToken(this,Pos(line),precise,true);},getTokenTypeAt:function getTokenTypeAt(pos){pos=_clipPos(this.doc,pos);var styles=getLineStyles(this,getLine(this.doc,pos.line));var before=0,after=(styles.length-1)/2,ch=pos.ch;var type;if(ch==0)type=styles[2];else for(;;){var mid=before+after>>1;if((mid?styles[mid*2-1]:0)>=ch)after=mid;else if(styles[mid*2+1]<ch)before=mid+1;else{type=styles[mid*2+2];break;}}var cut=type?type.indexOf(\"cm-overlay \"):-1;return cut<0?type:cut==0?null:type.slice(0,cut-1);},getModeAt:function getModeAt(pos){var mode=this.doc.mode;if(!mode.innerMode)return mode;return CodeMirror.innerMode(mode,this.getTokenAt(pos).state).mode;},getHelper:function getHelper(pos,type){return this.getHelpers(pos,type)[0];},getHelpers:function getHelpers(pos,type){var found=[];if(!helpers.hasOwnProperty(type))return found;var help=helpers[type],mode=this.getModeAt(pos);if(typeof mode[type]==\"string\"){if(help[mode[type]])found.push(help[mode[type]]);}else if(mode[type]){for(var i=0;i<mode[type].length;i++){var val=help[mode[type][i]];if(val)found.push(val);}}else if(mode.helperType&&help[mode.helperType]){found.push(help[mode.helperType]);}else if(help[mode.name]){found.push(help[mode.name]);}for(var i=0;i<help._global.length;i++){var cur=help._global[i];if(cur.pred(mode,this)&&indexOf(found,cur.val)==-1)found.push(cur.val);}return found;},getStateAfter:function getStateAfter(line,precise){var doc=this.doc;line=clipLine(doc,line==null?doc.first+doc.size-1:line);return getStateBefore(this,line+1,precise);},cursorCoords:function cursorCoords(start,mode){var pos,range=this.doc.sel.primary();if(start==null)pos=range.head;else if((typeof start===\"undefined\"?\"undefined\":(0,_typeof3.default)(start))==\"object\")pos=_clipPos(this.doc,start);else pos=start?range.from():range.to();return _cursorCoords(this,pos,mode||\"page\");},charCoords:function charCoords(pos,mode){return _charCoords(this,_clipPos(this.doc,pos),mode||\"page\");},coordsChar:function coordsChar(coords,mode){coords=fromCoordSystem(this,coords,mode||\"page\");return _coordsChar(this,coords.left,coords.top);},lineAtHeight:function lineAtHeight(height,mode){height=fromCoordSystem(this,{top:height,left:0},mode||\"page\").top;return _lineAtHeight(this.doc,height+this.display.viewOffset);},heightAtLine:function heightAtLine(line,mode){var end=false,lineObj;if(typeof line==\"number\"){var last=this.doc.first+this.doc.size-1;if(line<this.doc.first)line=this.doc.first;else if(line>last){line=last;end=true;}lineObj=getLine(this.doc,line);}else{lineObj=line;}return intoCoordSystem(this,lineObj,{top:0,left:0},mode||\"page\").top+(end?this.doc.height-_heightAtLine(lineObj):0);},defaultTextHeight:function defaultTextHeight(){return textHeight(this.display);},defaultCharWidth:function defaultCharWidth(){return charWidth(this.display);},setGutterMarker:methodOp(function(line,gutterID,value){return changeLine(this.doc,line,\"gutter\",function(line){var markers=line.gutterMarkers||(line.gutterMarkers={});markers[gutterID]=value;if(!value&&isEmpty(markers))line.gutterMarkers=null;return true;});}),clearGutter:methodOp(function(gutterID){var cm=this,doc=cm.doc,i=doc.first;doc.iter(function(line){if(line.gutterMarkers&&line.gutterMarkers[gutterID]){line.gutterMarkers[gutterID]=null;regLineChange(cm,i,\"gutter\");if(isEmpty(line.gutterMarkers))line.gutterMarkers=null;}++i;});}),lineInfo:function lineInfo(line){if(typeof line==\"number\"){if(!isLine(this.doc,line))return null;var n=line;line=getLine(this.doc,line);if(!line)return null;}else{var n=lineNo(line);if(n==null)return null;}return{line:n,handle:line,text:line.text,gutterMarkers:line.gutterMarkers,textClass:line.textClass,bgClass:line.bgClass,wrapClass:line.wrapClass,widgets:line.widgets};},getViewport:function getViewport(){return{from:this.display.viewFrom,to:this.display.viewTo};},addWidget:function addWidget(pos,node,scroll,vert,horiz){var display=this.display;pos=_cursorCoords(this,_clipPos(this.doc,pos));var top=pos.bottom,left=pos.left;node.style.position=\"absolute\";node.setAttribute(\"cm-ignore-events\",\"true\");this.display.input.setUneditable(node);display.sizer.appendChild(node);if(vert==\"over\"){top=pos.top;}else if(vert==\"above\"||vert==\"near\"){var vspace=Math.max(display.wrapper.clientHeight,this.doc.height),hspace=Math.max(display.sizer.clientWidth,display.lineSpace.clientWidth);if((vert=='above'||pos.bottom+node.offsetHeight>vspace)&&pos.top>node.offsetHeight)top=pos.top-node.offsetHeight;else if(pos.bottom+node.offsetHeight<=vspace)top=pos.bottom;if(left+node.offsetWidth>hspace)left=hspace-node.offsetWidth;}node.style.top=top+\"px\";node.style.left=node.style.right=\"\";if(horiz==\"right\"){left=display.sizer.clientWidth-node.offsetWidth;node.style.right=\"0px\";}else{if(horiz==\"left\")left=0;else if(horiz==\"middle\")left=(display.sizer.clientWidth-node.offsetWidth)/2;node.style.left=left+\"px\";}if(scroll)scrollIntoView(this,left,top,left+node.offsetWidth,top+node.offsetHeight);},triggerOnKeyDown:methodOp(onKeyDown),triggerOnKeyPress:methodOp(onKeyPress),triggerOnKeyUp:onKeyUp,execCommand:function execCommand(cmd){if(commands.hasOwnProperty(cmd))return commands[cmd].call(null,this);},triggerElectric:methodOp(function(text){triggerElectric(this,text);}),findPosH:function findPosH(from,amount,unit,visually){var dir=1;if(amount<0){dir=-1;amount=-amount;}for(var i=0,cur=_clipPos(this.doc,from);i<amount;++i){cur=_findPosH(this.doc,cur,dir,unit,visually);if(cur.hitSide)break;}return cur;},moveH:methodOp(function(dir,unit){var cm=this;cm.extendSelectionsBy(function(range){if(cm.display.shift||cm.doc.extend||range.empty())return _findPosH(cm.doc,range.head,dir,unit,cm.options.rtlMoveVisually);else return dir<0?range.from():range.to();},sel_move);}),deleteH:methodOp(function(dir,unit){var sel=this.doc.sel,doc=this.doc;if(sel.somethingSelected())doc.replaceSelection(\"\",null,\"+delete\");else deleteNearSelection(this,function(range){var other=_findPosH(doc,range.head,dir,unit,false);return dir<0?{from:other,to:range.head}:{from:range.head,to:other};});}),findPosV:function findPosV(from,amount,unit,goalColumn){var dir=1,x=goalColumn;if(amount<0){dir=-1;amount=-amount;}for(var i=0,cur=_clipPos(this.doc,from);i<amount;++i){var coords=_cursorCoords(this,cur,\"div\");if(x==null)x=coords.left;else coords.left=x;cur=_findPosV(this,coords,dir,unit);if(cur.hitSide)break;}return cur;},moveV:methodOp(function(dir,unit){var cm=this,doc=this.doc,goals=[];var collapse=!cm.display.shift&&!doc.extend&&doc.sel.somethingSelected();doc.extendSelectionsBy(function(range){if(collapse)return dir<0?range.from():range.to();var headPos=_cursorCoords(cm,range.head,\"div\");if(range.goalColumn!=null)headPos.left=range.goalColumn;goals.push(headPos.left);var pos=_findPosV(cm,headPos,dir,unit);if(unit==\"page\"&&range==doc.sel.primary())addToScrollPos(cm,null,_charCoords(cm,pos,\"div\").top-headPos.top);return pos;},sel_move);if(goals.length)for(var i=0;i<doc.sel.ranges.length;i++){doc.sel.ranges[i].goalColumn=goals[i];}}),findWordAt:function findWordAt(pos){var doc=this.doc,line=getLine(doc,pos.line).text;var start=pos.ch,end=pos.ch;if(line){var helper=this.getHelper(pos,\"wordChars\");if((pos.xRel<0||end==line.length)&&start)--start;else++end;var startChar=line.charAt(start);var check=isWordChar(startChar,helper)?function(ch){return isWordChar(ch,helper);}:/\\s/.test(startChar)?function(ch){return /\\s/.test(ch);}:function(ch){return!/\\s/.test(ch)&&!isWordChar(ch);};while(start>0&&check(line.charAt(start-1))){--start;}while(end<line.length&&check(line.charAt(end))){++end;}}return new Range(Pos(pos.line,start),Pos(pos.line,end));},toggleOverwrite:function toggleOverwrite(value){if(value!=null&&value==this.state.overwrite)return;if(this.state.overwrite=!this.state.overwrite)addClass(this.display.cursorDiv,\"CodeMirror-overwrite\");else rmClass(this.display.cursorDiv,\"CodeMirror-overwrite\");signal(this,\"overwriteToggle\",this,this.state.overwrite);},hasFocus:function hasFocus(){return this.display.input.getField()==activeElt();},scrollTo:methodOp(function(x,y){if(x!=null||y!=null)resolveScrollToPos(this);if(x!=null)this.curOp.scrollLeft=x;if(y!=null)this.curOp.scrollTop=y;}),getScrollInfo:function getScrollInfo(){var scroller=this.display.scroller;return{left:scroller.scrollLeft,top:scroller.scrollTop,height:scroller.scrollHeight-scrollGap(this)-this.display.barHeight,width:scroller.scrollWidth-scrollGap(this)-this.display.barWidth,clientHeight:displayHeight(this),clientWidth:displayWidth(this)};},scrollIntoView:methodOp(function(range,margin){if(range==null){range={from:this.doc.sel.primary().head,to:null};if(margin==null)margin=this.options.cursorScrollMargin;}else if(typeof range==\"number\"){range={from:Pos(range,0),to:null};}else if(range.from==null){range={from:range,to:null};}if(!range.to)range.to=range.from;range.margin=margin||0;if(range.from.line!=null){resolveScrollToPos(this);this.curOp.scrollToPos=range;}else{var sPos=calculateScrollPos(this,Math.min(range.from.left,range.to.left),Math.min(range.from.top,range.to.top)-range.margin,Math.max(range.from.right,range.to.right),Math.max(range.from.bottom,range.to.bottom)+range.margin);this.scrollTo(sPos.scrollLeft,sPos.scrollTop);}}),setSize:methodOp(function(width,height){var cm=this;function interpret(val){return typeof val==\"number\"||/^\\d+$/.test(String(val))?val+\"px\":val;}if(width!=null)cm.display.wrapper.style.width=interpret(width);if(height!=null)cm.display.wrapper.style.height=interpret(height);if(cm.options.lineWrapping)clearLineMeasurementCache(this);var lineNo=cm.display.viewFrom;cm.doc.iter(lineNo,cm.display.viewTo,function(line){if(line.widgets)for(var i=0;i<line.widgets.length;i++){if(line.widgets[i].noHScroll){regLineChange(cm,lineNo,\"widget\");break;}}++lineNo;});cm.curOp.forceUpdate=true;signal(cm,\"refresh\",this);}),operation:function operation(f){return runInOp(this,f);},refresh:methodOp(function(){var oldHeight=this.display.cachedTextHeight;regChange(this);this.curOp.forceUpdate=true;clearCaches(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);updateGutterSpace(this);if(oldHeight==null||Math.abs(oldHeight-textHeight(this.display))>.5)estimateLineHeights(this);signal(this,\"refresh\",this);}),swapDoc:methodOp(function(doc){var old=this.doc;old.cm=null;attachDoc(this,doc);clearCaches(this);this.display.input.reset();this.scrollTo(doc.scrollLeft,doc.scrollTop);this.curOp.forceScroll=true;signalLater(this,\"swapDoc\",this,old);return old;}),getInputField:function getInputField(){return this.display.input.getField();},getWrapperElement:function getWrapperElement(){return this.display.wrapper;},getScrollerElement:function getScrollerElement(){return this.display.scroller;},getGutterElement:function getGutterElement(){return this.display.gutters;}};eventMixin(CodeMirror);var defaults=CodeMirror.defaults={};var optionHandlers=CodeMirror.optionHandlers={};function option(name,deflt,handle,notOnInit){CodeMirror.defaults[name]=deflt;if(handle)optionHandlers[name]=notOnInit?function(cm,val,old){if(old!=Init)handle(cm,val,old);}:handle;}var Init=CodeMirror.Init={toString:function toString(){return\"CodeMirror.Init\";}};option(\"value\",\"\",function(cm,val){cm.setValue(val);},true);option(\"mode\",null,function(cm,val){cm.doc.modeOption=val;loadMode(cm);},true);option(\"indentUnit\",2,loadMode,true);option(\"indentWithTabs\",false);option(\"smartIndent\",true);option(\"tabSize\",4,function(cm){resetModeState(cm);clearCaches(cm);regChange(cm);},true);option(\"lineSeparator\",null,function(cm,val){cm.doc.lineSep=val;if(!val)return;var newBreaks=[],lineNo=cm.doc.first;cm.doc.iter(function(line){for(var pos=0;;){var found=line.text.indexOf(val,pos);if(found==-1)break;pos=found+val.length;newBreaks.push(Pos(lineNo,found));}lineNo++;});for(var i=newBreaks.length-1;i>=0;i--){_replaceRange(cm.doc,val,newBreaks[i],Pos(newBreaks[i].line,newBreaks[i].ch+val.length));}});option(\"specialChars\",/[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g,function(cm,val,old){cm.state.specialChars=new RegExp(val.source+(val.test(\"\\t\")?\"\":\"|\\t\"),\"g\");if(old!=CodeMirror.Init)cm.refresh();});option(\"specialCharPlaceholder\",defaultSpecialCharPlaceholder,function(cm){cm.refresh();},true);option(\"electricChars\",true);option(\"inputStyle\",mobile?\"contenteditable\":\"textarea\",function(){throw new Error(\"inputStyle can not (yet) be changed in a running editor\");},true);option(\"rtlMoveVisually\",!windows);option(\"wholeLineUpdateBefore\",true);option(\"theme\",\"default\",function(cm){themeChanged(cm);guttersChanged(cm);},true);option(\"keyMap\",\"default\",function(cm,val,old){var next=getKeyMap(val);var prev=old!=CodeMirror.Init&&getKeyMap(old);if(prev&&prev.detach)prev.detach(cm,next);if(next.attach)next.attach(cm,prev||null);});option(\"extraKeys\",null);option(\"lineWrapping\",false,wrappingChanged,true);option(\"gutters\",[],function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option(\"fixedGutter\",true,function(cm,val){cm.display.gutters.style.left=val?compensateForHScroll(cm.display)+\"px\":\"0\";cm.refresh();},true);option(\"coverGutterNextToScrollbar\",false,function(cm){updateScrollbars(cm);},true);option(\"scrollbarStyle\",\"native\",function(cm){initScrollbars(cm);updateScrollbars(cm);cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);},true);option(\"lineNumbers\",false,function(cm){setGuttersForLineNumbers(cm.options);guttersChanged(cm);},true);option(\"firstLineNumber\",1,guttersChanged,true);option(\"lineNumberFormatter\",function(integer){return integer;},guttersChanged,true);option(\"showCursorWhenSelecting\",false,updateSelection,true);option(\"resetSelectionOnContextMenu\",true);option(\"lineWiseCopyCut\",true);option(\"readOnly\",false,function(cm,val){if(val==\"nocursor\"){onBlur(cm);cm.display.input.blur();cm.display.disabled=true;}else{cm.display.disabled=false;}cm.display.input.readOnlyChanged(val);});option(\"disableInput\",false,function(cm,val){if(!val)cm.display.input.reset();},true);option(\"dragDrop\",true,dragDropChanged);option(\"allowDropFileTypes\",null);option(\"cursorBlinkRate\",530);option(\"cursorScrollMargin\",0);option(\"cursorHeight\",1,updateSelection,true);option(\"singleCursorHeightPerLine\",true,updateSelection,true);option(\"workTime\",100);option(\"workDelay\",100);option(\"flattenSpans\",true,resetModeState,true);option(\"addModeClass\",false,resetModeState,true);option(\"pollInterval\",100);option(\"undoDepth\",200,function(cm,val){cm.doc.history.undoDepth=val;});option(\"historyEventDelay\",1250);option(\"viewportMargin\",10,function(cm){cm.refresh();},true);option(\"maxHighlightLength\",10000,resetModeState,true);option(\"moveInputWithCursor\",true,function(cm,val){if(!val)cm.display.input.resetPosition();});option(\"tabindex\",null,function(cm,val){cm.display.input.getField().tabIndex=val||\"\";});option(\"autofocus\",null);var modes=CodeMirror.modes={},mimeModes=CodeMirror.mimeModes={};CodeMirror.defineMode=function(name,mode){if(!CodeMirror.defaults.mode&&name!=\"null\")CodeMirror.defaults.mode=name;if(arguments.length>2)mode.dependencies=Array.prototype.slice.call(arguments,2);modes[name]=mode;};CodeMirror.defineMIME=function(mime,spec){mimeModes[mime]=spec;};CodeMirror.resolveMode=function(spec){if(typeof spec==\"string\"&&mimeModes.hasOwnProperty(spec)){spec=mimeModes[spec];}else if(spec&&typeof spec.name==\"string\"&&mimeModes.hasOwnProperty(spec.name)){var found=mimeModes[spec.name];if(typeof found==\"string\")found={name:found};spec=createObj(found,spec);spec.name=found.name;}else if(typeof spec==\"string\"&&/^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)){return CodeMirror.resolveMode(\"application/xml\");}if(typeof spec==\"string\")return{name:spec};else return spec||{name:\"null\"};};CodeMirror.getMode=function(options,spec){var spec=CodeMirror.resolveMode(spec);var mfactory=modes[spec.name];if(!mfactory)return CodeMirror.getMode(options,\"text/plain\");var modeObj=mfactory(options,spec);if(modeExtensions.hasOwnProperty(spec.name)){var exts=modeExtensions[spec.name];for(var prop in exts){if(!exts.hasOwnProperty(prop))continue;if(modeObj.hasOwnProperty(prop))modeObj[\"_\"+prop]=modeObj[prop];modeObj[prop]=exts[prop];}}modeObj.name=spec.name;if(spec.helperType)modeObj.helperType=spec.helperType;if(spec.modeProps)for(var prop in spec.modeProps){modeObj[prop]=spec.modeProps[prop];}return modeObj;};CodeMirror.defineMode(\"null\",function(){return{token:function token(stream){stream.skipToEnd();}};});CodeMirror.defineMIME(\"text/plain\",\"null\");var modeExtensions=CodeMirror.modeExtensions={};CodeMirror.extendMode=function(mode,properties){var exts=modeExtensions.hasOwnProperty(mode)?modeExtensions[mode]:modeExtensions[mode]={};copyObj(properties,exts);};CodeMirror.defineExtension=function(name,func){CodeMirror.prototype[name]=func;};CodeMirror.defineDocExtension=function(name,func){Doc.prototype[name]=func;};CodeMirror.defineOption=option;var initHooks=[];CodeMirror.defineInitHook=function(f){initHooks.push(f);};var helpers=CodeMirror.helpers={};CodeMirror.registerHelper=function(type,name,value){if(!helpers.hasOwnProperty(type))helpers[type]=CodeMirror[type]={_global:[]};helpers[type][name]=value;};CodeMirror.registerGlobalHelper=function(type,name,predicate,value){CodeMirror.registerHelper(type,name,value);helpers[type]._global.push({pred:predicate,val:value});};var copyState=CodeMirror.copyState=function(mode,state){if(state===true)return state;if(mode.copyState)return mode.copyState(state);var nstate={};for(var n in state){var val=state[n];if(val instanceof Array)val=val.concat([]);nstate[n]=val;}return nstate;};var startState=CodeMirror.startState=function(mode,a1,a2){return mode.startState?mode.startState(a1,a2):true;};CodeMirror.innerMode=function(mode,state){while(mode.innerMode){var info=mode.innerMode(state);if(!info||info.mode==mode)break;state=info.state;mode=info.mode;}return info||{mode:mode,state:state};};var commands=CodeMirror.commands={selectAll:function selectAll(cm){cm.setSelection(Pos(cm.firstLine(),0),Pos(cm.lastLine()),sel_dontScroll);},singleSelection:function singleSelection(cm){cm.setSelection(cm.getCursor(\"anchor\"),cm.getCursor(\"head\"),sel_dontScroll);},killLine:function killLine(cm){deleteNearSelection(cm,function(range){if(range.empty()){var len=getLine(cm.doc,range.head.line).text.length;if(range.head.ch==len&&range.head.line<cm.lastLine())return{from:range.head,to:Pos(range.head.line+1,0)};else return{from:range.head,to:Pos(range.head.line,len)};}else{return{from:range.from(),to:range.to()};}});},deleteLine:function deleteLine(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:_clipPos(cm.doc,Pos(range.to().line+1,0))};});},delLineLeft:function delLineLeft(cm){deleteNearSelection(cm,function(range){return{from:Pos(range.from().line,0),to:range.from()};});},delWrappedLineLeft:function delWrappedLineLeft(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,\"div\").top+5;var leftPos=cm.coordsChar({left:0,top:top},\"div\");return{from:leftPos,to:range.from()};});},delWrappedLineRight:function delWrappedLineRight(cm){deleteNearSelection(cm,function(range){var top=cm.charCoords(range.head,\"div\").top+5;var rightPos=cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\");return{from:range.from(),to:rightPos};});},undo:function undo(cm){cm.undo();},redo:function redo(cm){cm.redo();},undoSelection:function undoSelection(cm){cm.undoSelection();},redoSelection:function redoSelection(cm){cm.redoSelection();},goDocStart:function goDocStart(cm){cm.extendSelection(Pos(cm.firstLine(),0));},goDocEnd:function goDocEnd(cm){cm.extendSelection(Pos(cm.lastLine()));},goLineStart:function goLineStart(cm){cm.extendSelectionsBy(function(range){return lineStart(cm,range.head.line);},{origin:\"+move\",bias:1});},goLineStartSmart:function goLineStartSmart(cm){cm.extendSelectionsBy(function(range){return lineStartSmart(cm,range.head);},{origin:\"+move\",bias:1});},goLineEnd:function goLineEnd(cm){cm.extendSelectionsBy(function(range){return lineEnd(cm,range.head.line);},{origin:\"+move\",bias:-1});},goLineRight:function goLineRight(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;return cm.coordsChar({left:cm.display.lineDiv.offsetWidth+100,top:top},\"div\");},sel_move);},goLineLeft:function goLineLeft(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;return cm.coordsChar({left:0,top:top},\"div\");},sel_move);},goLineLeftSmart:function goLineLeftSmart(cm){cm.extendSelectionsBy(function(range){var top=cm.charCoords(range.head,\"div\").top+5;var pos=cm.coordsChar({left:0,top:top},\"div\");if(pos.ch<cm.getLine(pos.line).search(/\\S/))return lineStartSmart(cm,range.head);return pos;},sel_move);},goLineUp:function goLineUp(cm){cm.moveV(-1,\"line\");},goLineDown:function goLineDown(cm){cm.moveV(1,\"line\");},goPageUp:function goPageUp(cm){cm.moveV(-1,\"page\");},goPageDown:function goPageDown(cm){cm.moveV(1,\"page\");},goCharLeft:function goCharLeft(cm){cm.moveH(-1,\"char\");},goCharRight:function goCharRight(cm){cm.moveH(1,\"char\");},goColumnLeft:function goColumnLeft(cm){cm.moveH(-1,\"column\");},goColumnRight:function goColumnRight(cm){cm.moveH(1,\"column\");},goWordLeft:function goWordLeft(cm){cm.moveH(-1,\"word\");},goGroupRight:function goGroupRight(cm){cm.moveH(1,\"group\");},goGroupLeft:function goGroupLeft(cm){cm.moveH(-1,\"group\");},goWordRight:function goWordRight(cm){cm.moveH(1,\"word\");},delCharBefore:function delCharBefore(cm){cm.deleteH(-1,\"char\");},delCharAfter:function delCharAfter(cm){cm.deleteH(1,\"char\");},delWordBefore:function delWordBefore(cm){cm.deleteH(-1,\"word\");},delWordAfter:function delWordAfter(cm){cm.deleteH(1,\"word\");},delGroupBefore:function delGroupBefore(cm){cm.deleteH(-1,\"group\");},delGroupAfter:function delGroupAfter(cm){cm.deleteH(1,\"group\");},indentAuto:function indentAuto(cm){cm.indentSelection(\"smart\");},indentMore:function indentMore(cm){cm.indentSelection(\"add\");},indentLess:function indentLess(cm){cm.indentSelection(\"subtract\");},insertTab:function insertTab(cm){cm.replaceSelection(\"\\t\");},insertSoftTab:function insertSoftTab(cm){var spaces=[],ranges=cm.listSelections(),tabSize=cm.options.tabSize;for(var i=0;i<ranges.length;i++){var pos=ranges[i].from();var col=countColumn(cm.getLine(pos.line),pos.ch,tabSize);spaces.push(new Array(tabSize-col%tabSize+1).join(\" \"));}cm.replaceSelections(spaces);},defaultTab:function defaultTab(cm){if(cm.somethingSelected())cm.indentSelection(\"add\");else cm.execCommand(\"insertTab\");},transposeChars:function transposeChars(cm){runInOp(cm,function(){var ranges=cm.listSelections(),newSel=[];for(var i=0;i<ranges.length;i++){var cur=ranges[i].head,line=getLine(cm.doc,cur.line).text;if(line){if(cur.ch==line.length)cur=new Pos(cur.line,cur.ch-1);if(cur.ch>0){cur=new Pos(cur.line,cur.ch+1);cm.replaceRange(line.charAt(cur.ch-1)+line.charAt(cur.ch-2),Pos(cur.line,cur.ch-2),cur,\"+transpose\");}else if(cur.line>cm.doc.first){var prev=getLine(cm.doc,cur.line-1).text;if(prev)cm.replaceRange(line.charAt(0)+cm.doc.lineSeparator()+prev.charAt(prev.length-1),Pos(cur.line-1,prev.length-1),Pos(cur.line,1),\"+transpose\");}}newSel.push(new Range(cur,cur));}cm.setSelections(newSel);});},newlineAndIndent:function newlineAndIndent(cm){runInOp(cm,function(){var len=cm.listSelections().length;for(var i=0;i<len;i++){var range=cm.listSelections()[i];cm.replaceRange(cm.doc.lineSeparator(),range.anchor,range.head,\"+input\");cm.indentLine(range.from().line+1,null,true);}ensureCursorVisible(cm);});},toggleOverwrite:function toggleOverwrite(cm){cm.toggleOverwrite();}};var keyMap=CodeMirror.keyMap={};keyMap.basic={\"Left\":\"goCharLeft\",\"Right\":\"goCharRight\",\"Up\":\"goLineUp\",\"Down\":\"goLineDown\",\"End\":\"goLineEnd\",\"Home\":\"goLineStartSmart\",\"PageUp\":\"goPageUp\",\"PageDown\":\"goPageDown\",\"Delete\":\"delCharAfter\",\"Backspace\":\"delCharBefore\",\"Shift-Backspace\":\"delCharBefore\",\"Tab\":\"defaultTab\",\"Shift-Tab\":\"indentAuto\",\"Enter\":\"newlineAndIndent\",\"Insert\":\"toggleOverwrite\",\"Esc\":\"singleSelection\"};keyMap.pcDefault={\"Ctrl-A\":\"selectAll\",\"Ctrl-D\":\"deleteLine\",\"Ctrl-Z\":\"undo\",\"Shift-Ctrl-Z\":\"redo\",\"Ctrl-Y\":\"redo\",\"Ctrl-Home\":\"goDocStart\",\"Ctrl-End\":\"goDocEnd\",\"Ctrl-Up\":\"goLineUp\",\"Ctrl-Down\":\"goLineDown\",\"Ctrl-Left\":\"goGroupLeft\",\"Ctrl-Right\":\"goGroupRight\",\"Alt-Left\":\"goLineStart\",\"Alt-Right\":\"goLineEnd\",\"Ctrl-Backspace\":\"delGroupBefore\",\"Ctrl-Delete\":\"delGroupAfter\",\"Ctrl-S\":\"save\",\"Ctrl-F\":\"find\",\"Ctrl-G\":\"findNext\",\"Shift-Ctrl-G\":\"findPrev\",\"Shift-Ctrl-F\":\"replace\",\"Shift-Ctrl-R\":\"replaceAll\",\"Ctrl-[\":\"indentLess\",\"Ctrl-]\":\"indentMore\",\"Ctrl-U\":\"undoSelection\",\"Shift-Ctrl-U\":\"redoSelection\",\"Alt-U\":\"redoSelection\",fallthrough:\"basic\"};keyMap.emacsy={\"Ctrl-F\":\"goCharRight\",\"Ctrl-B\":\"goCharLeft\",\"Ctrl-P\":\"goLineUp\",\"Ctrl-N\":\"goLineDown\",\"Alt-F\":\"goWordRight\",\"Alt-B\":\"goWordLeft\",\"Ctrl-A\":\"goLineStart\",\"Ctrl-E\":\"goLineEnd\",\"Ctrl-V\":\"goPageDown\",\"Shift-Ctrl-V\":\"goPageUp\",\"Ctrl-D\":\"delCharAfter\",\"Ctrl-H\":\"delCharBefore\",\"Alt-D\":\"delWordAfter\",\"Alt-Backspace\":\"delWordBefore\",\"Ctrl-K\":\"killLine\",\"Ctrl-T\":\"transposeChars\"};keyMap.macDefault={\"Cmd-A\":\"selectAll\",\"Cmd-D\":\"deleteLine\",\"Cmd-Z\":\"undo\",\"Shift-Cmd-Z\":\"redo\",\"Cmd-Y\":\"redo\",\"Cmd-Home\":\"goDocStart\",\"Cmd-Up\":\"goDocStart\",\"Cmd-End\":\"goDocEnd\",\"Cmd-Down\":\"goDocEnd\",\"Alt-Left\":\"goGroupLeft\",\"Alt-Right\":\"goGroupRight\",\"Cmd-Left\":\"goLineLeft\",\"Cmd-Right\":\"goLineRight\",\"Alt-Backspace\":\"delGroupBefore\",\"Ctrl-Alt-Backspace\":\"delGroupAfter\",\"Alt-Delete\":\"delGroupAfter\",\"Cmd-S\":\"save\",\"Cmd-F\":\"find\",\"Cmd-G\":\"findNext\",\"Shift-Cmd-G\":\"findPrev\",\"Cmd-Alt-F\":\"replace\",\"Shift-Cmd-Alt-F\":\"replaceAll\",\"Cmd-[\":\"indentLess\",\"Cmd-]\":\"indentMore\",\"Cmd-Backspace\":\"delWrappedLineLeft\",\"Cmd-Delete\":\"delWrappedLineRight\",\"Cmd-U\":\"undoSelection\",\"Shift-Cmd-U\":\"redoSelection\",\"Ctrl-Up\":\"goDocStart\",\"Ctrl-Down\":\"goDocEnd\",fallthrough:[\"basic\",\"emacsy\"]};keyMap[\"default\"]=mac?keyMap.macDefault:keyMap.pcDefault;function normalizeKeyName(name){var parts=name.split(/-(?!$)/),name=parts[parts.length-1];var alt,ctrl,shift,cmd;for(var i=0;i<parts.length-1;i++){var mod=parts[i];if(/^(cmd|meta|m)$/i.test(mod))cmd=true;else if(/^a(lt)?$/i.test(mod))alt=true;else if(/^(c|ctrl|control)$/i.test(mod))ctrl=true;else if(/^s(hift)$/i.test(mod))shift=true;else throw new Error(\"Unrecognized modifier name: \"+mod);}if(alt)name=\"Alt-\"+name;if(ctrl)name=\"Ctrl-\"+name;if(cmd)name=\"Cmd-\"+name;if(shift)name=\"Shift-\"+name;return name;}CodeMirror.normalizeKeyMap=function(keymap){var copy={};for(var keyname in keymap){if(keymap.hasOwnProperty(keyname)){var value=keymap[keyname];if(/^(name|fallthrough|(de|at)tach)$/.test(keyname))continue;if(value==\"...\"){delete keymap[keyname];continue;}var keys=map(keyname.split(\" \"),normalizeKeyName);for(var i=0;i<keys.length;i++){var val,name;if(i==keys.length-1){name=keys.join(\" \");val=value;}else{name=keys.slice(0,i+1).join(\" \");val=\"...\";}var prev=copy[name];if(!prev)copy[name]=val;else if(prev!=val)throw new Error(\"Inconsistent bindings for \"+name);}delete keymap[keyname];}}for(var prop in copy){keymap[prop]=copy[prop];}return keymap;};var lookupKey=CodeMirror.lookupKey=function(key,map,handle,context){map=getKeyMap(map);var found=map.call?map.call(key,context):map[key];if(found===false)return\"nothing\";if(found===\"...\")return\"multi\";if(found!=null&&handle(found))return\"handled\";if(map.fallthrough){if(Object.prototype.toString.call(map.fallthrough)!=\"[object Array]\")return lookupKey(key,map.fallthrough,handle,context);for(var i=0;i<map.fallthrough.length;i++){var result=lookupKey(key,map.fallthrough[i],handle,context);if(result)return result;}}};var isModifierKey=CodeMirror.isModifierKey=function(value){var name=typeof value==\"string\"?value:keyNames[value.keyCode];return name==\"Ctrl\"||name==\"Alt\"||name==\"Shift\"||name==\"Mod\";};var keyName=CodeMirror.keyName=function(event,noShift){if(presto&&event.keyCode==34&&event[\"char\"])return false;var base=keyNames[event.keyCode],name=base;if(name==null||event.altGraphKey)return false;if(event.altKey&&base!=\"Alt\")name=\"Alt-\"+name;if((flipCtrlCmd?event.metaKey:event.ctrlKey)&&base!=\"Ctrl\")name=\"Ctrl-\"+name;if((flipCtrlCmd?event.ctrlKey:event.metaKey)&&base!=\"Cmd\")name=\"Cmd-\"+name;if(!noShift&&event.shiftKey&&base!=\"Shift\")name=\"Shift-\"+name;return name;};function getKeyMap(val){return typeof val==\"string\"?keyMap[val]:val;}CodeMirror.fromTextArea=function(textarea,options){options=options?copyObj(options):{};options.value=textarea.value;if(!options.tabindex&&textarea.tabIndex)options.tabindex=textarea.tabIndex;if(!options.placeholder&&textarea.placeholder)options.placeholder=textarea.placeholder;if(options.autofocus==null){var hasFocus=activeElt();options.autofocus=hasFocus==textarea||textarea.getAttribute(\"autofocus\")!=null&&hasFocus==document.body;}function save(){textarea.value=cm.getValue();}if(textarea.form){on(textarea.form,\"submit\",save);if(!options.leaveSubmitMethodAlone){var form=textarea.form,realSubmit=form.submit;try{var wrappedSubmit=form.submit=function(){save();form.submit=realSubmit;form.submit();form.submit=wrappedSubmit;};}catch(e){}}}options.finishInit=function(cm){cm.save=save;cm.getTextArea=function(){return textarea;};cm.toTextArea=function(){cm.toTextArea=isNaN;save();textarea.parentNode.removeChild(cm.getWrapperElement());textarea.style.display=\"\";if(textarea.form){off(textarea.form,\"submit\",save);if(typeof textarea.form.submit==\"function\")textarea.form.submit=realSubmit;}};};textarea.style.display=\"none\";var cm=CodeMirror(function(node){textarea.parentNode.insertBefore(node,textarea.nextSibling);},options);return cm;};var StringStream=CodeMirror.StringStream=function(string,tabSize){this.pos=this.start=0;this.string=string;this.tabSize=tabSize||8;this.lastColumnPos=this.lastColumnValue=0;this.lineStart=0;};StringStream.prototype={eol:function eol(){return this.pos>=this.string.length;},sol:function sol(){return this.pos==this.lineStart;},peek:function peek(){return this.string.charAt(this.pos)||undefined;},next:function next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++);},eat:function eat(match){var ch=this.string.charAt(this.pos);if(typeof match==\"string\")var ok=ch==match;else var ok=ch&&(match.test?match.test(ch):match(ch));if(ok){++this.pos;return ch;}},eatWhile:function eatWhile(match){var start=this.pos;while(this.eat(match)){}return this.pos>start;},eatSpace:function eatSpace(){var start=this.pos;while(/[\\s\\u00a0]/.test(this.string.charAt(this.pos))){++this.pos;}return this.pos>start;},skipToEnd:function skipToEnd(){this.pos=this.string.length;},skipTo:function skipTo(ch){var found=this.string.indexOf(ch,this.pos);if(found>-1){this.pos=found;return true;}},backUp:function backUp(n){this.pos-=n;},column:function column(){if(this.lastColumnPos<this.start){this.lastColumnValue=countColumn(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue);this.lastColumnPos=this.start;}return this.lastColumnValue-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},indentation:function indentation(){return countColumn(this.string,null,this.tabSize)-(this.lineStart?countColumn(this.string,this.lineStart,this.tabSize):0);},match:function match(pattern,consume,caseInsensitive){if(typeof pattern==\"string\"){var cased=function cased(str){return caseInsensitive?str.toLowerCase():str;};var substr=this.string.substr(this.pos,pattern.length);if(cased(substr)==cased(pattern)){if(consume!==false)this.pos+=pattern.length;return true;}}else{var match=this.string.slice(this.pos).match(pattern);if(match&&match.index>0)return null;if(match&&consume!==false)this.pos+=match[0].length;return match;}},current:function current(){return this.string.slice(this.start,this.pos);},hideFirstChars:function hideFirstChars(n,inner){this.lineStart+=n;try{return inner();}finally{this.lineStart-=n;}}};var nextMarkerId=0;var TextMarker=CodeMirror.TextMarker=function(doc,type){this.lines=[];this.type=type;this.doc=doc;this.id=++nextMarkerId;};eventMixin(TextMarker);TextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;var cm=this.doc.cm,withOp=cm&&!cm.curOp;if(withOp)startOperation(cm);if(hasHandler(this,\"clear\")){var found=this.find();if(found)signalLater(this,\"clear\",found.from,found.to);}var min=null,max=null;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(cm&&!this.collapsed)regLineChange(cm,lineNo(line),\"text\");else if(cm){if(span.to!=null)max=lineNo(line);if(span.from!=null)min=lineNo(line);}line.markedSpans=removeMarkedSpan(line.markedSpans,span);if(span.from==null&&this.collapsed&&!lineIsHidden(this.doc,line)&&cm)updateLineHeight(line,textHeight(cm.display));}if(cm&&this.collapsed&&!cm.options.lineWrapping)for(var i=0;i<this.lines.length;++i){var visual=visualLine(this.lines[i]),len=lineLength(visual);if(len>cm.display.maxLineLength){cm.display.maxLine=visual;cm.display.maxLineLength=len;cm.display.maxLineChanged=true;}}if(min!=null&&cm&&this.collapsed)regChange(cm,min,max+1);this.lines.length=0;this.explicitlyCleared=true;if(this.atomic&&this.doc.cantEdit){this.doc.cantEdit=false;if(cm)reCheckSelection(cm.doc);}if(cm)signalLater(cm,\"markerCleared\",cm,this);if(withOp)endOperation(cm);if(this.parent)this.parent.clear();};TextMarker.prototype.find=function(side,lineObj){if(side==null&&this.type==\"bookmark\")side=1;var from,to;for(var i=0;i<this.lines.length;++i){var line=this.lines[i];var span=getMarkedSpanFor(line.markedSpans,this);if(span.from!=null){from=Pos(lineObj?line:lineNo(line),span.from);if(side==-1)return from;}if(span.to!=null){to=Pos(lineObj?line:lineNo(line),span.to);if(side==1)return to;}}return from&&{from:from,to:to};};TextMarker.prototype.changed=function(){var pos=this.find(-1,true),widget=this,cm=this.doc.cm;if(!pos||!cm)return;runInOp(cm,function(){var line=pos.line,lineN=lineNo(pos.line);var view=findViewForLine(cm,lineN);if(view){clearLineMeasurementCacheFor(view);cm.curOp.selectionChanged=cm.curOp.forceUpdate=true;}cm.curOp.updateMaxLine=true;if(!lineIsHidden(widget.doc,line)&&widget.height!=null){var oldHeight=widget.height;widget.height=null;var dHeight=widgetHeight(widget)-oldHeight;if(dHeight)updateLineHeight(line,line.height+dHeight);}});};TextMarker.prototype.attachLine=function(line){if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;if(!op.maybeHiddenMarkers||indexOf(op.maybeHiddenMarkers,this)==-1)(op.maybeUnhiddenMarkers||(op.maybeUnhiddenMarkers=[])).push(this);}this.lines.push(line);};TextMarker.prototype.detachLine=function(line){this.lines.splice(indexOf(this.lines,line),1);if(!this.lines.length&&this.doc.cm){var op=this.doc.cm.curOp;(op.maybeHiddenMarkers||(op.maybeHiddenMarkers=[])).push(this);}};var nextMarkerId=0;function _markText(doc,from,to,options,type){if(options&&options.shared)return markTextShared(doc,from,to,options,type);if(doc.cm&&!doc.cm.curOp)return operation(doc.cm,_markText)(doc,from,to,options,type);var marker=new TextMarker(doc,type),diff=cmp(from,to);if(options)copyObj(options,marker,false);if(diff>0||diff==0&&marker.clearWhenEmpty!==false)return marker;if(marker.replacedWith){marker.collapsed=true;marker.widgetNode=elt(\"span\",[marker.replacedWith],\"CodeMirror-widget\");if(!options.handleMouseEvents)marker.widgetNode.setAttribute(\"cm-ignore-events\",\"true\");if(options.insertLeft)marker.widgetNode.insertLeft=true;}if(marker.collapsed){if(conflictingCollapsedRange(doc,from.line,from,to,marker)||from.line!=to.line&&conflictingCollapsedRange(doc,to.line,from,to,marker))throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");sawCollapsedSpans=true;}if(marker.addToHistory)addChangeToHistory(doc,{from:from,to:to,origin:\"markText\"},doc.sel,NaN);var curLine=from.line,cm=doc.cm,updateMaxLine;doc.iter(curLine,to.line+1,function(line){if(cm&&marker.collapsed&&!cm.options.lineWrapping&&visualLine(line)==cm.display.maxLine)updateMaxLine=true;if(marker.collapsed&&curLine!=from.line)updateLineHeight(line,0);addMarkedSpan(line,new MarkedSpan(marker,curLine==from.line?from.ch:null,curLine==to.line?to.ch:null));++curLine;});if(marker.collapsed)doc.iter(from.line,to.line+1,function(line){if(lineIsHidden(doc,line))updateLineHeight(line,0);});if(marker.clearOnEnter)on(marker,\"beforeCursorEnter\",function(){marker.clear();});if(marker.readOnly){sawReadOnlySpans=true;if(doc.history.done.length||doc.history.undone.length)doc.clearHistory();}if(marker.collapsed){marker.id=++nextMarkerId;marker.atomic=true;}if(cm){if(updateMaxLine)cm.curOp.updateMaxLine=true;if(marker.collapsed)regChange(cm,from.line,to.line+1);else if(marker.className||marker.title||marker.startStyle||marker.endStyle||marker.css)for(var i=from.line;i<=to.line;i++){regLineChange(cm,i,\"text\");}if(marker.atomic)reCheckSelection(cm.doc);signalLater(cm,\"markerAdded\",cm,marker);}return marker;}var SharedTextMarker=CodeMirror.SharedTextMarker=function(markers,primary){this.markers=markers;this.primary=primary;for(var i=0;i<markers.length;++i){markers[i].parent=this;}};eventMixin(SharedTextMarker);SharedTextMarker.prototype.clear=function(){if(this.explicitlyCleared)return;this.explicitlyCleared=true;for(var i=0;i<this.markers.length;++i){this.markers[i].clear();}signalLater(this,\"clear\");};SharedTextMarker.prototype.find=function(side,lineObj){return this.primary.find(side,lineObj);};function markTextShared(doc,from,to,options,type){options=copyObj(options);options.shared=false;var markers=[_markText(doc,from,to,options,type)],primary=markers[0];var widget=options.widgetNode;linkedDocs(doc,function(doc){if(widget)options.widgetNode=widget.cloneNode(true);markers.push(_markText(doc,_clipPos(doc,from),_clipPos(doc,to),options,type));for(var i=0;i<doc.linked.length;++i){if(doc.linked[i].isParent)return;}primary=lst(markers);});return new SharedTextMarker(markers,primary);}function findSharedMarkers(doc){return doc.findMarks(Pos(doc.first,0),doc.clipPos(Pos(doc.lastLine())),function(m){return m.parent;});}function copySharedMarkers(doc,markers){for(var i=0;i<markers.length;i++){var marker=markers[i],pos=marker.find();var mFrom=doc.clipPos(pos.from),mTo=doc.clipPos(pos.to);if(cmp(mFrom,mTo)){var subMark=_markText(doc,mFrom,mTo,marker.primary,marker.primary.type);marker.markers.push(subMark);subMark.parent=marker;}}}function detachSharedMarkers(markers){for(var i=0;i<markers.length;i++){var marker=markers[i],linked=[marker.primary.doc];;linkedDocs(marker.primary.doc,function(d){linked.push(d);});for(var j=0;j<marker.markers.length;j++){var subMarker=marker.markers[j];if(indexOf(linked,subMarker.doc)==-1){subMarker.parent=null;marker.markers.splice(j--,1);}}}}function MarkedSpan(marker,from,to){this.marker=marker;this.from=from;this.to=to;}function getMarkedSpanFor(spans,marker){if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if(span.marker==marker)return span;}}function removeMarkedSpan(spans,span){for(var r,i=0;i<spans.length;++i){if(spans[i]!=span)(r||(r=[])).push(spans[i]);}return r;}function addMarkedSpan(line,span){line.markedSpans=line.markedSpans?line.markedSpans.concat([span]):[span];span.marker.attachLine(line);}function markedSpansBefore(old,startCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=startCh:span.from<startCh);if(startsBefore||span.from==startCh&&marker.type==\"bookmark\"&&(!isInsert||!span.marker.insertLeft)){var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=startCh:span.to>startCh);(nw||(nw=[])).push(new MarkedSpan(marker,span.from,endsAfter?null:span.to));}}return nw;}function markedSpansAfter(old,endCh,isInsert){if(old)for(var i=0,nw;i<old.length;++i){var span=old[i],marker=span.marker;var endsAfter=span.to==null||(marker.inclusiveRight?span.to>=endCh:span.to>endCh);if(endsAfter||span.from==endCh&&marker.type==\"bookmark\"&&(!isInsert||span.marker.insertLeft)){var startsBefore=span.from==null||(marker.inclusiveLeft?span.from<=endCh:span.from<endCh);(nw||(nw=[])).push(new MarkedSpan(marker,startsBefore?null:span.from-endCh,span.to==null?null:span.to-endCh));}}return nw;}function stretchSpansOverChange(doc,change){if(change.full)return null;var oldFirst=isLine(doc,change.from.line)&&getLine(doc,change.from.line).markedSpans;var oldLast=isLine(doc,change.to.line)&&getLine(doc,change.to.line).markedSpans;if(!oldFirst&&!oldLast)return null;var startCh=change.from.ch,endCh=change.to.ch,isInsert=cmp(change.from,change.to)==0;var first=markedSpansBefore(oldFirst,startCh,isInsert);var last=markedSpansAfter(oldLast,endCh,isInsert);var sameLine=change.text.length==1,offset=lst(change.text).length+(sameLine?startCh:0);if(first){for(var i=0;i<first.length;++i){var span=first[i];if(span.to==null){var found=getMarkedSpanFor(last,span.marker);if(!found)span.to=startCh;else if(sameLine)span.to=found.to==null?null:found.to+offset;}}}if(last){for(var i=0;i<last.length;++i){var span=last[i];if(span.to!=null)span.to+=offset;if(span.from==null){var found=getMarkedSpanFor(first,span.marker);if(!found){span.from=offset;if(sameLine)(first||(first=[])).push(span);}}else{span.from+=offset;if(sameLine)(first||(first=[])).push(span);}}}if(first)first=clearEmptySpans(first);if(last&&last!=first)last=clearEmptySpans(last);var newMarkers=[first];if(!sameLine){var gap=change.text.length-2,gapMarkers;if(gap>0&&first)for(var i=0;i<first.length;++i){if(first[i].to==null)(gapMarkers||(gapMarkers=[])).push(new MarkedSpan(first[i].marker,null,null));}for(var i=0;i<gap;++i){newMarkers.push(gapMarkers);}newMarkers.push(last);}return newMarkers;}function clearEmptySpans(spans){for(var i=0;i<spans.length;++i){var span=spans[i];if(span.from!=null&&span.from==span.to&&span.marker.clearWhenEmpty!==false)spans.splice(i--,1);}if(!spans.length)return null;return spans;}function mergeOldSpans(doc,change){var old=getOldSpans(doc,change);var stretched=stretchSpansOverChange(doc,change);if(!old)return stretched;if(!stretched)return old;for(var i=0;i<old.length;++i){var oldCur=old[i],stretchCur=stretched[i];if(oldCur&&stretchCur){spans:for(var j=0;j<stretchCur.length;++j){var span=stretchCur[j];for(var k=0;k<oldCur.length;++k){if(oldCur[k].marker==span.marker)continue spans;}oldCur.push(span);}}else if(stretchCur){old[i]=stretchCur;}}return old;}function removeReadOnlyRanges(doc,from,to){var markers=null;doc.iter(from.line,to.line+1,function(line){if(line.markedSpans)for(var i=0;i<line.markedSpans.length;++i){var mark=line.markedSpans[i].marker;if(mark.readOnly&&(!markers||indexOf(markers,mark)==-1))(markers||(markers=[])).push(mark);}});if(!markers)return null;var parts=[{from:from,to:to}];for(var i=0;i<markers.length;++i){var mk=markers[i],m=mk.find(0);for(var j=0;j<parts.length;++j){var p=parts[j];if(cmp(p.to,m.from)<0||cmp(p.from,m.to)>0)continue;var newParts=[j,1],dfrom=cmp(p.from,m.from),dto=cmp(p.to,m.to);if(dfrom<0||!mk.inclusiveLeft&&!dfrom)newParts.push({from:p.from,to:m.from});if(dto>0||!mk.inclusiveRight&&!dto)newParts.push({from:m.to,to:p.to});parts.splice.apply(parts,newParts);j+=newParts.length-1;}}return parts;}function detachMarkedSpans(line){var spans=line.markedSpans;if(!spans)return;for(var i=0;i<spans.length;++i){spans[i].marker.detachLine(line);}line.markedSpans=null;}function attachMarkedSpans(line,spans){if(!spans)return;for(var i=0;i<spans.length;++i){spans[i].marker.attachLine(line);}line.markedSpans=spans;}function extraLeft(marker){return marker.inclusiveLeft?-1:0;}function extraRight(marker){return marker.inclusiveRight?1:0;}function compareCollapsedMarkers(a,b){var lenDiff=a.lines.length-b.lines.length;if(lenDiff!=0)return lenDiff;var aPos=a.find(),bPos=b.find();var fromCmp=cmp(aPos.from,bPos.from)||extraLeft(a)-extraLeft(b);if(fromCmp)return-fromCmp;var toCmp=cmp(aPos.to,bPos.to)||extraRight(a)-extraRight(b);if(toCmp)return toCmp;return b.id-a.id;}function collapsedSpanAtSide(line,start){var sps=sawCollapsedSpans&&line.markedSpans,found;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(sp.marker.collapsed&&(start?sp.from:sp.to)==null&&(!found||compareCollapsedMarkers(found,sp.marker)<0))found=sp.marker;}return found;}function collapsedSpanAtStart(line){return collapsedSpanAtSide(line,true);}function collapsedSpanAtEnd(line){return collapsedSpanAtSide(line,false);}function conflictingCollapsedRange(doc,lineNo,from,to,marker){var line=getLine(doc,lineNo);var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){var sp=sps[i];if(!sp.marker.collapsed)continue;var found=sp.marker.find(0);var fromCmp=cmp(found.from,from)||extraLeft(sp.marker)-extraLeft(marker);var toCmp=cmp(found.to,to)||extraRight(sp.marker)-extraRight(marker);if(fromCmp>=0&&toCmp<=0||fromCmp<=0&&toCmp>=0)continue;if(fromCmp<=0&&(cmp(found.to,from)>0||sp.marker.inclusiveRight&&marker.inclusiveLeft)||fromCmp>=0&&(cmp(found.from,to)<0||sp.marker.inclusiveLeft&&marker.inclusiveRight))return true;}}function visualLine(line){var merged;while(merged=collapsedSpanAtStart(line)){line=merged.find(-1,true).line;}return line;}function visualLineContinued(line){var merged,lines;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;(lines||(lines=[])).push(line);}return lines;}function visualLineNo(doc,lineN){var line=getLine(doc,lineN),vis=visualLine(line);if(line==vis)return lineN;return lineNo(vis);}function visualLineEndNo(doc,lineN){if(lineN>doc.lastLine())return lineN;var line=getLine(doc,lineN),merged;if(!lineIsHidden(doc,line))return lineN;while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;}return lineNo(line)+1;}function lineIsHidden(doc,line){var sps=sawCollapsedSpans&&line.markedSpans;if(sps)for(var sp,i=0;i<sps.length;++i){sp=sps[i];if(!sp.marker.collapsed)continue;if(sp.from==null)return true;if(sp.marker.widgetNode)continue;if(sp.from==0&&sp.marker.inclusiveLeft&&lineIsHiddenInner(doc,line,sp))return true;}}function lineIsHiddenInner(doc,line,span){if(span.to==null){var end=span.marker.find(1,true);return lineIsHiddenInner(doc,end.line,getMarkedSpanFor(end.line.markedSpans,span.marker));}if(span.marker.inclusiveRight&&span.to==line.text.length)return true;for(var sp,i=0;i<line.markedSpans.length;++i){sp=line.markedSpans[i];if(sp.marker.collapsed&&!sp.marker.widgetNode&&sp.from==span.to&&(sp.to==null||sp.to!=span.from)&&(sp.marker.inclusiveLeft||span.marker.inclusiveRight)&&lineIsHiddenInner(doc,line,sp))return true;}}var LineWidget=CodeMirror.LineWidget=function(doc,node,options){if(options)for(var opt in options){if(options.hasOwnProperty(opt))this[opt]=options[opt];}this.doc=doc;this.node=node;};eventMixin(LineWidget);function adjustScrollWhenAboveVisible(cm,line,diff){if(_heightAtLine(line)<(cm.curOp&&cm.curOp.scrollTop||cm.doc.scrollTop))addToScrollPos(cm,null,diff);}LineWidget.prototype.clear=function(){var cm=this.doc.cm,ws=this.line.widgets,line=this.line,no=lineNo(line);if(no==null||!ws)return;for(var i=0;i<ws.length;++i){if(ws[i]==this)ws.splice(i--,1);}if(!ws.length)line.widgets=null;var height=widgetHeight(this);updateLineHeight(line,Math.max(0,line.height-height));if(cm)runInOp(cm,function(){adjustScrollWhenAboveVisible(cm,line,-height);regLineChange(cm,no,\"widget\");});};LineWidget.prototype.changed=function(){var oldH=this.height,cm=this.doc.cm,line=this.line;this.height=null;var diff=widgetHeight(this)-oldH;if(!diff)return;updateLineHeight(line,line.height+diff);if(cm)runInOp(cm,function(){cm.curOp.forceUpdate=true;adjustScrollWhenAboveVisible(cm,line,diff);});};function widgetHeight(widget){if(widget.height!=null)return widget.height;var cm=widget.doc.cm;if(!cm)return 0;if(!contains(document.body,widget.node)){var parentStyle=\"position: relative;\";if(widget.coverGutter)parentStyle+=\"margin-left: -\"+cm.display.gutters.offsetWidth+\"px;\";if(widget.noHScroll)parentStyle+=\"width: \"+cm.display.wrapper.clientWidth+\"px;\";removeChildrenAndAdd(cm.display.measure,elt(\"div\",[widget.node],null,parentStyle));}return widget.height=widget.node.offsetHeight;}function addLineWidget(doc,handle,node,options){var widget=new LineWidget(doc,node,options);var cm=doc.cm;if(cm&&widget.noHScroll)cm.display.alignWidgets=true;changeLine(doc,handle,\"widget\",function(line){var widgets=line.widgets||(line.widgets=[]);if(widget.insertAt==null)widgets.push(widget);else widgets.splice(Math.min(widgets.length-1,Math.max(0,widget.insertAt)),0,widget);widget.line=line;if(cm&&!lineIsHidden(doc,line)){var aboveVisible=_heightAtLine(line)<doc.scrollTop;updateLineHeight(line,line.height+widgetHeight(widget));if(aboveVisible)addToScrollPos(cm,null,widget.height);cm.curOp.forceUpdate=true;}return true;});return widget;}var Line=CodeMirror.Line=function(text,markedSpans,estimateHeight){this.text=text;attachMarkedSpans(this,markedSpans);this.height=estimateHeight?estimateHeight(this):1;};eventMixin(Line);Line.prototype.lineNo=function(){return lineNo(this);};function updateLine(line,text,markedSpans,estimateHeight){line.text=text;if(line.stateAfter)line.stateAfter=null;if(line.styles)line.styles=null;if(line.order!=null)line.order=null;detachMarkedSpans(line);attachMarkedSpans(line,markedSpans);var estHeight=estimateHeight?estimateHeight(line):1;if(estHeight!=line.height)updateLineHeight(line,estHeight);}function cleanUpLine(line){line.parent=null;detachMarkedSpans(line);}function extractLineClasses(type,output){if(type)for(;;){var lineClass=type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);if(!lineClass)break;type=type.slice(0,lineClass.index)+type.slice(lineClass.index+lineClass[0].length);var prop=lineClass[1]?\"bgClass\":\"textClass\";if(output[prop]==null)output[prop]=lineClass[2];else if(!new RegExp(\"(?:^|\\s)\"+lineClass[2]+\"(?:$|\\s)\").test(output[prop]))output[prop]+=\" \"+lineClass[2];}return type;}function callBlankLine(mode,state){if(mode.blankLine)return mode.blankLine(state);if(!mode.innerMode)return;var inner=CodeMirror.innerMode(mode,state);if(inner.mode.blankLine)return inner.mode.blankLine(inner.state);}function readToken(mode,stream,state,inner){for(var i=0;i<10;i++){if(inner)inner[0]=CodeMirror.innerMode(mode,state).mode;var style=mode.token(stream,state);if(stream.pos>stream.start)return style;}throw new Error(\"Mode \"+mode.name+\" failed to advance stream.\");}function takeToken(cm,pos,precise,asArray){function getObj(copy){return{start:stream.start,end:stream.pos,string:stream.current(),type:style||null,state:copy?copyState(doc.mode,state):state};}var doc=cm.doc,mode=doc.mode,style;pos=_clipPos(doc,pos);var line=getLine(doc,pos.line),state=getStateBefore(cm,pos.line,precise);var stream=new StringStream(line.text,cm.options.tabSize),tokens;if(asArray)tokens=[];while((asArray||stream.pos<pos.ch)&&!stream.eol()){stream.start=stream.pos;style=readToken(mode,stream,state);if(asArray)tokens.push(getObj(true));}return asArray?tokens:getObj();}function runMode(cm,text,mode,state,f,lineClasses,forceToEnd){var flattenSpans=mode.flattenSpans;if(flattenSpans==null)flattenSpans=cm.options.flattenSpans;var curStart=0,curStyle=null;var stream=new StringStream(text,cm.options.tabSize),style;var inner=cm.options.addModeClass&&[null];if(text==\"\")extractLineClasses(callBlankLine(mode,state),lineClasses);while(!stream.eol()){if(stream.pos>cm.options.maxHighlightLength){flattenSpans=false;if(forceToEnd)processLine(cm,text,state,stream.pos);stream.pos=text.length;style=null;}else{style=extractLineClasses(readToken(mode,stream,state,inner),lineClasses);}if(inner){var mName=inner[0].name;if(mName)style=\"m-\"+(style?mName+\" \"+style:mName);}if(!flattenSpans||curStyle!=style){while(curStart<stream.start){curStart=Math.min(stream.start,curStart+50000);f(curStart,curStyle);}curStyle=style;}stream.start=stream.pos;}while(curStart<stream.pos){var pos=Math.min(stream.pos,curStart+50000);f(pos,curStyle);curStart=pos;}}function highlightLine(cm,line,state,forceToEnd){var st=[cm.state.modeGen],lineClasses={};runMode(cm,line.text,cm.doc.mode,state,function(end,style){st.push(end,style);},lineClasses,forceToEnd);for(var o=0;o<cm.state.overlays.length;++o){var overlay=cm.state.overlays[o],i=1,at=0;runMode(cm,line.text,overlay.mode,true,function(end,style){var start=i;while(at<end){var i_end=st[i];if(i_end>end)st.splice(i,1,end,st[i+1],i_end);i+=2;at=Math.min(end,i_end);}if(!style)return;if(overlay.opaque){st.splice(start,i-start,end,\"cm-overlay \"+style);i=start+2;}else{for(;start<i;start+=2){var cur=st[start+1];st[start+1]=(cur?cur+\" \":\"\")+\"cm-overlay \"+style;}}},lineClasses);}return{styles:st,classes:lineClasses.bgClass||lineClasses.textClass?lineClasses:null};}function getLineStyles(cm,line,updateFrontier){if(!line.styles||line.styles[0]!=cm.state.modeGen){var state=getStateBefore(cm,lineNo(line));var result=highlightLine(cm,line,line.text.length>cm.options.maxHighlightLength?copyState(cm.doc.mode,state):state);line.stateAfter=state;line.styles=result.styles;if(result.classes)line.styleClasses=result.classes;else if(line.styleClasses)line.styleClasses=null;if(updateFrontier===cm.doc.frontier)cm.doc.frontier++;}return line.styles;}function processLine(cm,text,state,startAt){var mode=cm.doc.mode;var stream=new StringStream(text,cm.options.tabSize);stream.start=stream.pos=startAt||0;if(text==\"\")callBlankLine(mode,state);while(!stream.eol()){readToken(mode,stream,state);stream.start=stream.pos;}}var styleToClassCache={},styleToClassCacheWithMode={};function interpretTokenStyle(style,options){if(!style||/^\\s*$/.test(style))return null;var cache=options.addModeClass?styleToClassCacheWithMode:styleToClassCache;return cache[style]||(cache[style]=style.replace(/\\S+/g,\"cm-$&\"));}function buildLineContent(cm,lineView){var content=elt(\"span\",null,null,webkit?\"padding-right: .1px\":null);var builder={pre:elt(\"pre\",[content],\"CodeMirror-line\"),content:content,col:0,pos:0,cm:cm,splitSpaces:(ie||webkit)&&cm.getOption(\"lineWrapping\")};lineView.measure={};for(var i=0;i<=(lineView.rest?lineView.rest.length:0);i++){var line=i?lineView.rest[i-1]:lineView.line,order;builder.pos=0;builder.addToken=buildToken;if(hasBadBidiRects(cm.display.measure)&&(order=getOrder(line)))builder.addToken=buildTokenBadBidi(builder.addToken,order);builder.map=[];var allowFrontierUpdate=lineView!=cm.display.externalMeasured&&lineNo(line);insertLineContent(line,builder,getLineStyles(cm,line,allowFrontierUpdate));if(line.styleClasses){if(line.styleClasses.bgClass)builder.bgClass=joinClasses(line.styleClasses.bgClass,builder.bgClass||\"\");if(line.styleClasses.textClass)builder.textClass=joinClasses(line.styleClasses.textClass,builder.textClass||\"\");}if(builder.map.length==0)builder.map.push(0,0,builder.content.appendChild(zeroWidthElement(cm.display.measure)));if(i==0){lineView.measure.map=builder.map;lineView.measure.cache={};}else{(lineView.measure.maps||(lineView.measure.maps=[])).push(builder.map);(lineView.measure.caches||(lineView.measure.caches=[])).push({});}}if(webkit&&/\\bcm-tab\\b/.test(builder.content.lastChild.className))builder.content.className=\"cm-tab-wrap-hack\";signal(cm,\"renderLine\",cm,lineView.line,builder.pre);if(builder.pre.className)builder.textClass=joinClasses(builder.pre.className,builder.textClass||\"\");return builder;}function defaultSpecialCharPlaceholder(ch){var token=elt(\"span\",\"\\u2022\",\"cm-invalidchar\");token.title=\"\\\\u\"+ch.charCodeAt(0).toString(16);token.setAttribute(\"aria-label\",token.title);return token;}function buildToken(builder,text,style,startStyle,endStyle,title,css){if(!text)return;var displayText=builder.splitSpaces?text.replace(/ {3,}/g,splitSpaces):text;var special=builder.cm.state.specialChars,mustWrap=false;if(!special.test(text)){builder.col+=text.length;var content=document.createTextNode(displayText);builder.map.push(builder.pos,builder.pos+text.length,content);if(ie&&ie_version<9)mustWrap=true;builder.pos+=text.length;}else{var content=document.createDocumentFragment(),pos=0;while(true){special.lastIndex=pos;var m=special.exec(text);var skipped=m?m.index-pos:text.length-pos;if(skipped){var txt=document.createTextNode(displayText.slice(pos,pos+skipped));if(ie&&ie_version<9)content.appendChild(elt(\"span\",[txt]));else content.appendChild(txt);builder.map.push(builder.pos,builder.pos+skipped,txt);builder.col+=skipped;builder.pos+=skipped;}if(!m)break;pos+=skipped+1;if(m[0]==\"\\t\"){var tabSize=builder.cm.options.tabSize,tabWidth=tabSize-builder.col%tabSize;var txt=content.appendChild(elt(\"span\",spaceStr(tabWidth),\"cm-tab\"));txt.setAttribute(\"role\",\"presentation\");txt.setAttribute(\"cm-text\",\"\\t\");builder.col+=tabWidth;}else if(m[0]==\"\\r\"||m[0]==\"\\n\"){var txt=content.appendChild(elt(\"span\",m[0]==\"\\r\"?\"\\u240D\":\"\\u2424\",\"cm-invalidchar\"));txt.setAttribute(\"cm-text\",m[0]);builder.col+=1;}else{var txt=builder.cm.options.specialCharPlaceholder(m[0]);txt.setAttribute(\"cm-text\",m[0]);if(ie&&ie_version<9)content.appendChild(elt(\"span\",[txt]));else content.appendChild(txt);builder.col+=1;}builder.map.push(builder.pos,builder.pos+1,txt);builder.pos++;}}if(style||startStyle||endStyle||mustWrap||css){var fullStyle=style||\"\";if(startStyle)fullStyle+=startStyle;if(endStyle)fullStyle+=endStyle;var token=elt(\"span\",[content],fullStyle,css);if(title)token.title=title;return builder.content.appendChild(token);}builder.content.appendChild(content);}function splitSpaces(old){var out=\" \";for(var i=0;i<old.length-2;++i){out+=i%2?\" \":\"\\xA0\";}out+=\" \";return out;}function buildTokenBadBidi(inner,order){return function(builder,text,style,startStyle,endStyle,title,css){style=style?style+\" cm-force-border\":\"cm-force-border\";var start=builder.pos,end=start+text.length;for(;;){for(var i=0;i<order.length;i++){var part=order[i];if(part.to>start&&part.from<=start)break;}if(part.to>=end)return inner(builder,text,style,startStyle,endStyle,title,css);inner(builder,text.slice(0,part.to-start),style,startStyle,null,title,css);startStyle=null;text=text.slice(part.to-start);start=part.to;}};}function buildCollapsedSpan(builder,size,marker,ignoreWidget){var widget=!ignoreWidget&&marker.widgetNode;if(widget)builder.map.push(builder.pos,builder.pos+size,widget);if(!ignoreWidget&&builder.cm.display.input.needsContentAttribute){if(!widget)widget=builder.content.appendChild(document.createElement(\"span\"));widget.setAttribute(\"cm-marker\",marker.id);}if(widget){builder.cm.display.input.setUneditable(widget);builder.content.appendChild(widget);}builder.pos+=size;}function insertLineContent(line,builder,styles){var spans=line.markedSpans,allText=line.text,at=0;if(!spans){for(var i=1;i<styles.length;i+=2){builder.addToken(builder,allText.slice(at,at=styles[i]),interpretTokenStyle(styles[i+1],builder.cm.options));}return;}var len=allText.length,pos=0,i=1,text=\"\",style,css;var nextChange=0,spanStyle,spanEndStyle,spanStartStyle,title,collapsed;for(;;){if(nextChange==pos){spanStyle=spanEndStyle=spanStartStyle=title=css=\"\";collapsed=null;nextChange=Infinity;var foundBookmarks=[];for(var j=0;j<spans.length;++j){var sp=spans[j],m=sp.marker;if(m.type==\"bookmark\"&&sp.from==pos&&m.widgetNode){foundBookmarks.push(m);}else if(sp.from<=pos&&(sp.to==null||sp.to>pos||m.collapsed&&sp.to==pos&&sp.from==pos)){if(sp.to!=null&&sp.to!=pos&&nextChange>sp.to){nextChange=sp.to;spanEndStyle=\"\";}if(m.className)spanStyle+=\" \"+m.className;if(m.css)css=(css?css+\";\":\"\")+m.css;if(m.startStyle&&sp.from==pos)spanStartStyle+=\" \"+m.startStyle;if(m.endStyle&&sp.to==nextChange)spanEndStyle+=\" \"+m.endStyle;if(m.title&&!title)title=m.title;if(m.collapsed&&(!collapsed||compareCollapsedMarkers(collapsed.marker,m)<0))collapsed=sp;}else if(sp.from>pos&&nextChange>sp.from){nextChange=sp.from;}}if(collapsed&&(collapsed.from||0)==pos){buildCollapsedSpan(builder,(collapsed.to==null?len+1:collapsed.to)-pos,collapsed.marker,collapsed.from==null);if(collapsed.to==null)return;if(collapsed.to==pos)collapsed=false;}if(!collapsed&&foundBookmarks.length)for(var j=0;j<foundBookmarks.length;++j){buildCollapsedSpan(builder,0,foundBookmarks[j]);}}if(pos>=len)break;var upto=Math.min(len,nextChange);while(true){if(text){var end=pos+text.length;if(!collapsed){var tokenText=end>upto?text.slice(0,upto-pos):text;builder.addToken(builder,tokenText,style?style+spanStyle:spanStyle,spanStartStyle,pos+tokenText.length==nextChange?spanEndStyle:\"\",title,css);}if(end>=upto){text=text.slice(upto-pos);pos=upto;break;}pos=end;spanStartStyle=\"\";}text=allText.slice(at,at=styles[i++]);style=interpretTokenStyle(styles[i++],builder.cm.options);}}}function isWholeLineUpdate(doc,change){return change.from.ch==0&&change.to.ch==0&&lst(change.text)==\"\"&&(!doc.cm||doc.cm.options.wholeLineUpdateBefore);}function updateDoc(doc,change,markedSpans,estimateHeight){function spansFor(n){return markedSpans?markedSpans[n]:null;}function update(line,text,spans){updateLine(line,text,spans,estimateHeight);signalLater(line,\"change\",line,change);}function linesFor(start,end){for(var i=start,result=[];i<end;++i){result.push(new Line(text[i],spansFor(i),estimateHeight));}return result;}var from=change.from,to=change.to,text=change.text;var firstLine=getLine(doc,from.line),lastLine=getLine(doc,to.line);var lastText=lst(text),lastSpans=spansFor(text.length-1),nlines=to.line-from.line;if(change.full){doc.insert(0,linesFor(0,text.length));doc.remove(text.length,doc.size-text.length);}else if(isWholeLineUpdate(doc,change)){var added=linesFor(0,text.length-1);update(lastLine,lastLine.text,lastSpans);if(nlines)doc.remove(from.line,nlines);if(added.length)doc.insert(from.line,added);}else if(firstLine==lastLine){if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+lastText+firstLine.text.slice(to.ch),lastSpans);}else{var added=linesFor(1,text.length-1);added.push(new Line(lastText+firstLine.text.slice(to.ch),lastSpans,estimateHeight));update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));doc.insert(from.line+1,added);}}else if(text.length==1){update(firstLine,firstLine.text.slice(0,from.ch)+text[0]+lastLine.text.slice(to.ch),spansFor(0));doc.remove(from.line+1,nlines);}else{update(firstLine,firstLine.text.slice(0,from.ch)+text[0],spansFor(0));update(lastLine,lastText+lastLine.text.slice(to.ch),lastSpans);var added=linesFor(1,text.length-1);if(nlines>1)doc.remove(from.line+1,nlines-1);doc.insert(from.line+1,added);}signalLater(doc,\"change\",doc,change);}function LeafChunk(lines){this.lines=lines;this.parent=null;for(var i=0,height=0;i<lines.length;++i){lines[i].parent=this;height+=lines[i].height;}this.height=height;}LeafChunk.prototype={chunkSize:function chunkSize(){return this.lines.length;},removeInner:function removeInner(at,n){for(var i=at,e=at+n;i<e;++i){var line=this.lines[i];this.height-=line.height;cleanUpLine(line);signalLater(line,\"delete\");}this.lines.splice(at,n);},collapse:function collapse(lines){lines.push.apply(lines,this.lines);},insertInner:function insertInner(at,lines,height){this.height+=height;this.lines=this.lines.slice(0,at).concat(lines).concat(this.lines.slice(at));for(var i=0;i<lines.length;++i){lines[i].parent=this;}},iterN:function iterN(at,n,op){for(var e=at+n;at<e;++at){if(op(this.lines[at]))return true;}}};function BranchChunk(children){this.children=children;var size=0,height=0;for(var i=0;i<children.length;++i){var ch=children[i];size+=ch.chunkSize();height+=ch.height;ch.parent=this;}this.size=size;this.height=height;this.parent=null;}BranchChunk.prototype={chunkSize:function chunkSize(){return this.size;},removeInner:function removeInner(at,n){this.size-=n;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var rm=Math.min(n,sz-at),oldHeight=child.height;child.removeInner(at,rm);this.height-=oldHeight-child.height;if(sz==rm){this.children.splice(i--,1);child.parent=null;}if((n-=rm)==0)break;at=0;}else at-=sz;}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof LeafChunk))){var lines=[];this.collapse(lines);this.children=[new LeafChunk(lines)];this.children[0].parent=this;}},collapse:function collapse(lines){for(var i=0;i<this.children.length;++i){this.children[i].collapse(lines);}},insertInner:function insertInner(at,lines,height){this.size+=lines.length;this.height+=height;for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<=sz){child.insertInner(at,lines,height);if(child.lines&&child.lines.length>50){while(child.lines.length>50){var spilled=child.lines.splice(child.lines.length-25,25);var newleaf=new LeafChunk(spilled);child.height-=newleaf.height;this.children.splice(i+1,0,newleaf);newleaf.parent=this;}this.maybeSpill();}break;}at-=sz;}},maybeSpill:function maybeSpill(){if(this.children.length<=10)return;var me=this;do{var spilled=me.children.splice(me.children.length-5,5);var sibling=new BranchChunk(spilled);if(!me.parent){var copy=new BranchChunk(me.children);copy.parent=me;me.children=[copy,sibling];me=copy;}else{me.size-=sibling.size;me.height-=sibling.height;var myIndex=indexOf(me.parent.children,me);me.parent.children.splice(myIndex+1,0,sibling);}sibling.parent=me.parent;}while(me.children.length>10);me.parent.maybeSpill();},iterN:function iterN(at,n,op){for(var i=0;i<this.children.length;++i){var child=this.children[i],sz=child.chunkSize();if(at<sz){var used=Math.min(n,sz-at);if(child.iterN(at,used,op))return true;if((n-=used)==0)break;at=0;}else at-=sz;}}};var nextDocId=0;var Doc=CodeMirror.Doc=function(text,mode,firstLine,lineSep){if(!(this instanceof Doc))return new Doc(text,mode,firstLine,lineSep);if(firstLine==null)firstLine=0;BranchChunk.call(this,[new LeafChunk([new Line(\"\",null)])]);this.first=firstLine;this.scrollTop=this.scrollLeft=0;this.cantEdit=false;this.cleanGeneration=1;this.frontier=firstLine;var start=Pos(firstLine,0);this.sel=simpleSelection(start);this.history=new History(null);this.id=++nextDocId;this.modeOption=mode;this.lineSep=lineSep;this.extend=false;if(typeof text==\"string\")text=this.splitLines(text);updateDoc(this,{from:start,to:start,text:text});setSelection(this,simpleSelection(start),sel_dontScroll);};Doc.prototype=createObj(BranchChunk.prototype,{constructor:Doc,iter:function iter(from,to,op){if(op)this.iterN(from-this.first,to-from,op);else this.iterN(this.first,this.first+this.size,from);},insert:function insert(at,lines){var height=0;for(var i=0;i<lines.length;++i){height+=lines[i].height;}this.insertInner(at-this.first,lines,height);},remove:function remove(at,n){this.removeInner(at-this.first,n);},getValue:function getValue(lineSep){var lines=getLines(this,this.first,this.first+this.size);if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator());},setValue:docMethodOp(function(code){var top=Pos(this.first,0),last=this.first+this.size-1;makeChange(this,{from:top,to:Pos(last,getLine(this,last).text.length),text:this.splitLines(code),origin:\"setValue\",full:true},true);setSelection(this,simpleSelection(top));}),replaceRange:function replaceRange(code,from,to,origin){from=_clipPos(this,from);to=to?_clipPos(this,to):from;_replaceRange(this,code,from,to,origin);},getRange:function getRange(from,to,lineSep){var lines=getBetween(this,_clipPos(this,from),_clipPos(this,to));if(lineSep===false)return lines;return lines.join(lineSep||this.lineSeparator());},getLine:function getLine(line){var l=this.getLineHandle(line);return l&&l.text;},getLineHandle:function getLineHandle(line){if(isLine(this,line))return getLine(this,line);},getLineNumber:function getLineNumber(line){return lineNo(line);},getLineHandleVisualStart:function getLineHandleVisualStart(line){if(typeof line==\"number\")line=getLine(this,line);return visualLine(line);},lineCount:function lineCount(){return this.size;},firstLine:function firstLine(){return this.first;},lastLine:function lastLine(){return this.first+this.size-1;},clipPos:function clipPos(pos){return _clipPos(this,pos);},getCursor:function getCursor(start){var range=this.sel.primary(),pos;if(start==null||start==\"head\")pos=range.head;else if(start==\"anchor\")pos=range.anchor;else if(start==\"end\"||start==\"to\"||start===false)pos=range.to();else pos=range.from();return pos;},listSelections:function listSelections(){return this.sel.ranges;},somethingSelected:function somethingSelected(){return this.sel.somethingSelected();},setCursor:docMethodOp(function(line,ch,options){setSimpleSelection(this,_clipPos(this,typeof line==\"number\"?Pos(line,ch||0):line),null,options);}),setSelection:docMethodOp(function(anchor,head,options){setSimpleSelection(this,_clipPos(this,anchor),_clipPos(this,head||anchor),options);}),extendSelection:docMethodOp(function(head,other,options){extendSelection(this,_clipPos(this,head),other&&_clipPos(this,other),options);}),extendSelections:docMethodOp(function(heads,options){extendSelections(this,clipPosArray(this,heads,options));}),extendSelectionsBy:docMethodOp(function(f,options){extendSelections(this,map(this.sel.ranges,f),options);}),setSelections:docMethodOp(function(ranges,primary,options){if(!ranges.length)return;for(var i=0,out=[];i<ranges.length;i++){out[i]=new Range(_clipPos(this,ranges[i].anchor),_clipPos(this,ranges[i].head));}if(primary==null)primary=Math.min(ranges.length-1,this.sel.primIndex);setSelection(this,normalizeSelection(out,primary),options);}),addSelection:docMethodOp(function(anchor,head,options){var ranges=this.sel.ranges.slice(0);ranges.push(new Range(_clipPos(this,anchor),_clipPos(this,head||anchor)));setSelection(this,normalizeSelection(ranges,ranges.length-1),options);}),getSelection:function getSelection(lineSep){var ranges=this.sel.ranges,lines;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());lines=lines?lines.concat(sel):sel;}if(lineSep===false)return lines;else return lines.join(lineSep||this.lineSeparator());},getSelections:function getSelections(lineSep){var parts=[],ranges=this.sel.ranges;for(var i=0;i<ranges.length;i++){var sel=getBetween(this,ranges[i].from(),ranges[i].to());if(lineSep!==false)sel=sel.join(lineSep||this.lineSeparator());parts[i]=sel;}return parts;},replaceSelection:function replaceSelection(code,collapse,origin){var dup=[];for(var i=0;i<this.sel.ranges.length;i++){dup[i]=code;}this.replaceSelections(dup,collapse,origin||\"+input\");},replaceSelections:docMethodOp(function(code,collapse,origin){var changes=[],sel=this.sel;for(var i=0;i<sel.ranges.length;i++){var range=sel.ranges[i];changes[i]={from:range.from(),to:range.to(),text:this.splitLines(code[i]),origin:origin};}var newSel=collapse&&collapse!=\"end\"&&computeReplacedSel(this,changes,collapse);for(var i=changes.length-1;i>=0;i--){makeChange(this,changes[i]);}if(newSel)setSelectionReplaceHistory(this,newSel);else if(this.cm)ensureCursorVisible(this.cm);}),undo:docMethodOp(function(){makeChangeFromHistory(this,\"undo\");}),redo:docMethodOp(function(){makeChangeFromHistory(this,\"redo\");}),undoSelection:docMethodOp(function(){makeChangeFromHistory(this,\"undo\",true);}),redoSelection:docMethodOp(function(){makeChangeFromHistory(this,\"redo\",true);}),setExtending:function setExtending(val){this.extend=val;},getExtending:function getExtending(){return this.extend;},historySize:function historySize(){var hist=this.history,done=0,undone=0;for(var i=0;i<hist.done.length;i++){if(!hist.done[i].ranges)++done;}for(var i=0;i<hist.undone.length;i++){if(!hist.undone[i].ranges)++undone;}return{undo:done,redo:undone};},clearHistory:function clearHistory(){this.history=new History(this.history.maxGeneration);},markClean:function markClean(){this.cleanGeneration=this.changeGeneration(true);},changeGeneration:function changeGeneration(forceSplit){if(forceSplit)this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null;return this.history.generation;},isClean:function isClean(gen){return this.history.generation==(gen||this.cleanGeneration);},getHistory:function getHistory(){return{done:copyHistoryArray(this.history.done),undone:copyHistoryArray(this.history.undone)};},setHistory:function setHistory(histData){var hist=this.history=new History(this.history.maxGeneration);hist.done=copyHistoryArray(histData.done.slice(0),null,true);hist.undone=copyHistoryArray(histData.undone.slice(0),null,true);},addLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where==\"gutter\"?\"gutter\":\"class\",function(line){var prop=where==\"text\"?\"textClass\":where==\"background\"?\"bgClass\":where==\"gutter\"?\"gutterClass\":\"wrapClass\";if(!line[prop])line[prop]=cls;else if(classTest(cls).test(line[prop]))return false;else line[prop]+=\" \"+cls;return true;});}),removeLineClass:docMethodOp(function(handle,where,cls){return changeLine(this,handle,where==\"gutter\"?\"gutter\":\"class\",function(line){var prop=where==\"text\"?\"textClass\":where==\"background\"?\"bgClass\":where==\"gutter\"?\"gutterClass\":\"wrapClass\";var cur=line[prop];if(!cur)return false;else if(cls==null)line[prop]=null;else{var found=cur.match(classTest(cls));if(!found)return false;var end=found.index+found[0].length;line[prop]=cur.slice(0,found.index)+(!found.index||end==cur.length?\"\":\" \")+cur.slice(end)||null;}return true;});}),addLineWidget:docMethodOp(function(handle,node,options){return addLineWidget(this,handle,node,options);}),removeLineWidget:function removeLineWidget(widget){widget.clear();},markText:function markText(from,to,options){return _markText(this,_clipPos(this,from),_clipPos(this,to),options,options&&options.type||\"range\");},setBookmark:function setBookmark(pos,options){var realOpts={replacedWith:options&&(options.nodeType==null?options.widget:options),insertLeft:options&&options.insertLeft,clearWhenEmpty:false,shared:options&&options.shared,handleMouseEvents:options&&options.handleMouseEvents};pos=_clipPos(this,pos);return _markText(this,pos,pos,realOpts,\"bookmark\");},findMarksAt:function findMarksAt(pos){pos=_clipPos(this,pos);var markers=[],spans=getLine(this,pos.line).markedSpans;if(spans)for(var i=0;i<spans.length;++i){var span=spans[i];if((span.from==null||span.from<=pos.ch)&&(span.to==null||span.to>=pos.ch))markers.push(span.marker.parent||span.marker);}return markers;},findMarks:function findMarks(from,to,filter){from=_clipPos(this,from);to=_clipPos(this,to);var found=[],lineNo=from.line;this.iter(from.line,to.line+1,function(line){var spans=line.markedSpans;if(spans)for(var i=0;i<spans.length;i++){var span=spans[i];if(!(lineNo==from.line&&from.ch>span.to||span.from==null&&lineNo!=from.line||lineNo==to.line&&span.from>to.ch)&&(!filter||filter(span.marker)))found.push(span.marker.parent||span.marker);}++lineNo;});return found;},getAllMarks:function getAllMarks(){var markers=[];this.iter(function(line){var sps=line.markedSpans;if(sps)for(var i=0;i<sps.length;++i){if(sps[i].from!=null)markers.push(sps[i].marker);}});return markers;},posFromIndex:function posFromIndex(off){var ch,lineNo=this.first;this.iter(function(line){var sz=line.text.length+1;if(sz>off){ch=off;return true;}off-=sz;++lineNo;});return _clipPos(this,Pos(lineNo,ch));},indexFromPos:function indexFromPos(coords){coords=_clipPos(this,coords);var index=coords.ch;if(coords.line<this.first||coords.ch<0)return 0;this.iter(this.first,coords.line,function(line){index+=line.text.length+1;});return index;},copy:function copy(copyHistory){var doc=new Doc(getLines(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);doc.scrollTop=this.scrollTop;doc.scrollLeft=this.scrollLeft;doc.sel=this.sel;doc.extend=false;if(copyHistory){doc.history.undoDepth=this.history.undoDepth;doc.setHistory(this.getHistory());}return doc;},linkedDoc:function linkedDoc(options){if(!options)options={};var from=this.first,to=this.first+this.size;if(options.from!=null&&options.from>from)from=options.from;if(options.to!=null&&options.to<to)to=options.to;var copy=new Doc(getLines(this,from,to),options.mode||this.modeOption,from,this.lineSep);if(options.sharedHist)copy.history=this.history;(this.linked||(this.linked=[])).push({doc:copy,sharedHist:options.sharedHist});copy.linked=[{doc:this,isParent:true,sharedHist:options.sharedHist}];copySharedMarkers(copy,findSharedMarkers(this));return copy;},unlinkDoc:function unlinkDoc(other){if(other instanceof CodeMirror)other=other.doc;if(this.linked)for(var i=0;i<this.linked.length;++i){var link=this.linked[i];if(link.doc!=other)continue;this.linked.splice(i,1);other.unlinkDoc(this);detachSharedMarkers(findSharedMarkers(this));break;}if(other.history==this.history){var splitIds=[other.id];linkedDocs(other,function(doc){splitIds.push(doc.id);},true);other.history=new History(null);other.history.done=copyHistoryArray(this.history.done,splitIds);other.history.undone=copyHistoryArray(this.history.undone,splitIds);}},iterLinkedDocs:function iterLinkedDocs(f){linkedDocs(this,f);},getMode:function getMode(){return this.mode;},getEditor:function getEditor(){return this.cm;},splitLines:function splitLines(str){if(this.lineSep)return str.split(this.lineSep);return splitLinesAuto(str);},lineSeparator:function lineSeparator(){return this.lineSep||\"\\n\";}});Doc.prototype.eachLine=Doc.prototype.iter;var dontDelegate=\"iter insert remove copy getEditor constructor\".split(\" \");for(var prop in Doc.prototype){if(Doc.prototype.hasOwnProperty(prop)&&indexOf(dontDelegate,prop)<0)CodeMirror.prototype[prop]=function(method){return function(){return method.apply(this.doc,arguments);};}(Doc.prototype[prop]);}eventMixin(Doc);function linkedDocs(doc,f,sharedHistOnly){function propagate(doc,skip,sharedHist){if(doc.linked)for(var i=0;i<doc.linked.length;++i){var rel=doc.linked[i];if(rel.doc==skip)continue;var shared=sharedHist&&rel.sharedHist;if(sharedHistOnly&&!shared)continue;f(rel.doc,shared);propagate(rel.doc,doc,shared);}}propagate(doc,null,true);}function attachDoc(cm,doc){if(doc.cm)throw new Error(\"This document is already in use.\");cm.doc=doc;doc.cm=cm;estimateLineHeights(cm);loadMode(cm);if(!cm.options.lineWrapping)findMaxLine(cm);cm.options.mode=doc.modeOption;regChange(cm);}function getLine(doc,n){n-=doc.first;if(n<0||n>=doc.size)throw new Error(\"There is no line \"+(n+doc.first)+\" in the document.\");for(var chunk=doc;!chunk.lines;){for(var i=0;;++i){var child=chunk.children[i],sz=child.chunkSize();if(n<sz){chunk=child;break;}n-=sz;}}return chunk.lines[n];}function getBetween(doc,start,end){var out=[],n=start.line;doc.iter(start.line,end.line+1,function(line){var text=line.text;if(n==end.line)text=text.slice(0,end.ch);if(n==start.line)text=text.slice(start.ch);out.push(text);++n;});return out;}function getLines(doc,from,to){var out=[];doc.iter(from,to,function(line){out.push(line.text);});return out;}function updateLineHeight(line,height){var diff=height-line.height;if(diff)for(var n=line;n;n=n.parent){n.height+=diff;}}function lineNo(line){if(line.parent==null)return null;var cur=line.parent,no=indexOf(cur.lines,line);for(var chunk=cur.parent;chunk;cur=chunk,chunk=chunk.parent){for(var i=0;;++i){if(chunk.children[i]==cur)break;no+=chunk.children[i].chunkSize();}}return no+cur.first;}function _lineAtHeight(chunk,h){var n=chunk.first;outer:do{for(var i=0;i<chunk.children.length;++i){var child=chunk.children[i],ch=child.height;if(h<ch){chunk=child;continue outer;}h-=ch;n+=child.chunkSize();}return n;}while(!chunk.lines);for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i],lh=line.height;if(h<lh)break;h-=lh;}return n+i;}function _heightAtLine(lineObj){lineObj=visualLine(lineObj);var h=0,chunk=lineObj.parent;for(var i=0;i<chunk.lines.length;++i){var line=chunk.lines[i];if(line==lineObj)break;else h+=line.height;}for(var p=chunk.parent;p;chunk=p,p=chunk.parent){for(var i=0;i<p.children.length;++i){var cur=p.children[i];if(cur==chunk)break;else h+=cur.height;}}return h;}function getOrder(line){var order=line.order;if(order==null)order=line.order=bidiOrdering(line.text);return order;}function History(startGen){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOp=this.lastSelOp=null;this.lastOrigin=this.lastSelOrigin=null;this.generation=this.maxGeneration=startGen||1;}function historyChangeFromChange(doc,change){var histChange={from:copyPos(change.from),to:changeEnd(change),text:getBetween(doc,change.from,change.to)};attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);linkedDocs(doc,function(doc){attachLocalSpans(doc,histChange,change.from.line,change.to.line+1);},true);return histChange;}function clearSelectionEvents(array){while(array.length){var last=lst(array);if(last.ranges)array.pop();else break;}}function lastChangeEvent(hist,force){if(force){clearSelectionEvents(hist.done);return lst(hist.done);}else if(hist.done.length&&!lst(hist.done).ranges){return lst(hist.done);}else if(hist.done.length>1&&!hist.done[hist.done.length-2].ranges){hist.done.pop();return lst(hist.done);}}function addChangeToHistory(doc,change,selAfter,opId){var hist=doc.history;hist.undone.length=0;var time=+new Date(),cur;if((hist.lastOp==opId||hist.lastOrigin==change.origin&&change.origin&&(change.origin.charAt(0)==\"+\"&&doc.cm&&hist.lastModTime>time-doc.cm.options.historyEventDelay||change.origin.charAt(0)==\"*\"))&&(cur=lastChangeEvent(hist,hist.lastOp==opId))){var last=lst(cur.changes);if(cmp(change.from,change.to)==0&&cmp(change.from,last.to)==0){last.to=changeEnd(change);}else{cur.changes.push(historyChangeFromChange(doc,change));}}else{var before=lst(hist.done);if(!before||!before.ranges)pushSelectionToHistory(doc.sel,hist.done);cur={changes:[historyChangeFromChange(doc,change)],generation:hist.generation};hist.done.push(cur);while(hist.done.length>hist.undoDepth){hist.done.shift();if(!hist.done[0].ranges)hist.done.shift();}}hist.done.push(selAfter);hist.generation=++hist.maxGeneration;hist.lastModTime=hist.lastSelTime=time;hist.lastOp=hist.lastSelOp=opId;hist.lastOrigin=hist.lastSelOrigin=change.origin;if(!last)signal(doc,\"historyAdded\");}function selectionEventCanBeMerged(doc,origin,prev,sel){var ch=origin.charAt(0);return ch==\"*\"||ch==\"+\"&&prev.ranges.length==sel.ranges.length&&prev.somethingSelected()==sel.somethingSelected()&&new Date()-doc.history.lastSelTime<=(doc.cm?doc.cm.options.historyEventDelay:500);}function addSelectionToHistory(doc,sel,opId,options){var hist=doc.history,origin=options&&options.origin;if(opId==hist.lastSelOp||origin&&hist.lastSelOrigin==origin&&(hist.lastModTime==hist.lastSelTime&&hist.lastOrigin==origin||selectionEventCanBeMerged(doc,origin,lst(hist.done),sel)))hist.done[hist.done.length-1]=sel;else pushSelectionToHistory(sel,hist.done);hist.lastSelTime=+new Date();hist.lastSelOrigin=origin;hist.lastSelOp=opId;if(options&&options.clearRedo!==false)clearSelectionEvents(hist.undone);}function pushSelectionToHistory(sel,dest){var top=lst(dest);if(!(top&&top.ranges&&top.equals(sel)))dest.push(sel);}function attachLocalSpans(doc,change,from,to){var existing=change[\"spans_\"+doc.id],n=0;doc.iter(Math.max(doc.first,from),Math.min(doc.first+doc.size,to),function(line){if(line.markedSpans)(existing||(existing=change[\"spans_\"+doc.id]={}))[n]=line.markedSpans;++n;});}function removeClearedSpans(spans){if(!spans)return null;for(var i=0,out;i<spans.length;++i){if(spans[i].marker.explicitlyCleared){if(!out)out=spans.slice(0,i);}else if(out)out.push(spans[i]);}return!out?spans:out.length?out:null;}function getOldSpans(doc,change){var found=change[\"spans_\"+doc.id];if(!found)return null;for(var i=0,nw=[];i<change.text.length;++i){nw.push(removeClearedSpans(found[i]));}return nw;}function copyHistoryArray(events,newGroup,instantiateSel){for(var i=0,copy=[];i<events.length;++i){var event=events[i];if(event.ranges){copy.push(instantiateSel?Selection.prototype.deepCopy.call(event):event);continue;}var changes=event.changes,newChanges=[];copy.push({changes:newChanges});for(var j=0;j<changes.length;++j){var change=changes[j],m;newChanges.push({from:change.from,to:change.to,text:change.text});if(newGroup)for(var prop in change){if(m=prop.match(/^spans_(\\d+)$/)){if(indexOf(newGroup,Number(m[1]))>-1){lst(newChanges)[prop]=change[prop];delete change[prop];}}}}}return copy;}function rebaseHistSelSingle(pos,from,to,diff){if(to<pos.line){pos.line+=diff;}else if(from<pos.line){pos.line=from;pos.ch=0;}}function rebaseHistArray(array,from,to,diff){for(var i=0;i<array.length;++i){var sub=array[i],ok=true;if(sub.ranges){if(!sub.copied){sub=array[i]=sub.deepCopy();sub.copied=true;}for(var j=0;j<sub.ranges.length;j++){rebaseHistSelSingle(sub.ranges[j].anchor,from,to,diff);rebaseHistSelSingle(sub.ranges[j].head,from,to,diff);}continue;}for(var j=0;j<sub.changes.length;++j){var cur=sub.changes[j];if(to<cur.from.line){cur.from=Pos(cur.from.line+diff,cur.from.ch);cur.to=Pos(cur.to.line+diff,cur.to.ch);}else if(from<=cur.to.line){ok=false;break;}}if(!ok){array.splice(0,i+1);i=0;}}}function rebaseHist(hist,change){var from=change.from.line,to=change.to.line,diff=change.text.length-(to-from)-1;rebaseHistArray(hist.done,from,to,diff);rebaseHistArray(hist.undone,from,to,diff);}var e_preventDefault=CodeMirror.e_preventDefault=function(e){if(e.preventDefault)e.preventDefault();else e.returnValue=false;};var e_stopPropagation=CodeMirror.e_stopPropagation=function(e){if(e.stopPropagation)e.stopPropagation();else e.cancelBubble=true;};function e_defaultPrevented(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==false;}var e_stop=CodeMirror.e_stop=function(e){e_preventDefault(e);e_stopPropagation(e);};function e_target(e){return e.target||e.srcElement;}function e_button(e){var b=e.which;if(b==null){if(e.button&1)b=1;else if(e.button&2)b=3;else if(e.button&4)b=2;}if(mac&&e.ctrlKey&&b==1)b=3;return b;}var on=CodeMirror.on=function(emitter,type,f){if(emitter.addEventListener)emitter.addEventListener(type,f,false);else if(emitter.attachEvent)emitter.attachEvent(\"on\"+type,f);else{var map=emitter._handlers||(emitter._handlers={});var arr=map[type]||(map[type]=[]);arr.push(f);}};var noHandlers=[];function getHandlers(emitter,type,copy){var arr=emitter._handlers&&emitter._handlers[type];if(copy)return arr&&arr.length>0?arr.slice():noHandlers;else return arr||noHandlers;}var off=CodeMirror.off=function(emitter,type,f){if(emitter.removeEventListener)emitter.removeEventListener(type,f,false);else if(emitter.detachEvent)emitter.detachEvent(\"on\"+type,f);else{var handlers=getHandlers(emitter,type,false);for(var i=0;i<handlers.length;++i){if(handlers[i]==f){handlers.splice(i,1);break;}}}};var signal=CodeMirror.signal=function(emitter,type){var handlers=getHandlers(emitter,type,true);if(!handlers.length)return;var args=Array.prototype.slice.call(arguments,2);for(var i=0;i<handlers.length;++i){handlers[i].apply(null,args);}};var orphanDelayedCallbacks=null;function signalLater(emitter,type){var arr=getHandlers(emitter,type,false);if(!arr.length)return;var args=Array.prototype.slice.call(arguments,2),list;if(operationGroup){list=operationGroup.delayedCallbacks;}else if(orphanDelayedCallbacks){list=orphanDelayedCallbacks;}else{list=orphanDelayedCallbacks=[];setTimeout(fireOrphanDelayed,0);}function bnd(f){return function(){f.apply(null,args);};};for(var i=0;i<arr.length;++i){list.push(bnd(arr[i]));}}function fireOrphanDelayed(){var delayed=orphanDelayedCallbacks;orphanDelayedCallbacks=null;for(var i=0;i<delayed.length;++i){delayed[i]();}}function signalDOMEvent(cm,e,override){if(typeof e==\"string\")e={type:e,preventDefault:function preventDefault(){this.defaultPrevented=true;}};signal(cm,override||e.type,cm,e);return e_defaultPrevented(e)||e.codemirrorIgnore;}function signalCursorActivity(cm){var arr=cm._handlers&&cm._handlers.cursorActivity;if(!arr)return;var set=cm.curOp.cursorActivityHandlers||(cm.curOp.cursorActivityHandlers=[]);for(var i=0;i<arr.length;++i){if(indexOf(set,arr[i])==-1)set.push(arr[i]);}}function hasHandler(emitter,type){return getHandlers(emitter,type).length>0;}function eventMixin(ctor){ctor.prototype.on=function(type,f){on(this,type,f);};ctor.prototype.off=function(type,f){off(this,type,f);};}var scrollerGap=30;var Pass=CodeMirror.Pass={toString:function toString(){return\"CodeMirror.Pass\";}};var sel_dontScroll={scroll:false},sel_mouse={origin:\"*mouse\"},sel_move={origin:\"+move\"};function Delayed(){this.id=null;}Delayed.prototype.set=function(ms,f){clearTimeout(this.id);this.id=setTimeout(f,ms);};var countColumn=CodeMirror.countColumn=function(string,end,tabSize,startIndex,startValue){if(end==null){end=string.search(/[^\\s\\u00a0]/);if(end==-1)end=string.length;}for(var i=startIndex||0,n=startValue||0;;){var nextTab=string.indexOf(\"\\t\",i);if(nextTab<0||nextTab>=end)return n+(end-i);n+=nextTab-i;n+=tabSize-n%tabSize;i=nextTab+1;}};var findColumn=CodeMirror.findColumn=function(string,goal,tabSize){for(var pos=0,col=0;;){var nextTab=string.indexOf(\"\\t\",pos);if(nextTab==-1)nextTab=string.length;var skipped=nextTab-pos;if(nextTab==string.length||col+skipped>=goal)return pos+Math.min(skipped,goal-col);col+=nextTab-pos;col+=tabSize-col%tabSize;pos=nextTab+1;if(col>=goal)return pos;}};var spaceStrs=[\"\"];function spaceStr(n){while(spaceStrs.length<=n){spaceStrs.push(lst(spaceStrs)+\" \");}return spaceStrs[n];}function lst(arr){return arr[arr.length-1];}var selectInput=function selectInput(node){node.select();};if(ios)selectInput=function selectInput(node){node.selectionStart=0;node.selectionEnd=node.value.length;};else if(ie)selectInput=function selectInput(node){try{node.select();}catch(_e){}};function indexOf(array,elt){for(var i=0;i<array.length;++i){if(array[i]==elt)return i;}return-1;}function map(array,f){var out=[];for(var i=0;i<array.length;i++){out[i]=f(array[i],i);}return out;}function nothing(){}function createObj(base,props){var inst;if(_create2.default){inst=(0,_create2.default)(base);}else{nothing.prototype=base;inst=new nothing();}if(props)copyObj(props,inst);return inst;};function copyObj(obj,target,overwrite){if(!target)target={};for(var prop in obj){if(obj.hasOwnProperty(prop)&&(overwrite!==false||!target.hasOwnProperty(prop)))target[prop]=obj[prop];}return target;}function bind(f){var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args);};}var nonASCIISingleCaseWordChar=/[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;var isWordCharBasic=CodeMirror.isWordChar=function(ch){return /\\w/.test(ch)||ch>\"\\x80\"&&(ch.toUpperCase()!=ch.toLowerCase()||nonASCIISingleCaseWordChar.test(ch));};function isWordChar(ch,helper){if(!helper)return isWordCharBasic(ch);if(helper.source.indexOf(\"\\\\w\")>-1&&isWordCharBasic(ch))return true;return helper.test(ch);}function isEmpty(obj){for(var n in obj){if(obj.hasOwnProperty(n)&&obj[n])return false;}return true;}var extendingChars=/[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;function isExtendingChar(ch){return ch.charCodeAt(0)>=768&&extendingChars.test(ch);}function elt(tag,content,className,style){var e=document.createElement(tag);if(className)e.className=className;if(style)e.style.cssText=style;if(typeof content==\"string\")e.appendChild(document.createTextNode(content));else if(content)for(var i=0;i<content.length;++i){e.appendChild(content[i]);}return e;}var range;if(document.createRange)range=function range(node,start,end,endNode){var r=document.createRange();r.setEnd(endNode||node,end);r.setStart(node,start);return r;};else range=function range(node,start,end){var r=document.body.createTextRange();try{r.moveToElementText(node.parentNode);}catch(e){return r;}r.collapse(true);r.moveEnd(\"character\",end);r.moveStart(\"character\",start);return r;};function removeChildren(e){for(var count=e.childNodes.length;count>0;--count){e.removeChild(e.firstChild);}return e;}function removeChildrenAndAdd(parent,e){return removeChildren(parent).appendChild(e);}var contains=CodeMirror.contains=function(parent,child){if(child.nodeType==3)child=child.parentNode;if(parent.contains)return parent.contains(child);do{if(child.nodeType==11)child=child.host;if(child==parent)return true;}while(child=child.parentNode);};function activeElt(){var activeElement=document.activeElement;while(activeElement&&activeElement.root&&activeElement.root.activeElement){activeElement=activeElement.root.activeElement;}return activeElement;}if(ie&&ie_version<11)activeElt=function activeElt(){try{return document.activeElement;}catch(e){return document.body;}};function classTest(cls){return new RegExp(\"(^|\\\\s)\"+cls+\"(?:$|\\\\s)\\\\s*\");}var rmClass=CodeMirror.rmClass=function(node,cls){var current=node.className;var match=classTest(cls).exec(current);if(match){var after=current.slice(match.index+match[0].length);node.className=current.slice(0,match.index)+(after?match[1]+after:\"\");}};var addClass=CodeMirror.addClass=function(node,cls){var current=node.className;if(!classTest(cls).test(current))node.className+=(current?\" \":\"\")+cls;};function joinClasses(a,b){var as=a.split(\" \");for(var i=0;i<as.length;i++){if(as[i]&&!classTest(as[i]).test(b))b+=\" \"+as[i];}return b;}function forEachCodeMirror(f){if(!document.body.getElementsByClassName)return;var byClass=document.body.getElementsByClassName(\"CodeMirror\");for(var i=0;i<byClass.length;i++){var cm=byClass[i].CodeMirror;if(cm)f(cm);}}var globalsRegistered=false;function ensureGlobalHandlers(){if(globalsRegistered)return;registerGlobalHandlers();globalsRegistered=true;}function registerGlobalHandlers(){var resizeTimer;on(window,\"resize\",function(){if(resizeTimer==null)resizeTimer=setTimeout(function(){resizeTimer=null;forEachCodeMirror(onResize);},100);});on(window,\"blur\",function(){forEachCodeMirror(onBlur);});}var dragAndDrop=function(){if(ie&&ie_version<9)return false;var div=elt('div');return\"draggable\"in div||\"dragDrop\"in div;}();var zwspSupported;function zeroWidthElement(measure){if(zwspSupported==null){var test=elt(\"span\",\"\\u200B\");removeChildrenAndAdd(measure,elt(\"span\",[test,document.createTextNode(\"x\")]));if(measure.firstChild.offsetHeight!=0)zwspSupported=test.offsetWidth<=1&&test.offsetHeight>2&&!(ie&&ie_version<8);}var node=zwspSupported?elt(\"span\",\"\\u200B\"):elt(\"span\",\"\\xA0\",null,\"display: inline-block; width: 1px; margin-right: -1px\");node.setAttribute(\"cm-text\",\"\");return node;}var badBidiRects;function hasBadBidiRects(measure){if(badBidiRects!=null)return badBidiRects;var txt=removeChildrenAndAdd(measure,document.createTextNode(\"A\\u062EA\"));var r0=range(txt,0,1).getBoundingClientRect();if(!r0||r0.left==r0.right)return false;var r1=range(txt,1,2).getBoundingClientRect();return badBidiRects=r1.right-r0.right<3;}var splitLinesAuto=CodeMirror.splitLines=\"\\n\\nb\".split(/\\n/).length!=3?function(string){var pos=0,result=[],l=string.length;while(pos<=l){var nl=string.indexOf(\"\\n\",pos);if(nl==-1)nl=string.length;var line=string.slice(pos,string.charAt(nl-1)==\"\\r\"?nl-1:nl);var rt=line.indexOf(\"\\r\");if(rt!=-1){result.push(line.slice(0,rt));pos+=rt+1;}else{result.push(line);pos=nl+1;}}return result;}:function(string){return string.split(/\\r\\n?|\\n/);};var hasSelection=window.getSelection?function(te){try{return te.selectionStart!=te.selectionEnd;}catch(e){return false;}}:function(te){try{var range=te.ownerDocument.selection.createRange();}catch(e){}if(!range||range.parentElement()!=te)return false;return range.compareEndPoints(\"StartToEnd\",range)!=0;};var hasCopyEvent=function(){var e=elt(\"div\");if(\"oncopy\"in e)return true;e.setAttribute(\"oncopy\",\"return;\");return typeof e.oncopy==\"function\";}();var badZoomedRects=null;function hasBadZoomedRects(measure){if(badZoomedRects!=null)return badZoomedRects;var node=removeChildrenAndAdd(measure,elt(\"span\",\"x\"));var normal=node.getBoundingClientRect();var fromRange=range(node,0,1).getBoundingClientRect();return badZoomedRects=Math.abs(normal.left-fromRange.left)>1;}var keyNames=CodeMirror.keyNames={3:\"Enter\",8:\"Backspace\",9:\"Tab\",13:\"Enter\",16:\"Shift\",17:\"Ctrl\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Esc\",32:\"Space\",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"Left\",38:\"Up\",39:\"Right\",40:\"Down\",44:\"PrintScrn\",45:\"Insert\",46:\"Delete\",59:\";\",61:\"=\",91:\"Mod\",92:\"Mod\",93:\"Mod\",106:\"*\",107:\"=\",109:\"-\",110:\".\",111:\"/\",127:\"Delete\",173:\"-\",186:\";\",187:\"=\",188:\",\",189:\"-\",190:\".\",191:\"/\",192:\"`\",219:\"[\",220:\"\\\\\",221:\"]\",222:\"'\",63232:\"Up\",63233:\"Down\",63234:\"Left\",63235:\"Right\",63272:\"Delete\",63273:\"Home\",63275:\"End\",63276:\"PageUp\",63277:\"PageDown\",63302:\"Insert\"};(function(){for(var i=0;i<10;i++){keyNames[i+48]=keyNames[i+96]=String(i);}for(var i=65;i<=90;i++){keyNames[i]=String.fromCharCode(i);}for(var i=1;i<=12;i++){keyNames[i+111]=keyNames[i+63235]=\"F\"+i;}})();function iterateBidiSections(order,from,to,f){if(!order)return f(from,to,\"ltr\");var found=false;for(var i=0;i<order.length;++i){var part=order[i];if(part.from<to&&part.to>from||from==to&&part.to==from){f(Math.max(part.from,from),Math.min(part.to,to),part.level==1?\"rtl\":\"ltr\");found=true;}}if(!found)f(from,to,\"ltr\");}function bidiLeft(part){return part.level%2?part.to:part.from;}function bidiRight(part){return part.level%2?part.from:part.to;}function lineLeft(line){var order=getOrder(line);return order?bidiLeft(order[0]):0;}function lineRight(line){var order=getOrder(line);if(!order)return line.text.length;return bidiRight(lst(order));}function lineStart(cm,lineN){var line=getLine(cm.doc,lineN);var visual=visualLine(line);if(visual!=line)lineN=lineNo(visual);var order=getOrder(visual);var ch=!order?0:order[0].level%2?lineRight(visual):lineLeft(visual);return Pos(lineN,ch);}function lineEnd(cm,lineN){var merged,line=getLine(cm.doc,lineN);while(merged=collapsedSpanAtEnd(line)){line=merged.find(1,true).line;lineN=null;}var order=getOrder(line);var ch=!order?line.text.length:order[0].level%2?lineLeft(line):lineRight(line);return Pos(lineN==null?lineNo(line):lineN,ch);}function lineStartSmart(cm,pos){var start=lineStart(cm,pos.line);var line=getLine(cm.doc,start.line);var order=getOrder(line);if(!order||order[0].level==0){var firstNonWS=Math.max(0,line.text.search(/\\S/));var inWS=pos.line==start.line&&pos.ch<=firstNonWS&&pos.ch;return Pos(start.line,inWS?0:firstNonWS);}return start;}function compareBidiLevel(order,a,b){var linedir=order[0].level;if(a==linedir)return true;if(b==linedir)return false;return a<b;}var bidiOther;function getBidiPartAt(order,pos){bidiOther=null;for(var i=0,found;i<order.length;++i){var cur=order[i];if(cur.from<pos&&cur.to>pos)return i;if(cur.from==pos||cur.to==pos){if(found==null){found=i;}else if(compareBidiLevel(order,cur.level,order[found].level)){if(cur.from!=cur.to)bidiOther=found;return i;}else{if(cur.from!=cur.to)bidiOther=i;return found;}}}return found;}function moveInLine(line,pos,dir,byUnit){if(!byUnit)return pos+dir;do{pos+=dir;}while(pos>0&&isExtendingChar(line.text.charAt(pos)));return pos;}function moveVisually(line,start,dir,byUnit){var bidi=getOrder(line);if(!bidi)return moveLogically(line,start,dir,byUnit);var pos=getBidiPartAt(bidi,start),part=bidi[pos];var target=moveInLine(line,start,part.level%2?-dir:dir,byUnit);for(;;){if(target>part.from&&target<part.to)return target;if(target==part.from||target==part.to){if(getBidiPartAt(bidi,target)==pos)return target;part=bidi[pos+=dir];return dir>0==part.level%2?part.to:part.from;}else{part=bidi[pos+=dir];if(!part)return null;if(dir>0==part.level%2)target=moveInLine(line,part.to,-1,byUnit);else target=moveInLine(line,part.from,1,byUnit);}}}function moveLogically(line,start,dir,byUnit){var target=start+dir;if(byUnit)while(target>0&&isExtendingChar(line.text.charAt(target))){target+=dir;}return target<0||target>line.text.length?null:target;}var bidiOrdering=function(){var lowTypes=\"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";var arabicTypes=\"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\";function charType(code){if(code<=0xf7)return lowTypes.charAt(code);else if(0x590<=code&&code<=0x5f4)return\"R\";else if(0x600<=code&&code<=0x6ed)return arabicTypes.charAt(code-0x600);else if(0x6ee<=code&&code<=0x8ac)return\"r\";else if(0x2000<=code&&code<=0x200b)return\"w\";else if(code==0x200c)return\"b\";else return\"L\";}var bidiRE=/[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;var isNeutral=/[stwN]/,isStrong=/[LRr]/,countsAsLeft=/[Lb1n]/,countsAsNum=/[1n]/;var outerType=\"L\";function BidiSpan(level,from,to){this.level=level;this.from=from;this.to=to;}return function(str){if(!bidiRE.test(str))return false;var len=str.length,types=[];for(var i=0,type;i<len;++i){types.push(type=charType(str.charCodeAt(i)));}for(var i=0,prev=outerType;i<len;++i){var type=types[i];if(type==\"m\")types[i]=prev;else prev=type;}for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(type==\"1\"&&cur==\"r\")types[i]=\"n\";else if(isStrong.test(type)){cur=type;if(type==\"r\")types[i]=\"R\";}}for(var i=1,prev=types[0];i<len-1;++i){var type=types[i];if(type==\"+\"&&prev==\"1\"&&types[i+1]==\"1\")types[i]=\"1\";else if(type==\",\"&&prev==types[i+1]&&(prev==\"1\"||prev==\"n\"))types[i]=prev;prev=type;}for(var i=0;i<len;++i){var type=types[i];if(type==\",\")types[i]=\"N\";else if(type==\"%\"){for(var end=i+1;end<len&&types[end]==\"%\";++end){}var replace=i&&types[i-1]==\"!\"||end<len&&types[end]==\"1\"?\"1\":\"N\";for(var j=i;j<end;++j){types[j]=replace;}i=end-1;}}for(var i=0,cur=outerType;i<len;++i){var type=types[i];if(cur==\"L\"&&type==\"1\")types[i]=\"L\";else if(isStrong.test(type))cur=type;}for(var i=0;i<len;++i){if(isNeutral.test(types[i])){for(var end=i+1;end<len&&isNeutral.test(types[end]);++end){}var before=(i?types[i-1]:outerType)==\"L\";var after=(end<len?types[end]:outerType)==\"L\";var replace=before||after?\"L\":\"R\";for(var j=i;j<end;++j){types[j]=replace;}i=end-1;}}var order=[],m;for(var i=0;i<len;){if(countsAsLeft.test(types[i])){var start=i;for(++i;i<len&&countsAsLeft.test(types[i]);++i){}order.push(new BidiSpan(0,start,i));}else{var pos=i,at=order.length;for(++i;i<len&&types[i]!=\"L\";++i){}for(var j=pos;j<i;){if(countsAsNum.test(types[j])){if(pos<j)order.splice(at,0,new BidiSpan(1,pos,j));var nstart=j;for(++j;j<i&&countsAsNum.test(types[j]);++j){}order.splice(at,0,new BidiSpan(2,nstart,j));pos=j;}else++j;}if(pos<i)order.splice(at,0,new BidiSpan(1,pos,i));}}if(order[0].level==1&&(m=str.match(/^\\s+/))){order[0].from=m[0].length;order.unshift(new BidiSpan(0,0,m[0].length));}if(lst(order).level==1&&(m=str.match(/\\s+$/))){lst(order).to-=m[0].length;order.push(new BidiSpan(0,len-m[0].length,len));}if(order[0].level==2)order.unshift(new BidiSpan(1,order[0].to,order[0].to));if(order[0].level!=lst(order).level)order.push(new BidiSpan(order[0].level,len,len));return order;};}();CodeMirror.version=\"5.9.0\";return CodeMirror;});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module)))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = new _vue2.default();\n\n/***/ },\n/* 3 */,\n/* 4 */,\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */,\n/* 17 */,\n/* 18 */,\n/* 19 */,\n/* 20 */,\n/* 21 */,\n/* 22 */,\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(119)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(62)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(135)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"Resizer\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 24 */,\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {\"use strict\";\n\t\n\tvar _typeof2 = __webpack_require__(6);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function (mod) {\n\t  if (( false ? \"undefined\" : (0, _typeof3.default)(exports)) == \"object\" && ( false ? \"undefined\" : (0, _typeof3.default)(module)) == \"object\") mod(__webpack_require__(1));else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else mod(CodeMirror);\n\t})(function (CodeMirror) {\n\t  \"use strict\";\n\t\n\t  function Bar(cls, orientation, scroll) {\n\t    this.orientation = orientation;\n\t    this.scroll = scroll;\n\t    this.screen = this.total = this.size = 1;\n\t    this.pos = 0;\n\t\n\t    this.node = document.createElement(\"div\");\n\t    this.node.className = cls + \"-\" + orientation;\n\t    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\t\n\t    var self = this;\n\t    CodeMirror.on(this.inner, \"mousedown\", function (e) {\n\t      if (e.which != 1) return;\n\t      CodeMirror.e_preventDefault(e);\n\t      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n\t      var start = e[axis],\n\t          startpos = self.pos;\n\t      function done() {\n\t        CodeMirror.off(document, \"mousemove\", move);\n\t        CodeMirror.off(document, \"mouseup\", done);\n\t      }\n\t      function move(e) {\n\t        if (e.which != 1) return done();\n\t        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n\t      }\n\t      CodeMirror.on(document, \"mousemove\", move);\n\t      CodeMirror.on(document, \"mouseup\", done);\n\t    });\n\t\n\t    CodeMirror.on(this.node, \"click\", function (e) {\n\t      CodeMirror.e_preventDefault(e);\n\t      var innerBox = self.inner.getBoundingClientRect(),\n\t          where;\n\t      if (self.orientation == \"horizontal\") where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;else where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n\t      self.moveTo(self.pos + where * self.screen);\n\t    });\n\t\n\t    function onWheel(e) {\n\t      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n\t      var oldPos = self.pos;\n\t      self.moveTo(self.pos + moved);\n\t      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n\t    }\n\t    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n\t    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n\t  }\n\t\n\t  Bar.prototype.moveTo = function (pos, update) {\n\t    if (pos < 0) pos = 0;\n\t    if (pos > this.total - this.screen) pos = this.total - this.screen;\n\t    if (pos == this.pos) return;\n\t    this.pos = pos;\n\t    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] = pos * (this.size / this.total) + \"px\";\n\t    if (update !== false) this.scroll(pos, this.orientation);\n\t  };\n\t\n\t  var minButtonSize = 10;\n\t\n\t  Bar.prototype.update = function (scrollSize, clientSize, barSize) {\n\t    this.screen = clientSize;\n\t    this.total = scrollSize;\n\t    this.size = barSize;\n\t\n\t    var buttonSize = this.screen * (this.size / this.total);\n\t    if (buttonSize < minButtonSize) {\n\t      this.size -= minButtonSize - buttonSize;\n\t      buttonSize = minButtonSize;\n\t    }\n\t    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] = buttonSize + \"px\";\n\t    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] = this.pos * (this.size / this.total) + \"px\";\n\t  };\n\t\n\t  function SimpleScrollbars(cls, place, scroll) {\n\t    this.addClass = cls;\n\t    this.horiz = new Bar(cls, \"horizontal\", scroll);\n\t    place(this.horiz.node);\n\t    this.vert = new Bar(cls, \"vertical\", scroll);\n\t    place(this.vert.node);\n\t    this.width = null;\n\t  }\n\t\n\t  SimpleScrollbars.prototype.update = function (measure) {\n\t    if (this.width == null) {\n\t      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n\t      if (style) this.width = parseInt(style.height);\n\t    }\n\t    var width = this.width || 0;\n\t\n\t    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n\t    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n\t    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n\t    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\t\n\t    if (needsV) {\n\t      this.vert.update(measure.scrollHeight, measure.clientHeight, measure.viewHeight - (needsH ? width : 0));\n\t      this.vert.node.style.display = \"block\";\n\t      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n\t    }\n\t    if (needsH) {\n\t      this.horiz.update(measure.scrollWidth, measure.clientWidth, measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n\t      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n\t      this.horiz.node.style.left = measure.barLeft + \"px\";\n\t    }\n\t\n\t    return { right: needsV ? width : 0, bottom: needsH ? width : 0 };\n\t  };\n\t\n\t  SimpleScrollbars.prototype.setScrollTop = function (pos) {\n\t    this.vert.moveTo(pos, false);\n\t  };\n\t\n\t  SimpleScrollbars.prototype.setScrollLeft = function (pos) {\n\t    this.horiz.moveTo(pos, false);\n\t  };\n\t\n\t  SimpleScrollbars.prototype.clear = function () {\n\t    var parent = this.horiz.node.parentNode;\n\t    parent.removeChild(this.horiz.node);\n\t    parent.removeChild(this.vert.node);\n\t  };\n\t\n\t  CodeMirror.scrollbarModel.simple = function (place, scroll) {\n\t    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n\t  };\n\t  CodeMirror.scrollbarModel.overlay = function (place, scroll) {\n\t    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n\t  };\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module)))\n\n/***/ },\n/* 26 */,\n/* 27 */,\n/* 28 */,\n/* 29 */,\n/* 30 */,\n/* 31 */,\n/* 32 */,\n/* 33 */,\n/* 34 */,\n/* 35 */,\n/* 36 */,\n/* 37 */,\n/* 38 */,\n/* 39 */,\n/* 40 */,\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Paxer = __webpack_require__(68);\n\t\n\tvar _Paxer2 = _interopRequireDefault(_Paxer);\n\t\n\tvar _Semantic = __webpack_require__(69);\n\t\n\tvar _Semantic2 = _interopRequireDefault(_Semantic);\n\t\n\tvar _Benchmark = __webpack_require__(67);\n\t\n\tvar _Benchmark2 = _interopRequireDefault(_Benchmark);\n\t\n\tvar _index = __webpack_require__(46);\n\t\n\tvar _index2 = _interopRequireDefault(_index);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Processor() {\n\t  var self = this;\n\t  var paxer = self.paxer = _Paxer2.default.new();\n\t  var semantic = self.semantic = new _Semantic2.default();\n\t\n\t  self.compilee = function () {};\n\t\n\t  self.compile = function (file) {\n\t    self.compilee(file);\n\t    if (file) {\n\t      Cache.st = {};\n\t      _index2.default.commit('updateStateSymbolTable', {\n\t        symbols: []\n\t      });\n\t      _EventBus2.default.$emit('sys:console.log', 'Compile \\'' + file.fileName + '\\'...');\n\t      self.paxer.setInput(file.content);\n\t    }\n\t  };\n\t\n\t  self.preprocesscode = function (code) {\n\t    var processed;\n\t    var findOperatorReg = /(\\+|\\-|\\*|\\/|!=|>=?|<=?|==?)/g,\n\t        findDelimiterReg = /(\\(|\\)|\\{|}|;|,|\\$)/g;\n\t    code = code.replace(/\\n/g, \" \").replace(findOperatorReg, \" $1 \").replace(findDelimiterReg, \" $1 \").replace(/[ ]+/g, \" \").replace(/(else|then)\\s+\\{/g, \"$1{\").replace(/}\\s+(else)/, \"}$1\").trim() + \" \";\n\t    processed = code.replace(/(then|else|then\\{|else\\{|}else\\{|\\{|}|;)\\s/g, \"$1\\n\").replace(/\\s+(,|;|\\))/g, \"$1\").replace(/\\(\\s+/g, \"(\").replace(/(then|else)\\{/g, \"$1 {\").replace(/}(else)/, \"} $1\");\n\t\n\t    return processed;\n\t  };\n\t\n\t  self.compileNext = function () {\n\t    var status = paxer.getStatus();\n\t    if (status == 'DONE' || status == 'ERROR') {\n\t      return;\n\t    }\n\t    paxer.go();\n\t    switch (status = paxer.getStatus()) {\n\t      case \"DONE\":\n\t        semantic.eat(paxer.getRootS(), paxer.getSymbolTable());\n\t        _EventBus2.default.$emit('sys:console.success', paxer.getCurMovementF());\n\t        _EventBus2.default.$emit('sys:console.success', 'code parsed.');\n\t        _EventBus2.default.$emit('sys:console.warn', paxer.getWarningMsg());\n\t        _EventBus2.default.$emit('sys:console.error', semantic.getErrorMsg());\n\t\n\t        _EventBus2.default.$emit('sys:parse-tree.assembly', semantic.getAssembly());\n\t\n\t        return;\n\t      case \"ERROR\":\n\t        _EventBus2.default.$emit('sys:console.error', paxer.getErrMsg());\n\t        return;\n\t      case \"WARNING\":\n\t      case \"NORMAL\":\n\t        _EventBus2.default.$emit('sys:console.success', paxer.getCurMovementF());\n\t        _EventBus2.default.$emit('sys:parse-tree.render', paxer.getSequentialNodes());\n\t    }\n\t    _index2.default.commit('updateStateSymbolTable', {\n\t      symbols: paxer.getSymbolTable()\n\t    });\n\t    return status;\n\t  };\n\t  self.compileFF = function () {\n\t    var status = paxer.getStatus();\n\t    if (status == \"DONE\") {\n\t      _EventBus2.default.$emit('sys:console.success', 'code parsed.');\n\t    } else if (paxer.getStatus() == \"ERROR\") {\n\t      _EventBus2.default.$emit('sys:console.error', paxer.getErrMsg());\n\t    } else {\n\t      _Benchmark2.default.mark(\"parse\");\n\t      while (paxer.getStatus() != \"DONE\" && paxer.getStatus() != \"ERROR\") {\n\t        paxer.go();\n\t      }\n\t      switch (status = paxer.getStatus()) {\n\t        case 'DONE':\n\t          semantic.eat(paxer.getRootS(), paxer.getSymbolTable());\n\t          var parseTime = _Benchmark2.default.measure(\"parse\");\n\t\n\t          _EventBus2.default.$emit('sys:parse-tree.assembly', semantic.getAssembly());\n\t\n\t          _EventBus2.default.$emit('sys:console.success', paxer.getMovementsF());\n\t          _EventBus2.default.$emit('sys:console.warn', paxer.getWarningMsg());\n\t          _EventBus2.default.$emit('sys:console.error', semantic.getErrorMsg());\n\t          _EventBus2.default.$emit('sys:console.success', \"Compile finished in \" + parseTime.toFixed(4) + \" millisecs.\");\n\t          _EventBus2.default.$emit('sys:console.success', \"Can we make it faster?\");\n\t          break;\n\t        case 'ERROR':\n\t          _EventBus2.default.$emit('sys:console.error', paxer.getErrMsg());\n\t          break;\n\t      }\n\t    }\n\t\n\t    _index2.default.commit('updateStateSymbolTable', {\n\t      symbols: paxer.getSymbolTable()\n\t    });\n\t    return status;\n\t  };\n\t}\n\texports.default = new Processor();\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar fakeStorage = void 0;\n\t\n\texports.default = function (storage) {\n\t  var testKey = \"test\";\n\t\n\t  try {\n\t    storage.setItem(testKey, \"1\");\n\t    storage.removeItem(testKey);\n\t    return storage;\n\t  } catch (error) {\n\t    if (fakeStorage) {\n\t      return fakeStorage;\n\t    }\n\t    storage = function () {\n\t      var _data = {};\n\t\n\t      return {\n\t        setItem: function setItem(id, val) {\n\t          _data[id] = String(val);\n\t          return _data[id];\n\t        },\n\t\n\t        getItem: function getItem(id) {\n\t          return _data.hasOwnProperty(id) ? this._data[id] : undefined;\n\t        },\n\t\n\t        removeItem: function removeItem(id) {\n\t          return delete _data[id];\n\t        },\n\t\n\t        clear: function clear() {\n\t          _data = {};\n\t          return _data;\n\t        }\n\t      };\n\t    }();\n\t    return fakeStorage = storage;\n\t  }\n\t};\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {\"use strict\";\n\t\n\tvar _typeof2 = __webpack_require__(6);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function (mod) {\n\t  if (( false ? \"undefined\" : (0, _typeof3.default)(exports)) == \"object\" && ( false ? \"undefined\" : (0, _typeof3.default)(module)) == \"object\") {\n\t      mod(__webpack_require__(1));\n\t    } else if (true) {\n\t      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else {\n\t      mod(CodeMirror);\n\t    }\n\t})(function (CodeMirror) {\n\t  \"use strict\";\n\t\n\t  CodeMirror.defineMode(\"console\", function (config, parserConfig) {\n\t\n\t    var TOKEN_NAMES = {\n\t      '+': 'positive',\n\t      '-': 'negative',\n\t      ':': 'comment',\n\t      '@': 'def'\n\t    };\n\t\n\t    return {\n\t      startState: function startState() {\n\t        return {\n\t          ctx: TOKEN_NAMES[\":\"]\n\t        };\n\t      },\n\t      token: function token(stream, state) {\n\t        var tw_pos = stream.string.search(/[\\t ]+?$/);\n\t\n\t        if (!stream.sol() || tw_pos === 0) {\n\t          stream.skipToEnd();\n\t          return state.ctx;\n\t        }\n\t\n\t        var token_name = TOKEN_NAMES[stream.peek()] || stream.skipToEnd();\n\t\n\t        if (tw_pos === -1) {\n\t          stream.skipToEnd();\n\t        } else {\n\t          stream.pos = tw_pos;\n\t        }\n\t\n\t        var type = state.ctx = token_name || state.ctx;\n\t        return type;\n\t      }\n\t    };\n\t  });\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module)))\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction EditorTab(file) {\n\t  return new _vue2.default({\n\t    data: {\n\t      file: file,\n\t      cachedContent: file.content,\n\t      cursorPosition: {\n\t        line: 0,\n\t        ch: 0\n\t      },\n\t      history: {\n\t        done: [],\n\t        undone: []\n\t      }\n\t    },\n\t    computed: {\n\t      unsaved: function unsaved() {\n\t        return this.cachedContent != this.file.content;\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\texports.default = EditorTab;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(26);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction $defined(v) {\n\t  return v !== undefined;\n\t}\n\tfunction File(name, content, isNew) {\n\t  return new _vue2.default({\n\t    data: {\n\t      isNew: $defined(isNew) ? isNew : true,\n\t      name: $defined(name) ? name.replace(/(\\.toy)$/, \"\") : \"untitled\",\n\t      content: content || \"\"\n\t    },\n\t    computed: {\n\t      fileName: function fileName() {\n\t        return this.isNew ? this.name : this.name + \".toy\";\n\t      }\n\t    },\n\t    methods: {\n\t      serialize: function serialize() {\n\t        return (0, _stringify2.default)({\n\t          name: this.name,\n\t          content: this.content\n\t        });\n\t      }\n\t    }\n\t  });\n\t}\n\t\n\tFile.example = function () {\n\t  return new File(\"example\", \"{\\n\" + \"    int a;\\n\" + \"    real b;\\n\" + \"    a = 1;\\n\" + \"    b = 2.0;\\n\" + \"    if (a > b) then {\\n\" + \"        b = a;\\n\" + \"    } else {\\n\" + \"        b = b - a;\\n\" + \"    }\\n\" + \"}\", false);\n\t};\n\texports.default = File;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _keys = __webpack_require__(47);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _vuex2 = _interopRequireDefault(_vuex);\n\t\n\tvar _fileManager = __webpack_require__(75);\n\t\n\tvar _fileManager2 = _interopRequireDefault(_fileManager);\n\t\n\tvar _editor = __webpack_require__(74);\n\t\n\tvar _editor2 = _interopRequireDefault(_editor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vuex2.default);\n\t\n\texports.default = new _vuex2.default.Store({\n\t  modules: {\n\t    fileManager: _fileManager2.default,\n\t    editor: _editor2.default\n\t  },\n\t  state: {\n\t    ui: {\n\t      mode: 'edit'\n\t    },\n\t    about: {\n\t      show: false\n\t    },\n\t    console: {\n\t      open: false,\n\t      height: 0\n\t    },\n\t    workspace: {\n\t      open: true,\n\t      width: 200\n\t    },\n\t    symbolTable: {\n\t      open: false,\n\t      width: 300,\n\t      symbols: []\n\t    },\n\t    parseTree: {\n\t      open: false,\n\t      width: 300\n\t    },\n\t    renameDialog: {\n\t      show: false,\n\t      name: '',\n\t      renaming: null\n\t    }\n\t  },\n\t  mutations: {\n\t    updateState: function updateState(state, payload) {\n\t      var obj = state[payload.key];\n\t      if (obj) {\n\t        (0, _keys2.default)(obj).forEach(function (key) {\n\t          if (payload.hasOwnProperty(key)) {\n\t            obj[key] = payload[key];\n\t          }\n\t        });\n\t      }\n\t    },\n\t    updateStateAbout: function updateStateAbout(state, payload) {\n\t      (0, _keys2.default)(state.about).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.about[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateConsole: function updateStateConsole(state, payload) {\n\t      (0, _keys2.default)(state.console).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.console[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateWorkspace: function updateStateWorkspace(state, payload) {\n\t      (0, _keys2.default)(state.workspace).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.workspace[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateSymbolTable: function updateStateSymbolTable(state, payload) {\n\t      (0, _keys2.default)(state.symbolTable).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.symbolTable[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateParseTree: function updateStateParseTree(state, payload) {\n\t      (0, _keys2.default)(state.parseTree).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.parseTree[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateUI: function updateStateUI(state, payload) {\n\t      (0, _keys2.default)(state.ui).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.ui[key] = payload[key];\n\t        }\n\t      });\n\t    },\n\t    updateStateRenameDialog: function updateStateRenameDialog(state, payload) {\n\t      (0, _keys2.default)(state.renameDialog).forEach(function (key) {\n\t        if (payload.hasOwnProperty(key)) {\n\t          state.renameDialog[key] = payload[key];\n\t        }\n\t      });\n\t    }\n\t  },\n\t  actions: {}\n\t});\n\n/***/ },\n/* 47 */,\n/* 48 */,\n/* 49 */,\n/* 50 */,\n/* 51 */,\n/* 52 */,\n/* 53 */,\n/* 54 */,\n/* 55 */,\n/* 56 */,\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _ToolBar = __webpack_require__(128);\n\t\n\tvar _ToolBar2 = _interopRequireDefault(_ToolBar);\n\t\n\tvar _Layout = __webpack_require__(125);\n\t\n\tvar _Layout2 = _interopRequireDefault(_Layout);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    ToolBar: _ToolBar2.default,\n\t    Layout: _Layout2.default\n\t  },\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)(['about', 'console', 'workspace', 'symbolTable', 'parseTree', 'ui', 'renameDialog', 'fileManager']), (0, _vuex.mapGetters)(['currentCursorPos', 'editorNeedSave'])),\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapMutations)(['updateStateAbout', 'updateStateConsole', 'updateStateWorkspace', 'updateStateSymbolTable', 'updateStateParseTree', 'updateStateUI', 'updateStateRenameDialog']), (0, _vuex.mapActions)(['saveFilesToStorage', 'cacheFile']), {\n\t    hideAbout: function hideAbout() {\n\t      this.updateStateAbout({\n\t        show: false\n\t      });\n\t    },\n\t    toggleAbout: function toggleAbout() {\n\t      this.updateStateAbout({\n\t        show: !this.about.show\n\t      });\n\t    },\n\t    toggleConsole: function toggleConsole() {\n\t      this.updateStateConsole({\n\t        open: !this.console.open\n\t      });\n\t    },\n\t    toggleWorkspace: function toggleWorkspace() {\n\t      this.updateStateWorkspace({\n\t        open: !this.workspace.open\n\t      });\n\t    },\n\t    toggleSymbolTable: function toggleSymbolTable() {\n\t      this.updateStateSymbolTable({\n\t        open: !this.symbolTable.open\n\t      });\n\t    },\n\t    toggleParseTree: function toggleParseTree() {\n\t      this.updateStateParseTree({\n\t        open: !this.parseTree.open\n\t      });\n\t    },\n\t    compileMode: function compileMode(compile) {\n\t      if (compile) {\n\t\n\t        this.updateStateUI({\n\t          mode: 'compile'\n\t        });\n\t\n\t        this.updateStateWorkspace({\n\t          open: false\n\t        });\n\t        this.updateStateSymbolTable({\n\t          open: true\n\t        });\n\t        this.updateStateParseTree({\n\t          open: true\n\t        });\n\t\n\t        this.updateStateConsole({\n\t          open: true\n\t        });\n\t\n\t        this.$nextTick(function () {\n\t          _EventBus2.default.$emit('sys:parse-tree.reset');\n\t          _EventBus2.default.$emit('sys:parse-tree.resize');\n\t          _EventBus2.default.$emit('sys:console.clear');\n\t        });\n\t      } else {\n\t        this.updateStateUI({\n\t          mode: 'edit'\n\t        });\n\t        this.updateStateWorkspace({\n\t          open: true\n\t        });\n\t        this.updateStateSymbolTable({\n\t          open: false\n\t        });\n\t\n\t        this.updateStateParseTree({\n\t          open: false\n\t        });\n\t      }\n\t    },\n\t    renameFile: function renameFile(file) {\n\t      this.updateStateRenameDialog({\n\t        show: true,\n\t        renaming: file,\n\t        name: file.name\n\t      });\n\t    },\n\t    onRenameConfirm: function onRenameConfirm() {\n\t      var name = this.renameDialog.name.replace(/(\\.toy)+$/, '');\n\t      if (this.fileManager.fileMap[name + '.toy']) {\n\t        if (!confirm(\"File '\" + name + \".toy' already exists. Want to overwrite?\")) {\n\t          return;\n\t        }\n\t      }\n\t      this.renameDialog.renaming.name = name;\n\t      this.renameDialog.renaming.isNew = false;\n\t      this.cacheFile(this.renameDialog.renaming);\n\t      this.saveFilesToStorage();\n\t      _EventBus2.default.$emit('sys:rename.confirm', this.renameDialog.renaming);\n\t      this.updateStateRenameDialog({\n\t        show: false,\n\t        renaming: null,\n\t        name: ''\n\t      });\n\t    },\n\t    onRenameCancel: function onRenameCancel() {\n\t      _EventBus2.default.$emit('sys:rename.cancel', this.renameDialog.renaming);\n\t      this.updateStateRenameDialog({\n\t        show: false,\n\t        renaming: null,\n\t        name: ''\n\t      });\n\t    }\n\t  }),\n\t  created: function created() {\n\t    var _this = this;\n\t\n\t    _EventBus2.default.$on('sys:compile', this.compileMode);\n\t    _EventBus2.default.$on('sys:rename', this.renameFile);\n\t    window.onbeforeunload = function () {\n\t      if (_this.editorNeedSave) {\n\t        return \"\";\n\t      }\n\t    };\n\t    window.onunload = function () {\n\t      _EventBus2.default.$emit('sys:editor.save');\n\t      this.saveFilesToStorage();\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    _EventBus2.default.$emit('sys:console.log', \"Compiler lauched at \" + new Date().toTimeString());\n\t  }\n\t};\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Resizer = __webpack_require__(23);\n\t\n\tvar _Resizer2 = _interopRequireDefault(_Resizer);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tvar _codemirror = __webpack_require__(1);\n\t\n\tvar _codemirror2 = _interopRequireDefault(_codemirror);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(25);\n\t__webpack_require__(43);\n\t\n\tfunction _preoutput(addon, para) {\n\t  return addon + para.replace(/\\s*\\n/g, \"\\n  \") + \"\\n\";\n\t}\n\t\n\tfunction _lastNLines(str, n) {\n\t  return str.split(\"\\n\").slice(-n).join(\"\\n\");\n\t}\n\t\n\texports.default = {\n\t  components: {\n\t    Resizer: _Resizer2.default\n\t  },\n\t  props: {\n\t    height: {\n\t      type: Number,\n\t      twoWay: true\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      cm: null,\n\t      oldHeight: 0\n\t    };\n\t  },\n\t\n\t  computed: (0, _vuex.mapState)(['console']),\n\t  watch: {\n\t    'console.open': function consoleOpen(val) {\n\t      if (val) {\n\t        this.cm && this.cm.focus();\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    onResizeBegin: function onResizeBegin() {\n\t      this.oldHeight = this.height;\n\t    },\n\t    onResize: function onResize(delta) {\n\t      this.$emit('console:resize', this.oldHeight - delta);\n\t    },\n\t    outputWithAddon: function outputWithAddon(addon, str) {\n\t      if (str) {\n\t        if (this.cm) {\n\t          if (str instanceof Object) {\n\t            str = str.toString();\n\t          }\n\t          this.cm.setValue(_lastNLines(this.cm.getValue() + _preoutput(addon, str), 1000));\n\t        } else {\n\t          window.console.log(str);\n\t        }\n\t      }\n\t    },\n\t    log: function log(str) {\n\t      if (this.cm) {\n\t        this.cm.setValue(_lastNLines(this.cm.getValue() + _preoutput(\": \", str), 1000));\n\t      } else {\n\t        window.console.log(str);\n\t      }\n\t    },\n\t    error: function error(str) {\n\t      this.outputWithAddon(\"- \", str);\n\t    },\n\t    success: function success(str) {\n\t      this.outputWithAddon(\"+ \", str);\n\t    },\n\t    warn: function warn(str) {\n\t      this.outputWithAddon(\"@ \", str);\n\t    },\n\t    clear: function clear() {\n\t      this.cm.setValue(\"\");\n\t    }\n\t  },\n\t  created: function created() {\n\t    _EventBus2.default.$on('sys:console.log', this.log).$on('sys:console.error', this.error).$on('sys:console.success', this.success).$on('sys:console.warn', this.warn).$on('sys:console.clear', this.clear);\n\t  },\n\t  mounted: function mounted() {\n\t    var cm = this.cm = _codemirror2.default.fromTextArea(this.$refs.textarea, {\n\t      theme: \"monokai-so\",\n\t      mode: \"console\",\n\t      readOnly: \"nocursor\",\n\t      scrollbarStyle: \"overlay\",\n\t      viewportMargin: Infinity\n\t    });\n\t\n\t    cm.on(\"change\", function (cm) {\n\t      cm.scrollIntoView(cm.doc.lastLine(), 1);\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(26);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _File = __webpack_require__(45);\n\t\n\tvar _File2 = _interopRequireDefault(_File);\n\t\n\tvar _EditorTab = __webpack_require__(44);\n\t\n\tvar _EditorTab2 = _interopRequireDefault(_EditorTab);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _codemirror = __webpack_require__(1);\n\t\n\tvar _codemirror2 = _interopRequireDefault(_codemirror);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _Processor = __webpack_require__(41);\n\t\n\tvar _Processor2 = _interopRequireDefault(_Processor);\n\t\n\tvar _storage = __webpack_require__(42);\n\t\n\tvar _storage2 = _interopRequireDefault(_storage);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(25);\n\t__webpack_require__(73);\n\t\n\tvar Storage = (0, _storage2.default)(window.localStorage);\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      cm: null\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    'editorState': 'editor',\n\t\n\t    'fileManager': 'fileManager'\n\t  }), (0, _vuex.mapGetters)(['unsavedTabs']), {\n\t    tabs: function tabs() {\n\t      return this.editorState.tabs;\n\t    },\n\t    currentTab: function currentTab() {\n\t      return this.editorState.currentTab;\n\t    }\n\t  }),\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapActions)(['openFile', 'closeTab', 'switchTab', 'saveFilesToStorage']), (0, _vuex.mapMutations)(['setCompilee', 'updateStateUI']), {\n\t    openNewFile: function openNewFile() {\n\t      var _this = this;\n\t\n\t      var newFile = new _File2.default();\n\t      if (newFile) {\n\t        _EventBus2.default.$emit('sys:rename', newFile);\n\t        _EventBus2.default.$on('sys:rename.confirm', function () {\n\t          _this.openFile(newFile);\n\t          _EventBus2.default.$off('sys:rename.confirm');\n\t        });\n\t      }\n\t    },\n\t    saveAllTabs: function saveAllTabs() {\n\t      var _this2 = this;\n\t\n\t      this.unsavedTabs.forEach(function (tab) {\n\t        tab.file.content = tab.cachedContent;\n\t      });\n\t      this.saveFilesToStorage();\n\t\n\t      var openedFiles = [];\n\t      this.editorState.tabs.forEach(function (tab) {\n\t        openedFiles.push(tab.file.fileName);\n\t        if (tab == _this2.currentTab) {\n\t          Storage.setItem(\"last-editing\", tab.file.fileName);\n\t        }\n\t      });\n\t      Storage.setItem(\"opened-files\", (0, _stringify2.default)(openedFiles));\n\t    },\n\t    formatCode: function formatCode() {\n\t      var code = this.cm.getValue();\n\t      this.cm.setValue(_Processor2.default.preprocesscode(code));\n\t      for (var i = 0; i < this.cm.doc.lastLine(); i++) {\n\t        this.cm.indentLine(i, \"smart\");\n\t      }\n\t      this.cm.focus();\n\t    },\n\t    compile: function compile() {\n\t      var tab = this.currentTab;\n\t      if (tab) {\n\t        this.saveAllTabs();\n\t        var file = tab.file;\n\t        if (file.isNew) {\n\t          return;\n\t        }\n\t        this.lock();\n\t        this.setCompilee(file);\n\t        _EventBus2.default.$emit('sys:compile', true);\n\t        _Processor2.default.compile(file);\n\t      }\n\t    },\n\t    stop: function stop() {\n\t      this.unlock();\n\t      this.setCompilee(null);\n\t      _EventBus2.default.$emit('sys:compile', false);\n\t    },\n\t    lock: function lock() {\n\t      this.cm.setOption(\"readOnly\", \"nocursor\");\n\t    },\n\t    unlock: function unlock() {\n\t      this.cm.setOption(\"readOnly\", false);\n\t    },\n\t    loadOpenedFiles: function loadOpenedFiles() {\n\t      var _this3 = this;\n\t\n\t      var openedFiles = JSON.parse(Storage.getItem(\"opened-files\") || \"[]\"),\n\t          lastEditing = Storage.getItem(\"last-editing\");\n\t      openedFiles.push(lastEditing);\n\t      openedFiles.forEach(function (opened) {\n\t        var file = _this3.fileManager.fileMap[opened];\n\t        if (file) {\n\t          _this3.openFile(file);\n\t        }\n\t      });\n\t    }\n\t  }),\n\t  watch: {\n\t    'editorState.currentTab': function editorStateCurrentTab(newTab, oldTab) {\n\t      if (oldTab) {\n\t        oldTab.cursorPosition = this.cm.doc.getCursor();\n\t        oldTab.history = this.cm.doc.getHistory();\n\t        oldTab.cachedContent = this.cm.getValue();\n\t      }\n\t      if (newTab) {\n\t        this.cm.setValue(newTab.cachedContent);\n\t        this.cm.doc.setHistory(newTab.history);\n\t        this.cm.doc.setCursor(newTab.cursorPosition);\n\t        this.cm.focus();\n\t      }\n\t    }\n\t  },\n\t  created: function created() {\n\t    _EventBus2.default.$on('sys:editor.open', this.openFile);\n\t    _EventBus2.default.$on('sys:editor.save', this.saveAllTabs);\n\t    _EventBus2.default.$on('sys:editor.tidy', this.formatCode);\n\t    _EventBus2.default.$on('sys:editor.compile', this.compile);\n\t    _EventBus2.default.$on('sys:editor.stop', this.stop);\n\t    this.loadOpenedFiles();\n\t  },\n\t  mounted: function mounted() {\n\t    var _this4 = this;\n\t\n\t    var cm = this.cm = _codemirror2.default.fromTextArea(this.$refs.textarea, {\n\t      lineNumbers: true,\n\t      mode: \"toy\",\n\t      indentUnit: 4,\n\t      theme: \"monokai-so\",\n\t      autoCloseBrackets: true,\n\t      matchBrackets: true,\n\t      styleActiveLine: true,\n\t      showCursorWhenSelecting: true,\n\t      scrollbarStyle: \"overlay\",\n\t      selectionPointer: true,\n\t      styleSelectedText: true\n\t    });\n\t    cm.on(\"change\", function (cm, change) {\n\t      if (_this4.currentTab) {\n\t        _this4.currentTab.cachedContent = cm.getValue();\n\t      }\n\t    });\n\t\n\t    _codemirror2.default.commands.save = function () {\n\t      _this4.saveAllTabs();\n\t    };\n\t\n\t    cm.on(\"cursorActivity\", function (cm) {\n\t      if (_this4.currentTab) {\n\t        _this4.currentTab.cursorPosition = cm.doc.getCursor();\n\t      }\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _Workspace = __webpack_require__(129);\n\t\n\tvar _Workspace2 = _interopRequireDefault(_Workspace);\n\t\n\tvar _SymbolTable = __webpack_require__(127);\n\t\n\tvar _SymbolTable2 = _interopRequireDefault(_SymbolTable);\n\t\n\tvar _ParseTree = __webpack_require__(126);\n\t\n\tvar _ParseTree2 = _interopRequireDefault(_ParseTree);\n\t\n\tvar _Editor = __webpack_require__(124);\n\t\n\tvar _Editor2 = _interopRequireDefault(_Editor);\n\t\n\tvar _Console = __webpack_require__(123);\n\t\n\tvar _Console2 = _interopRequireDefault(_Console);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    Workspace: _Workspace2.default,\n\t    SymbolTable: _SymbolTable2.default,\n\t    ParseTree: _ParseTree2.default,\n\t    Editor: _Editor2.default,\n\t    Console: _Console2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      elHeight: 0,\n\t      elWidth: 0,\n\t      storedConsoleHeight: 0,\n\t      workspaceWidth: 0,\n\t      symbolTableWidth: 0,\n\t      currentActiveBox: null\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)(['workspace', 'console', 'symbolTable', 'parseTree']), {\n\t    consoleHeight: function consoleHeight() {\n\t      return this.console.open ? this.console.height : 0;\n\t    },\n\t    workspaceWidth: function workspaceWidth() {\n\t      return this.workspace.open ? this.workspace.width : 0;\n\t    },\n\t    symbolTableWidth: function symbolTableWidth() {\n\t      return this.symbolTable.open ? this.symbolTable.width : 0;\n\t    },\n\t    parseTreeWidth: function parseTreeWidth() {\n\t      return this.parseTree.open ? this.parseTree.width : 0;\n\t    },\n\t    upperHeight: function upperHeight() {\n\t      return this.elHeight - this.consoleHeight - 48;\n\t    },\n\t    editorWidth: function editorWidth() {\n\t      return this.elWidth - this.workspaceWidth - this.symbolTableWidth - this.parseTreeWidth;\n\t    },\n\t    upperStyleObj: function upperStyleObj() {\n\t      return {\n\t        height: this.upperHeight + 'px'\n\t      };\n\t    },\n\t    centerStyleObj: function centerStyleObj() {\n\t      return {\n\t        marginLeft: this.workspaceWidth + 'px',\n\t        marginRight: this.symbolTableWidth + 'px'\n\t      };\n\t    },\n\t    leftStyleObj: function leftStyleObj() {\n\t      return {\n\t        width: this.workspaceWidth + 'px'\n\t      };\n\t    },\n\t    rightStyleObj: function rightStyleObj() {\n\t      return {\n\t        width: this.symbolTableWidth + 'px',\n\t        marginLeft: -this.symbolTableWidth + 'px'\n\t      };\n\t    }\n\t  }),\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapMutations)(['updateStateConsole', 'updateStateWorkspace', 'updateStateSymbolTable', 'updateStateParseTree']), {\n\t    onConsoleResize: function onConsoleResize(height) {\n\t      this.updateStateConsole({\n\t        height: Math.max(0, Math.min(this.elHeight, height))\n\t      });\n\t      if (this.parseTree.open) {\n\t        _EventBus2.default.$emit('sys:parse-tree.resize');\n\t      }\n\t    },\n\t    onConsoleClose: function onConsoleClose() {\n\t      this.updateStateConsole({\n\t        open: false\n\t      });\n\t    },\n\t    onWorkspaceResize: function onWorkspaceResize(width) {\n\t      this.updateStateWorkspace({\n\t        width: Math.max(0, Math.min(this.elWidth - this.symbolTableWidth, width))\n\t      });\n\t    },\n\t    onWorkspaceClose: function onWorkspaceClose() {\n\t      this.updateStateWorkspace({\n\t        open: false\n\t      });\n\t    },\n\t    onSymbolTableResize: function onSymbolTableResize(width) {\n\t      this.updateStateSymbolTable({\n\t        width: Math.max(0, Math.min(this.elWidth - this.workspaceWidth - this.parseTreeWidth, width))\n\t      });\n\t    },\n\t    onSymbolTableClose: function onSymbolTableClose() {\n\t      this.updateStateSymbolTable({\n\t        open: false\n\t      });\n\t    },\n\t    onParseTreeResize: function onParseTreeResize(width) {\n\t      this.updateStateParseTree({\n\t        width: Math.max(0, Math.min(this.elWidth - this.workspaceWidth - this.symbolTableWidth, width))\n\t      });\n\t      _EventBus2.default.$emit('sys:parse-tree.resize');\n\t    },\n\t    onParseTreeClose: function onParseTreeClose() {\n\t      this.updateStateParseTree({\n\t        open: false\n\t      });\n\t    }\n\t  }),\n\t  mounted: function mounted() {\n\t    this.elHeight = this.$el.clientHeight;\n\t    this.elWidth = this.$el.clientWidth;\n\t    this.updateStateConsole({\n\t      height: this.elHeight * 0.3\n\t    });\n\t    this.updateStateParseTree({\n\t      width: this.elWidth - 600\n\t    });\n\t  }\n\t};\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _compiler = __webpack_require__(70);\n\t\n\tvar _compiler2 = _interopRequireDefault(_compiler);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tvar _Resizer = __webpack_require__(23);\n\t\n\tvar _Resizer2 = _interopRequireDefault(_Resizer);\n\t\n\tvar _codemirror = __webpack_require__(1);\n\t\n\tvar _codemirror2 = _interopRequireDefault(_codemirror);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t__webpack_require__(25);\n\t__webpack_require__(43);\n\texports.default = {\n\t  components: {\n\t    Resizer: _Resizer2.default\n\t  },\n\t  data: function data() {\n\t    return {\n\t      oldWidth: 0,\n\t      pen: null,\n\t      cm: null,\n\t      showAssembly: false\n\t    };\n\t  },\n\t\n\t  props: {\n\t    width: Number\n\t  },\n\t  methods: {\n\t    onResizeBegin: function onResizeBegin() {\n\t      this.oldWidth = this.width;\n\t    },\n\t    onResize: function onResize(delta) {\n\t      this.$emit('parse-tree:resize', this.oldWidth - delta);\n\t    },\n\t    resizePen: function resizePen() {\n\t      this.pen.render({\n\t        width: this.$refs.boxBody.clientWidth,\n\t        height: this.$refs.boxBody.clientHeight\n\t      });\n\t    },\n\t    clearPen: function clearPen() {\n\t      this.pen.canvas.clear();\n\t    },\n\t    resetPen: function resetPen() {\n\t      this.pen.setSource([[\"0\", \"program\", 1, \"\", \"1\", \"0\"]]);\n\t    },\n\t    renderPen: function renderPen(nodes) {\n\t      this.pen.setSource(nodes);\n\t      this.pen.render();\n\t    },\n\t    assembly: function assembly(content) {\n\t      this.cm.setValue(content);\n\t      this.showAssembly = true;\n\t    }\n\t  },\n\t  mounted: function mounted() {\n\t    this.pen = new _compiler2.default(\"tree-pane\", {\n\t      radius: 10\n\t    });\n\t    _EventBus2.default.$on('sys:parse-tree.render', this.renderPen);\n\t    _EventBus2.default.$on('sys:parse-tree.resize', this.resizePen);\n\t    _EventBus2.default.$on('sys:parse-tree.reset', this.resetPen);\n\t\n\t    this.cm = _codemirror2.default.fromTextArea(this.$refs.textarea, {\n\t      theme: \"monokai-so\",\n\t      mode: \"console\",\n\t      readOnly: \"nocursor\",\n\t      scrollbarStyle: \"overlay\",\n\t      viewportMargin: Infinity\n\t    });\n\t    _EventBus2.default.$on('sys:parse-tree.assembly', this.assembly);\n\t  }\n\t};\n\n/***/ },\n/* 62 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  props: {\n\t    type: String\n\t  },\n\t  data: function data() {\n\t    return {\n\t      resizing: false,\n\t      resizeStart: 0,\n\t      resizeEnd: 0\n\t    };\n\t  },\n\t\n\t  computed: {\n\t    resizeDelta: function resizeDelta() {\n\t      return this.resizeEnd - this.resizeStart;\n\t    }\n\t  },\n\t  methods: {\n\t    onMouseDown: function onMouseDown(e) {\n\t      this.resizing = true;\n\t      this.resizeStart = this.type == 'horizontal' ? e.clientY : e.clientX;\n\t\n\t      this.$emit('resizer:begin');\n\t    },\n\t    onMouseMove: function onMouseMove(e) {\n\t      if (this.resizing) {\n\t        this.resizeEnd = this.type == 'horizontal' ? e.clientY : e.clientX;\n\t        this.$emit('resizer:resize', this.resizeDelta);\n\t      }\n\t    },\n\t    onMouseUp: function onMouseUp() {\n\t      this.resizing = false;\n\t      this.$emit('resizer:end');\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _Resizer = __webpack_require__(23);\n\t\n\tvar _Resizer2 = _interopRequireDefault(_Resizer);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    Resizer: _Resizer2.default\n\t  },\n\t  props: {\n\t    width: Number\n\t  },\n\t  data: function data() {\n\t    return {\n\t      oldWidth: 0\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)({\n\t    'symbolTableState': 'symbolTable'\n\t  }), {\n\t    symbols: function symbols() {\n\t      return this.symbolTableState.symbols;\n\t    }\n\t  }),\n\t  methods: {\n\t    onResizeBegin: function onResizeBegin() {\n\t      this.oldWidth = this.width;\n\t    },\n\t    onResize: function onResize(delta) {\n\t      this.$emit('symbol-table:resize', this.oldWidth - delta);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tvar _Processor = __webpack_require__(41);\n\t\n\tvar _Processor2 = _interopRequireDefault(_Processor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapState)(['ui']), (0, _vuex.mapGetters)(['editorNeedSave'])),\n\t  methods: (0, _extends3.default)({}, (0, _vuex.mapMutations)(['updateStateUI']), {\n\t    updateUIMode: function updateUIMode(mode) {\n\t      this.updateStateUI({\n\t        mode: mode\n\t      });\n\t    },\n\t    save: function save() {\n\t      _EventBus2.default.$emit('sys:editor.save');\n\t    },\n\t    tidy: function tidy() {\n\t      _EventBus2.default.$emit('sys:editor.tidy');\n\t    },\n\t    compile: function compile() {\n\t      _EventBus2.default.$emit('sys:editor.compile');\n\t    },\n\t    stop: function stop() {\n\t      _EventBus2.default.$emit('sys:editor.stop');\n\t    },\n\t    next: function next() {\n\t      _Processor2.default.compileNext();\n\t    },\n\t    ff: function ff() {\n\t      _Processor2.default.compileFF();\n\t    }\n\t  })\n\t};\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends2 = __webpack_require__(10);\n\t\n\tvar _extends3 = _interopRequireDefault(_extends2);\n\t\n\tvar _Resizer = __webpack_require__(23);\n\t\n\tvar _Resizer2 = _interopRequireDefault(_Resizer);\n\t\n\tvar _vuex = __webpack_require__(5);\n\t\n\tvar _EventBus = __webpack_require__(2);\n\t\n\tvar _EventBus2 = _interopRequireDefault(_EventBus);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    Resizer: _Resizer2.default\n\t  },\n\t  props: {\n\t    width: Number\n\t  },\n\t  data: function data() {\n\t    return {\n\t      oldWidth: 0,\n\t      selectedFile: null\n\t    };\n\t  },\n\t\n\t  computed: (0, _extends3.default)({}, (0, _vuex.mapGetters)({\n\t    files: 'fileList'\n\t  })),\n\t  methods: {\n\t    onResizeBegin: function onResizeBegin() {\n\t      this.oldWidth = this.width;\n\t    },\n\t    onResize: function onResize(delta) {\n\t      this.$emit('workspace:resize', this.oldWidth + delta);\n\t    },\n\t    openFileInEditor: function openFileInEditor(file) {\n\t      _EventBus2.default.$emit('sys:editor.open', file);\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 66 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar has = exports.has = function has(arr, ele) {\n\t  return arr.indexOf(ele) != -1;\n\t};\n\t\n\tvar hasThose = exports.hasThose = function hasThose(arr, filterFunc) {\n\t  return arr.filter(filterFunc).length > 0;\n\t};\n\tvar remove = exports.remove = function remove(arr, ele) {\n\t  var index = arr.indexOf(ele);\n\t  if (index != -1) {\n\t    arr.splice(index, 1);\n\t  }\n\t};\n\t\n\tvar front = exports.front = function front(arr) {\n\t  return arr[0];\n\t};\n\t\n\tvar rear = exports.rear = function rear(arr) {\n\t  if (arr.length) {\n\t    return arr[arr.length - 1];\n\t  }\n\t};\n\n/***/ },\n/* 67 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar marks = {};\n\tvar _mark = function _mark(name) {\n\t  marks[name] = window.performance ? window.performance.now() : new Date().getTime();\n\t},\n\t    _measure = function _measure(name) {\n\t  var now = window.performance ? window.performance.now() : new Date().getTime();\n\t  return now - marks[name];\n\t},\n\t    _test = function _test(func, repeat, self) {\n\t  _mark(\"test\");\n\t  for (var i = 0; i < repeat; i++) {\n\t    func.apply(self || this, Array.prototype.slice.call(arguments, 3));\n\t  }\n\t  var result = _measure(\"test\");\n\t  _clear(\"test\");\n\t  return result;\n\t},\n\t    _clear = function _clear(name) {\n\t  delete marks[name];\n\t};\n\texports.default = {\n\t  mark: _mark,\n\t  measure: _measure,\n\t  test: _test,\n\t  clear: _clear\n\t};\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof2 = __webpack_require__(6);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Invalid = undefined;\n\tvar SymbolTable = {\n\t  new: function _new() {\n\t    var symbolTable = {};\n\t\n\t    var tableA, indexA;\n\t    var count = 0;\n\t    symbolTable.handle = function (token) {\n\t      function addSymbol(token) {\n\t        var symbol = {\n\t          name: token.lexeme,\n\t          type: undefined,\n\t          value: undefined,\n\t          positions: [token.position]\n\t        };\n\t        tableA.push(symbol);\n\t        indexA[token.lexeme] = count;\n\t\n\t        count += 1;\n\t      }\n\t      function updateSymbol(token) {\n\t        tableA[indexA[token.lexeme]].positions.push(token.position);\n\t      }\n\t      if (!tableA.hasOwnProperty(indexA[token.lexeme])) {\n\t        addSymbol(token);\n\t      } else {\n\t        updateSymbol(token);\n\t      }\n\t    };\n\t    symbolTable.reset = function () {\n\t      tableA = [];\n\t      indexA = {};\n\t      count = 0;\n\t    };\n\t    symbolTable.get = function () {\n\t\n\t      return tableA.slice();\n\t    };\n\t    symbolTable.getD = function () {};\n\t    symbolTable.getLength = function () {\n\t\n\t      return count;\n\t    };\n\t    return symbolTable;\n\t  }\n\t};\n\tvar Lexer = {\n\t  new: function _new() {\n\t    var rules = [{ regExp: /^int$/, abstract: 'int', containValue: 'false' }, { regExp: /^real$/, abstract: 'real', containValue: 'false' }, { regExp: /^if$/, abstract: 'if', containValue: 'false' }, { regExp: /^then$/, abstract: 'then', containValue: 'false' }, { regExp: /^else$/, abstract: 'else', containValue: 'false' }, { regExp: /^while$/, abstract: 'while', containValue: 'false' }, { regExp: /^\\($/, abstract: '(', containValue: 'true' }, { regExp: /^\\)$/, abstract: ')', containValue: 'true' }, { regExp: /^\\{$/, abstract: '{', containValue: 'true' }, { regExp: /^\\}$/, abstract: '}', containValue: 'true' }, { regExp: /^,$/, abstract: ',', containValue: 'true' }, { regExp: /^;$/, abstract: ';', containValue: 'true' }, { regExp: /^\\+$/, abstract: '+', containValue: 'true' }, { regExp: /^-$/, abstract: '-', containValue: 'true' }, { regExp: /^\\*$/, abstract: '*', containValue: 'true' }, { regExp: /^\\/$/, abstract: '/', containValue: 'true' }, { regExp: /^[a-zA-Z][a-zA-Z0-9]*$/, abstract: 'ID', containValue: 'true' }, { regExp: /^<=$/, abstract: '<=', containValue: 'true' }, { regExp: /^<$/, abstract: '<', containValue: 'true' }, { regExp: /^\\=\\=$/, abstract: '==', containValue: 'true' }, { regExp: /^>=$/, abstract: '>=', containValue: 'true' }, { regExp: /^>$/, abstract: '>', containValue: 'true' }, { regExp: /^!=$/, abstract: '!=', containValue: 'true' }, { regExp: /^\\=$/, abstract: '=', containValue: 'true' }, { regExp: /^[0-9]*\\.[0-9]+$/, abstract: 'NUM', containValue: 'true' }, { regExp: /^[0-9]+\\.?$/, abstract: 'NUM', containValue: 'true' }];\n\t    var Pointer = {\n\t      new: function _new() {\n\t        var pointer = {};\n\t        var first_row, first_col, last_row, last_col;\n\t        pointer.reset = function () {\n\t          first_row = 1;\n\t          last_row = 1;\n\t          first_col = 1;\n\t          last_col = 1;\n\t        };\n\t        pointer.shift = function (step) {\n\t\n\t          last_col += step;\n\t        };\n\t        pointer.newLine = function () {\n\t          last_col = 1;\n\t          last_row++;\n\t        };\n\t        pointer.reduce = function () {\n\t          first_row = last_row;\n\t          first_col = last_col;\n\t        };\n\t        pointer.get = function () {\n\t          return {\n\t            first_row: first_row,\n\t            last_row: last_row,\n\t            first_col: first_col,\n\t            last_col: last_col\n\t          };\n\t        };\n\t        return pointer;\n\t      }\n\t    };\n\t    var pointer = Pointer.new();\n\t    var symbolTable = SymbolTable.new();\n\t    var lexer = {};\n\t    var status = ['NORMAL', 'ERROR', 'DONE'];\n\t    var curStatus;\n\t    var lexSequence;\n\t    var errorMsg;\n\t    var input;\n\t    var curLexeme;\n\t    var matched, next, token;\n\t    var needBlank = false;\n\t    var lexing = 0;\n\t    lexer.getErrMsg = function () {\n\t\n\t      return errorMsg;\n\t    };\n\t    lexer.getStatus = function () {\n\t\n\t      return curStatus;\n\t    };\n\t    lexer.getSymbolTable = function () {\n\t\n\t      return symbolTable.get();\n\t    };\n\t    lexer.setInput = function (_input) {\n\t      lexer.reset();\n\t      input = _input;\n\t      curStatus = status[0];\n\t    };\n\t    lexer.reset = function () {\n\t      symbolTable.reset();\n\t      pointer.reset();\n\t      errorMsg = \"\";\n\t      lexSequence = [];\n\t      curLexeme = \"\";\n\t      lexing = 0;\n\t      curStatus = status[2];\n\t      needBlank = false;\n\t    };\n\t    lexer.lexDone = function () {\n\t\n\t      return curStatus == status[2];\n\t    };\n\t    lexer.lex = function (singleStepping) {\n\t      function tryMatch(input) {\n\t        var i;\n\t        for (i = 0; i < rules.length; i += 1) {\n\t          if (rules.hasOwnProperty(i)) {\n\t            if (input.match(rules[i].regExp)) {\n\t              return {\n\t                lexeme: input,\n\t                abstract: rules[i].abstract,\n\t                position: pointer.get(),\n\t                containValue: rules[i].containValue\n\t              };\n\t            }\n\t          }\n\t        }\n\t        return false;\n\t      }\n\t      if (curStatus != status[0]) {\n\t        return false;\n\t      }\n\t      curLexeme = '';\n\t      while (lexing < input.length) {\n\t        next = input[lexing];\n\t        matched = tryMatch(curLexeme + next);\n\t        if (!matched) {\n\t          if (tryMatch(curLexeme).abstract == 'NUM' && tryMatch(next).abstract == 'ID') {\n\t            errorMsg = \"UNDEFINED SYMBOL '\" + curLexeme + next + \"' AT ROW \" + pointer.get().first_row + \", COL \" + pointer.get().first_col;\n\t            curStatus = status[1];\n\t            return false;\n\t          }\n\t          if (curLexeme == '') {\n\t            if (next.match(/\\ /) != null) pointer.shift(1);else if (next.match(/\\t/) != null) pointer.shift(4);else if (next.match(/\\n/) != null) pointer.newLine();else {\n\t              errorMsg = \"UNDEFINED SYMBOL '\" + next + \"' AT ROW \" + pointer.get().first_row + \", COL \" + pointer.get().first_col;\n\t              curStatus = status[1];\n\t              return false;\n\t            }\n\t          } else {\n\t            lexing -= 1;\n\t            token = tryMatch(curLexeme);\n\t            lexSequence.push(token);\n\t            if (token.abstract == 'ID') symbolTable.handle(token);\n\t            if (singleStepping) {\n\t              pointer.reduce();\n\t              curLexeme = \"\";\n\t              lexing += 1;\n\t              return true;\n\t            }\n\t          }\n\t          pointer.reduce();\n\t          curLexeme = \"\";\n\t        } else {\n\t          curLexeme += next;\n\t          pointer.shift(1);\n\t        }\n\t        lexing += 1;\n\t      }\n\t      token = tryMatch(curLexeme);\n\t      if (token) {\n\t        lexSequence.push(token);\n\t        return true;\n\t      }\n\t      pointer.reduce();\n\t      token = {\n\t        lexeme: \"$\",\n\t        abstract: \"$\",\n\t        position: pointer.get()\n\t      };\n\t      lexSequence.push(token);\n\t      curStatus = status[2];\n\t      return true;\n\t    };\n\t    lexer.getToken = function () {\n\t\n\t      return token;\n\t    };\n\t    lexer.getSequence = function () {\n\t\n\t      return lexSequence;\n\t    };\n\t    lexer.getSequenceByAbstract = function () {\n\t      var str = \"\";\n\t      var i;\n\t      for (i = 0; i < lexSequence.length; i += 1) {\n\t        str += lexSequence[i].abstract + ' ';\n\t      }\n\t      return str;\n\t    };\n\t    lexer.getSequenceByLexeme = function () {\n\t      var str = \"\";\n\t      var i;\n\t      for (i = 0; i < lexSequence.length; i += 1) {\n\t        str += lexSequence[i].lexeme + ' ';\n\t      }\n\t      return str;\n\t    };\n\t    return lexer;\n\t  }\n\t};\n\tvar Parser = {\n\t  new: function _new() {\n\t    var rules = [{}, { interminal: 'program', product: ['compoundstmt'] }, { interminal: 'stmt', product: ['decl'] }, { interminal: 'stmt', product: ['ifstmt'] }, { interminal: 'stmt', product: ['whilestmt'] }, { interminal: 'stmt', product: ['assgstmt'] }, { interminal: 'stmt', product: ['compoundstmt'] }, { interminal: 'compoundstmt', product: ['{', 'stmts', '}'] }, { interminal: 'stmts', product: ['stmt', 'stmts'] }, { interminal: 'stmts', product: [] }, { interminal: 'ifstmt', product: ['if', '(', 'boolexpr', ')', 'then', 'stmt', 'else', 'stmt'] }, { interminal: 'whilestmt', product: ['while', '(', 'boolexpr', ')', 'stmt'] }, { interminal: 'assgstmt', product: ['ID', '=', 'arithexpr', ';'] }, { interminal: 'decl', product: ['type', 'list', ';'] }, { interminal: 'type', product: ['int'] }, { interminal: 'type', product: ['real'] }, { interminal: 'list', product: ['ID', 'list1'] }, { interminal: 'list1', product: [',', 'list'] }, { interminal: 'list1', product: [] }, { interminal: 'boolexpr', product: ['arithexpr', 'boolop', 'arithexpr'] }, { interminal: 'boolop', product: ['<'] }, { interminal: 'boolop', product: ['>'] }, { interminal: 'boolop', product: ['<='] }, { interminal: 'boolop', product: ['>='] }, { interminal: 'boolop', product: ['=='] }, { interminal: 'arithexpr', product: ['multexpr', 'arithexprprime'] }, { interminal: 'arithexprprime', product: ['+', 'multexpr', 'arithexprprime'] }, { interminal: 'arithexprprime', product: ['-', 'multexpr', 'arithexprprime'] }, { interminal: 'arithexprprime', product: [] }, { interminal: 'multexpr', product: ['simpleexpr', 'multexprprime'] }, { interminal: 'multexprprime', product: ['*', 'simpleexpr', 'multexprprime'] }, { interminal: 'multexprprime', product: ['/', 'simpleexpr', 'multexprprime'] }, { interminal: 'multexprprime', product: [] }, { interminal: 'simpleexpr', product: ['ID'] }, { interminal: 'simpleexpr', product: ['NUM'] }, { interminal: 'simpleexpr', product: ['(', 'arithexpr', ')'] }];\n\t    var table = {\n\t      program: { '{': 1, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      stmt: { '{': 6, '}': 0, 'if': 3, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 4, 'int': 2, 'real': 2, 'ID': 5, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      compoundstmt: { '{': 7, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      stmts: { '{': 8, '}': 9, 'if': 8, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 8, 'int': 8, 'real': 8, 'ID': 8, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      ifstmt: { '{': 0, '}': 0, 'if': 10, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      whilestmt: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 11, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      assgstmt: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 12, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      decl: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 13, 'real': 13, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      type: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 14, 'real': 15, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      list: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 16, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      list1: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 17, ';': 18, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      boolexpr: { '{': 0, '}': 0, 'if': 0, '(': 19, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 19, 'NUM': 19, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      boolop: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 20, '>': 21, '<=': 22, '>=': 23, '==': 24, '$': 0 },\n\t      arithexpr: { '{': 0, '}': 0, 'if': 0, '(': 25, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 25, 'NUM': 25, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      arithexprprime: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 28, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 28, '+': 26, '-': 27, '*': 0, '/': 0, '=': 0, '<': 28, '>': 28, '<=': 28, '>=': 28, '==': 28, '$': 0 },\n\t      multexpr: { '{': 0, '}': 0, 'if': 0, '(': 29, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 29, 'NUM': 29, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 },\n\t      multexprprime: { '{': 0, '}': 0, 'if': 0, '(': 0, ')': 32, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 0, 'NUM': 0, ',': 0, ';': 32, '+': 32, '-': 32, '*': 30, '/': 31, '=': 0, '<': 32, '>': 32, '<=': 32, '>=': 32, '==': 32, '$': 0 },\n\t      simpleexpr: { '{': 0, '}': 0, 'if': 0, '(': 35, ')': 0, 'then': 0, 'else': 0, 'while': 0, 'int': 0, 'real': 0, 'ID': 33, 'NUM': 34, ',': 0, ';': 0, '+': 0, '-': 0, '*': 0, '/': 0, '=': 0, '<': 0, '>': 0, '<=': 0, '>=': 0, '==': 0, '$': 0 }\n\t    };\n\t    var Node = {\n\t      new: function _new(abstract, fatherNode) {\n\t        var node = {};\n\t        var subNodes = [];\n\t        node.fatherNode = fatherNode;\n\t        node.abstract = abstract;\n\t        node.name = Invalid;\n\t        node.value = Invalid;\n\t        node.type = Invalid;\n\t        node.formula = Invalid;\n\t        node.new = true;\n\t        node.parsed = false;\n\t        node.addSubNode = function (sNode) {\n\t          subNodes.unshift(sNode);\n\t        };\n\t        node.getSubNodes = function () {\n\t          return subNodes.slice();\n\t        };\n\t        node.setPosition = function (position) {\n\t          node.position = position;\n\t        };\n\t        node.assign = function (token, formula) {\n\t          if (token.containValue) {\n\t            switch (token.abstract) {\n\t              case 'ID':\n\t                node.name = token.lexeme;\n\t                node.type = undefined;\n\t                node.value = undefined;\n\t                break;\n\t              case 'NUM':\n\t                node.type = undefined;\n\t                node.value = Number(token.lexeme);\n\t                break;\n\t              case 'type':\n\t                node.value = token.lexeme.toLowerCase();\n\t                break;\n\t              default:\n\t                break;\n\t            }\n\t          }\n\t          node.formula = formula;\n\t        };\n\t        node.shiftSubNode = function () {\n\t          subNodes.shift();\n\t        };\n\t        newNodes.push(node);\n\t        return node;\n\t      },\n\t      epsilon: function epsilon() {\n\t        var node = {};\n\t        var subNodes = [];\n\t        node.abstract = '';\n\t        node.name = Invalid;\n\t        node.value = Invalid;\n\t        node.type = Invalid;\n\t        node.parsed = false;\n\t        node.getSubNodes = function () {\n\t          return subNodes.slice();\n\t        };\n\t        return node;\n\t      }\n\t    };\n\t    var parser = {};\n\t    var status = ['NORMAL', 'WARNING', 'ERROR', 'DONE'];\n\t    var curStatus;\n\t    var movements;\n\t    var root;\n\t    var errorMsg;\n\t    var warningMsgs;\n\t    var curWarningMsg;\n\t    var stack, input;\n\t    var curMovement;\n\t    var toBuild;\n\t    var building;\n\t    var lastPos;\n\t    var singleSpot;\n\t    var newNodes = [];\n\t    var curFormula;\n\t    var lastStmtsNode;\n\t    var recovering;\n\t    var parseErr;\n\t    var nextT;\n\t    var next;\n\t    parser.getStatus = function () {\n\t\n\t      return curStatus;\n\t    };\n\t    parser.reset = function () {\n\t      parseErr = false;\n\t      stack = ['$', 'program'];\n\t      input = [];\n\t      movements = [];\n\t      errorMsg = \"\";\n\t      warningMsgs = [];\n\t      curWarningMsg = \"\";\n\t      newNodes = [];\n\t      root = Node.new('program', Node.new());\n\t      toBuild = [root];\n\t      singleSpot = 0;\n\t      curStatus = status[3];\n\t      curMovement = [stack.slice(), input.slice(), {}];\n\t      recovering = false;\n\t    };\n\t    parser.setInput = function (_input) {\n\t      parser.reset();\n\t      input = _input;\n\t      curStatus = status[0];\n\t    };\n\t    parser.pushToken = function (token) {\n\t      nextT = token;\n\t      next = nextT.abstract;\n\t      input.push(token);\n\t    };\n\t    parser.parse = function (singleStepping) {\n\t      function isTerminal(symbol) {\n\t        var i;\n\t        for (i = 0; i < rules.length; i += 1) {\n\t          if (rules[i].interminal == symbol) {\n\t            return false;\n\t          }\n\t        }\n\t        return true;\n\t      }\n\t      function tryParse(stack, input) {\n\t        var top, next;\n\t        while (top != '$' && input.length > 0) {\n\t          next = input[0].abstract;\n\t          top = stack.pop();\n\t          if (top == next) {\n\t            input.shift();\n\t          } else if (isTerminal(top)) {\n\t            return false;\n\t          } else if (table[top][next] == 0) {\n\t            return false;\n\t          } else if (table[top][next] > 0) {\n\t            rule = table[top][next];\n\t            var product = rules[rule].product.slice();\n\t            while (product.length > 0) {\n\t              stack.push(product.pop());\n\t            }\n\t          }\n\t        }\n\t        return input.length == 0;\n\t      }\n\t      function cleanNewNodes() {\n\t        for (var i = 0; i < newNodes.length; i++) {\n\t          newNodes[i].new = false;\n\t        }\n\t        newNodes = [];\n\t      }\n\t      if (curStatus != status[0] && curStatus != status[1]) return false;\n\t\n\t      curMovement = [stack.slice(), input.slice(), {}];\n\t      var top = stack.pop(),\n\t          nextT = input[0],\n\t          next = nextT.abstract;\n\t      building = toBuild.pop();\n\t      while (top != '$' && input.length > 0) {\n\t        cleanNewNodes();\n\t        if (top == next && !recovering) {\n\t          lastPos = nextT.position;\n\t          building.setPosition(nextT.position);\n\t          building.parsed = true;\n\t          building.assign(nextT, curFormula);\n\t          input.shift();\n\t        } else if (recovering && top != 'stmts') {\n\t          curStatus = status[1];\n\t          curWarningMsg = ['UNEXPECTED', nextT.lexeme, 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col + '.', 'POPPED', 'OUT', '\\'' + top + '\\''].join(' ');\n\t          curMovement[2] = curWarningMsg;\n\t          warningMsgs.push(curWarningMsg);\n\t          building.parsed = true;\n\t        } else if (recovering && top == 'stmts') {\n\t          toBuild.push(lastStmtsNode);\n\t          stack.push('stmts');\n\t          if (building != lastStmtsNode) {\n\t            while (lastStmtsNode.getSubNodes().length > 0) {\n\t              lastStmtsNode.shiftSubNode();\n\t            }\n\t          }\n\t          if (table[top][next] > 0) {\n\t            recovering = false;\n\t            curWarningMsg = 'RECOVERY DONE';\n\t            curMovement[2] = curWarningMsg;\n\t            warningMsgs.push(curWarningMsg);\n\t          } else {\n\t            input.shift();\n\t            curStatus = status[1];\n\t            curWarningMsg = 'SKIPPED ' + '\\'' + next + '\\'' + ' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n\t            curMovement[2] = curWarningMsg;\n\t            warningMsgs.push(curWarningMsg);\n\t          }\n\t        } else if (isTerminal(top)) {\n\t          recovering = true;\n\t          curStatus = status[1];\n\t          curWarningMsg = ['UNEXPECTED', nextT.lexeme, 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col + '.', 'POPPED', 'OUT', '\\'' + top + '\\''].join(' ');\n\t          curMovement[2] = curWarningMsg;\n\t          warningMsgs.push(curWarningMsg);\n\t          building.parsed = true;\n\t        } else if (table[top][next] == 0) {\n\t          if (Number(nextT.position.first_row) > Number(lastPos.last_row)) {\n\t            curStatus = status[1];\n\t            curWarningMsg = ['EXPECTED', ';', 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col].join(' ');\n\t            curMovement[2] = curWarningMsg;\n\t            warningMsgs.push(curWarningMsg);\n\t            input.unshift({\n\t              lexeme: ';',\n\t              abstract: ';',\n\t              position: lastPos,\n\t              containValue: true\n\t            });\n\t          } else {\n\t            if (top != 'stmts') {\n\t              recovering = true;\n\t            }\n\t            stack.push(top);\n\t            toBuild.push(building);\n\t            input.shift();\n\t            curStatus = status[1];\n\t            curWarningMsg = 'SKIPPED ' + '\\'' + next + '\\'' + ' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n\t            curMovement[2] = curWarningMsg;\n\t            warningMsgs.push(curWarningMsg);\n\t          }\n\t        } else if (table[top][next] > 0) {\n\t          curFormula = table[top][next];\n\t          var rule = table[top][next];\n\t          var product = rules[rule].product.slice();\n\t          var item, newNode;\n\t          if (product.length == 0) {\n\t            building.addSubNode(Node.epsilon());\n\t            building.parsed = true;\n\t          } else {\n\t            if (rules[rule].interminal == 'stmts') {\n\t              lastStmtsNode = building;\n\t            }\n\t          }\n\t          while (product.length > 0) {\n\t            item = product.pop();\n\t            stack.push(item);\n\t            newNode = Node.new(item, building);\n\t            building.addSubNode(newNode);\n\t            toBuild.push(newNode);\n\t          }\n\t          curMovement[2] = rules[rule];\n\t        }\n\t        if (curStatus != status[2]) {\n\t          movements.push(curMovement);\n\t        }\n\t        if (curStatus == status[2] || singleStepping) {\n\t          singleSpot += 1;\n\t          return curStatus != status[2];\n\t        }\n\t        if (!singleStepping) {\n\t          curMovement = [stack.slice(), input.slice(), {}];\n\t          top = stack.pop();\n\t          nextT = input[0];\n\t          next = nextT.abstract;\n\t        }\n\t      }\n\t      if (top == next) {\n\t        input.shift();\n\t      }\n\t      if (input.length == 0) {\n\t        movements.push(curMovement);\n\t        curStatus = status[3];\n\t        return true;\n\t      } else {\n\t        curStatus = status[2];\n\t        errorMsg = 'CAME UP WITH UNEXPECTED TERMINAL \\'' + nextT.lexeme + '\\' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n\t        return false;\n\t      }\n\t    };\n\t    parser.parseDone = function () {\n\t\n\t      return curStatus == status[3];\n\t    };\n\t    parser.needPush = function () {\n\t\n\t      return input.length == 0;\n\t    };\n\t    parser.getRootS = function () {\n\t      function filterNode(node, fatherNode) {\n\t        var nodeS = {};\n\t        var subNodesS = [];\n\t        var subNodes = node.getSubNodes();\n\t        nodeS.abstract = node.abstract;\n\t        nodeS.name = node.name;\n\t        nodeS.value = node.value;\n\t        nodeS.type = node.type;\n\t        nodeS.subNodes = subNodesS;\n\t        nodeS.fatherNode = fatherNode;\n\t        if (node.position != undefined) {\n\t          nodeS.position = node.position;\n\t        }\n\t        var i;\n\t        for (i = 0; i < subNodes.length; i++) {\n\t          subNodesS.push(filterNode(subNodes[i], nodeS));\n\t        }\n\t        return nodeS;\n\t      }\n\t      return filterNode(root, undefined);\n\t    };\n\t    parser.getSequentialNodes = function () {\n\t      function checkParsed(node) {\n\t        var subNodes = node.getSubNodes();\n\t        if (subNodes.length > 0) {\n\t          var allParsed = true;\n\t          for (var i = 0; i < subNodes.length; i++) {\n\t            if (!subNodes[i].parsed) {\n\t              checkParsed(subNodes[i]);\n\t              if (!subNodes[i].parsed) {\n\t                allParsed = false;\n\t              }\n\t            }\n\t          }\n\t          node.parsed = allParsed;\n\t        }\n\t      }\n\t      function generateSequentialNodes() {\n\t        function digNode(fartherID, node, onParsingBranch) {\n\t          var thisID = countNode.toString();\n\t          countNode += 1;\n\t          if ((typeof node === 'undefined' ? 'undefined' : (0, _typeof3.default)(node)) === (0, _typeof3.default)(Node.new())) {\n\t            var sequentialNodes = [];\n\t            var cur = [thisID, node.abstract, 0, fartherID, onParsingBranch ? '1' : '0', node.new ? '1' : '0'];\n\t            var subSqu,\n\t                subNodes = node.getSubNodes();\n\t            var countUnparsed = 0;\n\t            var i, j;\n\t            for (i = 0; i < subNodes.length; i += 1) {\n\t              if (!subNodes[i].parsed) {\n\t                countUnparsed += 1;\n\t                subSqu = digNode(thisID, subNodes[i], countUnparsed == 1 && onParsingBranch);\n\t                for (j = 0; j < subSqu.length; j += 1) {\n\t                  sequentialNodes.push(subSqu[j]);\n\t                }\n\t                if (subSqu.length > 0) {\n\t                  cur[2] += subSqu[0][2] + 1;\n\t                }\n\t              }\n\t            }\n\t            sequentialNodes.unshift(cur);\n\t            return sequentialNodes;\n\t          }\n\t        }\n\t        var countNode = 0;\n\t        return digNode('', root, true);\n\t      }\n\t      checkParsed(root);\n\t      return generateSequentialNodes();\n\t    };\n\t    parser.treeChanged = function () {\n\t\n\t      return true;\n\t    };\n\t    parser.getErrMsg = function () {\n\t\n\t      return errorMsg;\n\t    };\n\t    parser.getWarningMsg = function () {\n\t\n\t      return warningMsgs.join('\\n');\n\t    };\n\t    parser.getMovementsF = function () {\n\t      function padBlank(str, length) {\n\t        while (str.length < length) {\n\t          str += ' ';\n\t        }\n\t        return str;\n\t      }\n\t      var arrMovements = [];\n\t      var length0 = 0,\n\t          length1 = 0,\n\t          length2 = 0;\n\t      var move, thisMove;\n\t      var sSTACK, sINPUT, sACTION;\n\t      var i, j;\n\t      var inputLimit = 22;\n\t      for (i = 0; i < movements.length; i += 1) {\n\t        move = movements[i];\n\t        thisMove = [];\n\t\n\t        sSTACK = move[0].join(' ');\n\t        length0 = Math.max(length0, sSTACK.length);\n\t        thisMove.push(sSTACK);\n\t\n\t        sINPUT = \"| \";\n\t        for (j = 0; j < move[1].length; j += 1) {\n\t          sINPUT += move[1][j].lexeme + ' ';\n\t        }\n\t        if (sINPUT.indexOf(';') > -1) sINPUT = sINPUT.split(';')[0] + ';';else sINPUT = sINPUT.split(';')[0];\n\t        if (sINPUT.length > inputLimit) {\n\t          sINPUT = sINPUT.substring(0, inputLimit) + ' ...';\n\t        }\n\t        length1 = Math.max(length1, sINPUT.length);\n\t        thisMove.push(sINPUT);\n\t\n\t        sACTION = \"| \";\n\t        if (move[2].hasOwnProperty('interminal')) {\n\t          sACTION += move[2].interminal + ' -> ';\n\t          if (move[2].product.length > 0) sACTION += move[2].product.join(' ');else sACTION += '';\n\t          length2 = Math.max(length2, sACTION.length);\n\t        } else if ((0, _typeof3.default)(move[2]) == (0, _typeof3.default)('')) {\n\t          sACTION += move[2];\n\t        }\n\t        thisMove.push(sACTION);\n\t\n\t        arrMovements.push(thisMove);\n\t      }\n\t      var i;\n\t      for (i = 0; i < arrMovements.length; i += 1) {\n\t        arrMovements[i][0] = padBlank(arrMovements[i][0], length0);\n\t        arrMovements[i][1] = padBlank(arrMovements[i][1], length1);\n\t        arrMovements[i][2] = padBlank(arrMovements[i][2], length2);\n\t      }\n\t      var sMovements = '\\n' + [padBlank('STACK', length0), padBlank('INPUT', length1), padBlank('ACTION', length2)].join('    ') + '\\n';\n\t      var i;\n\t      for (i = 0; i < arrMovements.length; i += 1) {\n\t        sMovements += [arrMovements[i][0], arrMovements[i][1], arrMovements[i][2]].join('    ') + '\\n';\n\t      }\n\t      return sMovements;\n\t    };\n\t    parser.getCurMovementF = function () {\n\t      var sSTACK = curMovement[0].join(' ');\n\t      var sINPUT = '';\n\t      var i;\n\t      for (i = 0; i < curMovement[1].length; i++) {\n\t        sINPUT += curMovement[1][i].lexeme + ' ';\n\t      }\n\t      if (sINPUT.length > 20) {\n\t        sINPUT = sINPUT.substring(0, 17) + ' ...';\n\t      }\n\t      var sACTION = '';\n\t      if (curMovement[2].hasOwnProperty('interminal')) {\n\t        sACTION = curMovement[2].interminal + ' -> ';\n\t        if (curMovement[2].hasOwnProperty('product')) {\n\t          if (curMovement[2].product.length == 0) {\n\t            sACTION += '';\n\t          }\n\t          for (var i = 0; i < curMovement[2].product.length; i++) {\n\t            sACTION += curMovement[2].product[i] + ' ';\n\t          }\n\t        }\n\t      } else if ((0, _typeof3.default)(curMovement[2]) == (0, _typeof3.default)('')) {\n\t        sACTION += curMovement[2];\n\t      }\n\t      return [sSTACK, sINPUT, sACTION].join('  |  ');\n\t    };\n\t    return parser;\n\t  }\n\t};\n\t\n\tvar Paxer = {\n\t  new: function _new() {\n\t    var paxer = {};\n\t    var parser = Parser.new();\n\t    var lexer = Lexer.new();\n\t    var status = ['NORMAL', 'WARNING', 'ERROR', 'DONE'];\n\t    var curStatus;\n\t    var errorMsg;\n\t    var warningMsg;\n\t    paxer.reset = function () {\n\t      errorMsg = \"\";\n\t      warningMsg = \"\";\n\t      curStatus = status[3];\n\t      lexer.reset();\n\t      parser.reset();\n\t    };\n\t    paxer.setInput = function (input) {\n\t      function prepare(input) {\n\t        var output = \"\";\n\t        var commenting = false;\n\t        var count = 0;\n\t        var c;\n\t        for (var i = 0; i < input.length; i++) {\n\t          c = input[i];\n\t          if (c == '/') count += 1;else count = 0;\n\t          if (c == '\\n') commenting = false;\n\t          if (count == 2) commenting = true;\n\t          if (!commenting) output += c;\n\t        }\n\t        return output;\n\t      }\n\t      paxer.reset();\n\t      lexer.setInput(prepare(input));\n\t      parser.setInput([]);\n\t      curStatus = status[0];\n\t    };\n\t    paxer.go = function () {\n\t      if (curStatus != status[0] && curStatus != status[1]) return;\n\t      curStatus = status[0];\n\t      var singleStepping = true;\n\t      if (parser.needPush()) {\n\t        switch (lexer.getStatus()) {\n\t          case 'DONE':\n\t            return;\n\t          case 'ERROR':\n\t            errorMsg = lexer.getErrMsg();\n\t            curStatus = status[2];\n\t            return;\n\t          case 'NORMAL':\n\t            lexer.lex(singleStepping);\n\t            parser.pushToken(lexer.getToken());\n\t            break;\n\t          default:\n\t            console.log('UNEXPECTED LEXER STATUS');\n\t            curStatus = status[2];\n\t            return;\n\t        }\n\t      }\n\t      parser.parse(singleStepping);\n\t      switch (parser.getStatus()) {\n\t        case 'DONE':\n\t          break;\n\t        case 'ERROR':\n\t          errorMsg = parser.getErrMsg();\n\t          curStatus = status[2];\n\t          return;\n\t        case 'WARNING':\n\t          warningMsg = parser.getWarningMsg();\n\t          curStatus = status[1];\n\t        case 'NORMAL':\n\t          break;\n\t        default:\n\t          console.log('UNEXPECTED PARSER STATUS');\n\t          curStatus = status[2];\n\t          break;\n\t      }\n\t      if (lexer.lexDone() != parser.parseDone()) {\n\t        curStatus = status[2];\n\t      }\n\t      if (lexer.lexDone() && parser.parseDone()) {\n\t        curStatus = status[3];\n\t      }\n\t    };\n\t    paxer.getStatus = function () {\n\t\n\t      return curStatus;\n\t    };\n\t    paxer.getErrMsg = function () {\n\t\n\t      return errorMsg;\n\t    };\n\t    paxer.getWarningMsg = parser.getWarningMsg;\n\t    paxer.getSymbolTable = lexer.getSymbolTable;\n\t    paxer.getSequentialNodes = parser.getSequentialNodes;\n\t    paxer.getMovementsF = parser.getMovementsF;\n\t    paxer.getCurMovementF = parser.getCurMovementF;\n\t    paxer.getRootS = parser.getRootS;\n\t    paxer.getTreeChanged = parser.getTreeChanged;\n\t    return paxer;\n\t  }\n\t};\n\texports.default = Paxer;\n\n/***/ },\n/* 69 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction SemanticAnalyzer() {\n\t  var symboltable, nodeStack, _assembly;\n\t  var _errors;\n\t\n\t  var _t = 0,\n\t      _f = 0,\n\t      f = function f(_F) {\n\t    return \"f\" + _F;\n\t  },\n\t      t = function t(_T) {\n\t    return \"t\" + _T;\n\t  };\n\t\n\t  var _reset = function _reset() {\n\t    symboltable = null;\n\t    nodeStack = [];\n\t    _errors = [];\n\t    _assembly = [];\n\t    _t = 0;\n\t    _f = 0;\n\t  },\n\t      _eat = function _eat(tree, st) {\n\t    _reset();\n\t    symboltable = st;\n\t    symboltable.get = function (name) {\n\t      for (var i = 0; i < symboltable.length; i++) {\n\t        if (symboltable[i].name == name) {\n\t          return symboltable[i];\n\t        }\n\t      }\n\t    };\n\t    _r(tree);\n\t    if (_f > 0) {\n\t      _assembly[_assembly.length] = f(_f);\n\t    }\n\t  };\n\t\n\t  function l(type, ad1, ad2, ad3) {\n\t    var a1 = ad1 === null ? \"\" : ad1,\n\t        a2 = ad2 === null ? \"\" : ad2,\n\t        a3 = ad3 === null ? \"\" : ad3;\n\t    if (type.length == 3) {\n\t      type += \" \";\n\t    } else if (type.length == 2) {\n\t      type += \"  \";\n\t    }\n\t    return [\"    \", type, \" \", a1, \", \", a2, \", \", a3].join(\"\");\n\t  }\n\t\n\t  function _r(node) {\n\t    var father = nodeStack.rear(),\n\t        first,\n\t        second,\n\t        boolop;\n\t    nodeStack.push(node);\n\t    switch (node.abstract) {\n\t      case \"program\":\n\t        {\n\t          _r(node.subNodes[0]);\n\t          break;\n\t        }\n\t      case \"compoundstmt\":\n\t        {\n\t          _r(node.subNodes[1]);\n\t          break;\n\t        }\n\t      case \"stmts\":\n\t        {\n\t          _r(node.subNodes[0]);\n\t          if (node.subNodes[1]) {\n\t            _r(node.subNodes[1]);\n\t          }\n\t          break;\n\t        }\n\t      case \"stmt\":\n\t        {\n\t          _r(node.subNodes[0]);\n\t          break;\n\t        }\n\t      case \"decl\":\n\t        {\n\t          node.value = _r(node.subNodes[0]).value;\n\t          _r(node.subNodes[1]);\n\t          break;\n\t        }\n\t      case \"type\":\n\t        {\n\t          node.value = node.subNodes[0].abstract;\n\t          break;\n\t        }\n\t      case \"list\":\n\t        {\n\t          node.value = father.value;\n\t          _r(node.subNodes[0]);\n\t          _r(node.subNodes[1]);\n\t          break;\n\t        }\n\t      case \"ID\":\n\t        {\n\t          var symbol = symboltable.get(node.name);\n\t          if (undefined === symbol.occurance) {\n\t            symbol.occurance = 0;\n\t          } else {\n\t            symbol.occurance++;\n\t          }\n\t          switch (father.abstract) {\n\t            case \"list\":\n\t              {\n\t                node.type = father.value;\n\t                if (symbol.type) {\n\t                  _errors.push(new SemanticError(\"Duplicated declaration of '\" + symbol.name + \"'\", symbol.positions[symbol.occurance]));\n\t                }\n\t                symbol.type = node.type;\n\t                break;\n\t              }\n\t            default:\n\t              {\n\t                if (!symbol.type && 0 === symbol.occurance) {\n\t                  _errors.push(new SemanticError(\"Undeclared identifier '\" + symbol.name + \"'\", symbol.positions[symbol.occurance]));\n\t                }\n\t                break;\n\t              }\n\t          }\n\t          break;\n\t        }\n\t      case \"list1\":\n\t        {\n\t          node.value = father.value;\n\t          if (node.subNodes[1]) {\n\t            _r(node.subNodes[1]);\n\t          }\n\t          break;\n\t        }\n\t      case \"assgstmt\":\n\t        {\n\t          node.value = _r(node.subNodes[2]).value;\n\t          var id = _r(node.subNodes[0]).name;\n\t          _assembly[_assembly.length] = l(\"mov\", id, null, node.value);\n\t          break;\n\t        }\n\t      case \"arithexpr\":\n\t        {\n\t          first = _r(node.subNodes[0]);\n\t          second = _r(node.subNodes[1]);\n\t          if (second.type) {\n\t            switch (second.type) {\n\t              case \"+\":\n\t                {\n\t                  node.value = t(_t++);\n\t                  _assembly[_assembly.length] = l(\"add\", node.value, first.value, second.value);\n\t                  break;\n\t                }\n\t              case \"-\":\n\t                {\n\t                  node.value = t(_t++);\n\t                  _assembly[_assembly.length] = l(\"sub\", node.value, first.value, second.value);\n\t                  break;\n\t                }\n\t            }\n\t          } else {\n\t            node.value = first.value;\n\t          }\n\t          break;\n\t        }\n\t      case \"multexpr\":\n\t        {\n\t          first = _r(node.subNodes[0]);\n\t          second = _r(node.subNodes[1]);\n\t          if (second.type) {\n\t            switch (second.type) {\n\t              case \"*\":\n\t                {\n\t                  node.value = t(_t++);\n\t                  _assembly[_assembly.length] = l(\"mul\", node.value, first.value, second.value);\n\t                  break;\n\t                }\n\t              case \"/\":\n\t                {\n\t                  node.value = t(_t++);\n\t                  if (0 === second.value) {\n\t                    _errors.push(new SemanticError(\"Cannot be divided by 0\"));\n\t                    _assembly[_assembly.length] = l(\"*div\", node.value, first.value, second.value);\n\t                  } else {\n\t                    _assembly[_assembly.length] = l(\"div\", node.value, first.value, second.value);\n\t                  }\n\t                  break;\n\t                }\n\t            }\n\t          } else {\n\t            node.value = first.value;\n\t          }\n\t          break;\n\t        }\n\t      case \"arithexprprime\":\n\t        {\n\t          if (node.subNodes[2]) {\n\t            node.type = node.subNodes[0].abstract;\n\t            first = _r(node.subNodes[1]);\n\t            second = _r(node.subNodes[2]);\n\t            if (second.type) {\n\t              switch (second.type) {\n\t                case \"+\":\n\t                  {\n\t                    node.value = t(_t++);\n\t                    _assembly[_assembly.length] = l(\"add\", node.value, first.value, second.value);\n\t                    break;\n\t                  }\n\t                case \"-\":\n\t                  {\n\t                    node.value = t(_t++);\n\t                    _assembly[_assembly.length] = l(\"sub\", node.value, first.value, second.value);\n\t                    break;\n\t                  }\n\t              }\n\t            } else {\n\t              node.value = first.value;\n\t            }\n\t          }\n\t          break;\n\t        }\n\t      case \"simpleexpr\":\n\t        {\n\t          if (node.subNodes[1]) {\n\t            node.value = _r(node.subNodes[1]).value;\n\t          } else {\n\t            var ID_NUM = _r(node.subNodes[0]);\n\t            switch (ID_NUM.abstract) {\n\t              case \"ID\":\n\t                {\n\t                  node.value = ID_NUM.name;\n\t                  break;\n\t                }\n\t              case \"NUM\":\n\t                {\n\t                  node.value = ID_NUM.value;\n\t                  break;\n\t                }\n\t            }\n\t          }\n\t          break;\n\t        }\n\t      case \"multexprprime\":\n\t        {\n\t          if (node.subNodes[2]) {\n\t            node.type = node.subNodes[0].abstract;\n\t            first = _r(node.subNodes[1]);\n\t            second = _r(node.subNodes[2]);\n\t            if (second.type) {\n\t              switch (second.type) {\n\t                case \"*\":\n\t                  {\n\t                    node.value = t(_t++);\n\t                    _assembly[_assembly.length] = l(\"mult\", node.value, first.value, second.value);\n\t                    break;\n\t                  }\n\t                case \"/\":\n\t                  {\n\t                    node.value = t(_t++);\n\t                    if (0 === second.value) {\n\t                      _errors.push(new SemanticError(\"Cannot be divided by 0\"));\n\t                      _assembly[_assembly.length] = l(\"*div\", node.value, first.value, second.value);\n\t                    } else {\n\t                      _assembly[_assembly.length] = l(\"div\", node.value, first.value, second.value);\n\t                    }\n\t                    break;\n\t                  }\n\t              }\n\t            } else {\n\t              node.value = first.value;\n\t            }\n\t          }\n\t          break;\n\t        }\n\t      case \"whilestmt\":\n\t        {\n\t          var boolexpr = node.subNodes[2],\n\t              stmt = node.subNodes[4];\n\t          var startf = _f++;\n\t          _assembly[_assembly.length] = f(startf);\n\t          _r(boolexpr);\n\t          _r(stmt);\n\t          _assembly[_assembly.length] = l(\"jmp\", null, null, \"f\" + startf);\n\t          break;\n\t        }\n\t      case \"boolexpr\":\n\t        {\n\t          node.value = \"t\" + _t++;\n\t          boolop = node.subNodes[1];\n\t          var arithexpr1 = node.subNodes[0],\n\t              arithexpr2 = node.subNodes[2];\n\t          first = _r(arithexpr1);\n\t          second = _r(arithexpr2);\n\t          switch (_r(boolop).value) {\n\t            case \"<\":\n\t              {\n\t                _assembly[_assembly.length] = l(\"lt\", node.value, first.value, second.value);\n\t                break;\n\t              }\n\t            case \">\":\n\t              {\n\t                _assembly[_assembly.length] = l(\"gt\", node.value, first.value, second.value);\n\t                break;\n\t              }\n\t            case \"<=\":\n\t              {\n\t                _assembly[_assembly.length] = l(\"le\", node.value, first.value, second.value);\n\t                break;\n\t              }\n\t            case \">=\":\n\t              {\n\t                _assembly[_assembly.length] = l(\"ge\", node.value, first.value, second.value);\n\t                break;\n\t              }\n\t            case \"==\":\n\t              {\n\t                _assembly[_assembly.length] = l(\"eq\", node.value, first.value, second.value);\n\t                break;\n\t              }\n\t          }\n\t          _assembly[_assembly.length] = l(\"jmpf\", node.value, null, \"f\" + _f);\n\t          break;\n\t        }\n\t      case \"boolop\":\n\t        {\n\t          node.value = node.subNodes[0].abstract;\n\t          break;\n\t        }\n\t      case \"ifstmt\":\n\t        {\n\t          boolop = node.subNodes[2];\n\t          var stmt1 = node.subNodes[5],\n\t              stmt2 = node.subNodes[7];\n\t\n\t          _r(boolop);\n\t          _r(stmt1);\n\t          _assembly[_assembly.length] = l(\"jmp\", null, null, \"f\" + (_f + 1));\n\t          _assembly[_assembly.length] = f(_f++);\n\t          _r(stmt2);\n\t          break;\n\t        }\n\t      default:\n\t        break;\n\t    }\n\t    nodeStack.pop();\n\t    return node;\n\t  }\n\t\n\t  return {\n\t    eat: _eat,\n\t    getErrorMsg: function getErrorMsg() {\n\t      return _errors.join(\"\\n\");\n\t    },\n\t    getAssembly: function getAssembly() {\n\t      return _assembly.join(\"\\n\");\n\t    }\n\t  };\n\t}\n\t\n\tfunction SemanticError(msg, position) {\n\t  this.msg = msg;\n\t  this.position = position;\n\t}\n\tSemanticError.prototype.toString = function () {\n\t  var msg = \"Error: \" + this.msg;\n\t  if (this.position) {\n\t    msg = [msg, \" at line: \", this.position.first_row, \", ch: \", this.position.first_col].join(\"\");\n\t  }\n\t  return msg;\n\t};\n\texports.default = SemanticAnalyzer;\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {'use strict';var _typeof2=__webpack_require__(6);var _typeof3=_interopRequireDefault(_typeof2);var _jquery=__webpack_require__(72);var _jquery2=_interopRequireDefault(_jquery);var _eventproxy=__webpack_require__(71);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}Array.prototype.map||(Array.prototype.map=function(w,G){var h,r,t;if(null==this)throw new TypeError(\" this is null or not defined\");var B=Object(this),y=B.length>>>0;if(\"[object Function]\"!={}.toString.call(w))throw new TypeError(w+\" is not a function\");G&&(h=G);r=Array(y);for(t=0;t<y;){var P;t in B&&(P=B[t],P=w.call(h,P,t,B),r[t]=P);t++;}return r;});Array.prototype.reduce||(Array.prototype.reduce=function(w){var G=0,h=this.length>>0,r;if(typeof w!==\"function\")throw new TypeError(\"First argument is not callable\");if(arguments.length<2){if(h===0)throw new TypeError(\"Array length is 0 and no second argument\");r=this[0];G=1;}else r=arguments[1];for(;G<h;){G in this&&(r=w.call(void 0,r,this[G],G,this));++G;}return r;});Array.prototype.forEach||(Array.prototype.forEach=function(w,G){var h,r;if(this==null)throw new TypeError(\" this is null or not defined\");var t=Object(this),B=t.length>>>0;if({}.toString.call(w)!=\"[object Function]\")throw new TypeError(w+\" is not a function\");G&&(h=G);for(r=0;r<B;){var y;if(r in t){y=t[r];w.call(h,y,r,t);}r++;}});Array.prototype.filter||(Array.prototype.filter=function(w,G){if(this==null)throw new TypeError();var h=Object(this),r=h.length>>>0;if(typeof w!=\"function\")throw new TypeError();for(var t=[],B=0;B<r;B++){if(B in h){var y=h[B];w.call(G,y,B,h)&&t.push(y);}}return t;});Array.prototype.every||(Array.prototype.every=function(w,G){if(this==null)throw new TypeError();var h=Object(this),r=h.length>>>0;if(typeof w!=\"function\")throw new TypeError();for(var t=0;t<r;t++){if(t in h&&!w.call(G,h[t],t,h))return false;}return true;});var JSON;JSON||(JSON={});(function(){function w(h){return h<10?\"0\"+h:h;}function G(h){t.lastIndex=0;return t.test(h)?'\"'+h.replace(t,function(h){var r=P[h];return typeof r===\"string\"?r:'\\\\u'+(\"0000\"+h.charCodeAt(0).toString(16)).slice(-4);})+'\"':'\"'+h+'\"';}function h(r,t){var K,w,W,da,P=B,L,E=t[r];E&&(typeof E==='undefined'?'undefined':(0,_typeof3.default)(E))===\"object\"&&typeof E.toJSON===\"function\"&&(E=E.toJSON(r));typeof M===\"function\"&&(E=M.call(t,r,E));switch(typeof E==='undefined'?'undefined':(0,_typeof3.default)(E)){case\"string\":return G(E);case\"number\":return isFinite(E)?String(E):\"null\";case\"boolean\":case\"null\":return String(E);case\"object\":if(!E)return\"null\";B=B+y;L=[];if(Object.prototype.toString.apply(E)===\"[object Array]\"){da=E.length;for(K=0;K<da;K=K+1){L[K]=h(K,E)||\"null\";}W=L.length===0?\"[]\":B?\"[\\n\"+B+L.join(\",\\n\"+B)+\"\\n\"+P+\"]\":\"[\"+L.join(\",\")+\"]\";B=P;return W;}if(M&&(typeof M==='undefined'?'undefined':(0,_typeof3.default)(M))===\"object\"){da=M.length;for(K=0;K<da;K=K+1){if(typeof M[K]===\"string\"){w=M[K];(W=h(w,E))&&L.push(G(w)+(B?\": \":\":\")+W);}}}else for(w in E){if(Object.prototype.hasOwnProperty.call(E,w))(W=h(w,E))&&L.push(G(w)+(B?\": \":\":\")+W);}W=L.length===0?\"{}\":B?\"{\\n\"+B+L.join(\",\\n\"+B)+\"\\n\"+P+\"}\":\"{\"+L.join(\",\")+\"}\";B=P;return W;}}if(typeof Date.prototype.toJSON!==\"function\"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+\"-\"+w(this.getUTCMonth()+1)+\"-\"+w(this.getUTCDate())+\"T\"+w(this.getUTCHours())+\":\"+w(this.getUTCMinutes())+\":\"+w(this.getUTCSeconds())+\"Z\":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf();};}var r=/[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,t=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,B,y,P={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},M;if(typeof JSON.stringify!==\"function\")JSON.stringify=function(r,t,w){var G;y=B=\"\";if(typeof w===\"number\")for(G=0;G<w;G=G+1){y=y+\" \";}else typeof w===\"string\"&&(y=w);if((M=t)&&typeof t!==\"function\"&&((typeof t==='undefined'?'undefined':(0,_typeof3.default)(t))!==\"object\"||typeof t.length!==\"number\"))throw Error(\"JSON.stringify\");return h(\"\",{\"\":r});};if(typeof JSON.parse!==\"function\")JSON.parse=function(h,t){function w(h,r){var B,y,E=h[r];if(E&&(typeof E==='undefined'?'undefined':(0,_typeof3.default)(E))===\"object\")for(B in E){if(Object.prototype.hasOwnProperty.call(E,B)){y=w(E,B);y!==void 0?E[B]=y:delete E[B];}}return t.call(h,r,E);}var B,h=String(h);r.lastIndex=0;r.test(h)&&(h=h.replace(r,function(h){return'\\\\u'+(\"0000\"+h.charCodeAt(0).toString(16)).slice(-4);}));if(/^[\\],:{}\\s]*$/.test(h.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g,\"\"))){B=eval(\"(\"+h+\")\");return typeof t===\"function\"?w({\"\":B},\"\"):B;}throw new SyntaxError(\"JSON.parse\");};})();(function(){function w(a){for(var c=-1,e=a.length,g=[];++c<e;){g.push(a[c]);}return g;}function G(){return this;}function h(a,c,e){return function(){var g=e.apply(c,arguments);return arguments.length?a:g;};}function r(a){return a!=null&&!isNaN(a);}function t(a){return a.length;}function B(a){return a==null;}function y(a){return a.replace(/(^\\s+)|(\\s+$)/g,\"\").replace(/\\s+/g,\" \");}function P(){}function M(a){function c(){for(var c=e,g=-1,v=c.length,D;++g<v;){(D=c[g].on)&&D.apply(this,arguments);}return a;}var e=[],g={};c.on=function(c,l){var v,D;if(arguments.length<2)return(v=g[c])&&v.on;if(v=g[c]){v.on=null;e=e.slice(0,D=e.indexOf(v)).concat(e.slice(D+1));delete g[c];}l&&e.push(g[c]={on:l});return a;};return c;}function ja(a,c){return c-(a?1+Math.floor(Math.log(a+Math.pow(10,1+Math.floor(Math.log(a)/Math.LN10)-c))/Math.LN10):1);}function $(a){return a+\"\";}function K(a){for(var c=a.lastIndexOf(\".\"),e=c>=0?a.substring(c):(c=a.length,\"\"),g=[];c>0;){g.push(a.substring(c=c-3,c+3));}return g.reverse().join(\",\")+e;}function aa(a){return function(c){return 1-a(1-c);};}function W(a){return function(c){return 0.5*(c<0.5?a(2*c):2-a(2-2*c));};}function da(a){return a;}function Da(a){return function(c){return Math.pow(c,a);};}function L(a){return 1-Math.cos(a*Math.PI/2);}function E(a){return Math.pow(2,10*(a-1));}function ka(a){return 1-Math.sqrt(1-a*a);}function Wa(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a=a-1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a=a-2.25/2.75)*a+0.9375:7.5625*(a=a-2.625/2.75)*a+0.984375;}function ba(){d3.event.stopPropagation();d3.event.preventDefault();}function va(a,c){c=c-(a=+a)?1/(c-a):0;return function(e){return(e-a)*c;};}function Xa(a,c){c=c-(a=+a)?1/(c-a):0;return function(e){return Math.max(0,Math.min(1,(e-a)*c));};}function ea(a,c,e){return new Y(a,c,e);}function Y(a,c,e){this.r=a;this.g=c;this.b=e;}function fa(a){return a<16?\"0\"+Math.max(0,a).toString(16):Math.min(255,a).toString(16);}function Ea(a,c,e){var g=0,i=0,l=0,v,D;if(v=/([a-z]+)\\((.*)\\)/i.exec(a)){D=v[2].split(\",\");switch(v[1]){case\"hsl\":return e(parseFloat(D[0]),parseFloat(D[1])/100,parseFloat(D[2])/100);case\"rgb\":return c(wa(D[0]),wa(D[1]),wa(D[2]));}}if(e=Ya[a])return c(e.r,e.g,e.b);if(a!=null&&a.charAt(0)===\"#\"){if(a.length===4){g=a.charAt(1);g=g+g;i=a.charAt(2);i=i+i;l=a.charAt(3);l=l+l;}else if(a.length===7){g=a.substring(1,3);i=a.substring(3,5);l=a.substring(5,7);}g=parseInt(g,16);i=parseInt(i,16);l=parseInt(l,16);}return c(g,i,l);}function Fa(a,c,e){var g=Math.min(a=a/255,c=c/255,e=e/255),i=Math.max(a,c,e),l=i-g,v=(i+g)/2;if(l){g=v<0.5?l/(i+g):l/(2-i-g);a=(a==i?(c-e)/l+(c<e?6:0):c==i?(e-a)/l+2:(a-c)/l+4)*60;}else g=a=0;return ga(a,g,v);}function wa(a){var c=parseFloat(a);return a.charAt(a.length-1)===\"%\"?Math.round(c*2.55):c;}function ga(a,c,e){return new J(a,c,e);}function J(a,c,e){this.h=a;this.s=c;this.l=e;}function ra(a,c,e){function g(a){a>360?a=a-360:a<0&&(a=a+360);return a<60?i+(l-i)*a/60:a<180?l:a<240?i+(l-i)*(240-a)/60:i;}var i,l,a=a%360;a<0&&(a=a+360);c=c<0?0:c>1?1:c;e=e<0?0:e>1?1:e;l=e<=0.5?e*(1+c):e+c-e*c;i=2*e-l;return ea(Math.round(g(a+120)*255),Math.round(g(a)*255),Math.round(g(a-120)*255));}function Q(a){vb(a,I);return a;}function la(a){return function(){return ib(a,this);};}function sa(a){return function(){return Pb(a,this);};}function ta(a,c){function e(){if(c=this.classList)return c.add(a);var c=this.className,e=c.baseVal!=null,g=e?c.baseVal:c;l.lastIndex=0;if(!l.test(g)){g=y(g+\" \"+a);e?c.baseVal=g:this.className=g;}}function g(){if(c=this.classList)return c.remove(a);var c=this.className,e=c.baseVal!=null,g=e?c.baseVal:c,g=y(g.replace(l,\" \"));e?c.baseVal=g:this.className=g;}function i(){(c.apply(this,arguments)?e:g).call(this);}var l=RegExp(\"(^|\\\\s+)\"+d3.requote(a)+\"(\\\\s+|$)\",\"g\");if(arguments.length<2){var v=this.node();if(D=v.classList)return D.contains(a);var D=v.className;l.lastIndex=0;return l.test(D.baseVal!=null?D.baseVal:D);}return this.each(typeof c===\"function\"?i:c?e:g);}function xa(a){if(!arguments.length)a=d3.ascending;return function(c,e){return a(c&&c.__data__,e&&e.__data__);};}function ya(a,c,e){vb(a,Z);var g={},i=d3.dispatch(\"start\",\"end\"),l=oc;a.id=c;a.time=e;a.tween=function(c,e){if(arguments.length<2)return g[c];e==null?delete g[c]:g[c]=e;return a;};a.ease=function(c){if(!arguments.length)return l;l=typeof c===\"function\"?c:d3.ease.apply(d3,arguments);return a;};a.each=function(c,e){if(arguments.length<2)return p.call(a,c);i.on(c,e);return a;};d3.timer(function(v){a.each(function(D,b,k){function f(a){if(S.active>c)return n();S.active=c;for(var l in g){(l=g[l].call(q,D,b))&&m.push(l);}i.start.call(q,D,b);j(a)||d3.timer(j,0,e);return 1;}function j(a){if(S.active!==c)return n();for(var a=(a-C)/p,e=l(a),g=m.length;g>0;){m[--g].call(q,e);}if(a>=1){n();Oa=c;i.end.call(q,D,b);Oa=0;return 1;}}function n(){--S.count||delete q.__transition__;return 1;}var m=[],q=this,C=a[k][b].delay,p=a[k][b].duration,S=q.__transition__||(q.__transition__={active:0,count:0});++S.count;C<=v?f(v):d3.timer(f,C,e);});return 1;},0,e);return a;}function Za(a,c,e){return e!=\"\"&&$a;}function b(a,c){function e(a,e,g){a=c.call(this,a,e);return a==null?g!=\"\"&&$a:g!=a&&i(g,a);}function g(a,e,g){return g!=c&&i(g,c);}var i=a==\"transform\"?d3.interpolateTransform:d3.interpolate;return typeof c===\"function\"?e:c==null?Za:(c=c+\"\",g);}function p(a){for(var c=0,e=this.length;c<e;c++){for(var g=this[c],i=0,l=g.length;i<l;i++){var v=g[i];if(v)a.call(v=v.node,v.__data__,i,c);}}return this;}function o(){for(var a,c=Date.now(),e=Ha;e;){a=c-e.then;if(a>=e.delay)e.flush=e.callback(a);e=e.next;}a=ha()-c;if(a>24){if(isFinite(a)){clearTimeout(jb);jb=setTimeout(o,a);}kb=0;}else{kb=1;Qb(o);}}function ha(){for(var a=null,c=Ha,e=Infinity;c;){if(c.flush)c=a?a.next=c.next:Ha=c.next;else{e=Math.min(e,c.then+c.delay);c=(a=c).next;}}return e;}function U(a){var c=[a.a,a.b],e=[a.c,a.d],g=ma(c),i=c[0]*e[0]+c[1]*e[1],l=-i;e[0]=e[0]+l*c[0];e[1]=e[1]+l*c[1];l=ma(e)||0;if(c[0]*e[1]<e[0]*c[1]){c[0]=c[0]*-1;c[1]=c[1]*-1;g=g*-1;i=i*-1;}this.rotate=(g?Math.atan2(c[1],c[0]):Math.atan2(-e[0],e[1]))*Rb;this.translate=[a.e,a.f];this.scale=[g,l];this.skew=l?Math.atan2(i,l)*Rb:0;}function ma(a){var c=Math.sqrt(a[0]*a[0]+a[1]*a[1]);if(c){a[0]=a[0]/c;a[1]=a[1]/c;}return c;}function za(a){var c=a[0],a=a[a.length-1];return c<a?[c,a]:[a,c];}function Ia(a){return a.rangeExtent?a.rangeExtent():za(a.range());}function Pa(a,c){var e=0,g=a.length-1,i=a[e],l=a[g],v;if(l<i){v=e;e=g;g=v;v=i;i=l;l=v;}if(v=l-i){c=c(v);a[e]=c.floor(i);a[g]=c.ceil(l);}return a;}function ab(){return Math;}function k(a,c,e,g){function i(){var i=a.length==2?n:C,b=g?Xa:va;v=i(a,c,b,e);D=i(c,a,b,d3.interpolate);return l;}function l(a){return v(a);}var v,D;l.invert=function(a){return D(a);};l.domain=function(c){if(!arguments.length)return a;a=c.map(Number);return i();};l.range=function(a){if(!arguments.length)return c;c=a;return i();};l.rangeRound=function(a){return l.range(a).interpolate(d3.interpolateRound);};l.clamp=function(a){if(!arguments.length)return g;g=a;return i();};l.interpolate=function(a){if(!arguments.length)return e;e=a;return i();};l.ticks=function(c){return d3.range.apply(d3,m(a,c));};l.tickFormat=function(c){return q(a,c);};l.nice=function(){Pa(a,j);return i();};l.copy=function(){return k(a,c,e,g);};return i();}function f(a,c){return d3.rebind(a,c,\"range\",\"rangeRound\",\"interpolate\",\"clamp\");}function j(a){a=Math.pow(10,Math.round(Math.log(a)/Math.LN10)-1);return{floor:function floor(c){return Math.floor(c/a)*a;},ceil:function ceil(c){return Math.ceil(c/a)*a;}};}function m(a,c){var e=za(a),g=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(g/c)/Math.LN10)),g=c/g*i;g<=0.15?i=i*10:g<=0.35?i=i*5:g<=0.75&&(i=i*2);e[0]=Math.ceil(e[0]/i)*i;e[1]=Math.floor(e[1]/i)*i+i*0.5;e[2]=i;return e;}function q(a,c){return d3.format(\",.\"+Math.max(0,-Math.floor(Math.log(m(a,c)[2])/Math.LN10+0.01))+\"f\");}function n(a,c,e,g){var i=e(a[0],a[1]),l=g(c[0],c[1]);return function(a){return l(i(a));};}function C(a,c,e,g){var i=[],l=[],v=0,D=a.length-1;if(a[D]<a[0]){a=a.slice().reverse();c=c.slice().reverse();}for(;++v<=D;){i.push(e(a[v-1],a[v]));l.push(g(c[v-1],c[v]));}return function(c){var e=d3.bisect(a,c,1,D)-1;return l[e](i[e](c));};}function S(a,c){function e(e){return a(c(e));}var g=c.pow;e.invert=function(c){return g(a.invert(c));};e.domain=function(i){if(!arguments.length)return a.domain().map(g);c=i[0]<0?s:X;g=c.pow;a.domain(i.map(c));return e;};e.nice=function(){a.domain(Pa(a.domain(),ab));return e;};e.ticks=function(){var e=za(a.domain()),l=[];if(e.every(isFinite)){var v=Math.floor(e[0]),D=Math.ceil(e[1]),b=g(e[0]),e=g(e[1]);if(c===s)for(l.push(g(v));v++<D;){for(var k=9;k>0;k--){l.push(g(v)*k);}}else{for(;v<D;v++){for(k=1;k<10;k++){l.push(g(v)*k);}}l.push(g(v));}for(v=0;l[v]<b;v++){}for(D=l.length;l[D-1]>e;D--){}l=l.slice(v,D);}return l;};e.tickFormat=function(a,l){arguments.length<2&&(l=pc);if(arguments.length<1)return l;var v=a/e.ticks().length,D=c===s?(b=-1E-12,Math.floor):(b=1E-12,Math.ceil),b;return function(a){return a/g(D(c(a)+b))<v?l(a):\"\";};};e.copy=function(){return S(a.copy(),c);};return f(e,a);}function X(a){return Math.log(a<0?0:a)/Math.LN10;}function s(a){return-Math.log(a>0?0:-a)/Math.LN10;}function u(a,c){function e(c){return a(g(c));}var g=x(c),i=x(1/c);e.invert=function(c){return i(a.invert(c));};e.domain=function(c){if(!arguments.length)return a.domain().map(i);a.domain(c.map(g));return e;};e.ticks=function(a){var c=e.domain();return d3.range.apply(d3,m(c,a));};e.tickFormat=function(a){return q(e.domain(),a);};e.nice=function(){return e.domain(Pa(e.domain(),j));};e.exponent=function(a){if(!arguments.length)return c;var v=e.domain();g=x(c=a);i=x(1/c);return e.domain(v);};e.copy=function(){return u(a.copy(),c);};return f(e,a);}function x(a){return function(c){return c<0?-Math.pow(-c,a):Math.pow(c,a);};}function Sb(a,c){function e(c){return l[((i[c]||(i[c]=a.push(c)))-1)%l.length];}function g(c,e){return d3.range(a.length).map(function(a){return c+e*a;});}var i,l,v;e.domain=function(g){if(!arguments.length)return a;a=[];i={};for(var l=-1,v=g.length,b;++l<v;){if(!i[b=g[l]])i[b]=a.push(b);}return e[c.t](c.x,c.p);};e.range=function(a){if(!arguments.length)return l;l=a;v=0;c={t:\"range\",x:a};return e;};e.rangePoints=function(i,b){arguments.length<2&&(b=0);var k=i[0],f=i[1],j=(f-k)/(a.length-1+b);l=g(a.length<2?(k+f)/2:k+j*b/2,j);v=0;c={t:\"rangePoints\",x:i,p:b};return e;};e.rangeBands=function(i,b){arguments.length<2&&(b=0);var k=i[0],f=(i[1]-k)/(a.length+b);l=g(k+f*b,f);v=f*(1-b);c={t:\"rangeBands\",x:i,p:b};return e;};e.rangeRoundBands=function(i,b){arguments.length<2&&(b=0);var k=i[0],f=i[1],j=Math.floor((f-k)/(a.length+b));l=g(k+Math.round((f-k-(a.length-b)*j)/2),j);v=Math.round(j*(1-b));c={t:\"rangeRoundBands\",x:i,p:b};return e;};e.rangeBand=function(){return v;};e.rangeExtent=function(){return c.t===\"range\"?za(c.x):c.x;};e.copy=function(){return Sb(a,c);};return e.domain(a);}function z(a,c){function e(){var e=0,v=c.length;for(i=[];++e<v;){i[e-1]=d3.quantile(a,e/v);}return g;}function g(a){return isNaN(a=+a)?NaN:c[d3.bisect(i,a)];}var i;g.domain=function(c){if(!arguments.length)return a;a=c.filter(function(a){return!isNaN(a);}).sort(d3.ascending);return e();};g.range=function(a){if(!arguments.length)return c;c=a;return e();};g.quantiles=function(){return i;};g.copy=function(){return z(a,c);};return e();}function F(a,c,e){function g(c){return e[Math.max(0,Math.min(v,Math.floor(l*(c-a))))];}function i(){l=e.length/(c-a);v=e.length-1;return g;}var l,v;g.domain=function(e){if(!arguments.length)return[a,c];a=+e[0];c=+e[e.length-1];return i();};g.range=function(a){if(!arguments.length)return e;e=a;return i();};g.copy=function(){return F(a,c,e);};return i();}function A(a){return a.innerRadius;}function H(a){return a.outerRadius;}function na(a){return a.startAngle;}function R(a){return a.endAngle;}function N(a){function c(c){return c.length<1?null:\"M\"+l(a(ia(this,c,e,g)),v);}var e=Ja,g=V,i=\"linear\",l=wb[i],v=0.7;c.x=function(a){if(!arguments.length)return e;e=a;return c;};c.y=function(a){if(!arguments.length)return g;g=a;return c;};c.interpolate=function(a){if(!arguments.length)return i;l=wb[i=a];return c;};c.tension=function(a){if(!arguments.length)return v;v=a;return c;};return c;}function ia(a,c,e,g){var i=[],l=-1,v=c.length,b=typeof e===\"function\",k=typeof g===\"function\",f;if(b&&k)for(;++l<v;){i.push([e.call(a,f=c[l],l),g.call(a,f,l)]);}else if(b)for(;++l<v;){i.push([e.call(a,c[l],l),g]);}else if(k)for(;++l<v;){i.push([e,g.call(a,c[l],l)]);}else for(;++l<v;){i.push([e,g]);}return i;}function Ja(a){return a[0];}function V(a){return a[1];}function lb(a){return a<1E-4?Math.round(a*1E4)/1E4:a;}function Aa(a){for(var c=0,e=a.length,g=a[0],i=[lb(g[0]),\",\",lb(g[1])];++c<e;){i.push(\"L\",lb((g=a[c])[0]),\",\",lb(g[1]));}return i.join(\"\");}function xb(a){for(var c=0,e=a.length,g=a[0],i=[g[0],\",\",g[1]];++c<e;){i.push(\"V\",(g=a[c])[1],\"H\",g[0]);}return i.join(\"\");}function yb(a){for(var c=0,e=a.length,g=a[0],i=[g[0],\",\",g[1]];++c<e;){i.push(\"H\",(g=a[c])[0],\"V\",g[1]);}return i.join(\"\");}function mb(a,c){if(c.length<1||a.length!=c.length&&a.length!=c.length+2)return Aa(a);var e=a.length!=c.length,g=\"\",i=a[0],l=a[1],v=c[0],b=v,k=1;if(e){g=g+(\"Q\"+(l[0]-v[0]*2/3)+\",\"+(l[1]-v[1]*2/3)+\",\"+l[0]+\",\"+l[1]);i=a[1];k=2;}if(c.length>1){b=c[1];l=a[k];k++;g=g+(\"C\"+(i[0]+v[0])+\",\"+(i[1]+v[1])+\",\"+(l[0]-b[0])+\",\"+(l[1]-b[1])+\",\"+l[0]+\",\"+l[1]);for(i=2;i<c.length;i++,k++){l=a[k];b=c[i];g=g+(\"S\"+(l[0]-b[0])+\",\"+(l[1]-b[1])+\",\"+l[0]+\",\"+l[1]);}}if(e){e=a[k];g=g+(\"Q\"+(l[0]+b[0]*2/3)+\",\"+(l[1]+b[1]*2/3)+\",\"+e[0]+\",\"+e[1]);}return g;}function zb(a,c){for(var e=[],g=(1-c)/2,i,l=a[0],b=a[1],k=1,Ga=a.length;++k<Ga;){i=l;l=b;b=a[k];e.push([g*(b[0]-i[0]),g*(b[1]-i[1])]);}return e;}function Tb(a){if(a.length<3)return Aa(a);var c=1,e=a.length,g=a[0],i=g[0],l=g[1],b=[i,i,i,(g=a[1])[0]],k=[l,l,l,g[1]],i=[i,\",\",l];for(bb(i,b,k);++c<e;){g=a[c];b.shift();b.push(g[0]);k.shift();k.push(g[1]);bb(i,b,k);}for(c=-1;++c<2;){b.shift();b.push(g[0]);k.shift();k.push(g[1]);bb(i,b,k);}return i.join(\"\");}function oa(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]+a[3]*c[3];}function bb(a,c,e){a.push(\"C\",oa(Ub,c),\",\",oa(Ub,e),\",\",oa(Vb,c),\",\",oa(Vb,e),\",\",oa(Qa,c),\",\",oa(Qa,e));}function Ab(a,c){return(c[1]-a[1])/(c[0]-a[0]);}function Wb(a){for(var c,e=-1,g=a.length,i,l;++e<g;){c=a[e];i=c[0];l=c[1]+Ka;c[0]=i*Math.cos(l);c[1]=i*Math.sin(l);}return a;}function Xb(a){function c(c){if(c.length<1)return null;var b=ia(this,c,e,i),c=ia(this,c,e===g?function(a,c){return b[c][0];}:g,i===l?function(a,c){return b[c][1];}:l);return\"M\"+k(a(c),f)+\"L\"+Ga(a(b.reverse()),f)+\"Z\";}var e=Ja,g=Ja,i=0,l=V,b,k,Ga,f=0.7;c.x=function(a){if(!arguments.length)return g;e=g=a;return c;};c.x0=function(a){if(!arguments.length)return e;e=a;return c;};c.x1=function(a){if(!arguments.length)return g;g=a;return c;};c.y=function(a){if(!arguments.length)return l;i=l=a;return c;};c.y0=function(a){if(!arguments.length)return i;i=a;return c;};c.y1=function(a){if(!arguments.length)return l;l=a;return c;};c.interpolate=function(a){if(!arguments.length)return b;k=wb[b=a];Ga=k.reverse||k;return c;};c.tension=function(a){if(!arguments.length)return f;f=a;return c;};return c.interpolate(\"linear\");}function Yb(a){return a.source;}function Zb(a){return a.target;}function qc(a){return a.radius;}function $b(a){return[a.x,a.y];}function ac(a,c){var e=(a.ownerSVGElement||a).createSVGPoint();if(Bb<0&&(window.scrollX||window.scrollY)){var g=d3.select(document.body).append(\"svg\").style(\"position\",\"absolute\").style(\"top\",0).style(\"left\",0),i=g[0][0].getScreenCTM();Bb=!(i.f||i.e);g.remove();}if(Bb){e.x=c.pageX;e.y=c.pageY;}else{e.x=c.clientX;e.y=c.clientY;}e=e.matrixTransform(a.getScreenCTM().inverse());return[e.x,e.y];}function rc(){return 64;}function sc(){return\"circle\";}function bc(a,c){a.attr(\"transform\",function(a){return\"translate(\"+c(a)+\",0)\";});}function cc(a,c){a.attr(\"transform\",function(a){return\"translate(0,\"+c(a)+\")\";});}function dc(a,c){a.select(\".extent\").attr(\"x\",c[0][0]);a.selectAll(\".n,.s,.w,.nw,.sw\").attr(\"x\",c[0][0]-2);a.selectAll(\".e,.ne,.se\").attr(\"x\",c[1][0]-3);a.selectAll(\".extent,.n,.s\").attr(\"width\",c[1][0]-c[0][0]);}function ec(a,c){a.select(\".extent\").attr(\"y\",c[0][1]);a.selectAll(\".n,.e,.w,.nw,.ne\").attr(\"y\",c[0][1]-3);a.selectAll(\".s,.se,.sw\").attr(\"y\",c[1][1]-4);a.selectAll(\".extent,.e,.w\").attr(\"height\",c[1][1]-c[0][1]);}function tc(){if(d3.event.keyCode==32&&La&&!ua){pa=null;O[0]=O[0]-T[1][0];O[1]=O[1]-T[1][1];ua=2;ba();}}function uc(){if(d3.event.keyCode==32&&ua==2){O[0]=O[0]+T[1][0];O[1]=O[1]+T[1][1];ua=0;ba();}}function Cb(){if(O){var a=d3.svg.mouse(La),c=d3.select(La);if(!ua)if(d3.event.altKey){pa||(pa=[(T[0][0]+T[1][0])/2,(T[0][1]+T[1][1])/2]);O[0]=T[+(a[0]<pa[0])][0];O[1]=T[+(a[1]<pa[1])][1];}else pa=null;if(nb){fc(a,nb,0);dc(c,T);}if(ob){fc(a,ob,1);ec(c,T);}cb(\"brush\");}}function fc(a,c,e){var g=Ia(c),c=g[0],i=g[1],g=O[e],l=T[1][e]-T[0][e];if(ua){c=c-g;i=i-(l+g);}a=Math.max(c,Math.min(i,a[e]));if(ua)c=(a=a+g)+l;else{pa&&(g=Math.max(c,Math.min(i,2*pa[e]-a)));if(g<a){c=a;a=g;}else c=g;}T[0][e]=a;T[1][e]=c;}function vc(){if(O){Cb();d3.select(La).selectAll(\".resize\").style(\"pointer-events\",Db.empty()?\"none\":\"all\");cb(\"brushend\");Db=cb=La=nb=ob=T=ua=Ra=pa=O=null;ba();}}function Eb(a){var c=gc(),e=d3.event,g=d3.event={type:a};if(c){g.x=c[0]+Ba[0];g.y=c[1]+Ba[1];g.dx=c[0]-Ma[0];g.dy=c[1]-Ma[1];Na=Na|g.dx|g.dy;Ma=c;}try{Fb[a].apply(Ca,pb);}finally{d3.event=e;}e.stopPropagation();e.preventDefault();}function gc(){var a=Ca.parentNode,c=d3.event.changedTouches;return a&&(c?d3.svg.touches(a,c)[0]:d3.svg.mouse(a));}function hc(){if(Ca){if(!Ca.parentNode)return Gb();Eb(\"drag\");ba();}}function Gb(){if(Ca){Eb(\"dragend\");if(Na){ba();Na=d3.event.target===Hb;}Fb=Hb=Ca=pb=Ba=Ma=null;}}function wc(){if(Na){ba();Na=0;}}function qb(a){return[a[0]-ca[0],a[1]-ca[1],ca[2]];}function ic(){for(var a=d3.svg.touches(qa),c=-1,e=a.length,g;++c<e;){db[(g=a[c]).identifier]=qb(g);}return a;}function xc(){var a=d3.svg.touches(qa);switch(a.length){case 1:a=a[0];Sa(ca[2],a,db[a.identifier]);break;case 2:var c=a[0],e=a[1],a=[(c[0]+e[0])/2,(c[1]+e[1])/2],c=db[c.identifier],e=db[e.identifier],e=[(c[0]+e[0])/2,(c[1]+e[1])/2,c[2]];Sa(Math.log(d3.event.scale)/Math.LN2+c[2],a,e);}}function yc(){rb=null;if(eb){Ta=1;Sa(ca[2],d3.svg.mouse(qa),eb);}}function zc(){if(eb){if(Ta){ba();Ta=Ib===d3.event.target;}ca=Jb=Kb=Ib=qa=Lb=eb=null;}}function Ac(){if(Ta){ba();Ta=0;}}function Sa(a,c,e){function g(a,c,e){a.domain(a.range().map(function(g){return a.invert((g-e)*i/l+c);}));}var a=Mb(a,2),i=Math.pow(2,ca[2]),l=Math.pow(2,a),a=Math.pow(2,(ca[2]=a)-e[2]),b=ca[0],k=ca[1],Ga=ca[0]=Mb(c[0]-e[0]*a,0,l),f=ca[1]=Mb(c[1]-e[1]*a,1,l),c=d3.event;d3.event={scale:l,translate:[Ga,f],transform:function transform(a,c){a&&g(a,b,Ga);c&&g(c,k,f);}};try{Kb.apply(qa,Lb);}finally{d3.event=c;}c.preventDefault();}function Mb(a,c,e){var g=Jb[c],i=g[0],g=g[1];return arguments.length===3?Math.max(g*(g===Infinity?-Infinity:1/e-1),Math.min(i===-Infinity?Infinity:i,a/e))*e:Math.max(i,Math.min(g,a));}if(!Date.now)Date.now=function(){return+new Date();};try{document.createElement(\"div\").style.setProperty(\"opacity\",0,\"\");}catch(Tc){if(typeof CSSStyleDeclaration!==\"undefined\"){var jc=CSSStyleDeclaration.prototype,Bc=jc.setProperty;jc.setProperty=function(a,c,e){Bc.call(this,a,c+\"\",e);};}}var d3=global.d3={version:\"2.7.4\"};var fb=function fb(a){return Array.prototype.slice.call(a);};try{fb(document.documentElement.childNodes)[0].nodeType;}catch(Uc){fb=w;}var vb=[].__proto__?function(a,c){a.__proto__=c;}:function(a,c){for(var e in c){a[e]=c[e];}};d3.functor=function(a){return typeof a===\"function\"?a:function(){return a;};};d3.rebind=function(a,c){for(var e=1,g=arguments.length,i;++e<g;){a[i=arguments[e]]=h(a,c,c[i]);}return a;};d3.ascending=function(a,c){return a<c?-1:a>c?1:a>=c?0:NaN;};d3.descending=function(a,c){return c<a?-1:c>a?1:c>=a?0:NaN;};d3.mean=function(a,c){var e=a.length,g,i=0,l=-1,b=0;if(arguments.length===1)for(;++l<e;){if(r(g=a[l]))i=i+(g-i)/++b;}else for(;++l<e;){if(r(g=c.call(a,a[l],l)))i=i+(g-i)/++b;}return b?i:void 0;};d3.median=function(a,c){arguments.length>1&&(a=a.map(c));a=a.filter(r);return a.length?d3.quantile(a.sort(d3.ascending),0.5):void 0;};d3.min=function(a,c){var e=-1,g=a.length,i,l;if(arguments.length===1){for(;++e<g&&((i=a[e])==null||i!=i);){i=void 0;}for(;++e<g;){if((l=a[e])!=null&&i>l)i=l;}}else{for(;++e<g&&((i=c.call(a,a[e],e))==null||i!=i);){i=void 0;}for(;++e<g;){if((l=c.call(a,a[e],e))!=null&&i>l)i=l;}}return i;};d3.max=function(a,c){var e=-1,g=a.length,i,l;if(arguments.length===1){for(;++e<g&&((i=a[e])==null||i!=i);){i=void 0;}for(;++e<g;){if((l=a[e])!=null&&l>i)i=l;}}else{for(;++e<g&&((i=c.call(a,a[e],e))==null||i!=i);){i=void 0;}for(;++e<g;){if((l=c.call(a,a[e],e))!=null&&l>i)i=l;}}return i;};d3.extent=function(a,c){var e=-1,g=a.length,i,l,b;if(arguments.length===1){for(;++e<g&&((i=b=a[e])==null||i!=i);){i=b=void 0;}for(;++e<g;){if((l=a[e])!=null){i>l&&(i=l);b<l&&(b=l);}}}else{for(;++e<g&&((i=b=c.call(a,a[e],e))==null||i!=i);){i=void 0;}for(;++e<g;){if((l=c.call(a,a[e],e))!=null){i>l&&(i=l);b<l&&(b=l);}}}return[i,b];};d3.random={normal:function normal(a,c){arguments.length<2&&(c=1);arguments.length<1&&(a=0);return function(){var e,g;do{e=Math.random()*2-1;g=Math.random()*2-1;g=e*e+g*g;}while(!g||g>1);return a+c*e*Math.sqrt(-2*Math.log(g)/g);};}};d3.sum=function(a,c){var e=0,g=a.length,i,l=-1;if(arguments.length===1)for(;++l<g;){if(!isNaN(i=+a[l]))e=e+i;}else for(;++l<g;){if(!isNaN(i=+c.call(a,a[l],l)))e=e+i;}return e;};d3.quantile=function(a,c){var e=(a.length-1)*c+1,g=Math.floor(e),i=a[g-1];return(e=e-g)?i+e*(a[g]-i):i;};d3.transpose=function(a){return d3.zip.apply(d3,a);};d3.zip=function(){if(!(i=arguments.length))return[];for(var a=-1,c=d3.min(arguments,t),e=Array(c);++a<c;){for(var g=-1,i,l=e[a]=Array(i);++g<i;){l[g]=arguments[g][a];}}return e;};d3.bisectLeft=function(a,c,e,g){arguments.length<3&&(e=0);if(arguments.length<4)g=a.length;for(;e<g;){var i=e+g>>1;a[i]<c?e=i+1:g=i;}return e;};d3.bisect=d3.bisectRight=function(a,c,e,g){arguments.length<3&&(e=0);if(arguments.length<4)g=a.length;for(;e<g;){var i=e+g>>1;c<a[i]?g=i:e=i+1;}return e;};d3.first=function(a,c){var e=0,g=a.length,i=a[0],l;if(arguments.length===1)c=d3.ascending;for(;++e<g;){if(c.call(a,i,l=a[e])>0)i=l;}return i;};d3.last=function(a,c){var e=0,g=a.length,i=a[0],l;if(arguments.length===1)c=d3.ascending;for(;++e<g;){if(c.call(a,i,l=a[e])<=0)i=l;}return i;};d3.nest=function(){function a(c,i){if(i>=g.length)return b?b.call(e,c):l?c.sort(l):c;for(var k=-1,f=c.length,j=g[i++],n,m,q={};++k<f;){(n=j(m=c[k]))in q?q[n].push(m):q[n]=[m];}for(n in q){q[n]=a(q[n],i);}return q;}function c(a,e){if(e>=g.length)return a;var l=[],b=i[e++],k;for(k in a){l.push({key:k,values:c(a[k],e)});}b&&l.sort(function(a,c){return b(a.key,c.key);});return l;}var e={},g=[],i=[],l,b;e.map=function(c){return a(c,0);};e.entries=function(e){return c(a(e,0),0);};e.key=function(a){g.push(a);return e;};e.sortKeys=function(a){i[g.length-1]=a;return e;};e.sortValues=function(a){l=a;return e;};e.rollup=function(a){b=a;return e;};return e;};d3.keys=function(a){var c=[],e;for(e in a){c.push(e);}return c;};d3.values=function(a){var c=[],e;for(e in a){c.push(a[e]);}return c;};d3.entries=function(a){var c=[],e;for(e in a){c.push({key:e,value:a[e]});}return c;};d3.permute=function(a,c){for(var e=[],g=-1,i=c.length;++g<i;){e[g]=a[c[g]];}return e;};d3.merge=function(a){return Array.prototype.concat.apply([],a);};d3.split=function(a,c){var e=[],g=[],i,l=-1,b=a.length;for(arguments.length<2&&(c=B);++l<b;){if(c.call(g,i=a[l],l))g=[];else{g.length||e.push(g);g.push(i);}}return e;};d3.range=function(a,c,e){if(arguments.length<3){e=1;if(arguments.length<2){c=a;a=0;}}if((c-a)/e==Infinity)throw Error(\"infinite range\");var g=[],i=-1,l;if(e<0)for(;(l=a+e*++i)>c;){g.push(l);}else for(;(l=a+e*++i)<c;){g.push(l);}return g;};d3.requote=function(a){return a.replace(Cc,\"\\\\$&\");};var Cc=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;d3.round=function(a,c){return c?Math.round(a*(c=Math.pow(10,c)))/c:Math.round(a);};d3.xhr=function(a,c,e){var g;window.XMLHttpRequest?g=new XMLHttpRequest():window.ActiveXObject&&(g=new ActiveXObject(\"Microsoft.XMLHTTP\"));if(arguments.length<3){e=c;c=null;}else c&&g.overrideMimeType&&g.overrideMimeType(c);g.open(\"GET\",a,true);c&&g.setRequestHeader(\"Accept\",c);g.onreadystatechange=function(){g.readyState===4&&e(g.status<300?g:null);};g.send(null);};d3.text=function(a,c,e){if(arguments.length<3){e=c;c=null;}d3.xhr(a,c,function(a){e(a&&a.responseText);});};d3.json=function(a,c){d3.text(a,\"application/json\",function(a){c(a?JSON.parse(a):null);});};d3.html=function(a,c){d3.text(a,\"text/html\",function(a){if(a!=null){var g=document.createRange();g.selectNode(document.body);a=g.createContextualFragment(a);}c(a);});};d3.xml=function(a,c,e){if(arguments.length<3){e=c;c=null;}d3.xhr(a,c,function(a){e(a&&a.responseXML);});};var sb={svg:\"http://www.w3.org/2000/svg\",xhtml:\"http://www.w3.org/1999/xhtml\",xlink:\"http://www.w3.org/1999/xlink\",xml:\"http://www.w3.org/XML/1998/namespace\",xmlns:\"http://www.w3.org/2000/xmlns/\"};d3.ns={prefix:sb,qualify:function qualify(a){var c=a.indexOf(\":\");return c<0?a in sb?{space:sb[a],local:a}:a:{space:sb[a.substring(0,c)],local:a.substring(c+1)};}};d3.dispatch=function(){for(var a=new P(),c=-1,e=arguments.length;++c<e;){a[arguments[c]]=M(a);}return a;};P.prototype.on=function(a,c){var e=a.indexOf(\".\"),g=\"\";if(e>0){g=a.substring(e+1);a=a.substring(0,e);}return arguments.length<2?this[a].on(g):this[a].on(g,c);};d3.format=function(a){var a=Dc.exec(a),c=a[1]||\" \",e=a[3]||\"\",g=a[5],i=+a[6],l=a[7],b=a[8],k=a[9],f=1,j=\"\",n=false;b&&(b=+b.substring(1));if(g){c=\"0\";l&&(i=i-Math.floor((i-1)/4));}switch(k){case\"n\":l=true;k=\"g\";break;case\"%\":f=100;j=\"%\";k=\"f\";break;case\"p\":f=100;j=\"%\";k=\"r\";break;case\"d\":n=true;b=0;break;case\"s\":f=-1;k=\"r\";}k==\"r\"&&!b&&(k=\"g\");k=Ec[k]||$;return function(a){if(n&&a%1)return\"\";var m=a<0&&(a=-a)?'\\u2212':e;if(f<0){var q=d3.formatPrefix(a,b),a=a*q.scale;j=q.symbol;}else a=a*f;a=k(a,b);if(g){q=a.length+m.length;q<i&&(a=Array(i-q+1).join(c)+a);l&&(a=K(a));a=m+a;}else{l&&(a=K(a));a=m+a;q=a.length;q<i&&(a=Array(i-q+1).join(c)+a);}return a+j;};};var Dc=/(?:([^{])?([<>=^]))?([+\\- ])?(#)?(0)?([0-9]+)?(,)?(\\.[0-9]+)?([a-zA-Z%])?/,Ec={g:function g(a,c){return a.toPrecision(c);},e:function e(a,c){return a.toExponential(c);},f:function f(a,c){return a.toFixed(c);},r:function r(a,c){return d3.round(a,c=ja(a,c)).toFixed(Math.max(0,Math.min(20,c)));}},Fc=[\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",'\\u03BC',\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"].map(function(a,c){return{scale:Math.pow(10,(8-c)*3),symbol:a};});d3.formatPrefix=function(a,c){var e=0;if(a){a<0&&(a=a*-1);c&&(a=d3.round(a,ja(a,c)));e=1+Math.floor(1E-12+Math.log(a)/Math.LN10);e=Math.max(-24,Math.min(24,Math.floor((e<=0?e+1:e-1)/3)*3));}return Fc[8+e/3];};var Gc=Da(2),Hc=Da(3),Ic={linear:function linear(){return da;},poly:Da,quad:function quad(){return Gc;},cubic:function cubic(){return Hc;},sin:function sin(){return L;},exp:function exp(){return E;},circle:function circle(){return ka;},elastic:function elastic(a,c){var e;arguments.length<2&&(c=0.45);if(arguments.length<1){a=1;e=c/4;}else e=c/(2*Math.PI)*Math.asin(1/a);return function(g){return 1+a*Math.pow(2,10*-g)*Math.sin((g-e)*2*Math.PI/c);};},back:function back(a){a||(a=1.70158);return function(c){return c*c*((a+1)*c-a);};},bounce:function bounce(){return Wa;}},Jc={\"in\":function _in(a){return a;},out:aa,\"in-out\":W,\"out-in\":function outIn(a){return W(aa(a));}};d3.ease=function(a){var c=a.indexOf(\"-\"),e=c>=0?a.substring(0,c):a,c=c>=0?a.substring(c+1):\"in\",g=Jc[c](Ic[e].apply(null,Array.prototype.slice.call(arguments,1)));return function(a){return a<=0?0:a>=1?1:g(a);};};d3.event=null;d3.interpolate=function(a,c){for(var e=d3.interpolators.length,g;--e>=0&&!(g=d3.interpolators[e](a,c));){}return g;};d3.interpolateNumber=function(a,c){c=c-a;return function(e){return a+c*e;};};d3.interpolateRound=function(a,c){c=c-a;return function(e){return Math.round(a+c*e);};};d3.interpolateString=function(a,c){var e,g,i=0,l=[],b=[],k,f;for(g=tb.lastIndex=0;e=tb.exec(c);++g){e.index&&l.push(c.substring(i,e.index));b.push({i:l.length,x:e[0]});l.push(null);i=tb.lastIndex;}i<c.length&&l.push(c.substring(i));g=0;for(k=b.length;(e=tb.exec(a))&&g<k;++g){f=b[g];if(f.x==e[0]){if(f.i){if(l[f.i+1]==null){l[f.i-1]=l[f.i-1]+f.x;l.splice(f.i,1);for(e=g+1;e<k;++e){b[e].i--;}}else{l[f.i-1]=l[f.i-1]+(f.x+l[f.i+1]);l.splice(f.i,2);for(e=g+1;e<k;++e){b[e].i=b[e].i-2;}}}else if(l[f.i+1]==null)l[f.i]=f.x;else{l[f.i]=f.x+l[f.i+1];l.splice(f.i+1,1);for(e=g+1;e<k;++e){b[e].i--;}}b.splice(g,1);k--;g--;}else f.x=d3.interpolateNumber(parseFloat(e[0]),parseFloat(f.x));}for(;g<k;){f=b.pop();if(l[f.i+1]==null)l[f.i]=f.x;else{l[f.i]=f.x+l[f.i+1];l.splice(f.i+1,1);}k--;}return l.length===1?l[0]==null?b[0].x:function(){return c;}:function(a){for(g=0;g<k;++g){l[(f=b[g]).i]=f.x(a);}return l.join(\"\");};};d3.interpolateTransform=function(a,c){var e=[],g=[],i,l=d3.transform(a),b=d3.transform(c),k=l.translate,f=b.translate,j=l.rotate,n=b.rotate,m=l.skew,q=b.skew,l=l.scale,b=b.scale;if(k[0]!=f[0]||k[1]!=f[1]){e.push(\"translate(\",null,\",\",null,\")\");g.push({i:1,x:d3.interpolateNumber(k[0],f[0])},{i:3,x:d3.interpolateNumber(k[1],f[1])});}else f[0]||f[1]?e.push(\"translate(\"+f+\")\"):e.push(\"\");j!=n?g.push({i:e.push(e.pop()+\"rotate(\",null,\")\")-2,x:d3.interpolateNumber(j,n)}):n&&e.push(e.pop()+\"rotate(\"+n+\")\");m!=q?g.push({i:e.push(e.pop()+\"skewX(\",null,\")\")-2,x:d3.interpolateNumber(m,q)}):q&&e.push(e.pop()+\"skewX(\"+q+\")\");if(l[0]!=b[0]||l[1]!=b[1]){i=e.push(e.pop()+\"scale(\",null,\",\",null,\")\");g.push({i:i-4,x:d3.interpolateNumber(l[0],b[0])},{i:i-2,x:d3.interpolateNumber(l[1],b[1])});}else(b[0]!=1||b[1]!=1)&&e.push(e.pop()+\"scale(\"+b+\")\");i=g.length;return function(a){for(var c=-1,l;++c<i;){e[(l=g[c]).i]=l.x(a);}return e.join(\"\");};};d3.interpolateRgb=function(a,c){var a=d3.rgb(a),c=d3.rgb(c),e=a.r,g=a.g,i=a.b,l=c.r-e,b=c.g-g,k=c.b-i;return function(a){return\"#\"+fa(Math.round(e+l*a))+fa(Math.round(g+b*a))+fa(Math.round(i+k*a));};};d3.interpolateHsl=function(a,c){var a=d3.hsl(a),c=d3.hsl(c),e=a.h,g=a.s,i=a.l,l=c.h-e,b=c.s-g,k=c.l-i;return function(a){return ra(e+l*a,g+b*a,i+k*a).toString();};};d3.interpolateArray=function(a,c){var e=[],g=[],i=a.length,l=c.length,b=Math.min(a.length,c.length),k;for(k=0;k<b;++k){e.push(d3.interpolate(a[k],c[k]));}for(;k<i;++k){g[k]=a[k];}for(;k<l;++k){g[k]=c[k];}return function(a){for(k=0;k<b;++k){g[k]=e[k](a);}return g;};};d3.interpolateObject=function(a,c){var e={},g={},i;for(i in a){i in c?e[i]=(i==\"transform\"?d3.interpolateTransform:d3.interpolate)(a[i],c[i]):g[i]=a[i];}for(i in c){i in a||(g[i]=c[i]);}return function(a){for(i in e){g[i]=e[i](a);}return g;};};var tb=/[-+]?(?:\\d*\\.?\\d+)(?:[eE][-+]?\\d+)?/g;d3.interpolators=[d3.interpolateObject,function(a,c){return c instanceof Array&&d3.interpolateArray(a,c);},function(a,c){return(typeof a===\"string\"||typeof c===\"string\")&&d3.interpolateString(a+\"\",c+\"\");},function(a,c){return(typeof c===\"string\"?c in Ya||/^(#|rgb\\(|hsl\\()/.test(c):c instanceof Y||c instanceof J)&&d3.interpolateRgb(a,c);},function(a,c){return!isNaN(a=+a)&&!isNaN(c=+c)&&d3.interpolateNumber(a,c);}];d3.rgb=function(a,c,e){return arguments.length===1?a instanceof Y?ea(a.r,a.g,a.b):Ea(\"\"+a,ea,ra):ea(~~a,~~c,~~e);};Y.prototype.brighter=function(a){var a=Math.pow(0.7,arguments.length?a:1),c=this.r,e=this.g,g=this.b;if(!c&&!e&&!g)return ea(30,30,30);c&&c<30&&(c=30);e&&e<30&&(e=30);g&&g<30&&(g=30);return ea(Math.min(255,Math.floor(c/a)),Math.min(255,Math.floor(e/a)),Math.min(255,Math.floor(g/a)));};Y.prototype.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return ea(Math.floor(a*this.r),Math.floor(a*this.g),Math.floor(a*this.b));};Y.prototype.hsl=function(){return Fa(this.r,this.g,this.b);};Y.prototype.toString=function(){return\"#\"+fa(this.r)+fa(this.g)+fa(this.b);};var Ya={aliceblue:\"#f0f8ff\",antiquewhite:\"#faebd7\",aqua:\"#00ffff\",aquamarine:\"#7fffd4\",azure:\"#f0ffff\",beige:\"#f5f5dc\",bisque:\"#ffe4c4\",black:\"#000000\",blanchedalmond:\"#ffebcd\",blue:\"#0000ff\",blueviolet:\"#8a2be2\",brown:\"#a52a2a\",burlywood:\"#deb887\",cadetblue:\"#5f9ea0\",chartreuse:\"#7fff00\",chocolate:\"#d2691e\",coral:\"#ff7f50\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cyan:\"#00ffff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",darkgreen:\"#006400\",darkgrey:\"#a9a9a9\",darkkhaki:\"#bdb76b\",darkmagenta:\"#8b008b\",darkolivegreen:\"#556b2f\",darkorange:\"#ff8c00\",darkorchid:\"#9932cc\",darkred:\"#8b0000\",darksalmon:\"#e9967a\",darkseagreen:\"#8fbc8f\",darkslateblue:\"#483d8b\",darkslategray:\"#2f4f4f\",darkslategrey:\"#2f4f4f\",darkturquoise:\"#00ced1\",darkviolet:\"#9400d3\",deeppink:\"#ff1493\",deepskyblue:\"#00bfff\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1e90ff\",firebrick:\"#b22222\",floralwhite:\"#fffaf0\",forestgreen:\"#228b22\",fuchsia:\"#ff00ff\",gainsboro:\"#dcdcdc\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#adff2f\",grey:\"#808080\",honeydew:\"#f0fff0\",hotpink:\"#ff69b4\",indianred:\"#cd5c5c\",indigo:\"#4b0082\",ivory:\"#fffff0\",khaki:\"#f0e68c\",lavender:\"#e6e6fa\",lavenderblush:\"#fff0f5\",lawngreen:\"#7cfc00\",lemonchiffon:\"#fffacd\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lightcyan:\"#e0ffff\",lightgoldenrodyellow:\"#fafad2\",lightgray:\"#d3d3d3\",lightgreen:\"#90ee90\",lightgrey:\"#d3d3d3\",lightpink:\"#ffb6c1\",lightsalmon:\"#ffa07a\",lightseagreen:\"#20b2aa\",lightskyblue:\"#87cefa\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#b0c4de\",lightyellow:\"#ffffe0\",lime:\"#00ff00\",limegreen:\"#32cd32\",linen:\"#faf0e6\",magenta:\"#ff00ff\",maroon:\"#800000\",mediumaquamarine:\"#66cdaa\",mediumblue:\"#0000cd\",mediumorchid:\"#ba55d3\",mediumpurple:\"#9370db\",mediumseagreen:\"#3cb371\",mediumslateblue:\"#7b68ee\",mediumspringgreen:\"#00fa9a\",mediumturquoise:\"#48d1cc\",mediumvioletred:\"#c71585\",midnightblue:\"#191970\",mintcream:\"#f5fffa\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",navajowhite:\"#ffdead\",navy:\"#000080\",oldlace:\"#fdf5e6\",olive:\"#808000\",olivedrab:\"#6b8e23\",orange:\"#ffa500\",orangered:\"#ff4500\",orchid:\"#da70d6\",palegoldenrod:\"#eee8aa\",palegreen:\"#98fb98\",paleturquoise:\"#afeeee\",palevioletred:\"#db7093\",papayawhip:\"#ffefd5\",peachpuff:\"#ffdab9\",peru:\"#cd853f\",pink:\"#ffc0cb\",plum:\"#dda0dd\",powderblue:\"#b0e0e6\",purple:\"#800080\",red:\"#ff0000\",rosybrown:\"#bc8f8f\",royalblue:\"#4169e1\",saddlebrown:\"#8b4513\",salmon:\"#fa8072\",sandybrown:\"#f4a460\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",sienna:\"#a0522d\",silver:\"#c0c0c0\",skyblue:\"#87ceeb\",slateblue:\"#6a5acd\",slategray:\"#708090\",slategrey:\"#708090\",snow:\"#fffafa\",springgreen:\"#00ff7f\",steelblue:\"#4682b4\",tan:\"#d2b48c\",teal:\"#008080\",thistle:\"#d8bfd8\",tomato:\"#ff6347\",turquoise:\"#40e0d0\",violet:\"#ee82ee\",wheat:\"#f5deb3\",white:\"#ffffff\",whitesmoke:\"#f5f5f5\",yellow:\"#ffff00\",yellowgreen:\"#9acd32\"},Nb;for(Nb in Ya){Ya[Nb]=Ea(Ya[Nb],ea,ra);}d3.hsl=function(a,c,e){return arguments.length===1?a instanceof J?ga(a.h,a.s,a.l):Ea(\"\"+a,Fa,ga):ga(+a,+c,+e);};J.prototype.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return ga(this.h,this.s,this.l/a);};J.prototype.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return ga(this.h,this.s,a*this.l);};J.prototype.rgb=function(){return ra(this.h,this.s,this.l);};J.prototype.toString=function(){return this.rgb().toString();};var ib=function ib(a,c){return c.querySelector(a);},Pb=function Pb(a,c){return c.querySelectorAll(a);},Ua=document.documentElement,Kc=Ua.matchesSelector||Ua.webkitMatchesSelector||Ua.mozMatchesSelector||Ua.msMatchesSelector||Ua.oMatchesSelector,kc=function kc(a,c){return Kc.call(a,c);};if(typeof Sizzle===\"function\"){ib=function ib(a,c){return Sizzle(a,c)[0];};Pb=function Pb(a,c){return Sizzle.uniqueSort(Sizzle(a,c));};kc=Sizzle.matchesSelector;}var I=[];d3.selection=function(){return gb;};d3.selection.prototype=I;I.select=function(a){var c=[],e,g,i,l;typeof a!==\"function\"&&(a=la(a));for(var b=-1,k=this.length;++b<k;){c.push(e=[]);e.parentNode=(i=this[b]).parentNode;for(var f=-1,j=i.length;++f<j;){if(l=i[f]){e.push(g=a.call(l,l.__data__,f));if(g&&\"__data__\"in l)g.__data__=l.__data__;}else e.push(null);}}return Q(c);};I.selectAll=function(a){var c=[],e,g;typeof a!==\"function\"&&(a=sa(a));for(var i=-1,l=this.length;++i<l;){for(var b=this[i],k=-1,f=b.length;++k<f;){if(g=b[k]){c.push(e=fb(a.call(g,g.__data__,k)));e.parentNode=g;}}}return Q(c);};I.attr=function(a,c){function e(){this.removeAttribute(a);}function g(){this.removeAttributeNS(a.space,a.local);}function i(){this.setAttribute(a,c);}function l(){this.setAttributeNS(a.space,a.local,c);}function b(){var e=c.apply(this,arguments);e==null?this.removeAttribute(a):this.setAttribute(a,e);}function k(){var e=c.apply(this,arguments);e==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,e);}a=d3.ns.qualify(a);if(arguments.length<2){var f=this.node();return a.local?f.getAttributeNS(a.space,a.local):f.getAttribute(a);}return this.each(c==null?a.local?g:e:typeof c===\"function\"?a.local?k:b:a.local?l:i);};I.classed=function(a,c){var e=a.split(Lc),g=e.length,i=-1;if(arguments.length>1){for(;++i<g;){ta.call(this,e[i],c);}return this;}for(;++i<g;){if(!ta.call(this,e[i]))return false;}return true;};var Lc=/\\s+/g;I.style=function(a,c,e){function g(){this.style.removeProperty(a);}function i(){this.style.setProperty(a,c,e);}function l(){var g=c.apply(this,arguments);g==null?this.style.removeProperty(a):this.style.setProperty(a,g,e);}arguments.length<3&&(e=\"\");return arguments.length<2?window.getComputedStyle(this.node(),null).getPropertyValue(a):this.each(c==null?g:typeof c===\"function\"?l:i);};I.property=function(a,c){function e(){delete this[a];}function g(){this[a]=c;}function i(){var e=c.apply(this,arguments);e==null?delete this[a]:this[a]=e;}return arguments.length<2?this.node()[a]:this.each(c==null?e:typeof c===\"function\"?i:g);};I.text=function(a){return arguments.length<1?this.node().textContent:this.each(typeof a===\"function\"?function(){var c=a.apply(this,arguments);this.textContent=c==null?\"\":c;}:a==null?function(){this.textContent=\"\";}:function(){this.textContent=a;});};I.html=function(a){return arguments.length<1?this.node().innerHTML:this.each(typeof a===\"function\"?function(){var c=a.apply(this,arguments);this.innerHTML=c==null?\"\":c;}:a==null?function(){this.innerHTML=\"\";}:function(){this.innerHTML=a;});};I.append=function(a){function c(){return this.appendChild(document.createElementNS(this.namespaceURI,a));}function e(){var c=document.createElementNS(a.space,a.local);return this.appendChild(c);}a=d3.ns.qualify(a);return this.select(a.local?e:c);};I.insert=function(a,c){function e(){return this.insertBefore(document.createElementNS(this.namespaceURI,a),ib(c,this));}function g(){return this.insertBefore(document.createElementNS(a.space,a.local),ib(c,this));}a=d3.ns.qualify(a);return this.select(a.local?g:e);};I.remove=function(){return this.each(function(){var a=this.parentNode;a&&a.removeChild(this);});};I.data=function(a,c){function e(a,e){var b,k=a.length,f=e.length,v=Math.min(k,f),j=Math.max(k,f),n=[],m=[],q=[],D,C;if(c){var v={},j=[],p;C=e.length;for(b=-1;++b<k;){p=c.call(D=a[b],D.__data__,b);p in v?q[C++]=D:v[p]=D;j.push(p);}for(b=-1;++b<f;){if(D=v[p=c.call(e,C=e[b],b)]){D.__data__=C;n[b]=D;m[b]=q[b]=null;}else{m[b]={__data__:C};n[b]=q[b]=null;}delete v[p];}for(b=-1;++b<k;){j[b]in v&&(q[b]=a[b]);}}else{for(b=-1;++b<v;){D=a[b];C=e[b];if(D){D.__data__=C;n[b]=D;m[b]=q[b]=null;}else{m[b]={__data__:C};n[b]=q[b]=null;}}for(;b<f;++b){m[b]={__data__:e[b]};n[b]=q[b]=null;}for(;b<j;++b){q[b]=a[b];m[b]=n[b]=null;}}m.update=n;m.parentNode=n.parentNode=q.parentNode=a.parentNode;g.push(m);i.push(n);l.push(q);}var g=[],i=[],l=[],b=-1,k=this.length,f;if(typeof a===\"function\")for(;++b<k;){e(f=this[b],a.call(f,f.parentNode.__data__,b));}else for(;++b<k;){e(f=this[b],a);}b=Q(i);b.enter=function(){var a=g;vb(a,Va);return a;};b.exit=function(){return Q(l);};return b;};I.filter=function(a){var c=[],e,g,i;if(typeof a!==\"function\")var b=a,a=function a(){return kc(this,b);};for(var k=0,f=this.length;k<f;k++){c.push(e=[]);e.parentNode=(g=this[k]).parentNode;for(var n=0,j=g.length;n<j;n++){(i=g[n])&&a.call(i,i.__data__,n)&&e.push(i);}}return Q(c);};I.map=function(a){return this.each(function(){this.__data__=a.apply(this,arguments);});};I.order=function(){for(var a=-1,c=this.length;++a<c;){for(var e=this[a],g=e.length-1,i=e[g],b;--g>=0;){if(b=e[g]){i&&i!==b.nextSibling&&i.parentNode.insertBefore(b,i);i=b;}}}return this;};I.sort=function(a){for(var a=xa.apply(this,arguments),c=-1,e=this.length;++c<e;){this[c].sort(a);}return this.order();};I.on=function(a,c,e){arguments.length<3&&(e=false);var g=\"__on\"+a,i=a.indexOf(\".\");i>0&&(a=a.substring(0,i));return arguments.length<2?(i=this.node()[g])&&i._:this.each(function(i,b){function k(a){var e=d3.event;d3.event=a;try{c.call(f,f.__data__,b);}finally{d3.event=e;}}var f=this;f[g]&&f.removeEventListener(a,f[g],e);c&&f.addEventListener(a,f[g]=k,e);k._=c;});};I.each=function(a){for(var c=-1,e=this.length;++c<e;){for(var g=this[c],i=-1,b=g.length;++i<b;){var k=g[i];k&&a.call(k,k.__data__,i,c);}}return this;};I.call=function(a){a.apply(this,(arguments[0]=this,arguments));return this;};I.empty=function(){return!this.node();};I.node=function(){for(var a=0,c=this.length;a<c;a++){for(var e=this[a],g=0,i=e.length;g<i;g++){var b=e[g];if(b)return b;}}return null;};I.transition=function(){for(var a=[],c,e,g=-1,i=this.length;++g<i;){a.push(c=[]);for(var b=this[g],k=-1,f=b.length;++k<f;){c.push((e=b[k])?{node:e,delay:0,duration:250}:null);}}return ya(a,Oa||++Mc,Date.now());};var gb=Q([[document]]);gb[0].parentNode=Ua;d3.select=function(a){return typeof a===\"string\"?gb.select(a):Q([[a]]);};d3.selectAll=function(a){return typeof a===\"string\"?gb.selectAll(a):Q([fb(a)]);};var Va=[];Va.append=I.append;Va.insert=I.insert;Va.empty=I.empty;Va.node=I.node;Va.select=function(a){for(var c=[],e,g,b,k,f,n=-1,j=this.length;++n<j;){b=(k=this[n]).update;c.push(e=[]);e.parentNode=k.parentNode;for(var m=-1,q=k.length;++m<q;){if(f=k[m]){e.push(b[m]=g=a.call(k.parentNode,f.__data__,m));g.__data__=f.__data__;}else e.push(null);}}return Q(c);};var $a={},Z=[],Mc=0,Oa=0,oc=d3.ease(\"cubic-in-out\");Z.call=I.call;d3.transition=function(){return gb.transition();};d3.transition.prototype=Z;Z.select=function(a){var c=[],e,g,b;typeof a!==\"function\"&&(a=la(a));for(var k=-1,f=this.length;++k<f;){c.push(e=[]);for(var n=this[k],j=-1,m=n.length;++j<m;){if((b=n[j])&&(g=a.call(b.node,b.node.__data__,j))){if(\"__data__\"in b.node)g.__data__=b.node.__data__;e.push({node:g,delay:b.delay,duration:b.duration});}else e.push(null);}}return ya(c,this.id,this.time).ease(this.ease());};Z.selectAll=function(a){var c=[],e,g,b;typeof a!==\"function\"&&(a=sa(a));for(var k=-1,f=this.length;++k<f;){for(var n=this[k],j=-1,m=n.length;++j<m;){if(b=n[j]){g=a.call(b.node,b.node.__data__,j);c.push(e=[]);for(var q=-1,C=g.length;++q<C;){e.push({node:g[q],delay:b.delay,duration:b.duration});}}}}return ya(c,this.id,this.time).ease(this.ease());};Z.attr=function(a,c){return this.attrTween(a,b(a,c));};Z.attrTween=function(a,c){function e(a,e){var g=c.call(this,a,e,this.getAttribute(b));return g===$a?(this.removeAttribute(b),null):g&&function(a){this.setAttribute(b,g(a));};}function g(a,e){var g=c.call(this,a,e,this.getAttributeNS(b.space,b.local));return g===$a?(this.removeAttributeNS(b.space,b.local),null):g&&function(a){this.setAttributeNS(b.space,b.local,g(a));};}var b=d3.ns.qualify(a);return this.tween(\"attr.\"+a,b.local?g:e);};Z.style=function(a,c,e){arguments.length<3&&(e=\"\");return this.styleTween(a,b(a,c),e);};Z.styleTween=function(a,c,e){arguments.length<3&&(e=\"\");return this.tween(\"style.\"+a,function(g,b){var k=c.call(this,g,b,window.getComputedStyle(this,null).getPropertyValue(a));return k===$a?(this.style.removeProperty(a),null):k&&function(c){this.style.setProperty(a,k(c),e);};});};Z.text=function(a){return this.tween(\"text\",function(c,e){this.textContent=typeof a===\"function\"?a.call(this,c,e):a;});};Z.remove=function(){return this.each(\"end.transition\",function(){var a;!this.__transition__&&(a=this.parentNode)&&a.removeChild(this);});};Z.delay=function(a){var c=this;return c.each(typeof a===\"function\"?function(e,g,b){c[b][g].delay=+a.apply(this,arguments);}:(a=+a,function(e,g,b){c[b][g].delay=a;}));};Z.duration=function(a){var c=this;return c.each(typeof a===\"function\"?function(e,g,b){c[b][g].duration=+a.apply(this,arguments);}:(a=+a,function(e,g,b){c[b][g].duration=a;}));};Z.transition=function(){return this.select(G);};var Ha=null,kb,jb;d3.timer=function(a,c,e){var g=false,b=Ha;if(arguments.length<3){if(arguments.length<2)c=0;else if(!isFinite(c))return;e=Date.now();}for(;b;){if(b.callback===a){b.then=e;b.delay=c;g=true;break;}b=b.next;}g||(Ha={callback:a,then:e,delay:c,next:Ha});if(!kb){jb=clearTimeout(jb);kb=1;Qb(o);}};d3.timer.flush=function(){for(var a,c=Date.now(),e=Ha;e;){a=c-e.then;if(!e.delay)e.flush=e.callback(a);e=e.next;}ha();};var Qb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,17);};d3.transform=function(a){var c=document.createElementNS(d3.ns.prefix.svg,\"g\"),e={a:1,b:0,c:0,d:1,e:0,f:0};return(d3.transform=function(a){c.setAttribute(\"transform\",a);a=c.transform.baseVal.consolidate();return new U(a?a.matrix:e);})(a);};U.prototype.toString=function(){return\"translate(\"+this.translate+\")rotate(\"+this.rotate+\")skewX(\"+this.skew+\")scale(\"+this.scale+\")\";};var Rb=180/Math.PI;d3.scale={};d3.scale.linear=function(){return k([0,1],[0,1],d3.interpolate,false);};d3.scale.log=function(){return S(d3.scale.linear(),X);};var pc=d3.format(\".0e\");X.pow=function(a){return Math.pow(10,a);};s.pow=function(a){return-Math.pow(10,-a);};d3.scale.pow=function(){return u(d3.scale.linear(),1);};d3.scale.sqrt=function(){return d3.scale.pow().exponent(0.5);};d3.scale.ordinal=function(){return Sb([],{t:\"range\",x:[]});};d3.scale.category10=function(){return d3.scale.ordinal().range(Nc);};d3.scale.category20=function(){return d3.scale.ordinal().range(Oc);};d3.scale.category20b=function(){return d3.scale.ordinal().range(Pc);};d3.scale.category20c=function(){return d3.scale.ordinal().range(Qc);};var Nc=[\"#1f77b4\",\"#ff7f0e\",\"#2ca02c\",\"#d62728\",\"#9467bd\",\"#8c564b\",\"#e377c2\",\"#7f7f7f\",\"#bcbd22\",\"#17becf\"],Oc=[\"#1f77b4\",\"#aec7e8\",\"#ff7f0e\",\"#ffbb78\",\"#2ca02c\",\"#98df8a\",\"#d62728\",\"#ff9896\",\"#9467bd\",\"#c5b0d5\",\"#8c564b\",\"#c49c94\",\"#e377c2\",\"#f7b6d2\",\"#7f7f7f\",\"#c7c7c7\",\"#bcbd22\",\"#dbdb8d\",\"#17becf\",\"#9edae5\"],Pc=[\"#393b79\",\"#5254a3\",\"#6b6ecf\",\"#9c9ede\",\"#637939\",\"#8ca252\",\"#b5cf6b\",\"#cedb9c\",\"#8c6d31\",\"#bd9e39\",\"#e7ba52\",\"#e7cb94\",\"#843c39\",\"#ad494a\",\"#d6616b\",\"#e7969c\",\"#7b4173\",\"#a55194\",\"#ce6dbd\",\"#de9ed6\"],Qc=[\"#3182bd\",\"#6baed6\",\"#9ecae1\",\"#c6dbef\",\"#e6550d\",\"#fd8d3c\",\"#fdae6b\",\"#fdd0a2\",\"#31a354\",\"#74c476\",\"#a1d99b\",\"#c7e9c0\",\"#756bb1\",\"#9e9ac8\",\"#bcbddc\",\"#dadaeb\",\"#636363\",\"#969696\",\"#bdbdbd\",\"#d9d9d9\"];d3.scale.quantile=function(){return z([],[]);};d3.scale.quantize=function(){return F(0,1,[0,1]);};d3.svg={};d3.svg.arc=function(){function a(){var a=c.apply(this,arguments),k=e.apply(this,arguments),f=g.apply(this,arguments)+Ka,n=b.apply(this,arguments)+Ka,j=(n<f&&(j=f,f=n,n=j),n-f),m=j<Math.PI?\"0\":\"1\",q=Math.cos(f),f=Math.sin(f),C=Math.cos(n),n=Math.sin(n);return j>=Rc?a?\"M0,\"+k+\"A\"+k+\",\"+k+\" 0 1,1 0,\"+-k+\"A\"+k+\",\"+k+\" 0 1,1 0,\"+k+\"M0,\"+a+\"A\"+a+\",\"+a+\" 0 1,0 0,\"+-a+\"A\"+a+\",\"+a+\" 0 1,0 0,\"+a+\"Z\":\"M0,\"+k+\"A\"+k+\",\"+k+\" 0 1,1 0,\"+-k+\"A\"+k+\",\"+k+\" 0 1,1 0,\"+k+\"Z\":a?\"M\"+k*q+\",\"+k*f+\"A\"+k+\",\"+k+\" 0 \"+m+\",1 \"+k*C+\",\"+k*n+\"L\"+a*C+\",\"+a*n+\"A\"+a+\",\"+a+\" 0 \"+m+\",0 \"+a*q+\",\"+a*f+\"Z\":\"M\"+k*q+\",\"+k*f+\"A\"+k+\",\"+k+\" 0 \"+m+\",1 \"+k*C+\",\"+k*n+\"L0,0Z\";}var c=A,e=H,g=na,b=R;a.innerRadius=function(e){if(!arguments.length)return c;c=d3.functor(e);return a;};a.outerRadius=function(c){if(!arguments.length)return e;e=d3.functor(c);return a;};a.startAngle=function(c){if(!arguments.length)return g;g=d3.functor(c);return a;};a.endAngle=function(c){if(!arguments.length)return b;b=d3.functor(c);return a;};a.centroid=function(){var a=(c.apply(this,arguments)+e.apply(this,arguments))/2,k=(g.apply(this,arguments)+b.apply(this,arguments))/2+Ka;return[Math.cos(k)*a,Math.sin(k)*a];};return a;};var Ka=-Math.PI/2,Rc=2*Math.PI-1E-6;d3.svg.line=function(){return N(Object);};var wb={linear:Aa,\"step-before\":xb,\"step-after\":yb,basis:Tb,\"basis-open\":function basisOpen(a){if(a.length<4)return Aa(a);for(var c=[],e=-1,g=a.length,b,k=[0],f=[0];++e<3;){b=a[e];k.push(b[0]);f.push(b[1]);}c.push(oa(Qa,k)+\",\"+oa(Qa,f));for(--e;++e<g;){b=a[e];k.shift();k.push(b[0]);f.shift();f.push(b[1]);bb(c,k,f);}return c.join(\"\");},\"basis-closed\":function basisClosed(a){for(var c,e=-1,g=a.length,b=g+4,k,f=[],n=[];++e<4;){k=a[e%g];f.push(k[0]);n.push(k[1]);}c=[oa(Qa,f),\",\",oa(Qa,n)];for(--e;++e<b;){k=a[e%g];f.shift();f.push(k[0]);n.shift();n.push(k[1]);bb(c,f,n);}return c.join(\"\");},bundle:function bundle(a,c){for(var e=a.length-1,g=a[0][0],b=a[0][1],k=a[e][0]-g,f=a[e][1]-b,n=-1,j,m;++n<=e;){j=a[n];m=n/e;j[0]=c*j[0]+(1-c)*(g+m*k);j[1]=c*j[1]+(1-c)*(b+m*f);}return Tb(a);},cardinal:function cardinal(a,c){return a.length<3?Aa(a):a[0]+mb(a,zb(a,c));},\"cardinal-open\":function cardinalOpen(a,c){return a.length<4?Aa(a):a[1]+mb(a.slice(1,a.length-1),zb(a,c));},\"cardinal-closed\":function cardinalClosed(a,c){return a.length<3?Aa(a):a[0]+mb((a.push(a[0]),a),zb([a[a.length-2]].concat(a,[a[1]]),c));},monotone:function monotone(a){if(a.length<3)a=Aa(a);else{var c=a[0],e=[],b,k,l,f;b=0;k=a.length-1;var n=[];l=a[1];for(f=n[0]=Ab(a[0],l);++b<k;){n[b]=f+(f=Ab(l,l=a[b+1]));}n[b]=f;for(var j=-1,m=a.length-1;++j<m;){b=Ab(a[j],a[j+1]);if(Math.abs(b)<1E-6)n[j]=n[j+1]=0;else{k=n[j]/b;l=n[j+1]/b;f=k*k+l*l;if(f>9){f=b*3/Math.sqrt(f);n[j]=f*k;n[j+1]=f*l;}}}for(j=-1;++j<=m;){f=(a[Math.min(m,j+1)][0]-a[Math.max(0,j-1)][0])/(6*(1+n[j]*n[j]));e.push([f||0,n[j]*f||0]);}a=c+mb(a,e);}return a;}},Ub=[0,2/3,1/3,0],Vb=[0,1/3,2/3,0],Qa=[0,1/6,2/3,1/6];d3.svg.line.radial=function(){var a=N(Wb);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a;};xb.reverse=yb;yb.reverse=xb;d3.svg.area=function(){return Xb(Object);};d3.svg.area.radial=function(){var a=Xb(Wb);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;a.endAngle=a.y1;delete a.y1;return a;};d3.svg.chord=function(){function a(a,k){var i=c(this,e,a,k),l=c(this,b,a,k);return\"M\"+i.p0+(\"A\"+i.r+\",\"+i.r+\" 0 \"+ +(i.a1-i.a0>Math.PI)+\",1 \"+i.p1)+(i.a0==l.a0&&i.a1==l.a1?\"Q 0,0 \"+i.p0:\"Q 0,0 \"+l.p0+(\"A\"+l.r+\",\"+l.r+\" 0 \"+ +(l.a1-l.a0>Math.PI)+\",1 \"+l.p1)+(\"Q 0,0 \"+i.p0))+\"Z\";}function c(a,c,e,b){var g=c.call(a,e,b),c=k.call(a,g,b),e=l.call(a,g,b)+Ka,a=f.call(a,g,b)+Ka;return{r:c,a0:e,a1:a,p0:[c*Math.cos(e),c*Math.sin(e)],p1:[c*Math.cos(a),c*Math.sin(a)]};}var e=Yb,b=Zb,k=qc,l=na,f=R;a.radius=function(c){if(!arguments.length)return k;k=d3.functor(c);return a;};a.source=function(c){if(!arguments.length)return e;e=d3.functor(c);return a;};a.target=function(c){if(!arguments.length)return b;b=d3.functor(c);return a;};a.startAngle=function(c){if(!arguments.length)return l;l=d3.functor(c);return a;};a.endAngle=function(c){if(!arguments.length)return f;f=d3.functor(c);return a;};return a;};d3.svg.diagonal=function(){function a(a,k){var f=c.call(this,a,k),n=e.call(this,a,k),j=(f.y+n.y)/2,f=[f,{x:f.x,y:j},{x:n.x,y:j},n],f=f.map(b);return\"M\"+f[0]+\"C\"+f[1]+\" \"+f[2]+\" \"+f[3];}var c=Yb,e=Zb,b=$b;a.source=function(e){if(!arguments.length)return c;c=d3.functor(e);return a;};a.target=function(c){if(!arguments.length)return e;e=d3.functor(c);return a;};a.projection=function(c){if(!arguments.length)return b;b=c;return a;};return a;};d3.svg.diagonal.radial=function(){var a=d3.svg.diagonal(),c=$b,e=a.projection;a.projection=function(a){var b;if(arguments.length){var k=c=a;b=e(function(){var a=k.apply(this,arguments),c=a[0],a=a[1]+Ka;return[c*Math.cos(a),c*Math.sin(a)];});}else b=c;return b;};return a;};d3.svg.mouse=function(a){return ac(a,d3.event);};var Bb=/WebKit/.test(navigator.userAgent)?-1:0;d3.svg.touches=function(a,c){if(arguments.length<2)c=d3.event.touches;return c?fb(c).map(function(c){var b=ac(a,c);b.identifier=c.identifier;return b;}):[];};d3.svg.symbol=function(){function a(a,b){return(Ob[c.call(this,a,b)]||Ob.circle)(e.call(this,a,b));}var c=sc,e=rc;a.type=function(e){if(!arguments.length)return c;c=d3.functor(e);return a;};a.size=function(c){if(!arguments.length)return e;e=d3.functor(c);return a;};return a;};var Ob={circle:function circle(a){a=Math.sqrt(a/Math.PI);return\"M0,\"+a+\"A\"+a+\",\"+a+\" 0 1,1 0,\"+-a+\"A\"+a+\",\"+a+\" 0 1,1 0,\"+a+\"Z\";},cross:function cross(a){a=Math.sqrt(a/5)/2;return\"M\"+-3*a+\",\"+-a+\"H\"+-a+\"V\"+-3*a+\"H\"+a+\"V\"+-a+\"H\"+3*a+\"V\"+a+\"H\"+a+\"V\"+3*a+\"H\"+-a+\"V\"+a+\"H\"+-3*a+\"Z\";},diamond:function diamond(a){var a=Math.sqrt(a/(2*lc)),c=a*lc;return\"M0,\"+-a+\"L\"+c+\",0 0,\"+a+\" \"+-c+\",0Z\";},square:function square(a){a=Math.sqrt(a)/2;return\"M\"+-a+\",\"+-a+\"L\"+a+\",\"+-a+\" \"+a+\",\"+a+\" \"+-a+\",\"+a+\"Z\";},\"triangle-down\":function triangleDown(a){var a=Math.sqrt(a/ub),c=a*ub/2;return\"M0,\"+c+\"L\"+a+\",\"+-c+\" \"+-a+\",\"+-c+\"Z\";},\"triangle-up\":function triangleUp(a){var a=Math.sqrt(a/ub),c=a*ub/2;return\"M0,\"+-c+\"L\"+a+\",\"+c+\" \"+-a+\",\"+c+\"Z\";}};d3.svg.symbolTypes=d3.keys(Ob);var ub=Math.sqrt(3),lc=Math.tan(30*Math.PI/180);d3.svg.axis=function(){function a(a){a.each(function(q,C,p){var S=d3.select(this),z=a.delay?function(c){var e=Oa;try{Oa=a.id;return c.transition().delay(a[p][C].delay).duration(a[p][C].duration).ease(a.ease());}finally{Oa=e;}}:Object,o=c.ticks?c.ticks.apply(c,n):c.domain(),q=j==null?c.tickFormat?c.tickFormat.apply(c,n):String:j,x=m,X=[];if(x&&o.length>1){for(var s=za(c.domain()),X,A=-1,V=o.length,F=(o[1]-o[0])/++x,H,h;++A<V;){for(H=x;--H>0;){(h=+o[A]-H*F)>=s[0]&&X.push(h);}}--A;for(H=0;++H<x&&(h=+o[A]+H*F)<s[1];){X.push(h);}}s=S.selectAll(\".minor\").data(X,String);h=s.enter().insert(\"line\",\"g\").attr(\"class\",\"tick minor\").style(\"opacity\",1E-6);x=z(s.exit()).style(\"opacity\",1E-6).remove();s=z(s).style(\"opacity\",1);A=S.selectAll(\"g\").data(o,String);o=A.enter().insert(\"g\",\"path\").style(\"opacity\",1E-6);X=z(A.exit()).style(\"opacity\",1E-6).remove();var A=z(A).style(\"opacity\",1),u,V=Ia(c),S=S.selectAll(\".domain\").data([0]);S.enter().append(\"path\").attr(\"class\",\"domain\");var z=z(S),N=c.copy(),S=this.__chart__||N;this.__chart__=N;o.append(\"line\").attr(\"class\",\"tick\");o.append(\"text\");A.select(\"text\").text(q);switch(e){case\"bottom\":u=bc;h.attr(\"y2\",k);s.attr(\"x2\",0).attr(\"y2\",k);o.select(\"line\").attr(\"y2\",b);o.select(\"text\").attr(\"y\",Math.max(b,0)+f);A.select(\"line\").attr(\"x2\",0).attr(\"y2\",b);A.select(\"text\").attr(\"x\",0).attr(\"y\",Math.max(b,0)+f).attr(\"dy\",\".71em\").attr(\"text-anchor\",\"middle\");z.attr(\"d\",\"M\"+V[0]+\",\"+l+\"V0H\"+V[1]+\"V\"+l);break;case\"top\":u=bc;h.attr(\"y2\",-k);s.attr(\"x2\",0).attr(\"y2\",-k);o.select(\"line\").attr(\"y2\",-b);o.select(\"text\").attr(\"y\",-(Math.max(b,0)+f));A.select(\"line\").attr(\"x2\",0).attr(\"y2\",-b);A.select(\"text\").attr(\"x\",0).attr(\"y\",-(Math.max(b,0)+f)).attr(\"dy\",\"0em\").attr(\"text-anchor\",\"middle\");z.attr(\"d\",\"M\"+V[0]+\",\"+-l+\"V0H\"+V[1]+\"V\"+-l);break;case\"left\":u=cc;h.attr(\"x2\",-k);s.attr(\"x2\",-k).attr(\"y2\",0);o.select(\"line\").attr(\"x2\",-b);o.select(\"text\").attr(\"x\",-(Math.max(b,0)+f));A.select(\"line\").attr(\"x2\",-b).attr(\"y2\",0);A.select(\"text\").attr(\"x\",-(Math.max(b,0)+f)).attr(\"y\",0).attr(\"dy\",\".32em\").attr(\"text-anchor\",\"end\");z.attr(\"d\",\"M\"+-l+\",\"+V[0]+\"H0V\"+V[1]+\"H\"+-l);break;case\"right\":u=cc;h.attr(\"x2\",k);s.attr(\"x2\",k).attr(\"y2\",0);o.select(\"line\").attr(\"x2\",b);o.select(\"text\").attr(\"x\",Math.max(b,0)+f);A.select(\"line\").attr(\"x2\",b).attr(\"y2\",0);A.select(\"text\").attr(\"x\",Math.max(b,0)+f).attr(\"y\",0).attr(\"dy\",\".32em\").attr(\"text-anchor\",\"start\");z.attr(\"d\",\"M\"+l+\",\"+V[0]+\"H0V\"+V[1]+\"H\"+l);}if(c.ticks){o.call(u,S);A.call(u,N);X.call(u,N);h.call(u,S);s.call(u,N);x.call(u,N);}else{var ia=N.rangeBand()/2,q=function q(a){return N(a)+ia;};o.call(u,q);A.call(u,q);}});}var c=d3.scale.linear(),e=\"bottom\",b=6,k=6,l=6,f=3,n=[10],j,m=0;a.scale=function(e){if(!arguments.length)return c;c=e;return a;};a.orient=function(c){if(!arguments.length)return e;e=c;return a;};a.ticks=function(){if(!arguments.length)return n;n=arguments;return a;};a.tickFormat=function(c){if(!arguments.length)return j;j=c;return a;};a.tickSize=function(c,e,f){if(!arguments.length)return b;var n=arguments.length-1;b=+c;k=n>1?+e:b;l=n>0?+arguments[n]:b;return a;};a.tickPadding=function(c){if(!arguments.length)return f;f=+c;return a;};a.tickSubdivide=function(c){if(!arguments.length)return m;m=+c;return a;};return a;};d3.svg.brush=function(){function a(e){var n=b&&k?[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"]:b?[\"e\",\"w\"]:k?[\"n\",\"s\"]:[];e.each(function(){var e=d3.select(this).on(\"mousedown.brush\",c),j=e.selectAll(\".background\").data([0]),m=e.selectAll(\".extent\").data([0]),q=e.selectAll(\".resize\").data(n,String);j.enter().append(\"rect\").attr(\"class\",\"background\").style(\"visibility\",\"hidden\").style(\"pointer-events\",\"all\").style(\"cursor\",\"crosshair\");m.enter().append(\"rect\").attr(\"class\",\"extent\").style(\"cursor\",\"move\");q.enter().append(\"rect\").attr(\"class\",function(a){return\"resize \"+a;}).attr(\"width\",6).attr(\"height\",6).style(\"visibility\",\"hidden\").style(\"cursor\",function(a){return Sc[a];});q.style(\"pointer-events\",a.empty()?\"none\":\"all\");q.exit().remove();if(b){m=Ia(b);j.attr(\"x\",m[0]).attr(\"width\",m[1]-m[0]);dc(e,f);}if(k){m=Ia(k);j.attr(\"y\",m[0]).attr(\"height\",m[1]-m[0]);ec(e,f);}});}function c(){var c=d3.select(d3.event.target);Db=a;La=this;T=f;O=d3.svg.mouse(La);if(ua=c.classed(\"extent\")){O[0]=f[0][0]-O[0];O[1]=f[0][1]-O[1];}else if(c.classed(\"resize\")){Ra=d3.event.target.__data__;O[0]=f[+/w$/.test(Ra)][0];O[1]=f[+/^n/.test(Ra)][1];}else d3.event.altKey&&(pa=O.slice());nb=!/^(n|s)$/.test(Ra)&&b;ob=!/^(e|w)$/.test(Ra)&&k;var n=this,j=arguments;cb=function cb(c){var b=d3.event;try{d3.event={type:c,target:a};e[c].apply(n,j);}finally{d3.event=b;}};cb(\"brushstart\");Cb();ba();}var e=d3.dispatch(\"brushstart\",\"brush\",\"brushend\"),b,k,f=[[0,0],[0,0]];a.x=function(c){if(!arguments.length)return b;b=c;return a;};a.y=function(c){if(!arguments.length)return k;k=c;return a;};a.extent=function(c){var e,n,j,m,q;if(!arguments.length){if(b){e=f[0][0];n=f[1][0];if(b.invert){e=b.invert(e);n=b.invert(n);}if(n<e){q=e;e=n;n=q;}}if(k){j=f[0][1];m=f[1][1];if(k.invert){j=k.invert(j);m=k.invert(m);}if(m<j){q=j;j=m;m=q;}}return b&&k?[[e,j],[n,m]]:b?[e,n]:k&&[j,m];}if(b){e=c[0];n=c[1];if(k){e=e[0];n=n[0];}if(b.invert){e=b(e);n=b(n);}if(n<e){q=e;e=n;n=q;}f[0][0]=e;f[1][0]=n;}if(k){j=c[0];m=c[1];if(b){j=j[1];m=m[1];}if(k.invert){j=k(j);m=k(m);}if(m<j){q=j;j=m;m=q;}f[0][1]=j;f[1][1]=m;}return a;};a.clear=function(){f[0][0]=f[0][1]=f[1][0]=f[1][1]=0;return a;};a.empty=function(){return b&&f[0][0]===f[1][0]||k&&f[0][1]===f[1][1];};d3.select(window).on(\"mousemove.brush\",Cb).on(\"mouseup.brush\",vc).on(\"keydown.brush\",tc).on(\"keyup.brush\",uc);return d3.rebind(a,e,\"on\");};var Db,cb,La,nb,ob,T,ua,Ra,pa,O,Sc={n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"};d3.behavior={};d3.behavior.drag=function(){function a(){this.on(\"mousedown.drag\",e).on(\"touchstart.drag\",e);d3.select(window).on(\"mousemove.drag\",hc).on(\"touchmove.drag\",hc).on(\"mouseup.drag\",Gb,true).on(\"touchend.drag\",Gb,true).on(\"click.drag\",wc,true);}function c(){Fb=b;Hb=d3.event.target;Ca=this;pb=arguments;Ma=gc();if(k){Ba=k.apply(Ca,pb);Ba=[Ba.x-Ma[0],Ba.y-Ma[1]];}else Ba=[0,0];Na=0;}function e(){c.apply(this,arguments);Eb(\"dragstart\");}var b=d3.dispatch(\"drag\",\"dragstart\",\"dragend\"),k=null;a.origin=function(c){if(!arguments.length)return k;k=c;return a;};return d3.rebind(a,b,\"on\");};var Fb,Hb,Ca,pb,Ba,Ma,Na;d3.behavior.zoom=function(){function a(){this.on(\"mousedown.zoom\",e).on(\"mousewheel.zoom\",b).on(\"DOMMouseScroll.zoom\",b).on(\"dblclick.zoom\",k).on(\"touchstart.zoom\",f);d3.select(window).on(\"mousemove.zoom\",yc).on(\"mouseup.zoom\",zc).on(\"touchmove.zoom\",xc).on(\"touchend.zoom\",ic).on(\"click.zoom\",Ac,true);}function c(){ca=n;Jb=m;Kb=j.zoom;Ib=d3.event.target;qa=this;Lb=arguments;}function e(){c.apply(this,arguments);eb=qb(d3.svg.mouse(qa));Ta=0;d3.event.preventDefault();window.focus();}function b(){c.apply(this,arguments);rb||(rb=qb(d3.svg.mouse(qa)));if(!hb)hb=d3.select(\"body\").append(\"div\").style(\"visibility\",\"hidden\").style(\"top\",0).style(\"height\",0).style(\"width\",0).style(\"overflow-y\",\"scroll\").append(\"div\").style(\"height\",\"2000px\").node().parentNode;var a=d3.event,e;try{hb.scrollTop=1E3;hb.dispatchEvent(a);e=1E3-hb.scrollTop;}catch(k){e=a.wheelDelta||-a.detail*5;}Sa(e*0.005+n[2],d3.svg.mouse(qa),rb);}function k(){c.apply(this,arguments);var a=d3.svg.mouse(qa);Sa(d3.event.shiftKey?Math.ceil(n[2]-1):Math.floor(n[2]+1),a,qb(a));}function f(){c.apply(this,arguments);var a=ic(),e,b=Date.now();a.length===1&&b-mc<300&&Sa(1+Math.floor(n[2]),e=a[0],db[e.identifier]);mc=b;}var n=[0,0,0],j=d3.dispatch(\"zoom\"),m=nc;a.extent=function(c){if(!arguments.length)return m;m=c==null?nc:c;return a;};return d3.rebind(a,j,\"on\");};var hb,eb,rb,db={},mc=0,ca,Jb,Kb,Ib,qa,Lb,Ta,nc=[[-Infinity,Infinity],[-Infinity,Infinity],[-Infinity,Infinity]];})();(function(){function w(b){var f=b.source,b=b.target,j;var m=b;if(f===m)j=f;else{j=G(f);for(var m=G(m),q=j.pop(),n=m.pop(),C=null;q===n;){C=q;q=j.pop();n=m.pop();}j=C;}for(m=[f];f!==j;){f=f.parent;m.push(f);}for(f=m.length;b!==j;){m.splice(f,0,b);b=b.parent;}return m;}function G(b){for(var f=[],j=b.parent;j!=null;){f.push(b);b=j;j=j.parent;}f.push(b);return f;}function h(b){b.fixed=b.fixed|2;}function r(b){if(b!==ma)b.fixed=b.fixed&1;}function t(){B();ma.fixed=ma.fixed&1;U=ma=null;}function B(){ma.px=d3.event.x;ma.py=d3.event.y;U.resume();}function y(b,f,j){var m=0,q=0;b.charge=0;if(!b.leaf)for(var n=b.nodes,C=n.length,p=-1,o;++p<C;){o=n[p];if(o!=null){y(o,f,j);b.charge=b.charge+o.charge;m=m+o.charge*o.cx;q=q+o.charge*o.cy;}}if(b.point){if(!b.leaf){b.point.x=b.point.x+(Math.random()-0.5);b.point.y=b.point.y+(Math.random()-0.5);}f=f*j[b.point.index];b.charge=b.charge+(b.pointCharge=f);m=m+f*b.point.x;q=q+f*b.point.y;}b.cx=m/b.charge;b.cy=q/b.charge;}function P(){return 20;}function M(){return 1;}function ja(b){return b.x;}function $(b){return b.y;}function K(b,f,j){b.y0=f;b.y=j;}function aa(b){for(var f=1,j=0,m=b[0][1],q,n=b.length;f<n;++f){if((q=b[f][1])>m){j=f;m=q;}}return j;}function W(b){return b.reduce(da,0);}function da(b,f){return b+f[1];}function Da(b,f){return L(b,Math.ceil(Math.log(f.length)/Math.LN2+1));}function L(b,f){for(var j=-1,m=+b[0],q=(b[1]-m)/f,n=[];++j<=f;){n[j]=q*j+m;}return n;}function E(b){return[d3.min(b),d3.max(b)];}function ka(b,f){d3.rebind(b,f,\"sort\",\"children\",\"value\");b.links=Xa;b.nodes=function(f){ab=true;return(b.nodes=b)(f);};return b;}function Wa(b){return b.children;}function ba(b){return b.value;}function va(b,f){return f.value-b.value;}function Xa(b){return d3.merge(b.map(function(b){return(b.children||[]).map(function(k){return{source:b,target:k};});}));}function ea(b,f){return b.value-f.value;}function Y(b,f){var j=b._pack_next;b._pack_next=f;f._pack_prev=b;f._pack_next=j;j._pack_prev=f;}function fa(b,f){var j=f.x-b.x,m=f.y-b.y,q=b.r+f.r;return q*q-j*j-m*m>0.001;}function Ea(b){b._pack_next=b._pack_prev=b;}function Fa(b){delete b._pack_next;delete b._pack_prev;}function wa(b){var f=b.children;if(f&&f.length){f.forEach(wa);var j=function j(b){m=Math.min(b.x-b.r,m);q=Math.max(b.x+b.r,q);n=Math.min(b.y-b.r,n);C=Math.max(b.y+b.r,C);},m=Infinity,q=-Infinity,n=Infinity,C=-Infinity,p=f.length,o,s,u,x,h;f.forEach(Ea);o=f[0];o.x=-o.r;o.y=0;j(o);if(p>1){s=f[1];s.x=s.r;s.y=0;j(s);if(p>2){u=f[2];J(o,s,u);j(u);Y(o,u);o._pack_prev=u;Y(u,s);s=o._pack_next;for(var z=3;z<p;z++){J(o,s,u=f[z]);var F=0,A=1,H=1;for(x=s._pack_next;x!==s;x=x._pack_next,A++){if(fa(x,u)){F=1;break;}}if(F==1)for(h=o._pack_prev;h!==x._pack_prev;h=h._pack_prev,H++){if(fa(h,u))break;}if(F){if(A<H||A==H&&s.r<o.r){u=o;x=s=x;u._pack_next=x;x._pack_prev=u;}else{x=o=h;u=s;x._pack_next=u;u._pack_prev=x;}z--;}else{Y(o,u);s=u;j(u);}}}}j=(m+q)/2;o=(n+C)/2;for(z=s=0;z<p;z++){h=f[z];h.x=h.x-j;h.y=h.y-o;s=Math.max(s,h.r+Math.sqrt(h.x*h.x+h.y*h.y));}f.forEach(Fa);b.r=s;}else b.r=Math.sqrt(b.value);}function ga(b,f,j,m){var q=b.children;b.x=f=f+m*b.x;b.y=j=j+m*b.y;b.r=b.r*m;if(q)for(var b=-1,n=q.length;++b<n;){ga(q[b],f,j,m);}}function J(b,f,j){var m=b.r+j.r,q=f.x-b.x,n=f.y-b.y;if(m&&(q||n)){var C=f.r+j.r,f=Math.sqrt(q*q+n*n),p=Math.max(-1,Math.min(1,(m*m+f*f-C*C)/(2*m*f))),C=Math.acos(p),f=p*(m=m/f),m=Math.sin(C)*m;j.x=b.x+f*q+m*n;j.y=b.y+f*n-m*q;}else{j.x=b.x+m;j.y=b.y;}}function ra(b){var f=b.children;return f&&f.length?ra(f[0]):b;}function Q(b){var f=b.children,j;return f&&(j=f.length)?Q(f[j-1]):b;}function la(b,f){return b.parent==f.parent?1:2;}function sa(b){var f=b.children;return f&&f.length?f[0]:b._tree.thread;}function ta(b){var f=b.children,j;return f&&(j=f.length)?f[j-1]:b._tree.thread;}function xa(b,f){var j=b.children;if(j&&(q=j.length))for(var m,q,n=-1;++n<q;){if(f(m=xa(j[n],f),b)>0)b=m;}return b;}function ya(b,f){return b.x-f.x;}function Za(b,f){return f.x-b.x;}function b(b,f){return b.depth-f.depth;}function p(b,f){function j(b,k){var n=b.children;if(n&&(s=n.length))for(var p,o=null,h=-1,s;++h<s;){p=n[h];j(p,o);o=p;}f(b,k);}j(b,null);}function o(b){return{x:b.x,y:b.y,dx:b.dx,dy:b.dy};}function ha(b,f){var j=b.x+f[3],m=b.y+f[0],q=b.dx-f[1]-f[3],n=b.dy-f[0]-f[2];if(q<0){j=j+q/2;q=0;}if(n<0){m=m+n/2;n=0;}return{x:j,y:m,dx:q,dy:n};}d3.layout={};d3.layout.bundle=function(){return function(b){for(var f=[],j=-1,m=b.length;++j<m;){f.push(w(b[j]));}return f;};};d3.layout.chord=function(){function b(){var k={},j=[],z=d3.range(p),F=[],A,H,na,R,N;m=[];q=[];A=0;for(R=-1;++R<p;){H=0;for(N=-1;++N<p;){H=H+n[R][N];}j.push(H);F.push(d3.range(p));A=A+H;}h&&z.sort(function(b,f){return h(j[b],j[f]);});s&&F.forEach(function(b,f){b.sort(function(b,k){return s(n[f][b],n[f][k]);});});A=(2*Math.PI-o*p)/A;H=0;for(R=-1;++R<p;){na=H;for(N=-1;++N<p;){var ia=z[R],Ja=F[ia][N],V=n[ia][Ja],r=H,t=H=H+V*A;k[ia+\"-\"+Ja]={index:ia,subindex:Ja,startAngle:r,endAngle:t,value:V};}q.push({index:ia,startAngle:na,endAngle:H,value:(H-na)/A});H=H+o;}for(R=-1;++R<p;){for(N=R-1;++N<p;){z=k[R+\"-\"+N];F=k[N+\"-\"+R];if(z.value||F.value)m.push(z.value<F.value?{source:F,target:z}:{source:z,target:F});}}u&&f();}function f(){m.sort(function(b,f){return u((b.source.value+b.target.value)/2,(f.source.value+f.target.value)/2);});}var j={},m,q,n,p,o=0,h,s,u;j.matrix=function(b){if(!arguments.length)return n;p=(n=b)&&n.length;m=q=null;return j;};j.padding=function(b){if(!arguments.length)return o;o=b;m=q=null;return j;};j.sortGroups=function(b){if(!arguments.length)return h;h=b;m=q=null;return j;};j.sortSubgroups=function(b){if(!arguments.length)return s;s=b;m=null;return j;};j.sortChords=function(b){if(!arguments.length)return u;u=b;m&&f();return j;};j.chords=function(){m||b();return m;};j.groups=function(){q||b();return q;};return j;};d3.layout.force=function(){function b(f){return function(b,k,n,j){if(b.point!==f){var n=b.cx-f.x,m=b.cy-f.y,q=1/Math.sqrt(n*n+m*m);if((j-k)*q<z){k=b.charge*q*q;f.px=f.px-n*k;f.py=f.py-m*k;return true;}if(b.point&&isFinite(q)){k=b.pointCharge*q*q;f.px=f.px-n*k;f.py=f.py-m*k;}}return!b.charge;};}function f(){var f=F.length,j=A.length,m,p,C,z,h,s,u;for(m=0;m<j;++m){p=A[m];C=p.source;z=p.target;s=z.x-C.x;u=z.y-C.y;if(h=s*s+u*u){h=o*na[m]*((h=Math.sqrt(h))-H[m])/h;s=s*h;u=u*h;z.x=z.x-s*(h=C.weight/(z.weight+C.weight));z.y=z.y-u*h;C.x=C.x+s*(h=1-h);C.y=C.y+u*h;}}if(h=o*w){s=n[0]/2;u=n[1]/2;m=-1;if(h)for(;++m<f;){p=F[m];p.x=p.x+(s-p.x)*h;p.y=p.y+(u-p.y)*h;}}if(x){y(j=d3.geom.quadtree(F),o,R);for(m=-1;++m<f;){(p=F[m]).fixed||j.visit(b(p));}}for(m=-1;++m<f;){p=F[m];if(p.fixed){p.x=p.px;p.y=p.py;}else{p.x=p.x-(p.px-(p.px=p.x))*X;p.y=p.y-(p.py-(p.py=p.y))*X;}}q.tick({type:\"tick\",alpha:o});return(o=o*0.99)<0.005;}function j(b){h(ma=b);U=m;}var m={},q=d3.dispatch(\"tick\"),n=[1,1],p,o,X=0.9,s=P,u=M,x=-30,w=0.1,z=0.8,F=[],A=[],H,na,R;m.nodes=function(b){if(!arguments.length)return F;F=b;return m;};m.links=function(b){if(!arguments.length)return A;A=b;return m;};m.size=function(b){if(!arguments.length)return n;n=b;return m;};m.linkDistance=function(b){if(!arguments.length)return s;s=d3.functor(b);return m;};m.distance=m.linkDistance;m.linkStrength=function(b){if(!arguments.length)return u;u=d3.functor(b);return m;};m.friction=function(b){if(!arguments.length)return X;X=b;return m;};m.charge=function(b){if(!arguments.length)return x;x=typeof b===\"function\"?b:+b;return m;};m.gravity=function(b){if(!arguments.length)return w;w=b;return m;};m.theta=function(b){if(!arguments.length)return z;z=b;return m;};m.start=function(){function b(n,m){var p;if(!C){C=[];for(k=0;k<j;++k){C[k]=[];}for(k=0;k<q;++k){p=A[k];C[p.source.index].push(p.target);C[p.target.index].push(p.source);}}p=C[f];for(var o=-1,h=p.length,z;++o<h;){if(!isNaN(z=p[o][n]))return z;}return Math.random()*m;}var f,k,j=F.length,q=A.length,p=n[0],o=n[1],C,h;for(f=0;f<j;++f){(h=F[f]).index=f;h.weight=0;}H=[];na=[];for(f=0;f<q;++f){h=A[f];if(typeof h.source==\"number\")h.source=F[h.source];if(typeof h.target==\"number\")h.target=F[h.target];H[f]=s.call(this,h,f);na[f]=u.call(this,h,f);++h.source.weight;++h.target.weight;}for(f=0;f<j;++f){h=F[f];if(isNaN(h.x))h.x=b(\"x\",p);if(isNaN(h.y))h.y=b(\"y\",o);if(isNaN(h.px))h.px=h.x;if(isNaN(h.py))h.py=h.y;}R=[];if(typeof x===\"function\")for(f=0;f<j;++f){R[f]=+x.call(this,F[f],f);}else for(f=0;f<j;++f){R[f]=x;}return m.resume();};m.resume=function(){o=0.1;d3.timer(f);return m;};m.stop=function(){o=0;return m;};m.drag=function(){p||(p=d3.behavior.drag().origin(Object).on(\"dragstart\",j).on(\"drag\",B).on(\"dragend\",t));this.on(\"mouseover.force\",h).on(\"mouseout.force\",r).call(p);};return d3.rebind(m,q,\"on\");};var U,ma;d3.layout.partition=function(){function b(f,j,m,q){var p=f.children;f.x=j;f.y=f.depth*q;f.dx=m;f.dy=q;if(p&&(h=p.length))for(var o=-1,h,r,m=f.value?m/f.value:0;++o<h;){b(r=p[o],j,f=r.value*m,q);j=j+f;}}function f(b){var b=b.children,k=0;if(b&&(m=b.length))for(var j=-1,m;++j<m;){k=Math.max(k,f(b[j]));}return 1+k;}function j(j,p){var o=m.call(this,j,p);b(o[0],0,q[0],q[1]/f(o[0]));return o;}var m=d3.layout.hierarchy(),q=[1,1];j.size=function(b){if(!arguments.length)return q;q=b;return j;};return ka(j,m);};d3.layout.pie=function(){function b(n,o){var h=n.map(function(j,n){return+f.call(b,j,n);}),r=+(typeof m===\"function\"?m.apply(this,arguments):m),s=((typeof p===\"function\"?p.apply(this,arguments):p)-m)/d3.sum(h),u=d3.range(n.length);j!=null&&u.sort(j===za?function(b,f){return h[f]-h[b];}:function(b,f){return j(n[b],n[f]);});var x=[];u.forEach(function(b){x[b]={data:n[b],value:d=h[b],startAngle:r,endAngle:r=r+d*s};});return x;}var f=Number,j=za,m=0,p=2*Math.PI;b.value=function(j){if(!arguments.length)return f;f=j;return b;};b.sort=function(f){if(!arguments.length)return j;j=f;return b;};b.startAngle=function(f){if(!arguments.length)return m;m=f;return b;};b.endAngle=function(f){if(!arguments.length)return p;p=f;return b;};return b;};var za={};d3.layout.stack=function(){function b(h,r){var s=h.map(function(j,m){return f.call(b,j,m);}),u=s.map(function(f){return f.map(function(f,j){return[n.call(b,f,j),o.call(b,f,j)];});}),x=j.call(b,u,r),s=d3.permute(s,x),u=d3.permute(u,x),x=m.call(b,u,r),t=s.length,z=s[0].length,F,A,H;for(A=0;A<z;++A){p.call(b,s[0][A],H=x[A],u[0][A][1]);for(F=1;F<t;++F){p.call(b,s[F][A],H=H+u[F-1][A][1],u[F][A][1]);}}return h;}var f=Object,j=Ia[\"default\"],m=Pa.zero,p=K,n=ja,o=$;b.values=function(j){if(!arguments.length)return f;f=j;return b;};b.order=function(f){if(!arguments.length)return j;j=typeof f===\"function\"?f:Ia[f];return b;};b.offset=function(f){if(!arguments.length)return m;m=typeof f===\"function\"?f:Pa[f];return b;};b.x=function(f){if(!arguments.length)return n;n=f;return b;};b.y=function(f){if(!arguments.length)return o;o=f;return b;};b.out=function(f){if(!arguments.length)return p;p=f;return b;};return b;};var Ia={\"inside-out\":function insideOut(b){for(var f=b.length,j,m=b.map(aa),p=b.map(W),n=d3.range(f).sort(function(b,f){return m[b]-m[f];}),o=0,h=0,r=[],s=[],b=0;b<f;++b){j=n[b];if(o<h){o=o+p[j];r.push(j);}else{h=h+p[j];s.push(j);}}return s.reverse().concat(r);},reverse:function reverse(b){return d3.range(b.length).reverse();},\"default\":function _default(b){return d3.range(b.length);}},Pa={silhouette:function silhouette(b){var f=b.length,j=b[0].length,m=[],p=0,n,o,h,r=[];for(o=0;o<j;++o){for(h=n=0;n<f;n++){h=h+b[n][o][1];}h>p&&(p=h);m.push(h);}for(o=0;o<j;++o){r[o]=(p-m[o])/2;}return r;},wiggle:function wiggle(b){var f=b.length,j=b[0],m=j.length,p,n,o,h,r,s,u,x,t,z=[];z[0]=x=t=0;for(n=1;n<m;++n){for(h=p=0;p<f;++p){h=h+b[p][n][1];}r=p=0;for(u=j[n][0]-j[n-1][0];p<f;++p){o=0;for(s=(b[p][n][1]-b[p][n-1][1])/(2*u);o<p;++o){s=s+(b[o][n][1]-b[o][n-1][1])/u;}r=r+s*b[p][n][1];}z[n]=x=x-(h?r/h*u:0);x<t&&(t=x);}for(n=0;n<m;++n){z[n]=z[n]-t;}return z;},expand:function expand(b){var f=b.length,j=b[0].length,m=1/f,p,n,o,h=[];for(n=0;n<j;++n){for(o=p=0;p<f;p++){o=o+b[p][n][1];}if(o)for(p=0;p<f;p++){b[p][n][1]=b[p][n][1]/o;}else for(p=0;p<f;p++){b[p][n][1]=m;}}for(n=0;n<j;++n){h[n]=0;}return h;},zero:function zero(b){for(var f=-1,b=b[0].length,j=[];++f<b;){j[f]=0;}return j;}};d3.layout.histogram=function(){function b(k,o){for(var h=[],r=k.map(j,this),s=m.call(this,r,o),u=p.call(this,s,r,o),x,o=-1,t=r.length,z=u.length-1,F=f?1:1/t;++o<z;){x=h[o]=[];x.dx=u[o+1]-(x.x=u[o]);x.y=0;}for(o=-1;++o<t;){x=r[o];if(x>=s[0]&&x<=s[1]){x=h[d3.bisect(u,x,1,z)-1];x.y=x.y+F;x.push(k[o]);}}return h;}var f=true,j=Number,m=E,p=Da;b.value=function(f){if(!arguments.length)return j;j=f;return b;};b.range=function(f){if(!arguments.length)return m;m=d3.functor(f);return b;};b.bins=function(f){if(!arguments.length)return p;p=typeof f===\"number\"?function(b){return L(b,f);}:d3.functor(f);return b;};b.frequency=function(j){if(!arguments.length)return f;f=!!j;return b;};return b;};d3.layout.hierarchy=function(){function b(f,h,r){var s=o.call(j,f,h),u=ab?f:{data:f};u.depth=h;r.push(u);if(s&&(x=s.length)){for(var f=-1,x,t=u.children=[],z=0,h=h+1;++f<x;){d=b(s[f],h,r);d.parent=u;t.push(d);z=z+d.value;}p&&t.sort(p);if(n)u.value=z;}else if(n)u.value=+n.call(j,f,h)||0;return u;}function f(b,k){var p=b.children,m=0;if(p&&(h=p.length))for(var o=-1,h,q=k+1;++o<h;){m=m+f(p[o],q);}else n&&(m=+n.call(j,ab?b:b.data,k)||0);if(n)b.value=m;return m;}function j(f){var j=[];b(f,0,j);return j;}var p=va,o=Wa,n=ba;j.sort=function(b){if(!arguments.length)return p;p=b;return j;};j.children=function(b){if(!arguments.length)return o;o=b;return j;};j.value=function(b){if(!arguments.length)return n;n=b;return j;};j.revalue=function(b){f(b,0);return b;};return j;};var ab=false;d3.layout.pack=function(){function b(k,p){var n=f.call(this,k,p),o=n[0];o.x=0;o.y=0;wa(o);var h=j[0],r=j[1],s=1/Math.max(2*o.r/h,2*o.r/r);ga(o,h/2,r/2,s);return n;}var f=d3.layout.hierarchy().sort(ea),j=[1,1];b.size=function(f){if(!arguments.length)return j;j=f;return b;};return ka(b,f);};d3.layout.cluster=function(){function b(k,n){var o=f.call(this,k,n),h=o[0],r,s=0;p(h,function(b){var f=b.children;if(f&&f.length){b.x=f.reduce(function(b,f){return b+f.x;},0)/f.length;b.y=1+d3.max(f,function(b){return b.y;});}else{b.x=r?s=s+j(b,r):0;b.y=0;r=b;}});var u=ra(h),x=Q(h),t=u.x-j(u,x)/2,z=x.x+j(x,u)/2;p(h,function(b){b.x=(b.x-t)/(z-t)*m[0];b.y=(1-(h.y?b.y/h.y:1))*m[1];});return o;}var f=d3.layout.hierarchy().sort(null).value(null),j=la,m=[1,1];b.separation=function(f){if(!arguments.length)return j;j=f;return b;};b.size=function(f){if(!arguments.length)return m;m=f;return b;};return ka(b,f);};d3.layout.tree=function(){function k(k,n){function o(b,f){var k=b.children,p=b._tree;if(k&&(m=k.length)){for(var m,n=k[0],h,q=n,z,s=-1;++s<m;){z=k[s];o(z,h);var A=z;if(h){for(var r=A,u=A,x=A.parent.children[0],t=r._tree.mod,F=u._tree.mod,w=h._tree.mod,B=x._tree.mod,U=void 0;h=ta(h),r=sa(r),h&&r;){x=sa(x);u=ta(u);u._tree.ancestor=A;U=h._tree.prelim+w-r._tree.prelim-t+j(h,r);if(U>0){var ha=h._tree.ancestor.parent==A.parent?h._tree.ancestor:q,y=A,E=U,ha=ha._tree,y=y._tree,G=E/(y.number-ha.number);ha.change=ha.change+G;y.change=y.change-G;y.shift=y.shift+E;y.prelim=y.prelim+E;y.mod=y.mod+E;t=t+U;F=F+U;}w=w+h._tree.mod;t=t+r._tree.mod;B=B+x._tree.mod;F=F+u._tree.mod;}if(h&&!ta(u)){u._tree.thread=h;u._tree.mod=u._tree.mod+(w-F);}if(r&&!sa(x)){x._tree.thread=r;x._tree.mod=x._tree.mod+(t-B);q=A;}}h=z;}m=k=0;s=b.children;for(A=s.length;--A>=0;){q=s[A]._tree;q.prelim=q.prelim+k;q.mod=q.mod+k;k=k+(q.shift+(m=m+q.change));}n=0.5*(n._tree.prelim+z._tree.prelim);if(f){p.prelim=f._tree.prelim+j(b,f);p.mod=p.prelim-n;}else p.prelim=n;}else if(f)p.prelim=f._tree.prelim+j(b,f);}function h(b,f){b.x=b._tree.prelim+f;var k=b.children;if(k&&(p=k.length))for(var j=-1,p,f=f+b._tree.mod;++j<p;){h(k[j],f);}}var r=f.call(this,k,n),s=r[0];p(s,function(b,f){b._tree={ancestor:b,prelim:0,mod:0,change:0,shift:0,number:f?f._tree.number+1:0};});o(s);h(s,-s._tree.prelim);var u=xa(s,Za),x=xa(s,ya),t=xa(s,b),z=u.x-j(u,x)/2,F=x.x+j(x,u)/2,A=t.depth||1;p(s,function(b){b.x=(b.x-z)/(F-z)*m[0];b.y=b.depth/A*m[1];delete b._tree;});return r;}var f=d3.layout.hierarchy().sort(null).value(null),j=la,m=[1,1];k.separation=function(b){if(!arguments.length)return j;j=b;return k;};k.size=function(b){if(!arguments.length)return m;m=b;return k;};return ka(k,f);};d3.layout.treemap=function(){function b(f,k){for(var j=-1,p=f.length,m,n;++j<p;){n=(m=f[j]).value*(k<0?0:k);m.area=isNaN(n)||n<=0?0:n;}}function f(j){var n=j.children;if(n&&n.length){var h=s(j),o=[],q=n.slice(),r=Infinity,u=Math.min(h.dx,h.dy);b(q,h.dx*h.dy/j.value);for(o.area=0;(j=q.length)>0;){o.push(j=q[j-1]);o.area=o.area+j.area;for(var j=u,t=o.area,x=void 0,w=0,U=Infinity,B=-1,C=o.length;++B<C;){if(x=o[B].area){x<U&&(U=x);x>w&&(w=x);}}t=t*t;j=j*j;if((j=t?Math.max(j*w*y/t,t/(j*U*y)):Infinity)<=r){q.pop();r=j;}else{o.area=o.area-o.pop().area;p(o,u,h,false);u=Math.min(h.dx,h.dy);o.length=o.area=0;r=Infinity;}}if(o.length){p(o,u,h,true);o.length=o.area=0;}n.forEach(f);}}function j(f){var n=f.children;if(n&&n.length){var h=s(f),o=n.slice(),q=[];b(o,h.dx*h.dy/f.value);for(q.area=0;f=o.pop();){q.push(f);q.area=q.area+f.area;if(f.z!=null){p(q,f.z?h.dx:h.dy,h,!o.length);q.length=q.area=0;}}n.forEach(j);}}function p(b,f,j,k){var m=-1,n=b.length,h=j.x,o=j.y,q=f?r(b.area/f):0,s;if(f==j.dx){if(k||q>j.dy)q=j.dy;for(;++m<n;){s=b[m];s.x=h;s.y=o;s.dy=q;h=h+(s.dx=Math.min(j.x+j.dx-h,q?r(s.area/q):0));}s.z=true;s.dx=s.dx+(j.x+j.dx-h);j.y=j.y+q;j.dy=j.dy-q;}else{if(k||q>j.dx)q=j.dx;for(;++m<n;){s=b[m];s.x=h;s.y=o;s.dx=q;o=o+(s.dy=Math.min(j.y+j.dy-o,q?r(s.area/q):0));}s.z=false;s.dy=s.dy+(j.y+j.dy-o);j.x=j.x+q;j.dx=j.dx-q;}}function h(p){var p=x||n(p),m=p[0];m.x=0;m.y=0;m.dx=t[0];m.dy=t[1];x&&n.revalue(m);b([m],m.dx*m.dy/m.value);(x?j:f)(m);u&&(x=p);return p;}var n=d3.layout.hierarchy(),r=Math.round,t=[1,1],w=null,s=o,u=false,x,y=0.5*(1+Math.sqrt(5));h.size=function(b){if(!arguments.length)return t;t=b;return h;};h.padding=function(b){function f(j){var k=b.call(h,j,j.depth);return k==null?o(j):ha(j,typeof k===\"number\"?[k,k,k,k]:k);}function j(f){return ha(f,b);}if(!arguments.length)return w;var k;s=(w=b)==null?o:(k=typeof b==='undefined'?'undefined':(0,_typeof3.default)(b))===\"function\"?f:k===\"number\"?(b=[b,b,b,b],j):j;return h;};h.round=function(b){if(!arguments.length)return r!=Number;r=b?Math.round:Number;return h;};h.sticky=function(b){if(!arguments.length)return u;u=b;x=null;return h;};h.ratio=function(b){if(!arguments.length)return y;y=b;return h;};return ka(h,n);};})();(function(){function w(h){return h.map(G).join(\",\");}function G(h){return /[\",\\n]/.test(h)?'\"'+h.replace(/\\\"/g,'\"\"')+'\"':h;}d3.csv=function(h,r){d3.text(h,\"text/csv\",function(h){r(h&&d3.csv.parse(h));});};d3.csv.parse=function(h){var r;return d3.csv.parseRows(h,function(h,w){if(w){for(var y={},G=-1,M=r.length;++G<M;){y[r[G]]=h[G];}return y;}r=h;return null;});};d3.csv.parseRows=function(h,r){function t(){if(M.lastIndex>=h.length)return y;if(K){K=false;return w;}var r=M.lastIndex;if(h.charCodeAt(r)===34){for(var t=r;t++<h.length;){if(h.charCodeAt(t)===34){if(h.charCodeAt(t+1)!==34)break;t++;}}M.lastIndex=t+2;var G=h.charCodeAt(t+1);if(G===13){K=true;h.charCodeAt(t+2)===10&&M.lastIndex++;}else G===10&&(K=true);return h.substring(r+1,t).replace(/\"\"/g,'\"');}if(t=M.exec(h)){K=t[0].charCodeAt(0)!==44;return h.substring(r,t.index);}M.lastIndex=h.length;return h.substring(r);}var w={},y={},G=[],M=/\\r\\n|[,\\r\\n]/g,ja=0,$,K;for(M.lastIndex=0;($=t())!==y;){for(var aa=[];$!==w&&$!==y;){aa.push($);$=t();}(!r||(aa=r(aa,ja++)))&&G.push(aa);}return G;};d3.csv.format=function(h){return h.map(w).join(\"\\n\");};})();(function(){function w(b,p,h,r){for(var t,w=0,y=p.length,B=h.length;w<y;){if(r>=B)return-1;t=p.charCodeAt(w++);if(t==37){t=Xa[p.charAt(w++)];if(!t||(r=t(b,h,r))<0)return-1;}else if(t!=h.charCodeAt(r++))return-1;}return r;}function G(b,p,h){J.lastIndex=0;return(p=J.exec(p.substring(h,h+2)))?(b.setDate(+p[0]),h+p[0].length):-1;}function h(b,p,h){J.lastIndex=0;return(p=J.exec(p.substring(h,h+2)))?(b.setHours(+p[0]),h+p[0].length):-1;}function r(b,p){return~~((p-b)/864E5-(p.getTimezoneOffset()-b.getTimezoneOffset())/1440);}function t(){this._=new Date(Date.UTC.apply(this,arguments));}function B(b){return b.toISOString();}function y(b,p,h){return function(r,t,w){var y=b(r),B=[];y<r&&p(y);if(w>1)for(;y<t;){r=new Date(+y);h(r)%w||B.push(r);p(y);}else for(;y<t;){B.push(new Date(+y));p(y);}return B;};}function P(b){b.setTime(b.getTime()+6E4);}function M(b){b.setTime(b.getTime()+36E5);}function ja(b,p,h){function r(p){return b(p);}r.invert=function(p){return $(b.invert(p));};r.domain=function(p){if(!arguments.length)return b.domain().map($);b.domain(p);return r;};r.ticks=function(h,o){var t,w=r.domain();t=w[0];w=w[w.length-1];t=t<w?[t,w]:[w,t];if(typeof h!==\"function\"){var w=(t[1]-t[0])/h,y=d3.bisect(la,w);if(y==la.length)return p.year(t,h);if(!y)return b.ticks(h).map($);Math.log(w/la[y-1])<Math.log(la[y]/w)&&--y;h=p[y];o=h[1];h=h[0];}return h(t[0],new Date(+t[1]+1),o);};r.tickFormat=function(){return h;};r.copy=function(){return ja(b.copy(),p,h);};return d3.rebind(r,b,\"range\",\"rangeRound\",\"interpolate\",\"clamp\");}function $(b){return new Date(b);}function K(b){return function(p){for(var h=b.length-1,r=b[h];!r[1](p);){r=b[--h];}return r[0](p);};}function aa(b){var p=new Date(b,0,1);p.setFullYear(b);return p;}function W(b){var p=b.getFullYear(),h=aa(p),r=aa(p+1);return p+(b-h)/(r-h);}function da(b){var h=new Date(Date.UTC(b,0,1));h.setUTCFullYear(b);return h;}function Da(b){var h=b.getUTCFullYear(),o=da(h),r=da(h+1);return h+(b-o)/(r-o);}d3.time={};var L=Date;d3.time.format=function(b){function h(p){for(var r=[],t=-1,w=0,y,B;++t<o;){if(b.charCodeAt(t)==37){r.push(b.substring(w,t),(B=va[y=b.charAt(++t)])?B(p):y);w=t+1;}}r.push(b.substring(w,t));return r.join(\"\");}var o=b.length;h.parse=function(h){var p=new L(1900,0,1);if(w(p,b,h,0)!=h.length)return null;if(p.hour12){h=p.getHours()%12;p.setHours(p.hour12pm?h+12:h);}delete p.hour12;delete p.hour12pm;return p;};h.toString=function(){return b;};return h;};var E=d3.format(\"02d\"),ka=d3.format(\"03d\"),Wa=d3.format(\"04d\"),ba=d3.format(\"2d\"),va={a:function a(b){return fa[b.getDay()].substring(0,3);},A:function A(b){return fa[b.getDay()];},b:function b(_b){return ga[_b.getMonth()].substring(0,3);},B:function B(b){return ga[b.getMonth()];},c:d3.time.format(\"%a %b %e %H:%M:%S %Y\"),d:function d(b){return E(b.getDate());},e:function e(b){return ba(b.getDate());},H:function H(b){return E(b.getHours());},I:function I(b){return E(b.getHours()%12||12);},j:function j(b){return ka(1+r(new L(b.getFullYear(),0,1),b));},L:function L(b){return ka(b.getMilliseconds());},m:function m(b){return E(b.getMonth()+1);},M:function M(b){return E(b.getMinutes());},p:function p(b){return b.getHours()>=12?\"PM\":\"AM\";},S:function S(b){return E(b.getSeconds());},U:function U(b){var h=new L(b.getFullYear(),0,1);return E(~~((r(h,b)+h.getDay())/7));},w:function w(b){return b.getDay();},W:function W(b){var h=new L(b.getFullYear(),0,1);return E(~~((r(h,b)+(h.getDay()+6)%7)/7));},x:d3.time.format(\"%m/%d/%y\"),X:d3.time.format(\"%H:%M:%S\"),y:function y(b){return E(b.getFullYear()%100);},Y:function Y(b){return Wa(b.getFullYear()%1E4);},Z:function Z(b){var h=b.getTimezoneOffset(),b=h>0?\"-\":\"+\",o=~~(Math.abs(h)/60),h=Math.abs(h)%60;return b+E(o)+E(h);},\"%\":function _(){return\"%\";}},Xa={a:function a(b,h,o){return h.substring(o,o=o+3).toLowerCase()in ea?o:-1;},A:function A(b,h,o){Y.lastIndex=0;return(b=Y.exec(h.substring(o,o+10)))?o+b[0].length:-1;},b:function b(_b2,h,o){h=Ea[h.substring(o,o=o+3).toLowerCase()];return h==null?-1:(_b2.setMonth(h),o);},B:function B(b,h,o){Fa.lastIndex=0;return(h=Fa.exec(h.substring(o,o+12)))?(b.setMonth(wa[h[0].toLowerCase()]),o+h[0].length):-1;},c:function c(b,h,o){return w(b,va.c.toString(),h,o);},d:G,e:G,H:h,I:function I(b,p,o){b.hour12=true;return h(b,p,o);},L:function L(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+3)))?(b.setMilliseconds(+h[0]),o+h[0].length):-1;},m:function m(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+2)))?(b.setMonth(h[0]-1),o+h[0].length):-1;},M:function M(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+2)))?(b.setMinutes(+h[0]),o+h[0].length):-1;},p:function p(b,h,o){h=ra[h.substring(o,o=o+2).toLowerCase()];return h==null?-1:(b.hour12pm=h,o);},S:function S(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+2)))?(b.setSeconds(+h[0]),o+h[0].length):-1;},x:function x(b,h,o){return w(b,va.x.toString(),h,o);},X:function X(b,h,o){return w(b,va.X.toString(),h,o);},y:function y(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+2)))?(b.setFullYear(~~(new Date().getFullYear()/1E3)*1E3+ +h[0]),o+h[0].length):-1;},Y:function Y(b,h,o){J.lastIndex=0;return(h=J.exec(h.substring(o,o+4)))?(b.setFullYear(h[0]),o+h[0].length):-1;}},ea={sun:3,mon:3,tue:3,wed:3,thu:3,fri:3,sat:3},Y=/^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/ig,fa=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],Ea={jan:0,feb:1,mar:2,apr:3,may:4,jun:5,jul:6,aug:7,sep:8,oct:9,nov:10,dec:11},Fa=/^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig,wa={january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},ga=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],J=/\\s*\\d+/,ra={am:0,pm:1};d3.time.format.utc=function(b){function h(b){try{L=t;var p=new L();p._=b;return o(p);}finally{L=Date;}}var o=d3.time.format(b);h.parse=function(b){try{L=t;var h=o.parse(b);return h&&h._;}finally{L=Date;}};h.toString=o.toString;return h;};t.prototype={getDate:function getDate(){return this._.getUTCDate();},getDay:function getDay(){return this._.getUTCDay();},getFullYear:function getFullYear(){return this._.getUTCFullYear();},getHours:function getHours(){return this._.getUTCHours();},getMilliseconds:function getMilliseconds(){return this._.getUTCMilliseconds();},getMinutes:function getMinutes(){return this._.getUTCMinutes();},getMonth:function getMonth(){return this._.getUTCMonth();},getSeconds:function getSeconds(){return this._.getUTCSeconds();},getTimezoneOffset:function getTimezoneOffset(){return 0;},valueOf:function valueOf(){return this._.getTime();},setDate:function setDate(b){this._.setUTCDate(b);},setDay:function setDay(b){this._.setUTCDay(b);},setFullYear:function setFullYear(b){this._.setUTCFullYear(b);},setHours:function setHours(b){this._.setUTCHours(b);},setMilliseconds:function setMilliseconds(b){this._.setUTCMilliseconds(b);},setMinutes:function setMinutes(b){this._.setUTCMinutes(b);},setMonth:function setMonth(b){this._.setUTCMonth(b);},setSeconds:function setSeconds(b){this._.setUTCSeconds(b);}};var Q=d3.time.format.utc(\"%Y-%m-%dT%H:%M:%S.%LZ\");d3.time.format.iso=Date.prototype.toISOString?B:Q;B.parse=function(b){return new Date(b);};B.toString=Q.toString;d3.time.second=function(b){return new Date(~~(b/1E3)*1E3);};d3.time.second.utc=d3.time.second;d3.time.seconds=y(d3.time.second,function(b){b.setTime(b.getTime()+1E3);},function(b){return b.getSeconds();});d3.time.seconds.utc=d3.time.seconds;d3.time.minute=function(b){return new Date(~~(b/6E4)*6E4);};d3.time.minute.utc=d3.time.minute;d3.time.minutes=y(d3.time.minute,P,function(b){return b.getMinutes();});d3.time.minutes.utc=y(d3.time.minute,P,function(b){return b.getUTCMinutes();});d3.time.hour=function(b){var h=b.getTimezoneOffset()/60;return new Date((~~(b/36E5-h)+h)*36E5);};d3.time.hour.utc=function(b){return new Date(~~(b/36E5)*36E5);};d3.time.hours=y(d3.time.hour,M,function(b){return b.getHours();});d3.time.hours.utc=y(d3.time.hour.utc,M,function(b){return b.getUTCHours();});d3.time.day=function(b){return new Date(b.getFullYear(),b.getMonth(),b.getDate());};d3.time.day.utc=function(b){return new Date(~~(b/864E5)*864E5);};d3.time.days=y(d3.time.day,function(b){b.setDate(b.getDate()+1);},function(b){return b.getDate()-1;});d3.time.days.utc=y(d3.time.day.utc,function(b){b.setUTCDate(b.getUTCDate()+1);},function(b){return b.getUTCDate()-1;});d3.time.week=function(b){(b=d3.time.day(b)).setDate(b.getDate()-b.getDay());return b;};d3.time.week.utc=function(b){(b=d3.time.day.utc(b)).setUTCDate(b.getUTCDate()-b.getUTCDay());return b;};d3.time.weeks=y(d3.time.week,function(b){b.setDate(b.getDate()+7);},function(b){return~~((b-new Date(b.getFullYear(),0,1))/6048E5);});d3.time.weeks.utc=y(d3.time.week.utc,function(b){b.setUTCDate(b.getUTCDate()+7);},function(b){return~~((b-Date.UTC(b.getUTCFullYear(),0,1))/6048E5);});d3.time.month=function(b){return new Date(b.getFullYear(),b.getMonth(),1);};d3.time.month.utc=function(b){return new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),1));};d3.time.months=y(d3.time.month,function(b){b.setMonth(b.getMonth()+1);},function(b){return b.getMonth();});d3.time.months.utc=y(d3.time.month.utc,function(b){b.setUTCMonth(b.getUTCMonth()+1);},function(b){return b.getUTCMonth();});d3.time.year=function(b){return new Date(b.getFullYear(),0,1);};d3.time.year.utc=function(b){return new Date(Date.UTC(b.getUTCFullYear(),0,1));};d3.time.years=y(d3.time.year,function(b){b.setFullYear(b.getFullYear()+1);},function(b){return b.getFullYear();});d3.time.years.utc=y(d3.time.year.utc,function(b){b.setUTCFullYear(b.getUTCFullYear()+1);},function(b){return b.getUTCFullYear();});var la=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],sa=[[d3.time.seconds,1],[d3.time.seconds,5],[d3.time.seconds,15],[d3.time.seconds,30],[d3.time.minutes,1],[d3.time.minutes,5],[d3.time.minutes,15],[d3.time.minutes,30],[d3.time.hours,1],[d3.time.hours,3],[d3.time.hours,6],[d3.time.hours,12],[d3.time.days,1],[d3.time.days,2],[d3.time.weeks,1],[d3.time.months,1],[d3.time.months,3],[d3.time.years,1]],Q=[[d3.time.format(\"%Y\"),function(){return true;}],[d3.time.format(\"%B\"),function(b){return b.getMonth();}],[d3.time.format(\"%b %d\"),function(b){return b.getDate()!=1;}],[d3.time.format(\"%a %d\"),function(b){return b.getDay()&&b.getDate()!=1;}],[d3.time.format(\"%I %p\"),function(b){return b.getHours();}],[d3.time.format(\"%I:%M\"),function(b){return b.getMinutes();}],[d3.time.format(\":%S\"),function(b){return b.getSeconds();}],[d3.time.format(\".%L\"),function(b){return b.getMilliseconds();}]],ta=d3.scale.linear(),xa=K(Q);sa.year=function(b,h){return ta.domain(b.map(W)).ticks(h).map(aa);};d3.time.scale=function(){return ja(d3.scale.linear(),sa,xa);};var ya=[[d3.time.seconds.utc,1],[d3.time.seconds.utc,5],[d3.time.seconds.utc,15],[d3.time.seconds.utc,30],[d3.time.minutes.utc,1],[d3.time.minutes.utc,5],[d3.time.minutes.utc,15],[d3.time.minutes.utc,30],[d3.time.hours.utc,1],[d3.time.hours.utc,3],[d3.time.hours.utc,6],[d3.time.hours.utc,12],[d3.time.days.utc,1],[d3.time.days.utc,2],[d3.time.weeks.utc,1],[d3.time.months.utc,1],[d3.time.months.utc,3],[d3.time.years.utc,1]],Q=[[d3.time.format.utc(\"%Y\"),function(){return true;}],[d3.time.format.utc(\"%B\"),function(b){return b.getUTCMonth();}],[d3.time.format.utc(\"%b %d\"),function(b){return b.getUTCDate()!=1;}],[d3.time.format.utc(\"%a %d\"),function(b){return b.getUTCDay()&&b.getUTCDate()!=1;}],[d3.time.format.utc(\"%I %p\"),function(b){return b.getUTCHours();}],[d3.time.format.utc(\"%I:%M\"),function(b){return b.getUTCMinutes();}],[d3.time.format.utc(\":%S\"),function(b){return b.getUTCSeconds();}],[d3.time.format.utc(\".%L\"),function(b){return b.getUTCMilliseconds();}]],Za=K(Q);ya.year=function(b,h){return ta.domain(b.map(Da)).ticks(h).map(da);};d3.time.scale.utc=function(){return ja(d3.scale.linear(),ya,Za);};})();(function(){d3.csv=function(url,callback){d3.text(url,\"text/csv\",function(text){callback(text&&d3.csv.parse(text));});};d3.csv.parse=function(text){var header;return d3.csv.parseRows(text,function(row,i){if(i){var o={},j=-1,m=header.length;while(++j<m){o[header[j]]=row[j];}return o;}else{header=row;return null;}});};d3.csv.parseRows=function(text,f){var EOL={},EOF={},rows=[],re=/\\r\\n|[,\\r\\n]/g,n=0,t,eol;re.lastIndex=0;function token(){if(re.lastIndex>=text.length)return EOF;if(eol){eol=false;return EOL;}var j=re.lastIndex;if(text.charCodeAt(j)===34){var i=j;while(i++<text.length){if(text.charCodeAt(i)===34){if(text.charCodeAt(i+1)!==34)break;i++;}}re.lastIndex=i+2;var c=text.charCodeAt(i+1);if(c===13){eol=true;if(text.charCodeAt(i+2)===10)re.lastIndex++;}else if(c===10){eol=true;}return text.substring(j+1,i).replace(/\"\"/g,\"\\\"\");}var m=re.exec(text);if(m){eol=m[0].charCodeAt(0)!==44;return text.substring(j,m.index);}re.lastIndex=text.length;return text.substring(j);}while((t=token())!==EOF){var a=[];while(t!==EOL&&t!==EOF){a.push(t);t=token();}if(f&&!(a=f(a,n++)))continue;rows.push(a);}return rows;};d3.csv.format=function(rows){return rows.map(d3_csv_formatRow).join(\"\\n\");};function d3_csv_formatRow(row){return row.map(d3_csv_formatValue).join(\",\");}function d3_csv_formatValue(text){return /[\",\\n]/.test(text)?\"\\\"\"+text.replace(/\\\"/g,\"\\\"\\\"\")+\"\\\"\":text;}})();(function(){function ea(a){var b=a.source,a=a.target,c;var e=a;if(b===e)c=b;else{c=O(b);for(var e=O(e),f=c.pop(),h=e.pop(),g=null;f===h;){g=f,f=c.pop(),h=e.pop();}c=g;}for(e=[b];b!==c;){b=b.parent,e.push(b);}for(b=e.length;a!==c;){e.splice(b,0,a),a=a.parent;}return e;}function O(a){for(var b=[],c=a.parent;null!=c;){b.push(a),a=c,c=c.parent;}b.push(a);return b;}function P(a){a.fixed|=2;}function fa(a){a!==s&&(a.fixed&=1);}function ga(){Q();s.fixed&=1;D=s=null;}function Q(){s.px=d3.event.x;s.py=d3.event.y;D.resume();}function R(a,b,c){var e=0,f=0;a.charge=0;if(!a.leaf)for(var h=a.nodes,g=h.length,i=-1,k;++i<g;){k=h[i],null!=k&&(R(k,b,c),a.charge+=k.charge,e+=k.charge*k.cx,f+=k.charge*k.cy);}a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=c[a.point.index],a.charge+=a.pointCharge=b,e+=b*a.point.x,f+=b*a.point.y);a.cx=e/a.charge;a.cy=f/a.charge;}function ha(){return 20;}function ia(){return 1;}function ja(a){return a.x;}function ka(a){return a.y;}function la(a,b,c){a.y0=b;a.y=c;}function ma(a){for(var b=1,c=0,e=a[0][1],f,h=a.length;b<h;++b){if((f=a[b][1])>e)c=b,e=f;}return c;}function na(a){return a.reduce(oa,0);}function oa(a,b){return a+b[1];}function pa(a,b){return S(a,Math.ceil(Math.log(b.length)/Math.LN2+1));}function S(a,b){for(var c=-1,e=+a[0],f=(a[1]-e)/b,h=[];++c<=b;){h[c]=f*c+e;}return h;}function qa(a){return[d3.min(a),d3.max(a)];}function u(a,b){d3.rebind(a,b,\"sort\",\"children\",\"value\");a.links=ra;a.nodes=function(b){J=!0;return(a.nodes=a)(b);};return a;}function sa(a){return a.children;}function ta(a){return a.value;}function ua(a,b){return b.value-a.value;}function ra(a){return d3.merge(a.map(function(a){return(a.children||[]).map(function(c){return{source:a,target:c};});}));}function va(a,b){return a.value-b.value;}function K(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b;}function T(a,b){a._pack_next=b;b._pack_prev=a;}function U(a,b){var c=b.x-a.x,e=b.y-a.y,f=a.r+b.r;return 0.001<f*f-c*c-e*e;}function wa(a){function b(a){c=Math.min(a.x-a.r,c);e=Math.max(a.x+a.r,e);f=Math.min(a.y-a.r,f);h=Math.max(a.y+a.r,h);}var c=Infinity,e=-Infinity,f=Infinity,h=-Infinity,g=a.length,i,k,l,j,m;a.forEach(xa);i=a[0];i.x=-i.r;i.y=0;b(i);if(1<g&&(k=a[1],k.x=k.r,k.y=0,b(k),2<g)){l=a[2];V(i,k,l);b(l);K(i,l);i._pack_prev=l;K(l,k);k=i._pack_next;for(var n=3;n<g;n++){V(i,k,l=a[n]);var o=0,p=1,q=1;for(j=k._pack_next;j!==k;j=j._pack_next,p++){if(U(j,l)){o=1;break;}}if(1==o)for(m=i._pack_prev;m!==j._pack_prev&&!U(m,l);m=m._pack_prev,q++){}o?(p<q||p==q&&k.r<i.r?T(i,k=j):T(i=m,k),n--):(K(i,l),k=l,b(l));}}i=(c+e)/2;k=(f+h)/2;for(n=l=0;n<g;n++){j=a[n],j.x-=i,j.y-=k,l=Math.max(l,j.r+Math.sqrt(j.x*j.x+j.y*j.y));}a.forEach(ya);return l;}function xa(a){a._pack_next=a._pack_prev=a;}function ya(a){delete a._pack_next;delete a._pack_prev;}function W(a){var b=a.children;b&&b.length?(b.forEach(W),a.r=wa(b)):a.r=Math.sqrt(a.value);}function X(a,b,c,e){var f=a.children;a.x=b+=e*a.x;a.y=c+=e*a.y;a.r*=e;if(f)for(var a=-1,h=f.length;++a<h;){X(f[a],b,c,e);}}function V(a,b,c){var e=a.r+c.r,f=b.x-a.x,h=b.y-a.y;if(e&&(f||h)){var g=b.r+c.r,b=Math.sqrt(f*f+h*h),i=Math.max(-1,Math.min(1,(e*e+b*b-g*g)/(2*e*b))),g=Math.acos(i),b=i*(e/=b),e=Math.sin(g)*e;c.x=a.x+b*f+e*h;c.y=a.y+b*h-e*f;}else c.x=a.x+e,c.y=a.y;}function za(a){return 1+d3.max(a,function(a){return a.y;});}function Aa(a){return a.reduce(function(a,c){return a+c.x;},0)/a.length;}function Y(a){var b=a.children;return b&&b.length?Y(b[0]):a;}function Z(a){var b=a.children,c;return b&&(c=b.length)?Z(b[c-1]):a;}function $(a,b){return a.parent==b.parent?1:2;}function L(a){var b=a.children;return b&&b.length?b[0]:a._tree.thread;}function M(a){var b=a.children,c;return b&&(c=b.length)?b[c-1]:a._tree.thread;}function v(a,b){var c=a.children;if(c&&(f=c.length))for(var e,f,h=-1;++h<f;){if(0<b(e=v(c[h],b),a))a=e;}return a;}function Ba(a,b){return a.x-b.x;}function Ca(a,b){return b.x-a.x;}function Da(a,b){return a.depth-b.depth;}function B(a,b){function c(a,f){var h=a.children;if(h&&(l=h.length))for(var g,i=null,k=-1,l;++k<l;){g=h[k],c(g,i),i=g;}b(a,f);}c(a,null);}function N(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy};}function aa(a,b){var c=a.x+b[3],e=a.y+b[0],f=a.dx-b[1]-b[3],h=a.dy-b[0]-b[2];0>f&&(c+=f/2,f=0);0>h&&(e+=h/2,h=0);return{x:c,y:e,dx:f,dy:h};}d3.layout={};d3.layout.bundle=function(){return function(a){for(var b=[],c=-1,e=a.length;++c<e;){b.push(ea(a[c]));}return b;};};d3.layout.chord=function(){function a(){var a={},c=[],o=d3.range(g),p=[],q,r,C,t,x;e=[];f=[];q=0;for(t=-1;++t<g;){r=0;for(x=-1;++x<g;){r+=h[t][x];}c.push(r);p.push(d3.range(g));q+=r;}k&&o.sort(function(a,b){return k(c[a],c[b]);});l&&p.forEach(function(a,b){a.sort(function(a,c){return l(h[b][a],h[b][c]);});});q=(2*Math.PI-i*g)/q;r=0;for(t=-1;++t<g;){C=r;for(x=-1;++x<g;){var F=o[t],A=p[F][x],E=h[F][A],Ea=r,Fa=r+=E*q;a[F+\"-\"+A]={index:F,subindex:A,startAngle:Ea,endAngle:Fa,value:E};}f.push({index:F,startAngle:C,endAngle:r,value:(r-C)/q});r+=i;}for(t=-1;++t<g;){for(x=t-1;++x<g;){if(o=a[t+\"-\"+x],p=a[x+\"-\"+t],o.value||p.value)e.push(o.value<p.value?{source:p,target:o}:{source:o,target:p});}}j&&b();}function b(){e.sort(function(a,b){return j((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2);});}var c={},e,f,h,g,i=0,k,l,j;c.matrix=function(a){if(!arguments.length)return h;g=(h=a)&&h.length;e=f=null;return c;};c.padding=function(a){if(!arguments.length)return i;i=a;e=f=null;return c;};c.sortGroups=function(a){if(!arguments.length)return k;k=a;e=f=null;return c;};c.sortSubgroups=function(a){if(!arguments.length)return l;l=a;e=null;return c;};c.sortChords=function(a){if(!arguments.length)return j;j=a;e&&b();return c;};c.chords=function(){e||a();return e;};c.groups=function(){f||a();return f;};return c;};d3.layout.force=function(){function a(a){return function(b,c,h,e){if(b.point!==a){var h=b.cx-a.x,f=b.cy-a.y,g=1/Math.sqrt(h*h+f*f);if((e-c)*g<o)return c=b.charge*g*g,a.px-=h*c,a.py-=f*c,!0;b.point&&isFinite(g)&&(c=b.pointCharge*g*g,a.px-=h*c,a.py-=f*c);}return!b.charge;};}function b(){var b=p.length,c=q.length,e,g,o,l,j,y,z;for(e=0;e<c;++e){if(g=q[e],o=g.source,l=g.target,y=l.x-o.x,z=l.y-o.y,j=y*y+z*z)j=i*C[e]*((j=Math.sqrt(j))-r[e])/j,y*=j,z*=j,l.x-=y*(j=o.weight/(l.weight+o.weight)),l.y-=z*j,o.x+=y*(j=1-j),o.y+=z*j;}if(j=i*n)if(y=h[0]/2,z=h[1]/2,e=-1,j)for(;++e<b;){g=p[e],g.x+=(y-g.x)*j,g.y+=(z-g.y)*j;}if(m){R(c=d3.geom.quadtree(p),i,t);for(e=-1;++e<b;){(g=p[e]).fixed||c.visit(a(g));}}for(e=-1;++e<b;){g=p[e],g.fixed?(g.x=g.px,g.y=g.py):(g.x-=(g.px-(g.px=g.x))*k,g.y-=(g.py-(g.py=g.y))*k);}f.tick({type:\"tick\",alpha:i});return 0.005>(i*=0.99);}function c(a){P(s=a);D=e;}var e={},f=d3.dispatch(\"tick\"),h=[1,1],g,i,k=0.9,l=ha,j=ia,m=-30,n=0.1,o=0.8,p=[],q=[],r,C,t;e.nodes=function(a){if(!arguments.length)return p;p=a;return e;};e.links=function(a){if(!arguments.length)return q;q=a;return e;};e.size=function(a){if(!arguments.length)return h;h=a;return e;};e.linkDistance=function(a){if(!arguments.length)return l;l=d3.functor(a);return e;};e.distance=e.linkDistance;e.linkStrength=function(a){if(!arguments.length)return j;j=d3.functor(a);return e;};e.friction=function(a){if(!arguments.length)return k;k=a;return e;};e.charge=function(a){if(!arguments.length)return m;m=\"function\"===typeof a?a:+a;return e;};e.gravity=function(a){if(!arguments.length)return n;n=a;return e;};e.theta=function(a){if(!arguments.length)return o;o=a;return e;};e.start=function(){function a(e,h){var i;if(!k){k=[];for(c=0;c<g;++c){k[c]=[];}for(c=0;c<f;++c){i=q[c],k[i.source.index].push(i.target),k[i.target.index].push(i.source);}}i=k[b];for(var o=-1,j=i.length,l;++o<j;){if(!isNaN(l=i[o][e]))return l;}return Math.random()*h;}var b,c,g=p.length,f=q.length,i=h[0],o=h[1],k,n;for(b=0;b<g;++b){(n=p[b]).index=b,n.weight=0;}r=[];C=[];for(b=0;b<f;++b){n=q[b],\"number\"==typeof n.source&&(n.source=p[n.source]),\"number\"==typeof n.target&&(n.target=p[n.target]),r[b]=l.call(this,n,b),C[b]=j.call(this,n,b),++n.source.weight,++n.target.weight;}for(b=0;b<g;++b){if(n=p[b],isNaN(n.x)&&(n.x=a(\"x\",i)),isNaN(n.y)&&(n.y=a(\"y\",o)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py))n.py=n.y;}t=[];if(\"function\"===typeof m)for(b=0;b<g;++b){t[b]=+m.call(this,p[b],b);}else for(b=0;b<g;++b){t[b]=m;}return e.resume();};e.resume=function(){i=0.1;d3.timer(b);return e;};e.stop=function(){i=0;return e;};e.drag=function(){g||(g=d3.behavior.drag().origin(Object).on(\"dragstart\",c).on(\"drag\",Q).on(\"dragend\",ga));this.on(\"mouseover.force\",P).on(\"mouseout.force\",fa).call(g);};return d3.rebind(e,f,\"on\");};var D,s;d3.layout.partition=function(){function a(b,c,e,f){var l=b.children;b.x=c;b.y=b.depth*f;b.dx=e;b.dy=f;if(l&&(m=l.length))for(var j=-1,m,n,e=b.value?e/b.value:0;++j<m;){a(n=l[j],c,b=n.value*e,f),c+=b;}}function b(a){var a=a.children,c=0;if(a&&(f=a.length))for(var e=-1,f;++e<f;){c=Math.max(c,b(a[e]));}return 1+c;}function c(c,g){var i=e.call(this,c,g);a(i[0],0,f[0],f[1]/b(i[0]));return i;}var e=d3.layout.hierarchy(),f=[1,1];c.size=function(a){if(!arguments.length)return f;f=a;return c;};return u(c,e);};d3.layout.pie=function(){function a(h,g){var i=h.map(function(c,e){return+b.call(a,c,e);}),k=+(\"function\"===typeof e?e.apply(this,arguments):e),l=((\"function\"===typeof f?f.apply(this,arguments):f)-e)/d3.sum(i),j=d3.range(h.length);null!=c&&j.sort(c===ba?function(a,b){return i[b]-i[a];}:function(a,b){return c(h[a],h[b]);});var m=[];j.forEach(function(a){m[a]={data:h[a],value:d=i[a],startAngle:k,endAngle:k+=d*l};});return m;}var b=Number,c=ba,e=0,f=2*Math.PI;a.value=function(c){if(!arguments.length)return b;b=c;return a;};a.sort=function(b){if(!arguments.length)return c;c=b;return a;};a.startAngle=function(b){if(!arguments.length)return e;e=b;return a;};a.endAngle=function(b){if(!arguments.length)return f;f=b;return a;};return a;};var ba={};d3.layout.stack=function(){function a(i,k){var l=i.map(function(c,e){return b.call(a,c,e);}),j=l.map(function(b){return b.map(function(b,c){return[h.call(a,b,c),g.call(a,b,c)];});}),m=c.call(a,j,k),l=d3.permute(l,m),j=d3.permute(j,m),m=e.call(a,j,k),n=l.length,o=l[0].length,p,q,r;for(q=0;q<o;++q){f.call(a,l[0][q],r=m[q],j[0][q][1]);for(p=1;p<n;++p){f.call(a,l[p][q],r+=j[p-1][q][1],j[p][q][1]);}}return i;}var b=Object,c=ca[\"default\"],e=da.zero,f=la,h=ja,g=ka;a.values=function(c){if(!arguments.length)return b;b=c;return a;};a.order=function(b){if(!arguments.length)return c;c=\"function\"===typeof b?b:ca[b];return a;};a.offset=function(b){if(!arguments.length)return e;e=\"function\"===typeof b?b:da[b];return a;};a.x=function(b){if(!arguments.length)return h;h=b;return a;};a.y=function(b){if(!arguments.length)return g;g=b;return a;};a.out=function(b){if(!arguments.length)return f;f=b;return a;};return a;};var ca={\"inside-out\":function insideOut(a){for(var b=a.length,c,e=a.map(ma),f=a.map(na),h=d3.range(b).sort(function(a,b){return e[a]-e[b];}),g=0,i=0,k=[],l=[],a=0;a<b;++a){c=h[a],g<i?(g+=f[c],k.push(c)):(i+=f[c],l.push(c));}return l.reverse().concat(k);},reverse:function reverse(a){return d3.range(a.length).reverse();},\"default\":function _default(a){return d3.range(a.length);}},da={silhouette:function silhouette(a){var b=a.length,c=a[0].length,e=[],f=0,h,g,i,k=[];for(g=0;g<c;++g){for(i=h=0;h<b;h++){i+=a[h][g][1];}i>f&&(f=i);e.push(i);}for(g=0;g<c;++g){k[g]=(f-e[g])/2;}return k;},wiggle:function wiggle(a){var b=a.length,c=a[0],e=c.length,f,h,g,i,k,l,j,m,n,o=[];o[0]=m=n=0;for(h=1;h<e;++h){for(i=f=0;f<b;++f){i+=a[f][h][1];}k=f=0;for(j=c[h][0]-c[h-1][0];f<b;++f){g=0;for(l=(a[f][h][1]-a[f][h-1][1])/(2*j);g<f;++g){l+=(a[g][h][1]-a[g][h-1][1])/j;}k+=l*a[f][h][1];}o[h]=m-=i?k/i*j:0;m<n&&(n=m);}for(h=0;h<e;++h){o[h]-=n;}return o;},expand:function expand(a){var b=a.length,c=a[0].length,e=1/b,f,h,g,i=[];for(h=0;h<c;++h){for(g=f=0;f<b;f++){g+=a[f][h][1];}if(g)for(f=0;f<b;f++){a[f][h][1]/=g;}else for(f=0;f<b;f++){a[f][h][1]=e;}}for(h=0;h<c;++h){i[h]=0;}return i;},zero:function zero(a){for(var b=-1,a=a[0].length,c=[];++b<a;){c[b]=0;}return c;}};d3.layout.histogram=function(){function a(a,g){for(var i=[],k=a.map(c,this),l=e.call(this,k,g),j=f.call(this,l,k,g),m,g=-1,n=k.length,o=j.length-1,p=b?1:1/n;++g<o;){m=i[g]=[],m.dx=j[g+1]-(m.x=j[g]),m.y=0;}for(g=-1;++g<n;){m=k[g],m>=l[0]&&m<=l[1]&&(m=i[d3.bisect(j,m,1,o)-1],m.y+=p,m.push(a[g]));}return i;}var b=!0,c=Number,e=qa,f=pa;a.value=function(b){if(!arguments.length)return c;c=b;return a;};a.range=function(b){if(!arguments.length)return e;e=d3.functor(b);return a;};a.bins=function(b){if(!arguments.length)return f;f=\"number\"===typeof b?function(a){return S(a,b);}:d3.functor(b);return a;};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a;};return a;};d3.layout.hierarchy=function(){function a(b,i,k){var l=f.call(c,b,i),j=J?b:{data:b};j.depth=i;k.push(j);if(l&&(m=l.length)){for(var b=-1,m,n=j.children=[],o=0,i=i+1;++b<m;){global.d=a(l[b],i,k),d.parent=j,n.push(d),o+=d.value;}e&&n.sort(e);h&&(j.value=o);}else h&&(j.value=+h.call(c,b,i)||0);return j;}function b(a,e){var f=a.children,l=0;if(f&&(m=f.length))for(var j=-1,m,n=e+1;++j<m;){l+=b(f[j],n);}else h&&(l=+h.call(c,J?a:a.data,e)||0);h&&(a.value=l);return l;}function c(b){var c=[];a(b,0,c);return c;}var e=ua,f=sa,h=ta;c.sort=function(a){if(!arguments.length)return e;e=a;return c;};c.children=function(a){if(!arguments.length)return f;f=a;return c;};c.value=function(a){if(!arguments.length)return h;h=a;return c;};c.revalue=function(a){b(a,0);return a;};return c;};var J=!1;d3.layout.pack=function(){function a(a,f){var h=b.call(this,a,f),g=h[0];g.x=0;g.y=0;W(g);var i=c[0],k=c[1],l=1/Math.max(2*g.r/i,2*g.r/k);X(g,i/2,k/2,l);return h;}var b=d3.layout.hierarchy().sort(va),c=[1,1];a.size=function(b){if(!arguments.length)return c;c=b;return a;};return u(a,b);};d3.layout.cluster=function(){function a(a,h){var g=b.call(this,a,h),i=g[0],k,l=0;B(i,function(a){var b=a.children;b&&b.length?(a.x=Aa(b),a.y=za(b)):(a.x=k?l+=c(a,k):0,a.y=0,k=a);});var j=Y(i),m=Z(i),n=j.x-c(j,m)/2,o=m.x+c(m,j)/2;B(i,function(a){a.x=(a.x-n)/(o-n)*e[0];a.y=(1-(i.y?a.y/i.y:1))*e[1];});return g;}var b=d3.layout.hierarchy().sort(null).value(null),c=$,e=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a;};a.size=function(b){if(!arguments.length)return e;e=b;return a;};return u(a,b);};d3.layout.tree=function(){function a(a,h){function g(a,b){var e=a.children,f=a._tree;if(e&&(h=e.length)){for(var h,i=e[0],o,l=i,j,k=-1;++k<h;){j=e[k];g(j,o);var q=j;if(o){for(var p=q,n=q,m=q.parent.children[0],s=p._tree.mod,u=n._tree.mod,v=o._tree.mod,B=m._tree.mod,G=void 0;o=M(o),p=L(p),o&&p;){m=L(m);n=M(n);n._tree.ancestor=q;G=o._tree.prelim+v-p._tree.prelim-s+c(o,p);if(0<G){var H=o._tree.ancestor.parent==q.parent?o._tree.ancestor:l,w=q,I=G,H=H._tree,w=w._tree,D=I/(w.number-H.number);H.change+=D;w.change-=D;w.shift+=I;w.prelim+=I;w.mod+=I;s+=G;u+=G;}v+=o._tree.mod;s+=p._tree.mod;B+=m._tree.mod;u+=n._tree.mod;}o&&!M(n)&&(n._tree.thread=o,n._tree.mod+=v-u);p&&!L(m)&&(m._tree.thread=p,m._tree.mod+=s-B,l=q);}o=j;}h=e=0;k=a.children;for(q=k.length;0<=--q;){l=k[q]._tree,l.prelim+=e,l.mod+=e,e+=l.shift+(h+=l.change);}i=0.5*(i._tree.prelim+j._tree.prelim);b?(f.prelim=b._tree.prelim+c(a,b),f.mod=f.prelim-i):f.prelim=i;}else b&&(f.prelim=b._tree.prelim+c(a,b));}function i(a,b){a.x=a._tree.prelim+b;var c=a.children;if(c&&(f=c.length))for(var e=-1,f,b=b+a._tree.mod;++e<f;){i(c[e],b);}}var k=b.call(this,a,h),l=k[0];B(l,function(a,b){a._tree={ancestor:a,prelim:0,mod:0,change:0,shift:0,number:b?b._tree.number+1:0};});g(l);i(l,-l._tree.prelim);var j=v(l,Ca),m=v(l,Ba),n=v(l,Da),o=j.x-c(j,m)/2,p=m.x+c(m,j)/2,q=n.depth||1;B(l,function(a){a.x=(a.x-o)/(p-o)*e[0];a.y=a.depth/q*e[1];delete a._tree;});return k;}var b=d3.layout.hierarchy().sort(null).value(null),c=$,e=[1,1];a.separation=function(b){if(!arguments.length)return c;c=b;return a;};a.size=function(b){if(!arguments.length)return e;e=b;return a;};return u(a,b);};d3.layout.treemap=function(){function a(a,b){for(var c=-1,e=a.length,f,g;++c<e;){g=(f=a[c]).value*(0>b?0:b),f.area=isNaN(g)||0>=g?0:g;}}function b(c){var f=c.children;if(f&&f.length){var g=l(c),h=[],i=f.slice(),j=Infinity,k=Math.min(g.dx,g.dy);a(i,g.dx*g.dy/c.value);for(h.area=0;0<(c=i.length);){h.push(c=i[c-1]);h.area+=c.area;for(var c=k,m=h.area,A=void 0,E=0,s=Infinity,u=-1,v=h.length;++u<v;){if(A=h[u].area)A<s&&(s=A),A>E&&(E=A);}m*=m;c*=c;(c=m?Math.max(c*E*n/m,m/(c*s*n)):Infinity)<=j?(i.pop(),j=c):(h.area-=h.pop().area,e(h,k,g,!1),k=Math.min(g.dx,g.dy),h.length=h.area=0,j=Infinity);}h.length&&(e(h,k,g,!0),h.length=h.area=0);f.forEach(b);}}function c(b){var f=b.children;if(f&&f.length){var g=l(b),h=f.slice(),i=[];a(h,g.dx*g.dy/b.value);for(i.area=0;b=h.pop();){i.push(b),i.area+=b.area,null!=b.z&&(e(i,b.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);}f.forEach(c);}}function e(a,b,c,e){var f=-1,h=a.length,i=c.x,l=c.y,j=b?g(a.area/b):0,k;if(b==c.dx){if(e||j>c.dy)j=c.dy;for(;++f<h;){k=a[f],k.x=i,k.y=l,k.dy=j,i+=k.dx=Math.min(c.x+c.dx-i,j?g(k.area/j):0);}k.z=!0;k.dx+=c.x+c.dx-i;c.y+=j;c.dy-=j;}else{if(e||j>c.dx)j=c.dx;for(;++f<h;){k=a[f],k.x=i,k.y=l,k.dx=j,l+=k.dy=Math.min(c.y+c.dy-l,j?g(k.area/j):0);}k.z=!1;k.dy+=c.y+c.dy-l;c.x+=j;c.dx-=j;}}function f(e){var e=m||h(e),f=e[0];f.x=0;f.y=0;f.dx=i[0];f.dy=i[1];m&&h.revalue(f);a([f],f.dx*f.dy/f.value);(m?c:b)(f);j&&(m=e);return e;}var h=d3.layout.hierarchy(),g=Math.round,i=[1,1],k=null,l=N,j=!1,m,n=0.5*(1+Math.sqrt(5));f.size=function(a){if(!arguments.length)return i;i=a;return f;};f.padding=function(a){function b(c){var e=a.call(f,c,c.depth);return null==e?N(c):aa(c,\"number\"===typeof e?[e,e,e,e]:e);}function c(b){return aa(b,a);}if(!arguments.length)return k;var e;l=null==(k=a)?N:\"function\"===(e=typeof a==='undefined'?'undefined':(0,_typeof3.default)(a))?b:\"number\"===e?(a=[a,a,a,a],c):c;return f;};f.round=function(a){if(!arguments.length)return g!=Number;g=a?Math.round:Number;return f;};f.sticky=function(a){if(!arguments.length)return j;j=a;m=null;return f;};f.ratio=function(a){if(!arguments.length)return n;n=a;return f;};return u(f,h);};})();(function(glob){var version=\"0.3.4\",has=\"hasOwnProperty\",separator=/[\\.\\/]/,wildcard=\"*\",fun=function fun(){},numsort=function numsort(a,b){return a-b;},current_event,stop,events={n:{}},eve=function eve(name,scope){var e=events,oldstop=stop,args=Array.prototype.slice.call(arguments,2),listeners=eve.listeners(name),z=0,f=false,l,indexed=[],queue={},out=[],ce=current_event,errors=[];current_event=name;stop=0;for(var i=0,ii=listeners.length;i<ii;i++){if(\"zIndex\"in listeners[i]){indexed.push(listeners[i].zIndex);if(listeners[i].zIndex<0){queue[listeners[i].zIndex]=listeners[i];}}}indexed.sort(numsort);while(indexed[z]<0){l=queue[indexed[z++]];out.push(l.apply(scope,args));if(stop){stop=oldstop;return out;}}for(i=0;i<ii;i++){l=listeners[i];if(\"zIndex\"in l){if(l.zIndex==indexed[z]){out.push(l.apply(scope,args));if(stop){break;}do{z++;l=queue[indexed[z]];l&&out.push(l.apply(scope,args));if(stop){break;}}while(l);}else{queue[l.zIndex]=l;}}else{out.push(l.apply(scope,args));if(stop){break;}}}stop=oldstop;current_event=ce;return out.length?out:null;};eve.listeners=function(name){var names=name.split(separator),e=events,item,items,k,i,ii,j,jj,nes,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){nes=[];for(j=0,jj=es.length;j<jj;j++){e=es[j].n;items=[e[names[i]],e[wildcard]];k=2;while(k--){item=items[k];if(item){nes.push(item);out=out.concat(item.f||[]);}}}es=nes;}return out;};eve.on=function(name,f){var names=name.split(separator),e=events;for(var i=0,ii=names.length;i<ii;i++){e=e.n;!e[names[i]]&&(e[names[i]]={n:{}});e=e[names[i]];}e.f=e.f||[];for(i=0,ii=e.f.length;i<ii;i++){if(e.f[i]==f){return fun;}}e.f.push(f);return function(zIndex){if(+zIndex==+zIndex){f.zIndex=+zIndex;}};};eve.stop=function(){stop=1;};eve.nt=function(subname){if(subname){return new RegExp(\"(?:\\\\.|\\\\/|^)\"+subname+\"(?:\\\\.|\\\\/|$)\").test(current_event);}return current_event;};eve.off=eve.unbind=function(name,f){var names=name.split(separator),e,key,splice,i,ii,j,jj,cur=[events];for(i=0,ii=names.length;i<ii;i++){for(j=0;j<cur.length;j+=splice.length-2){splice=[j,1];e=cur[j].n;if(names[i]!=wildcard){if(e[names[i]]){splice.push(e[names[i]]);}}else{for(key in e){if(e[has](key)){splice.push(e[key]);}}}cur.splice.apply(cur,splice);}}for(i=0,ii=cur.length;i<ii;i++){e=cur[i];while(e.n){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++){if(e.f[j]==f){e.f.splice(j,1);break;}}!e.f.length&&delete e.f;}for(key in e.n){if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++){if(funcs[j]==f){funcs.splice(j,1);break;}}!funcs.length&&delete e.n[key].f;}}}else{delete e.f;for(key in e.n){if(e.n[has](key)&&e.n[key].f){delete e.n[key].f;}}}e=e.n;}}};eve.once=function(name,f){var f2=function f2(){var res=f.apply(this,arguments);eve.unbind(name,f2);return res;};return eve.on(name,f2);};eve.version=version;eve.toString=function(){return\"You are running Eve \"+version;};glob.eve=eve;})(global);(function(){function R(first){if(R.is(first,\"function\")){return loaded?first():eve.on(\"raphael.DOMload\",first);}else if(R.is(first,array)){return R._engine.create[apply](R,first.splice(0,3+R.is(first[0],nu))).add(first);}else{var args=Array.prototype.slice.call(arguments,0);if(R.is(args[args.length-1],\"function\")){var f=args.pop();return loaded?f.call(R._engine.create[apply](R,args)):eve.on(\"raphael.DOMload\",function(){f.call(R._engine.create[apply](R,args));});}else{return R._engine.create[apply](R,arguments);}}}R.version=\"2.1.0\";R.eve=eve;var loaded,separator=/[, ]+/,elements={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},formatrg=/\\{(\\d+)\\}/g,proto=\"prototype\",has=\"hasOwnProperty\",g={doc:document,win:window},oldRaphael={was:Object.prototype[has].call(g.win,\"Raphael\"),is:g.win.Raphael},Paper=function Paper(){this.ca=this.customAttributes={};},paperproto,appendChild=\"appendChild\",apply=\"apply\",concat=\"concat\",supportsTouch=\"createTouch\"in g.doc,E=\"\",S=\" \",Str=String,split=\"split\",events=\"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\"[split](S),touchMap={mousedown:\"touchstart\",mousemove:\"touchmove\",mouseup:\"touchend\"},lowerCase=Str.prototype.toLowerCase,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,PI=math.PI,nu=\"number\",string=\"string\",array=\"array\",toString=\"toString\",fillString=\"fill\",objectToString=Object.prototype.toString,paper={},push=\"push\",ISURL=R._ISURL=/^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,colourRegExp=/^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,isnan={\"NaN\":1,\"Infinity\":1,\"-Infinity\":1},bezierrg=/^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,round=math.round,setAttribute=\"setAttribute\",toFloat=parseFloat,toInt=parseInt,upperCase=Str.prototype.toUpperCase,availableAttrs=R._availableAttrs={\"arrow-end\":\"none\",\"arrow-start\":\"none\",blur:0,\"clip-rect\":\"0 0 1e9 1e9\",cursor:\"default\",cx:0,cy:0,fill:\"#fff\",\"fill-opacity\":1,font:'10px \"Arial\"',\"font-family\":'\"Arial\"',\"font-size\":\"10\",\"font-style\":\"normal\",\"font-weight\":400,gradient:0,height:0,href:\"http://raphaeljs.com/\",\"letter-spacing\":0,opacity:1,path:\"M0,0\",r:0,rx:0,ry:0,src:\"\",stroke:\"#000\",\"stroke-dasharray\":\"\",\"stroke-linecap\":\"butt\",\"stroke-linejoin\":\"butt\",\"stroke-miterlimit\":0,\"stroke-opacity\":1,\"stroke-width\":1,target:\"_blank\",\"text-anchor\":\"middle\",title:\"Raphael\",transform:\"\",width:0,x:0,y:0},availableAnimAttrs=R._availableAnimAttrs={blur:nu,\"clip-rect\":\"csv\",cx:nu,cy:nu,fill:\"colour\",\"fill-opacity\":nu,\"font-size\":nu,height:nu,opacity:nu,path:\"path\",r:nu,rx:nu,ry:nu,stroke:\"colour\",\"stroke-opacity\":nu,\"stroke-width\":nu,transform:\"transform\",width:nu,x:nu,y:nu},whitespace=/[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]/g,commaSpaces=/[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,hsrg={hs:1,rg:1},p2s=/,?([achlmqrstvxz]),?/gi,pathCommand=/([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,tCommand=/([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,pathValues=/(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,radial_gradient=R._radial_gradient=/^r(?:\\(([^,]+?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*([^\\)]+?)\\))?/,eldata={},sortByKey=function sortByKey(a,b){return a.key-b.key;},sortByNumber=function sortByNumber(a,b){return toFloat(a)-toFloat(b);},fun=function fun(){},pipe=function pipe(x){return x;},rectPath=R._rectPath=function(x,y,w,h,r){if(r){return[[\"M\",x+r,y],[\"l\",w-r*2,0],[\"a\",r,r,0,0,1,r,r],[\"l\",0,h-r*2],[\"a\",r,r,0,0,1,-r,r],[\"l\",r*2-w,0],[\"a\",r,r,0,0,1,-r,-r],[\"l\",0,r*2-h],[\"a\",r,r,0,0,1,r,-r],[\"z\"]];}return[[\"M\",x,y],[\"l\",w,0],[\"l\",0,h],[\"l\",-w,0],[\"z\"]];},ellipsePath=function ellipsePath(x,y,rx,ry){if(ry==null){ry=rx;}return[[\"M\",x,y],[\"m\",0,-ry],[\"a\",rx,ry,0,1,1,0,2*ry],[\"a\",rx,ry,0,1,1,0,-2*ry],[\"z\"]];},getPath=R._getPath={path:function path(el){return el.attr(\"path\");},circle:function circle(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r);},ellipse:function ellipse(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.rx,a.ry);},rect:function rect(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r);},image:function image(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height);},text:function text(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height);}},mapPath=R.mapPath=function(path,matrix){if(!matrix){return path;}var x,y,i,j,ii,jj,pathi;path=path2curve(path);for(i=0,ii=path.length;i<ii;i++){pathi=path[i];for(j=1,jj=pathi.length;j<jj;j+=2){x=matrix.x(pathi[j],pathi[j+1]);y=matrix.y(pathi[j],pathi[j+1]);pathi[j]=x;pathi[j+1]=y;}}return path;};R._g=g;R.type=g.win.SVGAngle||g.doc.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\",\"1.1\")?\"SVG\":\"VML\";if(R.type==\"VML\"){var d=g.doc.createElement(\"div\"),b;d.innerHTML='<v:shape adj=\"1\"/>';b=d.firstChild;b.style.behavior=\"url(#default#VML)\";if(!(b&&(0,_typeof3.default)(b.adj)==\"object\")){return R.type=E;}d=null;}R.svg=!(R.vml=R.type==\"VML\");R._Paper=Paper;R.fn=paperproto=Paper.prototype=R.prototype;R._id=0;R._oid=0;R.is=function(o,type){type=lowerCase.call(type);if(type==\"finite\"){return!isnan[has](+o);}if(type==\"array\"){return o instanceof Array;}return type==\"null\"&&o===null||type==(typeof o==='undefined'?'undefined':(0,_typeof3.default)(o))&&o!==null||type==\"object\"&&o===Object(o)||type==\"array\"&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()==type;};function clone(obj){if(Object(obj)!==obj){return obj;}var res=new obj.constructor();for(var key in obj){if(obj[has](key)){res[key]=clone(obj[key]);}}return res;}R.angle=function(x1,y1,x2,y2,x3,y3){if(x3==null){var x=x1-x2,y=y1-y2;if(!x&&!y){return 0;}return(180+math.atan2(-y,-x)*180/PI+360)%360;}else{return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3);}};R.rad=function(deg){return deg%360*PI/180;};R.deg=function(rad){return rad*180/PI%360;};R.snapTo=function(values,value,tolerance){tolerance=R.is(tolerance,\"finite\")?tolerance:10;if(R.is(values,array)){var i=values.length;while(i--){if(abs(values[i]-value)<=tolerance){return values[i];}}}else{values=+values;var rem=value%values;if(rem<tolerance){return value-rem;}if(rem>values-tolerance){return value-rem+values;}}return value;};var createUUID=R.createUUID=function(uuidRegEx,uuidReplacer){return function(){return\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(uuidRegEx,uuidReplacer).toUpperCase();};}(/[xy]/g,function(c){var r=math.random()*16|0,v=c==\"x\"?r:r&3|8;return v.toString(16);});R.setWindow=function(newwin){eve(\"raphael.setWindow\",R,g.win,newwin);g.win=newwin;g.doc=g.win.document;if(R._engine.initWin){R._engine.initWin(g.win);}};var _toHex=function toHex(color){if(R.vml){var trim=/^\\s+|\\s+$/g;var bod;try{var docum=new ActiveXObject(\"htmlfile\");docum.write(\"<body>\");docum.close();bod=docum.body;}catch(e){bod=createPopup().document.body;}var range=bod.createTextRange();_toHex=cacher(function(color){try{bod.style.color=Str(color).replace(trim,E);var value=range.queryCommandValue(\"ForeColor\");value=(value&255)<<16|value&65280|(value&16711680)>>>16;return\"#\"+(\"000000\"+value.toString(16)).slice(-6);}catch(e){return\"none\";}});}else{var i=g.doc.createElement(\"i\");i.title=\"Rapha\\xebl Colour Picker\";i.style.display=\"none\";g.doc.body.appendChild(i);_toHex=cacher(function(color){i.style.color=color;return g.doc.defaultView.getComputedStyle(i,E).getPropertyValue(\"color\");});}return _toHex(color);},hsbtoString=function hsbtoString(){return\"hsb(\"+[this.h,this.s,this.b]+\")\";},hsltoString=function hsltoString(){return\"hsl(\"+[this.h,this.s,this.l]+\")\";},rgbtoString=function rgbtoString(){return this.hex;},prepareRGB=function prepareRGB(r,g,b){if(g==null&&R.is(r,\"object\")&&\"r\"in r&&\"g\"in r&&\"b\"in r){b=r.b;g=r.g;r=r.r;}if(g==null&&R.is(r,string)){var clr=R.getRGB(r);r=clr.r;g=clr.g;b=clr.b;}if(r>1||g>1||b>1){r/=255;g/=255;b/=255;}return[r,g,b];},packageRGB=function packageRGB(r,g,b,o){r*=255;g*=255;b*=255;var rgb={r:r,g:g,b:b,hex:R.rgb(r,g,b),toString:rgbtoString};R.is(o,\"finite\")&&(rgb.opacity=o);return rgb;};R.color=function(clr){var rgb;if(R.is(clr,\"object\")&&\"h\"in clr&&\"s\"in clr&&\"b\"in clr){rgb=R.hsb2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex;}else if(R.is(clr,\"object\")&&\"h\"in clr&&\"s\"in clr&&\"l\"in clr){rgb=R.hsl2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex;}else{if(R.is(clr,\"string\")){clr=R.getRGB(clr);}if(R.is(clr,\"object\")&&\"r\"in clr&&\"g\"in clr&&\"b\"in clr){rgb=R.rgb2hsl(clr);clr.h=rgb.h;clr.s=rgb.s;clr.l=rgb.l;rgb=R.rgb2hsb(clr);clr.v=rgb.b;}else{clr={hex:\"none\"};clr.r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1;}}clr.toString=rgbtoString;return clr;};R.hsb2rgb=function(h,s,v,o){if(this.is(h,\"object\")&&\"h\"in h&&\"s\"in h&&\"b\"in h){v=h.b;s=h.s;h=h.h;o=h.o;}h*=360;var R,G,B,X,C;h=h%360/60;C=v*s;X=C*(1-abs(h%2-1));R=G=B=v-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o);};R.hsl2rgb=function(h,s,l,o){if(this.is(h,\"object\")&&\"h\"in h&&\"s\"in h&&\"l\"in h){l=h.l;s=h.s;h=h.h;}if(h>1||s>1||l>1){h/=360;s/=100;l/=100;}h*=360;var R,G,B,X,C;h=h%360/60;C=2*s*(l<.5?l:1-l);X=C*(1-abs(h%2-1));R=G=B=l-C/2;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o);};R.rgb2hsb=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,V,C;V=mmax(r,g,b);C=V-mmin(r,g,b);H=C==0?null:V==r?(g-b)/C:V==g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;S=C==0?0:C/V;return{h:H,s:S,b:V,toString:hsbtoString};};R.rgb2hsl=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,L,M,m,C;M=mmax(r,g,b);m=mmin(r,g,b);C=M-m;H=C==0?null:M==r?(g-b)/C:M==g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;L=(M+m)/2;S=C==0?0:L<.5?C/(2*L):C/(2-2*L);return{h:H,s:S,l:L,toString:hsltoString};};R._path2string=function(){return this.join(\",\").replace(p2s,\"$1\");};function repush(array,item){for(var i=0,ii=array.length;i<ii;i++){if(array[i]===item){return array.push(array.splice(i,1)[0]);}}}function cacher(f,scope,postprocessor){function newf(){var arg=Array.prototype.slice.call(arguments,0),args=arg.join('\\u2400'),cache=newf.cache=newf.cache||{},count=newf.count=newf.count||[];if(cache[has](args)){repush(count,args);return postprocessor?postprocessor(cache[args]):cache[args];}count.length>=1e3&&delete cache[count.shift()];count.push(args);cache[args]=f[apply](scope,arg);return postprocessor?postprocessor(cache[args]):cache[args];}return newf;}var preload=R._preload=function(src,f){var img=g.doc.createElement(\"img\");img.style.cssText=\"position:absolute;left:-9999em;top:-9999em\";img.onload=function(){f.call(this);this.onload=null;g.doc.body.removeChild(this);};img.onerror=function(){g.doc.body.removeChild(this);};g.doc.body.appendChild(img);img.src=src;};function clrToString(){return this.hex;}R.getRGB=cacher(function(colour){if(!colour||!!((colour=Str(colour)).indexOf(\"-\")+1)){return{r:-1,g:-1,b:-1,hex:\"none\",error:1,toString:clrToString};}if(colour==\"none\"){return{r:-1,g:-1,b:-1,hex:\"none\",toString:clrToString};}!(hsrg[has](colour.toLowerCase().substring(0,2))||colour.charAt()==\"#\")&&(colour=_toHex(colour));var res,red,green,blue,opacity,t,values,rgb=colour.match(colourRegExp);if(rgb){if(rgb[2]){blue=toInt(rgb[2].substring(5),16);green=toInt(rgb[2].substring(3,5),16);red=toInt(rgb[2].substring(1,3),16);}if(rgb[3]){blue=toInt((t=rgb[3].charAt(3))+t,16);green=toInt((t=rgb[3].charAt(2))+t,16);red=toInt((t=rgb[3].charAt(1))+t,16);}if(rgb[4]){values=rgb[4][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==\"%\"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==\"%\"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==\"%\"&&(blue*=2.55);rgb[1].toLowerCase().slice(0,4)==\"rgba\"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==\"%\"&&(opacity/=100);}if(rgb[5]){values=rgb[5][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==\"%\"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==\"%\"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==\"%\"&&(blue*=2.55);(values[0].slice(-3)==\"deg\"||values[0].slice(-1)==\"\\xb0\")&&(red/=360);rgb[1].toLowerCase().slice(0,4)==\"hsba\"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==\"%\"&&(opacity/=100);return R.hsb2rgb(red,green,blue,opacity);}if(rgb[6]){values=rgb[6][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)==\"%\"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)==\"%\"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)==\"%\"&&(blue*=2.55);(values[0].slice(-3)==\"deg\"||values[0].slice(-1)==\"\\xb0\")&&(red/=360);rgb[1].toLowerCase().slice(0,4)==\"hsla\"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==\"%\"&&(opacity/=100);return R.hsl2rgb(red,green,blue,opacity);}rgb={r:red,g:green,b:blue,toString:clrToString};rgb.hex=\"#\"+(16777216|blue|green<<8|red<<16).toString(16).slice(1);R.is(opacity,\"finite\")&&(rgb.opacity=opacity);return rgb;}return{r:-1,g:-1,b:-1,hex:\"none\",error:1,toString:clrToString};},R);R.hsb=cacher(function(h,s,b){return R.hsb2rgb(h,s,b).hex;});R.hsl=cacher(function(h,s,l){return R.hsl2rgb(h,s,l).hex;});R.rgb=cacher(function(r,g,b){return\"#\"+(16777216|b|g<<8|r<<16).toString(16).slice(1);});R.getColor=function(value){var start=this.getColor.start=this.getColor.start||{h:0,s:1,b:value||.75},rgb=this.hsb2rgb(start.h,start.s,start.b);start.h+=.075;if(start.h>1){start.h=0;start.s-=.2;start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b});}return rgb.hex;};R.getColor.reset=function(){delete this.start;};function catmullRom2bezier(crp,z){var d=[];for(var i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];if(z){if(!i){p[0]={x:+crp[iLen-2],y:+crp[iLen-1]};}else if(iLen-4==i){p[3]={x:+crp[0],y:+crp[1]};}else if(iLen-2==i){p[2]={x:+crp[0],y:+crp[1]};p[3]={x:+crp[2],y:+crp[3]};}}else{if(iLen-4==i){p[3]=p[2];}else if(!i){p[0]={x:+crp[i],y:+crp[i+1]};}}d.push([\"C\",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y]);}return d;}R.parsePathString=function(pathString){if(!pathString){return null;}var pth=paths(pathString);if(pth.arr){return pathClone(pth.arr);}var paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},data=[];if(R.is(pathString,array)&&R.is(pathString[0],array)){data=pathClone(pathString);}if(!data.length){Str(pathString).replace(pathCommand,function(a,b,c){var params=[],name=b.toLowerCase();c.replace(pathValues,function(a,b){b&&params.push(+b);});if(name==\"m\"&&params.length>2){data.push([b][concat](params.splice(0,2)));name=\"l\";b=b==\"m\"?\"l\":\"L\";}if(name==\"r\"){data.push([b][concat](params));}else while(params.length>=paramCounts[name]){data.push([b][concat](params.splice(0,paramCounts[name])));if(!paramCounts[name]){break;}}});}data.toString=R._path2string;pth.arr=pathClone(data);return data;};R.parseTransformString=cacher(function(TString){if(!TString){return null;}var paramCounts={r:3,s:4,t:2,m:6},data=[];if(R.is(TString,array)&&R.is(TString[0],array)){data=pathClone(TString);}if(!data.length){Str(TString).replace(tCommand,function(a,b,c){var params=[],name=lowerCase.call(b);c.replace(pathValues,function(a,b){b&&params.push(+b);});data.push([b][concat](params));});}data.toString=R._path2string;return data;});var paths=function paths(ps){var p=paths.ps=paths.ps||{};if(p[ps]){p[ps].sleep=100;}else{p[ps]={sleep:100};}setTimeout(function(){for(var key in p){if(p[has](key)&&key!=ps){p[key].sleep--;!p[key].sleep&&delete p[key];}}});return p[ps];};R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+t12*3*t*c1x+t1*3*t*t*c2x+t3*p2x,y=t13*p1y+t12*3*t*c1y+t1*3*t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-math.atan2(mx-nx,my-ny)*180/PI;(mx>nx||my<ny)&&(alpha+=180);return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha};};R.bezierBBox=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){if(!R.is(p1x,\"array\")){p1x=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y];}var bbox=curveDim.apply(null,p1x);return{x:bbox.min.x,y:bbox.min.y,x2:bbox.max.x,y2:bbox.max.y,width:bbox.max.x-bbox.min.x,height:bbox.max.y-bbox.min.y};};R.isPointInsideBBox=function(bbox,x,y){return x>=bbox.x&&x<=bbox.x2&&y>=bbox.y&&y<=bbox.y2;};R.isBBoxIntersect=function(bbox1,bbox2){var i=R.isPointInsideBBox;return i(bbox2,bbox1.x,bbox1.y)||i(bbox2,bbox1.x2,bbox1.y)||i(bbox2,bbox1.x,bbox1.y2)||i(bbox2,bbox1.x2,bbox1.y2)||i(bbox1,bbox2.x,bbox2.y)||i(bbox1,bbox2.x2,bbox2.y)||i(bbox1,bbox2.x,bbox2.y2)||i(bbox1,bbox2.x2,bbox2.y2)||(bbox1.x<bbox2.x2&&bbox1.x>bbox2.x||bbox2.x<bbox1.x2&&bbox2.x>bbox1.x)&&(bbox1.y<bbox2.y2&&bbox1.y>bbox2.y||bbox2.y<bbox1.y2&&bbox2.y>bbox1.y);};function base3(t,p1,p2,p3,p4){var t1=-3*p1+9*p2-9*p3+3*p4,t2=t*t1+6*p1-12*p2+6*p3;return t*t2-3*p1+3*p2;}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){if(z==null){z=1;}z=z>1?1:z<0?0:z;var z2=z/2,n=12,Tvalues=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],Cvalues=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],sum=0;for(var i=0;i<n;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*math.sqrt(comb);}return z2*sum;}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll){return;}var t=1,step=t/2,t2=t-step,l,e=.01;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);while(abs(l-ll)>e){step/=2;t2+=(l<ll?1:-1)*step;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);}return t2;}function intersect(x1,y1,x2,y2,x3,y3,x4,y4){if(mmax(x1,x2)<mmin(x3,x4)||mmin(x1,x2)>mmax(x3,x4)||mmax(y1,y2)<mmin(y3,y4)||mmin(y1,y2)>mmax(y3,y4)){return;}var nx=(x1*y2-y1*x2)*(x3-x4)-(x1-x2)*(x3*y4-y3*x4),ny=(x1*y2-y1*x2)*(y3-y4)-(y1-y2)*(x3*y4-y3*x4),denominator=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);if(!denominator){return;}var px=nx/denominator,py=ny/denominator,px2=+px.toFixed(2),py2=+py.toFixed(2);if(px2<+mmin(x1,x2).toFixed(2)||px2>+mmax(x1,x2).toFixed(2)||px2<+mmin(x3,x4).toFixed(2)||px2>+mmax(x3,x4).toFixed(2)||py2<+mmin(y1,y2).toFixed(2)||py2>+mmax(y1,y2).toFixed(2)||py2<+mmin(y3,y4).toFixed(2)||py2>+mmax(y3,y4).toFixed(2)){return;}return{x:px,y:py};}function inter(bez1,bez2){return interHelper(bez1,bez2);}function interCount(bez1,bez2){return interHelper(bez1,bez2,1);}function interHelper(bez1,bez2,justCount){var bbox1=R.bezierBBox(bez1),bbox2=R.bezierBBox(bez2);if(!R.isBBoxIntersect(bbox1,bbox2)){return justCount?0:[];}var l1=bezlen.apply(0,bez1),l2=bezlen.apply(0,bez2),n1=~~(l1/5),n2=~~(l2/5),dots1=[],dots2=[],xy={},res=justCount?0:[];for(var i=0;i<n1+1;i++){var p=R.findDotsAtSegment.apply(R,bez1.concat(i/n1));dots1.push({x:p.x,y:p.y,t:i/n1});}for(i=0;i<n2+1;i++){p=R.findDotsAtSegment.apply(R,bez2.concat(i/n2));dots2.push({x:p.x,y:p.y,t:i/n2});}for(i=0;i<n1;i++){for(var j=0;j<n2;j++){var di=dots1[i],di1=dots1[i+1],dj=dots2[j],dj1=dots2[j+1],ci=abs(di1.x-di.x)<.001?\"y\":\"x\",cj=abs(dj1.x-dj.x)<.001?\"y\":\"x\",is=intersect(di.x,di.y,di1.x,di1.y,dj.x,dj.y,dj1.x,dj1.y);if(is){if(xy[is.x.toFixed(4)]==is.y.toFixed(4)){continue;}xy[is.x.toFixed(4)]=is.y.toFixed(4);var t1=di.t+abs((is[ci]-di[ci])/(di1[ci]-di[ci]))*(di1.t-di.t),t2=dj.t+abs((is[cj]-dj[cj])/(dj1[cj]-dj[cj]))*(dj1.t-dj.t);if(t1>=0&&t1<=1&&t2>=0&&t2<=1){if(justCount){res++;}else{res.push({x:is.x,y:is.y,t1:t1,t2:t2});}}}}}return res;}R.pathIntersection=function(path1,path2){return interPathHelper(path1,path2);};R.pathIntersectionNumber=function(path1,path2){return interPathHelper(path1,path2,1);};function interPathHelper(path1,path2,justCount){path1=R._path2curve(path1);path2=R._path2curve(path2);var x1,y1,x2,y2,x1m,y1m,x2m,y2m,bez1,bez2,res=justCount?0:[];for(var i=0,ii=path1.length;i<ii;i++){var pi=path1[i];if(pi[0]==\"M\"){x1=x1m=pi[1];y1=y1m=pi[2];}else{if(pi[0]==\"C\"){bez1=[x1,y1].concat(pi.slice(1));x1=bez1[6];y1=bez1[7];}else{bez1=[x1,y1,x1,y1,x1m,y1m,x1m,y1m];x1=x1m;y1=y1m;}for(var j=0,jj=path2.length;j<jj;j++){var pj=path2[j];if(pj[0]==\"M\"){x2=x2m=pj[1];y2=y2m=pj[2];}else{if(pj[0]==\"C\"){bez2=[x2,y2].concat(pj.slice(1));x2=bez2[6];y2=bez2[7];}else{bez2=[x2,y2,x2,y2,x2m,y2m,x2m,y2m];x2=x2m;y2=y2m;}var intr=interHelper(bez1,bez2,justCount);if(justCount){res+=intr;}else{for(var k=0,kk=intr.length;k<kk;k++){intr[k].segment1=i;intr[k].segment2=j;intr[k].bez1=bez1;intr[k].bez2=bez2;}res=res.concat(intr);}}}}}return res;}R.isPointInsidePath=function(path,x,y){var bbox=R.pathBBox(path);return R.isPointInsideBBox(bbox,x,y)&&interPathHelper(path,[[\"M\",x,y],[\"H\",bbox.x2+10]],1)%2==1;};R._removedFactory=function(methodname){return function(){eve(\"raphael.log\",null,'Rapha\\xEBl: you are calling to method \\u201C'+methodname+'\\u201D of removed object',methodname);};};var pathDimensions=R.pathBBox=function(path){var pth=paths(path);if(pth.bbox){return pth.bbox;}if(!path){return{x:0,y:0,width:0,height:0,x2:0,y2:0};}path=path2curve(path);var x=0,y=0,X=[],Y=[],p;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]==\"M\"){x=p[1];y=p[2];X.push(x);Y.push(y);}else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[concat](dim.min.x,dim.max.x);Y=Y[concat](dim.min.y,dim.max.y);x=p[5];y=p[6];}}var xmin=mmin[apply](0,X),ymin=mmin[apply](0,Y),xmax=mmax[apply](0,X),ymax=mmax[apply](0,Y),bb={x:xmin,y:ymin,x2:xmax,y2:ymax,width:xmax-xmin,height:ymax-ymin};pth.bbox=clone(bb);return bb;},pathClone=function pathClone(pathArray){var res=clone(pathArray);res.toString=R._path2string;return res;},pathToRelative=R._pathToRelative=function(pathArray){var pth=paths(pathArray);if(pth.rel){return pathClone(pth.rel);}if(!R.is(pathArray,array)||!R.is(pathArray&&pathArray[0],array)){pathArray=R.parsePathString(pathArray);}var res=[],x=0,y=0,mx=0,my=0,start=0;if(pathArray[0][0]==\"M\"){x=pathArray[0][1];y=pathArray[0][2];mx=x;my=y;start++;res.push([\"M\",x,y]);}for(var i=start,ii=pathArray.length;i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0])){r[0]=lowerCase.call(pa[0]);switch(r[0]){case\"a\":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]-x).toFixed(3);r[7]=+(pa[7]-y).toFixed(3);break;case\"v\":r[1]=+(pa[1]-y).toFixed(3);break;case\"m\":mx=pa[1];my=pa[2];default:for(var j=1,jj=pa.length;j<jj;j++){r[j]=+(pa[j]-(j%2?x:y)).toFixed(3);}}}else{r=res[i]=[];if(pa[0]==\"m\"){mx=pa[1]+x;my=pa[2]+y;}for(var k=0,kk=pa.length;k<kk;k++){res[i][k]=pa[k];}}var len=res[i].length;switch(res[i][0]){case\"z\":x=mx;y=my;break;case\"h\":x+=+res[i][len-1];break;case\"v\":y+=+res[i][len-1];break;default:x+=+res[i][len-2];y+=+res[i][len-1];}}res.toString=R._path2string;pth.rel=pathClone(res);return res;},pathToAbsolute=R._pathToAbsolute=function(pathArray){var pth=paths(pathArray);if(pth.abs){return pathClone(pth.abs);}if(!R.is(pathArray,array)||!R.is(pathArray&&pathArray[0],array)){pathArray=R.parsePathString(pathArray);}if(!pathArray||!pathArray.length){return[[\"M\",0,0]];}var res=[],x=0,y=0,mx=0,my=0,start=0;if(pathArray[0][0]==\"M\"){x=+pathArray[0][1];y=+pathArray[0][2];mx=x;my=y;start++;res[0]=[\"M\",x,y];}var crz=pathArray.length==3&&pathArray[0][0]==\"M\"&&pathArray[1][0].toUpperCase()==\"R\"&&pathArray[2][0].toUpperCase()==\"Z\";for(var r,pa,i=start,ii=pathArray.length;i<ii;i++){res.push(r=[]);pa=pathArray[i];if(pa[0]!=upperCase.call(pa[0])){r[0]=upperCase.call(pa[0]);switch(r[0]){case\"A\":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]+x);r[7]=+(pa[7]+y);break;case\"V\":r[1]=+pa[1]+y;break;case\"H\":r[1]=+pa[1]+x;break;case\"R\":var dots=[x,y][concat](pa.slice(1));for(var j=2,jj=dots.length;j<jj;j++){dots[j]=+dots[j]+x;dots[++j]=+dots[j]+y;}res.pop();res=res[concat](catmullRom2bezier(dots,crz));break;case\"M\":mx=+pa[1]+x;my=+pa[2]+y;default:for(j=1,jj=pa.length;j<jj;j++){r[j]=+pa[j]+(j%2?x:y);}}}else if(pa[0]==\"R\"){dots=[x,y][concat](pa.slice(1));res.pop();res=res[concat](catmullRom2bezier(dots,crz));r=[\"R\"][concat](pa.slice(-2));}else{for(var k=0,kk=pa.length;k<kk;k++){r[k]=pa[k];}}switch(r[0]){case\"Z\":x=mx;y=my;break;case\"H\":x=r[1];break;case\"V\":y=r[1];break;case\"M\":mx=r[r.length-2];my=r[r.length-1];default:x=r[r.length-2];y=r[r.length-1];}}res.toString=R._path2string;pth.abs=pathClone(res);return res;},l2c=function l2c(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2];},q2c=function q2c(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*y2+_23*ay,x2,y2];},a2c=function a2c(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var _120=PI*120/180,rad=PI/180*(+angle||0),res=[],xy,rotate=cacher(function(x,y,rad){var X=x*math.cos(rad)-y*math.sin(rad),Y=x*math.sin(rad)+y*math.cos(rad);return{x:X,y:Y};});if(!recursive){xy=rotate(x1,y1,-rad);x1=xy.x;y1=xy.y;xy=rotate(x2,y2,-rad);x2=xy.x;y2=xy.y;var cos=math.cos(PI/180*angle),sin=math.sin(PI/180*angle),x=(x1-x2)/2,y=(y1-y2)/2;var h=x*x/(rx*rx)+y*y/(ry*ry);if(h>1){h=math.sqrt(h);rx=h*rx;ry=h*ry;}var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*math.sqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?PI-f1:f1;f2=x2<cx?PI-f2:f2;f1<0&&(f1=PI*2+f1);f2<0&&(f2=PI*2+f2);if(sweep_flag&&f1>f2){f1=f1-PI*2;}if(!sweep_flag&&f2>f1){f2=f2-PI*2;}}else{f1=recursive[0];f2=recursive[1];cx=recursive[2];cy=recursive[3];}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1);x2=cx+rx*math.cos(f2);y2=cy+ry*math.sin(f2);res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy]);}df=f2-f1;var c1=math.cos(f1),s1=math.sin(f1),c2=math.cos(f2),s2=math.sin(f2),t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];m2[0]=2*m1[0]-m2[0];m2[1]=2*m1[1]-m2[1];if(recursive){return[m2,m3,m4][concat](res);}else{res=[m2,m3,m4][concat](res).join()[split](\",\");var newres=[];for(var i=0,ii=res.length;i<ii;i++){newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;}return newres;}},findDotAtSegment=function findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+pow(t1,2)*3*t*c1x+t1*3*t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+pow(t1,2)*3*t*c1y+t1*3*t*t*c2y+pow(t,3)*p2y};},curveDim=cacher(function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x],dot;abs(t1)>\"1e12\"&&(t1=.5);abs(t2)>\"1e12\"&&(t2=.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y);}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y);}a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y);b=2*(c1y-p1y)-2*(c2y-c1y);c=p1y-c1y;t1=(-b+math.sqrt(b*b-4*a*c))/2/a;t2=(-b-math.sqrt(b*b-4*a*c))/2/a;abs(t1)>\"1e12\"&&(t1=.5);abs(t2)>\"1e12\"&&(t2=.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y);}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y);}return{min:{x:mmin[apply](0,x),y:mmin[apply](0,y)},max:{x:mmax[apply](0,x),y:mmax[apply](0,y)}};}),path2curve=R._path2curve=cacher(function(path,path2){var pth=!path2&&paths(path);if(!path2&&pth.curve){return pathClone(pth.curve);}var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function processPath(path,d){var nx,ny;if(!path){return[\"C\",d.x,d.y,d.x,d.y,d.x,d.y];}!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null);switch(path[0]){case\"M\":d.X=path[1];d.Y=path[2];break;case\"A\":path=[\"C\"][concat](a2c[apply](0,[d.x,d.y][concat](path.slice(1))));break;case\"S\":nx=d.x+(d.x-(d.bx||d.x));ny=d.y+(d.y-(d.by||d.y));path=[\"C\",nx,ny][concat](path.slice(1));break;case\"T\":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));path=[\"C\"][concat](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case\"Q\":d.qx=path[1];d.qy=path[2];path=[\"C\"][concat](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case\"L\":path=[\"C\"][concat](l2c(d.x,d.y,path[1],path[2]));break;case\"H\":path=[\"C\"][concat](l2c(d.x,d.y,path[1],d.y));break;case\"V\":path=[\"C\"][concat](l2c(d.x,d.y,d.x,path[1]));break;case\"Z\":path=[\"C\"][concat](l2c(d.x,d.y,d.X,d.Y));break;}return path;},fixArc=function fixArc(pp,i){if(pp[i].length>7){pp[i].shift();var pi=pp[i];while(pi.length){pp.splice(i++,0,[\"C\"][concat](pi.splice(0,6)));}pp.splice(i,1);ii=mmax(p.length,p2&&p2.length||0);}},fixM=function fixM(path1,path2,a1,a2,i){if(path1&&path2&&path1[i][0]==\"M\"&&path2[i][0]!=\"M\"){path2.splice(i,0,[\"M\",a2.x,a2.y]);a1.bx=0;a1.by=0;a1.x=path1[i][1];a1.y=path1[i][2];ii=mmax(p.length,p2&&p2.length||0);}};for(var i=0,ii=mmax(p.length,p2&&p2.length||0);i<ii;i++){p[i]=processPath(p[i],attrs);fixArc(p,i);p2&&(p2[i]=processPath(p2[i],attrs2));p2&&fixArc(p2,i);fixM(p,p2,attrs,attrs2,i);fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2];attrs.y=seg[seglen-1];attrs.bx=toFloat(seg[seglen-4])||attrs.x;attrs.by=toFloat(seg[seglen-3])||attrs.y;attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x);attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y);attrs2.x=p2&&seg2[seg2len-2];attrs2.y=p2&&seg2[seg2len-1];}if(!p2){pth.curve=pathClone(p);}return p2?[p,p2]:p;},null,pathClone),parseDots=R._parseDots=cacher(function(gradient){var dots=[];for(var i=0,ii=gradient.length;i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\\d\\.]*)/);dot.color=R.getRGB(par[1]);if(dot.color.error){return null;}dot.color=dot.color.hex;par[2]&&(dot.offset=par[2]+\"%\");dots.push(dot);}for(i=1,ii=dots.length-1;i<ii;i++){if(!dots[i].offset){var start=toFloat(dots[i-1].offset||0),end=0;for(var j=i+1;j<ii;j++){if(dots[j].offset){end=dots[j].offset;break;}}if(!end){end=100;j=ii;}end=toFloat(end);var d=(end-start)/(j-i+1);for(;i<j;i++){start+=d;dots[i].offset=start+\"%\";}}}return dots;}),tear=R._tear=function(el,paper){el==paper.top&&(paper.top=el.prev);el==paper.bottom&&(paper.bottom=el.next);el.next&&(el.next.prev=el.prev);el.prev&&(el.prev.next=el.next);},tofront=R._tofront=function(el,paper){if(paper.top===el){return;}tear(el,paper);el.next=null;el.prev=paper.top;paper.top.next=el;paper.top=el;},toback=R._toback=function(el,paper){if(paper.bottom===el){return;}tear(el,paper);el.next=paper.bottom;el.prev=null;paper.bottom.prev=el;paper.bottom=el;},insertafter=R._insertafter=function(el,el2,paper){tear(el,paper);el2==paper.top&&(paper.top=el);el2.next&&(el2.next.prev=el);el.next=el2.next;el.prev=el2;el2.next=el;},insertbefore=R._insertbefore=function(el,el2,paper){tear(el,paper);el2==paper.bottom&&(paper.bottom=el);el2.prev&&(el2.prev.next=el);el.prev=el2.prev;el2.prev=el;el.next=el2;},toMatrix=R.toMatrix=function(path,transform){var bb=pathDimensions(path),el={_:{transform:E},getBBox:function getBBox(){return bb;}};extractTransform(el,transform);return el.matrix;},transformPath=R.transformPath=function(path,transform){return mapPath(path,toMatrix(path,transform));},extractTransform=R._extractTransform=function(el,tstr){if(tstr==null){return el._.transform;}tstr=Str(tstr).replace(/\\.{3}|\\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix();_.transform=tdata||[];if(tdata){for(var i=0,ii=tdata.length;i<ii;i++){var t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0,x1,y1,x2,y2,bb;if(command==\"t\"&&tlen==3){if(absolute){x1=inver.x(0,0);y1=inver.y(0,0);x2=inver.x(t[1],t[2]);y2=inver.y(t[1],t[2]);m.translate(x2-x1,y2-y1);}else{m.translate(t[1],t[2]);}}else if(command==\"r\"){if(tlen==2){bb=bb||el.getBBox(1);m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2);deg+=t[1];}else if(tlen==4){if(absolute){x2=inver.x(t[2],t[3]);y2=inver.y(t[2],t[3]);m.rotate(t[1],x2,y2);}else{m.rotate(t[1],t[2],t[3]);}deg+=t[1];}}else if(command==\"s\"){if(tlen==2||tlen==3){bb=bb||el.getBBox(1);m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2);sx*=t[1];sy*=t[tlen-1];}else if(tlen==5){if(absolute){x2=inver.x(t[3],t[4]);y2=inver.y(t[3],t[4]);m.scale(t[1],t[2],x2,y2);}else{m.scale(t[1],t[2],t[3],t[4]);}sx*=t[1];sy*=t[2];}}else if(command==\"m\"&&tlen==7){m.add(t[1],t[2],t[3],t[4],t[5],t[6]);}_.dirtyT=1;el.matrix=m;}}el.matrix=m;_.sx=sx;_.sy=sy;_.deg=deg;_.dx=dx=m.e;_.dy=dy=m.f;if(sx==1&&sy==1&&!deg&&_.bbox){_.bbox.x+=+dx;_.bbox.y+=+dy;}else{_.dirtyT=1;}},getEmpty=function getEmpty(item){var l=item[0];switch(l.toLowerCase()){case\"t\":return[l,0,0];case\"m\":return[l,1,0,0,1,0,0];case\"r\":if(item.length==4){return[l,0,item[2],item[3]];}else{return[l,0];}case\"s\":if(item.length==5){return[l,1,1,item[3],item[4]];}else if(item.length==3){return[l,1,1];}else{return[l,1];}}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\\.{3}|\\u2026/g,t1);t1=R.parseTransformString(t1)||[];t2=R.parseTransformString(t2)||[];var maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0,j,jj,tt1,tt2;for(;i<maxlength;i++){tt1=t1[i]||getEmpty(t2[i]);tt2=t2[i]||getEmpty(tt1);if(tt1[0]!=tt2[0]||tt1[0].toLowerCase()==\"r\"&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||tt1[0].toLowerCase()==\"s\"&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4])){return;}from[i]=[];to[i]=[];for(j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++){j in tt1&&(from[i][j]=tt1[j]);j in tt2&&(to[i][j]=tt2[j]);}}return{from:from,to:to};};R._getContainer=function(x,y,w,h){var container;container=h==null&&!R.is(x,\"object\")?g.doc.getElementById(x):x;if(container==null){return;}if(container.tagName){if(y==null){return{container:container,width:container.style.pixelWidth||container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight};}else{return{container:container,width:y,height:w};}}return{container:1,x:x,y:y,width:w,height:h};};R.pathToRelative=pathToRelative;R._engine={};R.path2curve=path2curve;R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f);};function Matrix(a,b,c,d,e,f){if(a!=null){this.a=+a;this.b=+b;this.c=+c;this.d=+d;this.e=+e;this.f=+f;}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0;}}(function(matrixproto){matrixproto.add=function(a,b,c,d,e,f){var out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]],x,y,z,res;if(a&&a instanceof Matrix){matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]];}for(x=0;x<3;x++){for(y=0;y<3;y++){res=0;for(z=0;z<3;z++){res+=m[x][z]*matrix[z][y];}out[x][y]=res;}}this.a=out[0][0];this.b=out[1][0];this.c=out[0][1];this.d=out[1][1];this.e=out[0][2];this.f=out[1][2];};matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x);};matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f);};matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y);};matrixproto.scale=function(x,y,cx,cy){y==null&&(y=x);(cx||cy)&&this.add(1,0,0,1,cx,cy);this.add(x,0,0,y,0,0);(cx||cy)&&this.add(1,0,0,1,-cx,-cy);};matrixproto.rotate=function(a,x,y){a=R.rad(a);x=x||0;y=y||0;var cos=+math.cos(a).toFixed(9),sin=+math.sin(a).toFixed(9);this.add(cos,sin,-sin,cos,x,y);this.add(1,0,0,1,-x,-y);};matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e;};matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f;};matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4);};matrixproto.toString=function(){return R.svg?\"matrix(\"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+\")\":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join();};matrixproto.toFilter=function(){return\"progid:DXImageTransform.Microsoft.Matrix(M11=\"+this.get(0)+\", M12=\"+this.get(2)+\", M21=\"+this.get(1)+\", M22=\"+this.get(3)+\", Dx=\"+this.get(4)+\", Dy=\"+this.get(5)+\", sizingmethod='auto expand')\";};matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)];};function norm(a){return a[0]*a[0]+a[1]*a[1];}function normalize(a){var mag=math.sqrt(norm(a));a[0]&&(a[0]/=mag);a[1]&&(a[1]/=mag);}matrixproto.split=function(){var out={};out.dx=this.e;out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=math.sqrt(norm(row[0]));normalize(row[0]);out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1];row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear];out.scaley=math.sqrt(norm(row[1]));normalize(row[1]);out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1];if(cos<0){out.rotate=R.deg(math.acos(cos));if(sin<0){out.rotate=360-out.rotate;}}else{out.rotate=R.deg(math.asin(sin));}out.isSimple=!+out.shear.toFixed(9)&&(out.scalex.toFixed(9)==out.scaley.toFixed(9)||!out.rotate);out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)==out.scaley.toFixed(9)&&!out.rotate;out.noRotation=!+out.shear.toFixed(9)&&!out.rotate;return out;};matrixproto.toTransformString=function(shorter){var s=shorter||this[split]();if(s.isSimple){s.scalex=+s.scalex.toFixed(4);s.scaley=+s.scaley.toFixed(4);s.rotate=+s.rotate.toFixed(4);return(s.dx||s.dy?\"t\"+[s.dx,s.dy]:E)+(s.scalex!=1||s.scaley!=1?\"s\"+[s.scalex,s.scaley,0,0]:E)+(s.rotate?\"r\"+[s.rotate,0,0]:E);}else{return\"m\"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];}};})(Matrix.prototype);var version=navigator.userAgent.match(/Version\\/(.*?)\\s/)||navigator.userAgent.match(/Chrome\\/(\\d+)/);if(navigator.vendor==\"Apple Computer, Inc.\"&&(version&&version[1]<4||navigator.platform.slice(0,2)==\"iP\")||navigator.vendor==\"Google Inc.\"&&version&&version[1]<8){paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:\"none\"});setTimeout(function(){rect.remove();});};}else{paperproto.safari=fun;}var preventDefault=function preventDefault(){this.returnValue=false;},preventTouch=function preventTouch(){return this.originalEvent.preventDefault();},stopPropagation=function stopPropagation(){this.cancelBubble=true;},stopTouch=function stopTouch(){return this.originalEvent.stopPropagation();},addEvent=function(){if(g.doc.addEventListener){return function(obj,type,fn,element){var realName=supportsTouch&&touchMap[type]?touchMap[type]:type,f=function f(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;if(supportsTouch&&touchMap[has](type)){for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++){if(e.targetTouches[i].target==obj){var olde=e;e=e.targetTouches[i];e.originalEvent=olde;e.preventDefault=preventTouch;e.stopPropagation=stopTouch;break;}}}return fn.call(element,e,x,y);};obj.addEventListener(realName,f,false);return function(){obj.removeEventListener(realName,f,false);return true;};};}else if(g.doc.attachEvent){return function(obj,type,fn,element){var f=function f(e){e=e||g.win.event;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;e.preventDefault=e.preventDefault||preventDefault;e.stopPropagation=e.stopPropagation||stopPropagation;return fn.call(element,e,x,y);};obj.attachEvent(\"on\"+type,f);var detacher=function detacher(){obj.detachEvent(\"on\"+type,f);return true;};return detacher;};}}(),drag=[],dragMove=function dragMove(e){var x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,dragi,j=drag.length;while(j--){dragi=drag[j];if(supportsTouch){var i=e.touches.length,touch;while(i--){touch=e.touches[i];if(touch.identifier==dragi.el._drag.id){x=touch.clientX;y=touch.clientY;(e.originalEvent?e.originalEvent:e).preventDefault();break;}}}else{e.preventDefault();}var node=dragi.el.node,o,next=node.nextSibling,parent=node.parentNode,display=node.style.display;g.win.opera&&parent.removeChild(node);node.style.display=\"none\";o=dragi.el.paper.getElementByPoint(x,y);node.style.display=display;g.win.opera&&(next?parent.insertBefore(node,next):parent.appendChild(node));o&&eve(\"raphael.drag.over.\"+dragi.el.id,dragi.el,o);x+=scrollX;y+=scrollY;eve(\"raphael.drag.move.\"+dragi.el.id,dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e);}},dragUp=function dragUp(e){R.unmousemove(dragMove).unmouseup(dragUp);var i=drag.length,dragi;while(i--){dragi=drag[i];dragi.el._drag={};eve(\"raphael.drag.end.\"+dragi.el.id,dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e);}drag=[];},elproto=R.el={};for(var i=events.length;i--;){(function(eventName){R[eventName]=elproto[eventName]=function(fn,scope){if(R.is(fn,\"function\")){this.events=this.events||[];this.events.push({name:eventName,f:fn,unbind:addEvent(this.shape||this.node||g.doc,eventName,fn,scope||this)});}return this;};R[\"un\"+eventName]=elproto[\"un\"+eventName]=function(fn){var events=this.events||[],l=events.length;while(l--){if(events[l].name==eventName&&events[l].f==fn){events[l].unbind();events.splice(l,1);!events.length&&delete this.events;return this;}}return this;};})(events[i]);}elproto.data=function(key,value){var data=eldata[this.id]=eldata[this.id]||{};if(arguments.length==1){if(R.is(key,\"object\")){for(var i in key){if(key[has](i)){this.data(i,key[i]);}}return this;}eve(\"raphael.data.get.\"+this.id,this,data[key],key);return data[key];}data[key]=value;eve(\"raphael.data.set.\"+this.id,this,value,key);return this;};elproto.removeData=function(key){if(key==null){eldata[this.id]={};}else{eldata[this.id]&&delete eldata[this.id][key];}return this;};elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,scope_in).mouseout(f_out,scope_out||scope_in);};elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out);};var draggable=[];elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){function start(e){(e.originalEvent||e).preventDefault();var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;this._drag.x=e.clientX+scrollX;this._drag.y=e.clientY+scrollY;this._drag.id=e.identifier;!drag.length&&R.mousemove(dragMove).mouseup(dragUp);drag.push({el:this,move_scope:move_scope,start_scope:start_scope,end_scope:end_scope});onstart&&eve.on(\"raphael.drag.start.\"+this.id,onstart);onmove&&eve.on(\"raphael.drag.move.\"+this.id,onmove);onend&&eve.on(\"raphael.drag.end.\"+this.id,onend);eve(\"raphael.drag.start.\"+this.id,start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e);}this._drag={};draggable.push({el:this,start:start});this.mousedown(start);return this;};elproto.onDragOver=function(f){f?eve.on(\"raphael.drag.over.\"+this.id,f):eve.unbind(\"raphael.drag.over.\"+this.id);};elproto.undrag=function(){var i=draggable.length;while(i--){if(draggable[i].el==this){this.unmousedown(draggable[i].start);draggable.splice(i,1);eve.unbind(\"raphael.drag.*.\"+this.id);}}!draggable.length&&R.unmousemove(dragMove).unmouseup(dragUp);};paperproto.circle=function(x,y,r){var out=R._engine.circle(this,x||0,y||0,r||0);this.__set__&&this.__set__.push(out);return out;};paperproto.rect=function(x,y,w,h,r){var out=R._engine.rect(this,x||0,y||0,w||0,h||0,r||0);this.__set__&&this.__set__.push(out);return out;};paperproto.ellipse=function(x,y,rx,ry){var out=R._engine.ellipse(this,x||0,y||0,rx||0,ry||0);this.__set__&&this.__set__.push(out);return out;};paperproto.path=function(pathString){pathString&&!R.is(pathString,string)&&!R.is(pathString[0],array)&&(pathString+=E);var out=R._engine.path(R.format[apply](R,arguments),this);this.__set__&&this.__set__.push(out);return out;};paperproto.image=function(src,x,y,w,h){var out=R._engine.image(this,src||\"about:blank\",x||0,y||0,w||0,h||0);this.__set__&&this.__set__.push(out);return out;};paperproto.text=function(x,y,text){var out=R._engine.text(this,x||0,y||0,Str(text));this.__set__&&this.__set__.push(out);return out;};paperproto.set=function(itemsArray){!R.is(itemsArray,\"array\")&&(itemsArray=Array.prototype.splice.call(arguments,0,arguments.length));var out=new Set(itemsArray);this.__set__&&this.__set__.push(out);return out;};paperproto.setStart=function(set){this.__set__=set||this.set();};paperproto.setFinish=function(set){var out=this.__set__;delete this.__set__;return out;};paperproto.setSize=function(width,height){return R._engine.setSize.call(this,width,height);};paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit);};paperproto.top=paperproto.bottom=null;paperproto.raphael=R;var getOffset=function getOffset(elem){var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(g.win.pageYOffset||docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(g.win.pageXOffset||docElem.scrollLeft||body.scrollLeft)-clientLeft;return{y:top,x:left};};paperproto.getElementByPoint=function(x,y){var paper=this,svg=paper.canvas,target=g.doc.elementFromPoint(x,y);if(g.win.opera&&target.tagName==\"svg\"){var so=getOffset(svg),sr=svg.createSVGRect();sr.x=x-so.x;sr.y=y-so.y;sr.width=sr.height=1;var hits=svg.getIntersectionList(sr,null);if(hits.length){target=hits[hits.length-1];}}if(!target){return null;}while(target.parentNode&&target!=svg.parentNode&&!target.raphael){target=target.parentNode;}target==paper.canvas.parentNode&&(target=svg);target=target&&target.raphael?paper.getById(target.raphaelid):null;return target;};paperproto.getById=function(id){var bot=this.bottom;while(bot){if(bot.id==id){return bot;}bot=bot.next;}return null;};paperproto.forEach=function(callback,thisArg){var bot=this.bottom;while(bot){if(callback.call(thisArg,bot)===false){return this;}bot=bot.next;}return this;};paperproto.getElementsByPoint=function(x,y){var set=this.set();this.forEach(function(el){if(el.isPointInside(x,y)){set.push(el);}});return set;};function x_y(){return this.x+S+this.y;}function x_y_w_h(){return this.x+S+this.y+S+this.width+\" \\xd7 \"+this.height;}elproto.isPointInside=function(x,y){var rp=this.realPath=this.realPath||getPath[this.type](this);return R.isPointInsidePath(rp,x,y);};elproto.getBBox=function(isWithoutTransform){if(this.removed){return{};}var _=this._;if(isWithoutTransform){if(_.dirty||!_.bboxwt){this.realPath=getPath[this.type](this);_.bboxwt=pathDimensions(this.realPath);_.bboxwt.toString=x_y_w_h;_.dirty=0;}return _.bboxwt;}if(_.dirty||_.dirtyT||!_.bbox){if(_.dirty||!this.realPath){_.bboxwt=0;this.realPath=getPath[this.type](this);}_.bbox=pathDimensions(mapPath(this.realPath,this.matrix));_.bbox.toString=x_y_w_h;_.dirty=_.dirtyT=0;}return _.bbox;};elproto.clone=function(){if(this.removed){return null;}var out=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(out);return out;};elproto.glow=function(glow){if(this.type==\"text\"){return null;}glow=glow||{};var s={width:(glow.width||10)+(+this.attr(\"stroke-width\")||1),fill:glow.fill||false,opacity:glow.opacity||.5,offsetx:glow.offsetx||0,offsety:glow.offsety||0,color:glow.color||\"#000\"},c=s.width/2,r=this.paper,out=r.set(),path=this.realPath||getPath[this.type](this);path=this.matrix?mapPath(path,this.matrix):path;for(var i=1;i<c+1;i++){out.push(r.path(path).attr({stroke:s.color,fill:s.fill?s.color:\"none\",\"stroke-linejoin\":\"round\",\"stroke-linecap\":\"round\",\"stroke-width\":+(s.width/c*i).toFixed(3),opacity:+(s.opacity/c).toFixed(3)}));}return out.insertBefore(this).translate(s.offsetx,s.offsety);};var curveslengths={},getPointAtSegmentLength=function getPointAtSegmentLength(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){if(length==null){return bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y);}else{return R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length));}},getLengthFactory=function getLengthFactory(istotal,subpath){return function(path,length,onlystart){path=path2curve(path);var x,y,p,l,sp=\"\",subpaths={},point,len=0;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]==\"M\"){x=+p[1];y=+p[2];}else{l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);if(len+l>length){if(subpath&&!subpaths.start){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);sp+=[\"C\"+point.start.x,point.start.y,point.m.x,point.m.y,point.x,point.y];if(onlystart){return sp;}subpaths.start=sp;sp=[\"M\"+point.x,point.y+\"C\"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join();len+=l;x=+p[5];y=+p[6];continue;}if(!istotal&&!subpath){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);return{x:point.x,y:point.y,alpha:point.alpha};}}len+=l;x=+p[5];y=+p[6];}sp+=p.shift()+p;}subpaths.end=sp;point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1);point.alpha&&(point={x:point.x,y:point.y,alpha:point.alpha});return point;};};var getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength;R.getPointAtLength=getPointAtLength;R.getSubpath=function(path,from,to){if(this.getTotalLength(path)-to<1e-6){return getSubpathsAtLength(path,from).end;}var a=getSubpathsAtLength(path,to,1);return from?getSubpathsAtLength(a,from).end:a;};elproto.getTotalLength=function(){if(this.type!=\"path\"){return;}if(this.node.getTotalLength){return this.node.getTotalLength();}return getTotalLength(this.attrs.path);};elproto.getPointAtLength=function(length){if(this.type!=\"path\"){return;}return getPointAtLength(this.attrs.path,length);};elproto.getSubpath=function(from,to){if(this.type!=\"path\"){return;}return R.getSubpath(this.attrs.path,from,to);};var ef=R.easing_formulas={linear:function linear(n){return n;},\"<\":function _(n){return pow(n,1.7);},\">\":function _(n){return pow(n,.48);},\"<>\":function _(n){var q=.48-n/1.04,Q=math.sqrt(.1734+q*q),x=Q-q,X=pow(abs(x),1/3)*(x<0?-1:1),y=-Q-q,Y=pow(abs(y),1/3)*(y<0?-1:1),t=X+Y+.5;return(1-t)*3*t*t+t*t*t;},backIn:function backIn(n){var s=1.70158;return n*n*((s+1)*n-s);},backOut:function backOut(n){n=n-1;var s=1.70158;return n*n*((s+1)*n+s)+1;},elastic:function elastic(n){if(n==!!n){return n;}return pow(2,-10*n)*math.sin((n-.075)*(2*PI)/.3)+1;},bounce:function bounce(n){var s=7.5625,p=2.75,l;if(n<1/p){l=s*n*n;}else{if(n<2/p){n-=1.5/p;l=s*n*n+.75;}else{if(n<2.5/p){n-=2.25/p;l=s*n*n+.9375;}else{n-=2.625/p;l=s*n*n+.984375;}}}return l;}};ef.easeIn=ef[\"ease-in\"]=ef[\"<\"];ef.easeOut=ef[\"ease-out\"]=ef[\">\"];ef.easeInOut=ef[\"ease-in-out\"]=ef[\"<>\"];ef[\"back-in\"]=ef.backIn;ef[\"back-out\"]=ef.backOut;var animationElements=[],requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,16);},animation=function animation(){var Now=+new Date(),l=0;for(;l<animationElements.length;l++){var e=animationElements[l];if(e.el.removed||e.paused){continue;}var time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,t=e.t,that=e.el,set={},now,init={},key;if(e.initstatus){time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms;e.status=e.initstatus;delete e.initstatus;e.stop&&animationElements.splice(l--,1);}else{e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top;}if(time<0){continue;}if(time<ms){var pos=easing(time/ms);for(var attr in from){if(from[has](attr)){switch(availableAnimAttrs[attr]){case nu:now=+from[attr]+pos*ms*diff[attr];break;case\"colour\":now=\"rgb(\"+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b))].join(\",\")+\")\";break;case\"path\":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(var j=1,jj=from[attr][i].length;j<jj;j++){now[i][j]=+from[attr][i][j]+pos*ms*diff[attr][i][j];}now[i]=now[i].join(S);}now=now.join(S);break;case\"transform\":if(diff[attr].real){now=[];for(i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(j=1,jj=from[attr][i].length;j<jj;j++){now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j];}}}else{var get=function get(i){return+from[attr][i]+pos*ms*diff[attr][i];};now=[[\"m\",get(0),get(1),get(2),get(3),get(4),get(5)]];}break;case\"csv\":if(attr==\"clip-rect\"){now=[];i=4;while(i--){now[i]=+from[attr][i]+pos*ms*diff[attr][i];}}break;default:var from2=[][concat](from[attr]);now=[];i=that.paper.customAttributes[attr].length;while(i--){now[i]=+from2[i]+pos*ms*diff[attr][i];}break;}set[attr]=now;}}that.attr(set);(function(id,that,anim){setTimeout(function(){eve(\"raphael.anim.frame.\"+id,that,anim);});})(that.id,that,e.anim);}else{(function(f,el,a){setTimeout(function(){eve(\"raphael.anim.frame.\"+el.id,el,a);eve(\"raphael.anim.finish.\"+el.id,el,a);R.is(f,\"function\")&&f.call(el);});})(e.callback,that,e.anim);that.attr(to);animationElements.splice(l--,1);if(e.repeat>1&&!e.next){for(key in to){if(to[has](key)){init[key]=e.totalOrigin[key];}}e.el.attr(init);runAnimation(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1);}if(e.next&&!e.stop){runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat);}}}R.svg&&that&&that.paper&&that.paper.safari();animationElements.length&&requestAnimFrame(animation);},upto255=function upto255(color){return color>255?255:color<0?0:color;};elproto.animateWith=function(el,anim,params,ms,easing,callback){var element=this;if(element.removed){callback&&callback.call(element);return element;}var a=params instanceof Animation?params:R.animation(params,ms,easing,callback),x,y;runAnimation(a,element,a.percents[0],null,element.attr());for(var i=0,ii=animationElements.length;i<ii;i++){if(animationElements[i].anim==anim&&animationElements[i].el==el){animationElements[ii-1].start=animationElements[i].start;break;}}return element;};function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t;}function solve(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t;}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(abs(x2)<epsilon){return t2;}d2=(3*ax*t2+2*bx)*t2+cx;if(abs(d2)<1e-6){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(abs(x2-x)<epsilon){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)/2+t0;}return t2;}return solve(t,1/(200*duration));}elproto.onAnimation=function(f){f?eve.on(\"raphael.anim.frame.\"+this.id,f):eve.unbind(\"raphael.anim.frame.\"+this.id);return this;};function Animation(anim,ms){var percents=[],newAnim={};this.ms=ms;this.times=1;if(anim){for(var attr in anim){if(anim[has](attr)){newAnim[toFloat(attr)]=anim[attr];percents.push(toFloat(attr));}}percents.sort(sortByNumber);}this.anim=newAnim;this.top=percents[percents.length-1];this.percents=percents;}Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);a.times=this.times;a.del=+delay||0;return a;};Animation.prototype.repeat=function(times){var a=new Animation(this.anim,this.ms);a.del=this.del;a.times=math.floor(mmax(times,0))||1;return a;};function runAnimation(anim,element,percent,status,totalOrigin,times){percent=toFloat(percent);var params,isInAnim,isInAnimSet,percents=[],next,prev,timestamp,ms=anim.ms,from={},to={},diff={};if(status){for(i=0,ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id==element.id&&e.anim==anim){if(e.percent!=percent){animationElements.splice(i,1);isInAnimSet=1;}else{isInAnim=e;}element.attr(e.totalOrigin);break;}}}else{status=+to;}for(var i=0,ii=anim.percents.length;i<ii;i++){if(anim.percents[i]==percent||anim.percents[i]>status*anim.top){percent=anim.percents[i];prev=anim.percents[i-1]||0;ms=ms/anim.top*(percent-prev);next=anim.percents[i+1];params=anim.anim[percent];break;}else if(status){element.attr(anim.anim[anim.percents[i]]);}}if(!params){return;}if(!isInAnim){for(var attr in params){if(params[has](attr)){if(availableAnimAttrs[has](attr)||element.paper.customAttributes[has](attr)){from[attr]=element.attr(attr);from[attr]==null&&(from[attr]=availableAttrs[attr]);to[attr]=params[attr];switch(availableAnimAttrs[attr]){case nu:diff[attr]=(to[attr]-from[attr])/ms;break;case\"colour\":from[attr]=R.getRGB(from[attr]);var toColour=R.getRGB(to[attr]);diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-from[attr].b)/ms};break;case\"path\":var pathes=path2curve(from[attr],to[attr]),toPath=pathes[1];from[attr]=pathes[0];diff[attr]=[];for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];for(var j=1,jj=from[attr][i].length;j<jj;j++){diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms;}}break;case\"transform\":var _=element._,eq=equaliseTransform(_[attr],to[attr]);if(eq){from[attr]=eq.from;to[attr]=eq.to;diff[attr]=[];diff[attr].real=true;for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[from[attr][i][0]];for(j=1,jj=from[attr][i].length;j<jj;j++){diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms;}}}else{var m=element.matrix||new Matrix(),to2={_:{transform:_.transform},getBBox:function getBBox(){return element.getBBox(1);}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f];extractTransform(to2,to[attr]);to[attr]=to2._.transform;diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.f-m.f)/ms];}break;case\"csv\":var values=Str(params[attr])[split](separator),from2=Str(from[attr])[split](separator);if(attr==\"clip-rect\"){from[attr]=from2;diff[attr]=[];i=from2.length;while(i--){diff[attr][i]=(values[i]-from[attr][i])/ms;}}to[attr]=values;break;default:values=[][concat](params[attr]);from2=[][concat](from[attr]);diff[attr]=[];i=element.paper.customAttributes[attr].length;while(i--){diff[attr][i]=((values[i]||0)-(from2[i]||0))/ms;}break;}}}}var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy){easyeasy=Str(easing).match(bezierrg);if(easyeasy&&easyeasy.length==5){var curve=easyeasy;easyeasy=function easyeasy(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms);};}else{easyeasy=pipe;}}timestamp=params.start||anim.start||+new Date();e={anim:anim,percent:percent,timestamp:timestamp,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:false,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin};animationElements.push(e);if(status&&!isInAnim&&!isInAnimSet){e.stop=true;e.start=new Date()-ms*status;if(animationElements.length==1){return animation();}}if(isInAnimSet){e.start=new Date()-e.ms*status;}animationElements.length==1&&requestAnimFrame(animation);}else{isInAnim.initstatus=status;isInAnim.start=new Date()-isInAnim.ms*status;}eve(\"raphael.anim.start.\"+element.id,element,anim);}R.animation=function(params,ms,easing,callback){if(params instanceof Animation){return params;}if(R.is(easing,\"function\")||!easing){callback=callback||easing||null;easing=null;}params=Object(params);ms=+ms||0;var p={},json,attr;for(attr in params){if(params[has](attr)&&toFloat(attr)!=attr&&toFloat(attr)+\"%\"!=attr){json=true;p[attr]=params[attr];}}if(!json){return new Animation(params,ms);}else{easing&&(p.easing=easing);callback&&(p.callback=callback);return new Animation({100:p},ms);}};elproto.animate=function(params,ms,easing,callback){var element=this;if(element.removed){callback&&callback.call(element);return element;}var anim=params instanceof Animation?params:R.animation(params,ms,easing,callback);runAnimation(anim,element,anim.percents[0],null,element.attr());return element;};elproto.setTime=function(anim,value){if(anim&&value!=null){this.status(anim,mmin(value,anim.ms)/anim.ms);}return this;};elproto.status=function(anim,value){var out=[],i=0,len,e;if(value!=null){runAnimation(anim,this,-1,mmin(value,1));return this;}else{len=animationElements.length;for(;i<len;i++){e=animationElements[i];if(e.el.id==this.id&&(!anim||e.anim==anim)){if(anim){return e.status;}out.push({anim:e.anim,status:e.status});}}if(anim){return 0;}return out;}};elproto.pause=function(anim){for(var i=0;i<animationElements.length;i++){if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){if(eve(\"raphael.anim.pause.\"+this.id,this,animationElements[i].anim)!==false){animationElements[i].paused=true;}}}return this;};elproto.resume=function(anim){for(var i=0;i<animationElements.length;i++){if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){var e=animationElements[i];if(eve(\"raphael.anim.resume.\"+this.id,this,e.anim)!==false){delete e.paused;this.status(e.anim,e.status);}}}return this;};elproto.stop=function(anim){for(var i=0;i<animationElements.length;i++){if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){if(eve(\"raphael.anim.stop.\"+this.id,this,animationElements[i].anim)!==false){animationElements.splice(i--,1);}}}return this;};function stopAnimation(paper){for(var i=0;i<animationElements.length;i++){if(animationElements[i].el.paper==paper){animationElements.splice(i--,1);}}}eve.on(\"raphael.remove\",stopAnimation);eve.on(\"raphael.clear\",stopAnimation);elproto.toString=function(){return'Rapha\\xEBl\\u2019s object';};var Set=function Set(items){this.items=[];this.length=0;this.type=\"set\";if(items){for(var i=0,ii=items.length;i<ii;i++){if(items[i]&&(items[i].constructor==elproto.constructor||items[i].constructor==Set)){this[this.items.length]=this.items[this.items.length]=items[i];this.length++;}}}},setproto=Set.prototype;setproto.push=function(){var item,len;for(var i=0,ii=arguments.length;i<ii;i++){item=arguments[i];if(item&&(item.constructor==elproto.constructor||item.constructor==Set)){len=this.items.length;this[len]=this.items[len]=item;this.length++;}}return this;};setproto.pop=function(){this.length&&delete this[this.length--];return this.items.pop();};setproto.forEach=function(callback,thisArg){for(var i=0,ii=this.items.length;i<ii;i++){if(callback.call(thisArg,this.items[i],i)===false){return this;}}return this;};for(var method in elproto){if(elproto[has](method)){setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname][apply](el,arg);});};}(method);}}setproto.attr=function(name,value){if(name&&R.is(name,array)&&R.is(name[0],\"object\")){for(var j=0,jj=name.length;j<jj;j++){this.items[j].attr(name[j]);}}else{for(var i=0,ii=this.items.length;i<ii;i++){this.items[i].attr(name,value);}}return this;};setproto.clear=function(){while(this.length){this.pop();}};setproto.splice=function(index,count,insertion){index=index<0?mmax(this.length+index,0):index;count=mmax(0,mmin(this.length-index,count));var tail=[],todel=[],args=[],i;for(i=2;i<arguments.length;i++){args.push(arguments[i]);}for(i=0;i<count;i++){todel.push(this[index+i]);}for(;i<this.length-index;i++){tail.push(this[index+i]);}var arglen=args.length;for(i=0;i<arglen+tail.length;i++){this.items[index+i]=this[index+i]=i<arglen?args[i]:tail[i-arglen];}i=this.items.length=this.length-=count-arglen;while(this[i]){delete this[i++];}return new Set(todel);};setproto.exclude=function(el){for(var i=0,ii=this.length;i<ii;i++){if(this[i]==el){this.splice(i,1);return true;}}};setproto.animate=function(params,ms,easing,callback){(R.is(easing,\"function\")||!easing)&&(callback=easing||null);var len=this.items.length,i=len,item,set=this,collector;if(!len){return this;}callback&&(collector=function collector(){! --len&&callback.call(set);});easing=R.is(easing,string)?easing:collector;var anim=R.animation(params,ms,easing,collector);item=this.items[--i].animate(anim);while(i--){this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,anim,anim);}return this;};setproto.insertAfter=function(el){var i=this.items.length;while(i--){this.items[i].insertAfter(el);}return this;};setproto.getBBox=function(){var x=[],y=[],x2=[],y2=[];for(var i=this.items.length;i--;){if(!this.items[i].removed){var box=this.items[i].getBBox();x.push(box.x);y.push(box.y);x2.push(box.x+box.width);y2.push(box.y+box.height);}}x=mmin[apply](0,x);y=mmin[apply](0,y);x2=mmax[apply](0,x2);y2=mmax[apply](0,y2);return{x:x,y:y,x2:x2,y2:y2,width:x2-x,height:y2-y};};setproto.clone=function(s){s=new Set();for(var i=0,ii=this.items.length;i<ii;i++){s.push(this.items[i].clone());}return s;};setproto.toString=function(){return'Rapha\\xEBl\\u2018s set';};R.registerFont=function(font){if(!font.face){return font;}this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face[\"font-family\"];for(var prop in font.face){if(font.face[has](prop)){fontcopy.face[prop]=font.face[prop];}}if(this.fonts[family]){this.fonts[family].push(fontcopy);}else{this.fonts[family]=[fontcopy];}if(!font.svg){fontcopy.face[\"units-per-em\"]=toInt(font.face[\"units-per-em\"],10);for(var glyph in font.glyphs){if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&\"M\"+path.d.replace(/[mlcxtrv]/g,function(command){return{l:\"L\",c:\"C\",x:\"z\",t:\"m\",r:\"l\",v:\"c\"}[command]||\"M\";})+\"z\"};if(path.k){for(var k in path.k){if(path[has](k)){fontcopy.glyphs[glyph].k[k]=path.k[k];}}}}}}return font;};paperproto.getFont=function(family,weight,style,stretch){stretch=stretch||\"normal\";style=style||\"normal\";weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400;if(!R.fonts){return;}var font=R.fonts[family];if(!font){var name=new RegExp(\"(^|\\\\s)\"+family.replace(/[^\\w\\d\\s+!~.:_-]/g,E)+\"(\\\\s|$)\",\"i\");for(var fontName in R.fonts){if(R.fonts[has](fontName)){if(name.test(fontName)){font=R.fonts[fontName];break;}}}}var thefont;if(font){for(var i=0,ii=font.length;i<ii;i++){thefont=font[i];if(thefont.face[\"font-weight\"]==weight&&(thefont.face[\"font-style\"]==style||!thefont.face[\"font-style\"])&&thefont.face[\"font-stretch\"]==stretch){break;}}}return thefont;};paperproto.print=function(x,y,string,font,size,origin,letter_spacing){origin=origin||\"middle\";letter_spacing=mmax(mmin(letter_spacing||0,1),-1);var letters=Str(string)[split](E),shift=0,notfirst=0,path=E,scale;R.is(font,string)&&(font=this.getFont(font));if(font){scale=(size||16)/font.face[\"units-per-em\"];var bb=font.face.bbox[split](separator),top=+bb[0],lineHeight=bb[3]-bb[1],shifty=0,height=+bb[1]+(origin==\"baseline\"?lineHeight+ +font.face.descent:lineHeight/2);for(var i=0,ii=letters.length;i<ii;i++){if(letters[i]==\"\\n\"){shift=0;curr=0;notfirst=0;shifty+=lineHeight;}else{var prev=notfirst&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=notfirst?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letter_spacing:0;notfirst=1;}if(curr&&curr.d){path+=R.transformPath(curr.d,[\"t\",shift*scale,shifty*scale,\"s\",scale,scale,top,height,\"t\",(x-top)/scale,(y-height)/scale]);}}}return this.path(path).attr({fill:\"#000\",stroke:\"none\"});};paperproto.add=function(json){if(R.is(json,\"array\")){var res=this.set(),i=0,ii=json.length,j;for(;i<ii;i++){j=json[i]||{};elements[has](j.type)&&res.push(this[j.type]().attr(j));}}return res;};R.format=function(token,params){var args=R.is(params,array)?[0][concat](params):arguments;token&&R.is(token,string)&&args.length-1&&(token=token.replace(formatrg,function(str,i){return args[++i]==null?E:args[i];}));return token||E;};R.fullfill=function(){var tokenRegex=/\\{([^\\}]+)\\}/g,objNotationRegex=/(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g,replacer=function replacer(all,key,obj){var res=obj;key.replace(objNotationRegex,function(all,name,quote,quotedName,isFunc){name=name||quotedName;if(res){if(name in res){res=res[name];}typeof res==\"function\"&&isFunc&&(res=res());}});res=(res==null||res==obj?all:res)+\"\";return res;};return function(str,obj){return String(str).replace(tokenRegex,function(all,key){return replacer(all,key,obj);});};}();R.ninja=function(){return R;};R.st=setproto;(function(doc,loaded,_f){if(doc.readyState==null&&doc.addEventListener){doc.addEventListener(loaded,_f=function f(){doc.removeEventListener(loaded,_f,false);doc.readyState=\"complete\";},false);doc.readyState=\"loading\";}function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve(\"raphael.DOMload\");}isLoaded();})(document,\"DOMContentLoaded\");oldRaphael.was?g.win.Raphael=R:global.Raphael=R;eve.on(\"raphael.DOMload\",function(){loaded=true;});})();window.Raphael.svg&&function(R){var has=\"hasOwnProperty\",Str=String,toFloat=parseFloat,toInt=parseInt,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,separator=/[, ]+/,eve=R.eve,E=\"\",S=\" \";var xlink=\"http://www.w3.org/1999/xlink\",markers={block:\"M5,0 0,2.5 5,5z\",classic:\"M5,0 0,2.5 5,5 3.5,3 3.5,2z\",diamond:\"M2.5,0 5,2.5 2.5,5 0,2.5z\",open:\"M6,1 1,3.5 6,6\",oval:\"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\"},markerCounter={};R.toString=function(){return\"Your browser supports SVG.\\nYou are running Rapha\\xebl \"+this.version;};var $=function $(el,attr){if(attr){if(typeof el==\"string\"){el=$(el);}for(var key in attr){if(attr[has](key)){if(key.substring(0,6)==\"xlink:\"){el.setAttributeNS(xlink,key.substring(6),Str(attr[key]));}else{el.setAttribute(key,Str(attr[key]));}}}}else{el=R._g.doc.createElementNS(\"http://www.w3.org/2000/svg\",el);el.style&&(el.style.webkitTapHighlightColor=\"rgba(0,0,0,0)\");}return el;},addGradientFill=function addGradientFill(element,gradient){var type=\"linear\",id=element.id+gradient,fx=.5,fy=.5,o=element.node,SVG=element.paper,s=o.style,el=R._g.doc.getElementById(id);if(!el){gradient=Str(gradient).replace(R._radial_gradient,function(all,_fx,_fy){type=\"radial\";if(_fx&&_fy){fx=toFloat(_fx);fy=toFloat(_fy);var dir=(fy>.5)*2-1;pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*dir+.5)&&fy!=.5&&(fy=fy.toFixed(5)-1e-5*dir);}return E;});gradient=gradient.split(/\\s*\\-\\s*/);if(type==\"linear\"){var angle=gradient.shift();angle=-toFloat(angle);if(isNaN(angle)){return null;}var vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1);vector[2]*=max;vector[3]*=max;if(vector[2]<0){vector[0]=-vector[2];vector[2]=0;}if(vector[3]<0){vector[1]=-vector[3];vector[3]=0;}}var dots=R._parseDots(gradient);if(!dots){return null;}id=id.replace(/[\\(\\)\\s,\\xb0#]/g,\"_\");if(element.gradient&&id!=element.gradient.id){SVG.defs.removeChild(element.gradient);delete element.gradient;}if(!element.gradient){el=$(type+\"Gradient\",{id:id});element.gradient=el;$(el,type==\"radial\"?{fx:fx,fy:fy}:{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3],gradientTransform:element.matrix.invert()});SVG.defs.appendChild(el);for(var i=0,ii=dots.length;i<ii;i++){el.appendChild($(\"stop\",{offset:dots[i].offset?dots[i].offset:i?\"100%\":\"0%\",\"stop-color\":dots[i].color||\"#fff\"}));}}}$(o,{fill:\"url(#\"+id+\")\",opacity:1,\"fill-opacity\":1});s.fill=E;s.opacity=1;s.fillOpacity=1;return 1;},updatePosition=function updatePosition(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+\" translate(\"+bbox.x+\",\"+bbox.y+\")\"});},addArrow=function addArrow(o,value,isEnd){if(o.type==\"path\"){var values=Str(value).toLowerCase().split(\"-\"),p=o.paper,se=isEnd?\"end\":\"start\",node=o.node,attrs=o.attrs,stroke=attrs[\"stroke-width\"],i=values.length,type=\"classic\",from,to,dx,refX,attr,w=3,h=3,t=5;while(i--){switch(values[i]){case\"block\":case\"classic\":case\"oval\":case\"diamond\":case\"open\":case\"none\":type=values[i];break;case\"wide\":h=5;break;case\"narrow\":h=2;break;case\"long\":w=5;break;case\"short\":w=2;break;}}if(type==\"open\"){w+=2;h+=2;t+=2;dx=1;refX=isEnd?4:1;attr={fill:\"none\",stroke:attrs.stroke};}else{refX=dx=w/2;attr={fill:attrs.stroke,stroke:\"none\"};}if(o._.arrows){if(isEnd){o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--;o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--;}else{o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--;o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--;}}else{o._.arrows={};}if(type!=\"none\"){var pathId=\"raphael-marker-\"+type,markerId=\"raphael-marker-\"+se+type+w+h;if(!R._g.doc.getElementById(pathId)){p.defs.appendChild($($(\"path\"),{\"stroke-linecap\":\"round\",d:markers[type],id:pathId}));markerCounter[pathId]=1;}else{markerCounter[pathId]++;}var marker=R._g.doc.getElementById(markerId),use;if(!marker){marker=$($(\"marker\"),{id:markerId,markerHeight:h,markerWidth:w,orient:\"auto\",refX:refX,refY:h/2});use=$($(\"use\"),{\"xlink:href\":\"#\"+pathId,transform:(isEnd?\"rotate(180 \"+w/2+\" \"+h/2+\") \":E)+\"scale(\"+w/t+\",\"+h/t+\")\",\"stroke-width\":(1/((w/t+h/t)/2)).toFixed(4)});marker.appendChild(use);p.defs.appendChild(marker);markerCounter[markerId]=1;}else{markerCounter[markerId]++;use=marker.getElementsByTagName(\"use\")[0];}$(use,attr);var delta=dx*(type!=\"diamond\"&&type!=\"oval\");if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-delta*stroke;}else{from=delta*stroke;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0);}attr={};attr[\"marker-\"+se]=\"url(#\"+markerId+\")\";if(to||from){attr.d=Raphael.getSubpath(attrs.path,from,to);}$(node,attr);o._.arrows[se+\"Path\"]=pathId;o._.arrows[se+\"Marker\"]=markerId;o._.arrows[se+\"dx\"]=delta;o._.arrows[se+\"Type\"]=type;o._.arrows[se+\"String\"]=value;}else{if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-from;}else{from=0;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0);}o._.arrows[se+\"Path\"]&&$(node,{d:Raphael.getSubpath(attrs.path,from,to)});delete o._.arrows[se+\"Path\"];delete o._.arrows[se+\"Marker\"];delete o._.arrows[se+\"dx\"];delete o._.arrows[se+\"Type\"];delete o._.arrows[se+\"String\"];}for(attr in markerCounter){if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item);}}}},dasharray={\"\":[0],\"none\":[0],\"-\":[3,1],\".\":[1,1],\"-.\":[3,1,1,1],\"-..\":[3,1,1,1,1,1],\". \":[1,3],\"- \":[4,3],\"--\":[8,3],\"- .\":[4,3,1,3],\"--.\":[8,3,1,3],\"--..\":[8,3,1,3,1,3]},addDashes=function addDashes(o,value,params){value=dasharray[Str(value).toLowerCase()];if(value){var width=o.attrs[\"stroke-width\"]||\"1\",butt={round:width,square:width,butt:0}[o.attrs[\"stroke-linecap\"]||params[\"stroke-linecap\"]]||0,dashes=[],i=value.length;while(i--){dashes[i]=value[i]*width+(i%2?1:-1)*butt;}$(o.node,{\"stroke-dasharray\":dashes.join(\",\")});}},setFillAndStroke=function setFillAndStroke(o,params){var node=o.node,attrs=o.attrs,vis=node.style.visibility;node.style.visibility=\"hidden\";for(var att in params){if(params[has](att)){if(!R._availableAttrs[has](att)){continue;}var value=params[att];attrs[att]=value;switch(att){case\"blur\":o.blur(value);break;case\"href\":case\"title\":case\"target\":var pn=node.parentNode;if(pn.tagName.toLowerCase()!=\"a\"){var hl=$(\"a\");pn.insertBefore(hl,node);hl.appendChild(node);pn=hl;}if(att==\"target\"){pn.setAttributeNS(xlink,\"show\",value==\"blank\"?\"new\":value);}else{pn.setAttributeNS(xlink,att,value);}break;case\"cursor\":node.style.cursor=value;break;case\"transform\":o.transform(value);break;case\"arrow-start\":addArrow(o,value);break;case\"arrow-end\":addArrow(o,value,1);break;case\"clip-rect\":var rect=Str(value).split(separator);if(rect.length==4){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var el=$(\"clipPath\"),rc=$(\"rect\");el.id=R.createUUID();$(rc,{x:rect[0],y:rect[1],width:rect[2],height:rect[3]});el.appendChild(rc);o.paper.defs.appendChild(el);$(node,{\"clip-path\":\"url(#\"+el.id+\")\"});o.clip=rc;}if(!value){var path=node.getAttribute(\"clip-path\");if(path){var clip=R._g.doc.getElementById(path.replace(/(^url\\(#|\\)$)/g,E));clip&&clip.parentNode.removeChild(clip);$(node,{\"clip-path\":E});delete o.clip;}}break;case\"path\":if(o.type==\"path\"){$(node,{d:value?attrs.path=R._pathToAbsolute(value):\"M0,0\"});o._.dirty=1;if(o._.arrows){\"startString\"in o._.arrows&&addArrow(o,o._.arrows.startString);\"endString\"in o._.arrows&&addArrow(o,o._.arrows.endString,1);}}break;case\"width\":node.setAttribute(att,value);o._.dirty=1;if(attrs.fx){att=\"x\";value=attrs.x;}else{break;}case\"x\":if(attrs.fx){value=-attrs.x-(attrs.width||0);}case\"rx\":if(att==\"rx\"&&o.type==\"rect\"){break;}case\"cx\":node.setAttribute(att,value);o.pattern&&updatePosition(o);o._.dirty=1;break;case\"height\":node.setAttribute(att,value);o._.dirty=1;if(attrs.fy){att=\"y\";value=attrs.y;}else{break;}case\"y\":if(attrs.fy){value=-attrs.y-(attrs.height||0);}case\"ry\":if(att==\"ry\"&&o.type==\"rect\"){break;}case\"cy\":node.setAttribute(att,value);o.pattern&&updatePosition(o);o._.dirty=1;break;case\"r\":if(o.type==\"rect\"){$(node,{rx:value,ry:value});}else{node.setAttribute(att,value);}o._.dirty=1;break;case\"src\":if(o.type==\"image\"){node.setAttributeNS(xlink,\"href\",value);}break;case\"stroke-width\":if(o._.sx!=1||o._.sy!=1){value/=mmax(abs(o._.sx),abs(o._.sy))||1;}if(o.paper._vbSize){value*=o.paper._vbSize;}node.setAttribute(att,value);if(attrs[\"stroke-dasharray\"]){addDashes(o,attrs[\"stroke-dasharray\"],params);}if(o._.arrows){\"startString\"in o._.arrows&&addArrow(o,o._.arrows.startString);\"endString\"in o._.arrows&&addArrow(o,o._.arrows.endString,1);}break;case\"stroke-dasharray\":addDashes(o,value,params);break;case\"fill\":var isURL=Str(value).match(R._ISURL);if(isURL){el=$(\"pattern\");var ig=$(\"image\");el.id=R.createUUID();$(el,{x:0,y:0,patternUnits:\"userSpaceOnUse\",height:1,width:1});$(ig,{x:0,y:0,\"xlink:href\":isURL[1]});el.appendChild(ig);(function(el){R._preload(isURL[1],function(){var w=this.offsetWidth,h=this.offsetHeight;$(el,{width:w,height:h});$(ig,{width:w,height:h});o.paper.safari();});})(el);o.paper.defs.appendChild(el);$(node,{fill:\"url(#\"+el.id+\")\"});o.pattern=el;o.pattern&&updatePosition(o);break;}var clr=R.getRGB(value);if(!clr.error){delete params.gradient;delete attrs.gradient;!R.is(attrs.opacity,\"undefined\")&&R.is(params.opacity,\"undefined\")&&$(node,{opacity:attrs.opacity});!R.is(attrs[\"fill-opacity\"],\"undefined\")&&R.is(params[\"fill-opacity\"],\"undefined\")&&$(node,{\"fill-opacity\":attrs[\"fill-opacity\"]});}else if((o.type==\"circle\"||o.type==\"ellipse\"||Str(value).charAt()!=\"r\")&&addGradientFill(o,value)){if(\"opacity\"in attrs||\"fill-opacity\"in attrs){var gradient=R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g,E));if(gradient){var stops=gradient.getElementsByTagName(\"stop\");$(stops[stops.length-1],{\"stop-opacity\":(\"opacity\"in attrs?attrs.opacity:1)*(\"fill-opacity\"in attrs?attrs[\"fill-opacity\"]:1)});}}attrs.gradient=value;attrs.fill=\"none\";break;}clr[has](\"opacity\")&&$(node,{\"fill-opacity\":clr.opacity>1?clr.opacity/100:clr.opacity});case\"stroke\":clr=R.getRGB(value);node.setAttribute(att,clr.hex);att==\"stroke\"&&clr[has](\"opacity\")&&$(node,{\"stroke-opacity\":clr.opacity>1?clr.opacity/100:clr.opacity});if(att==\"stroke\"&&o._.arrows){\"startString\"in o._.arrows&&addArrow(o,o._.arrows.startString);\"endString\"in o._.arrows&&addArrow(o,o._.arrows.endString,1);}break;case\"gradient\":(o.type==\"circle\"||o.type==\"ellipse\"||Str(value).charAt()!=\"r\")&&addGradientFill(o,value);break;case\"opacity\":if(attrs.gradient&&!attrs[has](\"stroke-opacity\")){$(node,{\"stroke-opacity\":value>1?value/100:value});}case\"fill-opacity\":if(attrs.gradient){gradient=R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g,E));if(gradient){stops=gradient.getElementsByTagName(\"stop\");$(stops[stops.length-1],{\"stop-opacity\":value});}break;}default:att==\"font-size\"&&(value=toInt(value,10)+\"px\");var cssrule=att.replace(/(\\-.)/g,function(w){return w.substring(1).toUpperCase();});node.style[cssrule]=value;o._.dirty=1;node.setAttribute(att,value);break;}}}tuneText(o,params);node.style.visibility=vis;},leading=1.2,tuneText=function tuneText(el,params){if(el.type!=\"text\"||!(params[has](\"text\")||params[has](\"font\")||params[has](\"font-size\")||params[has](\"x\")||params[has](\"y\"))){return;}var a=el.attrs,node=el.node,fontSize=node.firstChild?toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild,E).getPropertyValue(\"font-size\"),10):10;if(params[has](\"text\")){a.text=params.text;while(node.firstChild){node.removeChild(node.firstChild);}var texts=Str(params.text).split(\"\\n\"),tspans=[],tspan;for(var i=0,ii=texts.length;i<ii;i++){tspan=$(\"tspan\");i&&$(tspan,{dy:fontSize*leading,x:a.x});tspan.appendChild(R._g.doc.createTextNode(texts[i]));node.appendChild(tspan);tspans[i]=tspan;}}else{tspans=node.getElementsByTagName(\"tspan\");for(i=0,ii=tspans.length;i<ii;i++){if(i){$(tspans[i],{dy:fontSize*leading,x:a.x});}else{$(tspans[0],{dy:0});}}}$(node,{x:a.x,y:a.y});el._.dirty=1;var bb=el._getBBox(),dif=a.y-(bb.y+bb.height/2);dif&&R.is(dif,\"finite\")&&$(tspans[0],{dy:dif});},Element=function Element(node,svg){var X=0,Y=0;this[0]=this.node=node;node.raphael=true;this.id=R._oid++;node.raphaelid=this.id;this.matrix=R.matrix();this.realPath=null;this.paper=svg;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!svg.bottom&&(svg.bottom=this);this.prev=svg.top;svg.top&&(svg.top.next=this);svg.top=this;this.next=null;},elproto=R.el;Element.prototype=elproto;elproto.constructor=Element;R._engine.path=function(pathString,SVG){var el=$(\"path\");SVG.canvas&&SVG.canvas.appendChild(el);var p=new Element(el,SVG);p.type=\"path\";setFillAndStroke(p,{fill:\"none\",stroke:\"#000\",path:pathString});return p;};elproto.rotate=function(deg,cx,cy){if(this.removed){return this;}deg=Str(deg).split(separator);if(deg.length-1){cx=toFloat(deg[1]);cy=toFloat(deg[2]);}deg=toFloat(deg[0]);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2;cy=bbox.y+bbox.height/2;}this.transform(this._.transform.concat([[\"r\",deg,cx,cy]]));return this;};elproto.scale=function(sx,sy,cx,cy){if(this.removed){return this;}sx=Str(sx).split(separator);if(sx.length-1){sy=toFloat(sx[1]);cx=toFloat(sx[2]);cy=toFloat(sx[3]);}sx=toFloat(sx[0]);sy==null&&(sy=sx);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=this.getBBox(1);}cx=cx==null?bbox.x+bbox.width/2:cx;cy=cy==null?bbox.y+bbox.height/2:cy;this.transform(this._.transform.concat([[\"s\",sx,sy,cx,cy]]));return this;};elproto.translate=function(dx,dy){if(this.removed){return this;}dx=Str(dx).split(separator);if(dx.length-1){dy=toFloat(dx[1]);}dx=toFloat(dx[0])||0;dy=+dy||0;this.transform(this._.transform.concat([[\"t\",dx,dy]]));return this;};elproto.transform=function(tstr){var _=this._;if(tstr==null){return _.transform;}R._extractTransform(this,tstr);this.clip&&$(this.clip,{transform:this.matrix.invert()});this.pattern&&updatePosition(this);this.node&&$(this.node,{transform:this.matrix});if(_.sx!=1||_.sy!=1){var sw=this.attrs[has](\"stroke-width\")?this.attrs[\"stroke-width\"]:1;this.attr({\"stroke-width\":sw});}return this;};elproto.hide=function(){!this.removed&&this.paper.safari(this.node.style.display=\"none\");return this;};elproto.show=function(){!this.removed&&this.paper.safari(this.node.style.display=\"\");return this;};elproto.remove=function(){if(this.removed||!this.node.parentNode){return;}var paper=this.paper;paper.__set__&&paper.__set__.exclude(this);eve.unbind(\"raphael.*.*.\"+this.id);if(this.gradient){paper.defs.removeChild(this.gradient);}R._tear(this,paper);if(this.node.parentNode.tagName.toLowerCase()==\"a\"){this.node.parentNode.parentNode.removeChild(this.node.parentNode);}else{this.node.parentNode.removeChild(this.node);}for(var i in this){this[i]=typeof this[i]==\"function\"?R._removedFactory(i):null;}this.removed=true;};elproto._getBBox=function(){if(this.node.style.display==\"none\"){this.show();var hide=true;}var bbox={};try{bbox=this.node.getBBox();}catch(e){}finally{bbox=bbox||{};}hide&&this.hide();return bbox;};elproto.attr=function(name,value){if(this.removed){return this;}if(name==null){var res={};for(var a in this.attrs){if(this.attrs[has](a)){res[a]=this.attrs[a];}}res.gradient&&res.fill==\"none\"&&(res.fill=res.gradient)&&delete res.gradient;res.transform=this._.transform;return res;}if(value==null&&R.is(name,\"string\")){if(name==\"fill\"&&this.attrs.fill==\"none\"&&this.attrs.gradient){return this.attrs.gradient;}if(name==\"transform\"){return this._.transform;}var names=name.split(separator),out={};for(var i=0,ii=names.length;i<ii;i++){name=names[i];if(name in this.attrs){out[name]=this.attrs[name];}else if(R.is(this.paper.customAttributes[name],\"function\")){out[name]=this.paper.customAttributes[name].def;}else{out[name]=R._availableAttrs[name];}}return ii-1?out:out[names[0]];}if(value==null&&R.is(name,\"array\")){out={};for(i=0,ii=name.length;i<ii;i++){out[name[i]]=this.attr(name[i]);}return out;}if(value!=null){var params={};params[name]=value;}else if(name!=null&&R.is(name,\"object\")){params=name;}for(var key in params){eve(\"raphael.attr.\"+key+\".\"+this.id,this,params[key]);}for(key in this.paper.customAttributes){if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],\"function\")){var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par){if(par[has](subkey)){params[subkey]=par[subkey];}}}}setFillAndStroke(this,params);return this;};elproto.toFront=function(){if(this.removed){return this;}if(this.node.parentNode.tagName.toLowerCase()==\"a\"){this.node.parentNode.parentNode.appendChild(this.node.parentNode);}else{this.node.parentNode.appendChild(this.node);}var svg=this.paper;svg.top!=this&&R._tofront(this,svg);return this;};elproto.toBack=function(){if(this.removed){return this;}var parent=this.node.parentNode;if(parent.tagName.toLowerCase()==\"a\"){parent.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild);}else if(parent.firstChild!=this.node){parent.insertBefore(this.node,this.node.parentNode.firstChild);}R._toback(this,this.paper);var svg=this.paper;return this;};elproto.insertAfter=function(element){if(this.removed){return this;}var node=element.node||element[element.length-1].node;if(node.nextSibling){node.parentNode.insertBefore(this.node,node.nextSibling);}else{node.parentNode.appendChild(this.node);}R._insertafter(this,element,this.paper);return this;};elproto.insertBefore=function(element){if(this.removed){return this;}var node=element.node||element[0].node;node.parentNode.insertBefore(this.node,node);R._insertbefore(this,element,this.paper);return this;};elproto.blur=function(size){var t=this;if(+size!==0){var fltr=$(\"filter\"),blur=$(\"feGaussianBlur\");t.attrs.blur=size;fltr.id=R.createUUID();$(blur,{stdDeviation:+size||1.5});fltr.appendChild(blur);t.paper.defs.appendChild(fltr);t._blur=fltr;$(t.node,{filter:\"url(#\"+fltr.id+\")\"});}else{if(t._blur){t._blur.parentNode.removeChild(t._blur);delete t._blur;delete t.attrs.blur;}t.node.removeAttribute(\"filter\");}};R._engine.circle=function(svg,x,y,r){var el=$(\"circle\");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={cx:x,cy:y,r:r,fill:\"none\",stroke:\"#000\"};res.type=\"circle\";$(el,res.attrs);return res;};R._engine.rect=function(svg,x,y,w,h,r){var el=$(\"rect\");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,width:w,height:h,r:r||0,rx:r||0,ry:r||0,fill:\"none\",stroke:\"#000\"};res.type=\"rect\";$(el,res.attrs);return res;};R._engine.ellipse=function(svg,x,y,rx,ry){var el=$(\"ellipse\");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={cx:x,cy:y,rx:rx,ry:ry,fill:\"none\",stroke:\"#000\"};res.type=\"ellipse\";$(el,res.attrs);return res;};R._engine.image=function(svg,src,x,y,w,h){var el=$(\"image\");$(el,{x:x,y:y,width:w,height:h,preserveAspectRatio:\"none\"});el.setAttributeNS(xlink,\"href\",src);svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,width:w,height:h,src:src};res.type=\"image\";return res;};R._engine.text=function(svg,x,y,text){var el=$(\"text\");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,\"text-anchor\":\"middle\",text:text,font:R._availableAttrs.font,stroke:\"none\",fill:\"#000\"};res.type=\"text\";setFillAndStroke(res,res.attrs);return res;};R._engine.setSize=function(width,height){this.width=width||this.width;this.height=height||this.height;this.canvas.setAttribute(\"width\",this.width);this.canvas.setAttribute(\"height\",this.height);if(this._viewBox){this.setViewBox.apply(this,this._viewBox);}return this;};R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container){throw new Error(\"SVG container not found.\");}var cnvs=$(\"svg\"),css=\"overflow:hidden;\",isFloating;x=x||0;y=y||0;width=width||512;height=height||342;$(cnvs,{height:height,version:1.1,width:width,xmlns:\"http://www.w3.org/2000/svg\"});if(container==1){cnvs.style.cssText=css+\"position:absolute;left:\"+x+\"px;top:\"+y+\"px\";R._g.doc.body.appendChild(cnvs);isFloating=1;}else{cnvs.style.cssText=css+\"position:relative\";if(container.firstChild){container.insertBefore(cnvs,container.firstChild);}else{container.appendChild(cnvs);}}container=new R._Paper();container.width=width;container.height=height;container.canvas=cnvs;container.clear();container._left=container._top=0;isFloating&&(container.renderfix=function(){});container.renderfix();return container;};R._engine.setViewBox=function(x,y,w,h,fit){eve(\"raphael.setViewBox\",this,this._viewBox,[x,y,w,h,fit]);var size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?\"meet\":\"xMinYMin\",vb,sw;if(x==null){if(this._vbSize){size=1;}delete this._vbSize;vb=\"0 0 \"+this.width+S+this.height;}else{this._vbSize=size;vb=x+S+y+S+w+S+h;}$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio});while(size&&top){sw=\"stroke-width\"in top.attrs?top.attrs[\"stroke-width\"]:1;top.attr({\"stroke-width\":sw});top._.dirty=1;top._.dirtyT=1;top=top.prev;}this._viewBox=[x,y,w,h,!!fit];return this;};R.prototype.renderfix=function(){var cnvs=this.canvas,s=cnvs.style,pos;try{pos=cnvs.getScreenCTM()||cnvs.createSVGMatrix();}catch(e){pos=cnvs.createSVGMatrix();}var left=-pos.e%1,top=-pos.f%1;if(left||top){if(left){this._left=(this._left+left)%1;s.left=this._left+\"px\";}if(top){this._top=(this._top+top)%1;s.top=this._top+\"px\";}}};R.prototype.clear=function(){R.eve(\"raphael.clear\",this);var c=this.canvas;while(c.firstChild){c.removeChild(c.firstChild);}this.bottom=this.top=null;(this.desc=$(\"desc\")).appendChild(R._g.doc.createTextNode(\"Created with Rapha\\xebl \"+R.version));c.appendChild(this.desc);c.appendChild(this.defs=$(\"defs\"));};R.prototype.remove=function(){eve(\"raphael.remove\",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var i in this){this[i]=typeof this[i]==\"function\"?R._removedFactory(i):null;}};var setproto=R.st;for(var method in elproto){if(elproto[has](method)&&!setproto[has](method)){setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg);});};}(method);}}}(window.Raphael);window.Raphael.vml&&function(R){var has=\"hasOwnProperty\",Str=String,toFloat=parseFloat,math=Math,round=math.round,mmax=math.max,mmin=math.min,abs=math.abs,fillString=\"fill\",separator=/[, ]+/,eve=R.eve,ms=\" progid:DXImageTransform.Microsoft\",S=\" \",E=\"\",map={M:\"m\",L:\"l\",C:\"c\",Z:\"x\",m:\"t\",l:\"r\",c:\"v\",z:\"x\"},bites=/([clmz]),?([^clmz]*)/gi,blurregexp=/ progid:\\S+Blur\\([^\\)]+\\)/g,val=/-?[^,\\s-]+/g,cssDot=\"position:absolute;left:0;top:0;width:1px;height:1px\",zoom=21600,pathTypes={path:1,rect:1,image:1},ovalTypes={circle:1,ellipse:1},path2vml=function path2vml(path){var total=/[ahqstv]/ig,command=R._pathToAbsolute;Str(path).match(total)&&(command=R._path2curve);total=/[clmz]/g;if(command==R._pathToAbsolute&&!Str(path).match(total)){var res=Str(path).replace(bites,function(all,command,args){var vals=[],isMove=command.toLowerCase()==\"m\",res=map[command];args.replace(val,function(value){if(isMove&&vals.length==2){res+=vals+map[command==\"m\"?\"l\":\"L\"];vals=[];}vals.push(round(value*zoom));});return res+vals;});return res;}var pa=command(path),p,r;res=[];for(var i=0,ii=pa.length;i<ii;i++){p=pa[i];r=pa[i][0].toLowerCase();r==\"z\"&&(r=\"x\");for(var j=1,jj=p.length;j<jj;j++){r+=round(p[j]*zoom)+(j!=jj-1?\",\":E);}res.push(r);}return res.join(S);},compensation=function compensation(deg,dx,dy){var m=R.matrix();m.rotate(-deg,.5,.5);return{dx:m.x(dx,dy),dy:m.y(dx,dy)};},setCoords=function setCoords(p,sx,sy,dx,dy,deg){var _=p._,m=p.matrix,fillpos=_.fillpos,o=p.node,s=o.style,y=1,flip=\"\",dxdy,kx=zoom/sx,ky=zoom/sy;s.visibility=\"hidden\";if(!sx||!sy){return;}o.coordsize=abs(kx)+S+abs(ky);s.rotation=deg*(sx*sy<0?-1:1);if(deg){var c=compensation(deg,dx,dy);dx=c.dx;dy=c.dy;}sx<0&&(flip+=\"x\");sy<0&&(flip+=\" y\")&&(y=-1);s.flip=flip;o.coordorigin=dx*-kx+S+dy*-ky;if(fillpos||_.fillsize){var fill=o.getElementsByTagName(fillString);fill=fill&&fill[0];o.removeChild(fill);if(fillpos){c=compensation(deg,m.x(fillpos[0],fillpos[1]),m.y(fillpos[0],fillpos[1]));fill.position=c.dx*y+S+c.dy*y;}if(_.fillsize){fill.size=_.fillsize[0]*abs(sx)+S+_.fillsize[1]*abs(sy);}o.appendChild(fill);}s.visibility=\"visible\";};R.toString=function(){return'Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xEBl '+this.version;};var addArrow=function addArrow(o,value,isEnd){var values=Str(value).toLowerCase().split(\"-\"),se=isEnd?\"end\":\"start\",i=values.length,type=\"classic\",w=\"medium\",h=\"medium\";while(i--){switch(values[i]){case\"block\":case\"classic\":case\"oval\":case\"diamond\":case\"open\":case\"none\":type=values[i];break;case\"wide\":case\"narrow\":h=values[i];break;case\"long\":case\"short\":w=values[i];break;}}var stroke=o.node.getElementsByTagName(\"stroke\")[0];stroke[se+\"arrow\"]=type;stroke[se+\"arrowlength\"]=w;stroke[se+\"arrowwidth\"]=h;},setFillAndStroke=function setFillAndStroke(o,params){o.attrs=o.attrs||{};var node=o.node,a=o.attrs,s=node.style,xy,newpath=pathTypes[o.type]&&(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.cx!=a.cx||params.cy!=a.cy||params.rx!=a.rx||params.ry!=a.ry||params.r!=a.r),isOval=ovalTypes[o.type]&&(a.cx!=params.cx||a.cy!=params.cy||a.r!=params.r||a.rx!=params.rx||a.ry!=params.ry),res=o;for(var par in params){if(params[has](par)){a[par]=params[par];}}if(newpath){a.path=R._getPath[o.type](o);o._.dirty=1;}params.href&&(node.href=params.href);params.title&&(node.title=params.title);params.target&&(node.target=params.target);params.cursor&&(s.cursor=params.cursor);\"blur\"in params&&o.blur(params.blur);if(params.path&&o.type==\"path\"||newpath){node.path=path2vml(~Str(a.path).toLowerCase().indexOf(\"r\")?R._pathToAbsolute(a.path):a.path);if(o.type==\"image\"){o._.fillpos=[a.x,a.y];o._.fillsize=[a.width,a.height];setCoords(o,1,1,0,0,0);}}\"transform\"in params&&o.transform(params.transform);if(isOval){var cx=+a.cx,cy=+a.cy,rx=+a.rx||+a.r||0,ry=+a.ry||+a.r||0;node.path=R.format(\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\",round((cx-rx)*zoom),round((cy-ry)*zoom),round((cx+rx)*zoom),round((cy+ry)*zoom),round(cx*zoom));}if(\"clip-rect\"in params){var rect=Str(params[\"clip-rect\"]).split(separator);if(rect.length==4){rect[2]=+rect[2]+ +rect[0];rect[3]=+rect[3]+ +rect[1];var div=node.clipRect||R._g.doc.createElement(\"div\"),dstyle=div.style;dstyle.clip=R.format(\"rect({1}px {2}px {3}px {0}px)\",rect);if(!node.clipRect){dstyle.position=\"absolute\";dstyle.top=0;dstyle.left=0;dstyle.width=o.paper.width+\"px\";dstyle.height=o.paper.height+\"px\";node.parentNode.insertBefore(div,node);div.appendChild(node);node.clipRect=div;}}if(!params[\"clip-rect\"]){node.clipRect&&(node.clipRect.style.clip=\"auto\");}}if(o.textpath){var textpathStyle=o.textpath.style;params.font&&(textpathStyle.font=params.font);params[\"font-family\"]&&(textpathStyle.fontFamily='\"'+params[\"font-family\"].split(\",\")[0].replace(/^['\"]+|['\"]+$/g,E)+'\"');params[\"font-size\"]&&(textpathStyle.fontSize=params[\"font-size\"]);params[\"font-weight\"]&&(textpathStyle.fontWeight=params[\"font-weight\"]);params[\"font-style\"]&&(textpathStyle.fontStyle=params[\"font-style\"]);}if(\"arrow-start\"in params){addArrow(res,params[\"arrow-start\"]);}if(\"arrow-end\"in params){addArrow(res,params[\"arrow-end\"],1);}if(params.opacity!=null||params[\"stroke-width\"]!=null||params.fill!=null||params.src!=null||params.stroke!=null||params[\"stroke-width\"]!=null||params[\"stroke-opacity\"]!=null||params[\"fill-opacity\"]!=null||params[\"stroke-dasharray\"]!=null||params[\"stroke-miterlimit\"]!=null||params[\"stroke-linejoin\"]!=null||params[\"stroke-linecap\"]!=null){var fill=node.getElementsByTagName(fillString),newfill=false;fill=fill&&fill[0];!fill&&(newfill=fill=createNode(fillString));if(o.type==\"image\"&&params.src){fill.src=params.src;}params.fill&&(fill.on=true);if(fill.on==null||params.fill==\"none\"||params.fill===null){fill.on=false;}if(fill.on&&params.fill){var isURL=Str(params.fill).match(R._ISURL);if(isURL){fill.parentNode==node&&node.removeChild(fill);fill.rotate=true;fill.src=isURL[1];fill.type=\"tile\";var bbox=o.getBBox(1);fill.position=bbox.x+S+bbox.y;o._.fillpos=[bbox.x,bbox.y];R._preload(isURL[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight];});}else{fill.color=R.getRGB(params.fill).hex;fill.src=E;fill.type=\"solid\";if(R.getRGB(params.fill).error&&(res.type in{circle:1,ellipse:1}||Str(params.fill).charAt()!=\"r\")&&addGradientFill(res,params.fill,fill)){a.fill=\"none\";a.gradient=params.fill;fill.rotate=false;}}}if(\"fill-opacity\"in params||\"opacity\"in params){var opacity=((+a[\"fill-opacity\"]+1||2)-1)*((+a.opacity+1||2)-1)*((+R.getRGB(params.fill).o+1||2)-1);opacity=mmin(mmax(opacity,0),1);fill.opacity=opacity;if(fill.src){fill.color=\"none\";}}node.appendChild(fill);var stroke=node.getElementsByTagName(\"stroke\")&&node.getElementsByTagName(\"stroke\")[0],newstroke=false;!stroke&&(newstroke=stroke=createNode(\"stroke\"));if(params.stroke&&params.stroke!=\"none\"||params[\"stroke-width\"]||params[\"stroke-opacity\"]!=null||params[\"stroke-dasharray\"]||params[\"stroke-miterlimit\"]||params[\"stroke-linejoin\"]||params[\"stroke-linecap\"]){stroke.on=true;}(params.stroke==\"none\"||params.stroke===null||stroke.on==null||params.stroke==0||params[\"stroke-width\"]==0)&&(stroke.on=false);var strokeColor=R.getRGB(params.stroke);stroke.on&&params.stroke&&(stroke.color=strokeColor.hex);opacity=((+a[\"stroke-opacity\"]+1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.o+1||2)-1);var width=(toFloat(params[\"stroke-width\"])||1)*.75;opacity=mmin(mmax(opacity,0),1);params[\"stroke-width\"]==null&&(width=a[\"stroke-width\"]);params[\"stroke-width\"]&&(stroke.weight=width);width&&width<1&&(opacity*=width)&&(stroke.weight=1);stroke.opacity=opacity;params[\"stroke-linejoin\"]&&(stroke.joinstyle=params[\"stroke-linejoin\"]||\"miter\");stroke.miterlimit=params[\"stroke-miterlimit\"]||8;params[\"stroke-linecap\"]&&(stroke.endcap=params[\"stroke-linecap\"]==\"butt\"?\"flat\":params[\"stroke-linecap\"]==\"square\"?\"square\":\"round\");if(params[\"stroke-dasharray\"]){var dasharray={\"-\":\"shortdash\",\".\":\"shortdot\",\"-.\":\"shortdashdot\",\"-..\":\"shortdashdotdot\",\". \":\"dot\",\"- \":\"dash\",\"--\":\"longdash\",\"- .\":\"dashdot\",\"--.\":\"longdashdot\",\"--..\":\"longdashdotdot\"};stroke.dashstyle=dasharray[has](params[\"stroke-dasharray\"])?dasharray[params[\"stroke-dasharray\"]]:E;}newstroke&&node.appendChild(stroke);}if(res.type==\"text\"){res.paper.canvas.style.display=E;var span=res.paper.span,m=100,fontSize=a.font&&a.font.match(/\\d+(?:\\.\\d*)?(?=px)/);s=span.style;a.font&&(s.font=a.font);a[\"font-family\"]&&(s.fontFamily=a[\"font-family\"]);a[\"font-weight\"]&&(s.fontWeight=a[\"font-weight\"]);a[\"font-style\"]&&(s.fontStyle=a[\"font-style\"]);fontSize=toFloat(a[\"font-size\"]||fontSize&&fontSize[0])||10;s.fontSize=fontSize*m+\"px\";res.textpath.string&&(span.innerHTML=Str(res.textpath.string).replace(/</g,\"&#60;\").replace(/&/g,\"&#38;\").replace(/\\n/g,\"<br>\"));var brect=span.getBoundingClientRect();res.W=a.w=(brect.right-brect.left)/m;res.H=a.h=(brect.bottom-brect.top)/m;res.X=a.x;res.Y=a.y+res.H/2;(\"x\"in params||\"y\"in params)&&(res.path.v=R.format(\"m{0},{1}l{2},{1}\",round(a.x*zoom),round(a.y*zoom),round(a.x*zoom)+1));var dirtyattrs=[\"x\",\"y\",\"text\",\"font\",\"font-family\",\"font-weight\",\"font-style\",\"font-size\"];for(var d=0,dd=dirtyattrs.length;d<dd;d++){if(dirtyattrs[d]in params){res._.dirty=1;break;}}switch(a[\"text-anchor\"]){case\"start\":res.textpath.style[\"v-text-align\"]=\"left\";res.bbx=res.W/2;break;case\"end\":res.textpath.style[\"v-text-align\"]=\"right\";res.bbx=-res.W/2;break;default:res.textpath.style[\"v-text-align\"]=\"center\";res.bbx=0;break;}res.textpath.style[\"v-text-kern\"]=true;}},addGradientFill=function addGradientFill(o,gradient,fill){o.attrs=o.attrs||{};var attrs=o.attrs,pow=Math.pow,opacity,oindex,type=\"linear\",fxfy=\".5 .5\";o.attrs.gradient=gradient;gradient=Str(gradient).replace(R._radial_gradient,function(all,fx,fy){type=\"radial\";if(fx&&fy){fx=toFloat(fx);fy=toFloat(fy);pow(fx-.5,2)+pow(fy-.5,2)>.25&&(fy=math.sqrt(.25-pow(fx-.5,2))*((fy>.5)*2-1)+.5);fxfy=fx+S+fy;}return E;});gradient=gradient.split(/\\s*\\-\\s*/);if(type==\"linear\"){var angle=gradient.shift();angle=-toFloat(angle);if(isNaN(angle)){return null;}}var dots=R._parseDots(gradient);if(!dots){return null;}o=o.shape||o.node;if(dots.length){o.removeChild(fill);fill.on=true;fill.method=\"none\";fill.color=dots[0].color;fill.color2=dots[dots.length-1].color;var clrs=[];for(var i=0,ii=dots.length;i<ii;i++){dots[i].offset&&clrs.push(dots[i].offset+S+dots[i].color);}fill.colors=clrs.length?clrs.join():\"0% \"+fill.color;if(type==\"radial\"){fill.type=\"gradientTitle\";fill.focus=\"100%\";fill.focussize=\"0 0\";fill.focusposition=fxfy;fill.angle=0;}else{fill.type=\"gradient\";fill.angle=(270-angle)%360;}o.appendChild(fill);}return 1;},Element=function Element(node,vml){this[0]=this.node=node;node.raphael=true;this.id=R._oid++;node.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=vml;this.matrix=R.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!vml.bottom&&(vml.bottom=this);this.prev=vml.top;vml.top&&(vml.top.next=this);vml.top=this;this.next=null;};var elproto=R.el;Element.prototype=elproto;elproto.constructor=Element;elproto.transform=function(tstr){if(tstr==null){return this._.transform;}var vbs=this.paper._viewBoxShift,vbt=vbs?\"s\"+[vbs.scale,vbs.scale]+\"-1-1t\"+[vbs.dx,vbs.dy]:E,oldt;if(vbs){oldt=tstr=Str(tstr).replace(/\\.{3}|\\u2026/g,this._.transform||E);}R._extractTransform(this,vbt+tstr);var matrix=this.matrix.clone(),skew=this.skew,o=this.node,split,isGrad=~Str(this.attrs.fill).indexOf(\"-\"),isPatt=!Str(this.attrs.fill).indexOf(\"url(\");matrix.translate(-.5,-.5);if(isPatt||isGrad||this.type==\"image\"){skew.matrix=\"1 0 0 1\";skew.offset=\"0 0\";split=matrix.split();if(isGrad&&split.noRotation||!split.isSimple){o.style.filter=matrix.toFilter();var bb=this.getBBox(),bbt=this.getBBox(1),dx=bb.x-bbt.x,dy=bb.y-bbt.y;o.coordorigin=dx*-zoom+S+dy*-zoom;setCoords(this,1,1,dx,dy,0);}else{o.style.filter=E;setCoords(this,split.scalex,split.scaley,split.dx,split.dy,split.rotate);}}else{o.style.filter=E;skew.matrix=Str(matrix);skew.offset=matrix.offset();}oldt&&(this._.transform=oldt);return this;};elproto.rotate=function(deg,cx,cy){if(this.removed){return this;}if(deg==null){return;}deg=Str(deg).split(separator);if(deg.length-1){cx=toFloat(deg[1]);cy=toFloat(deg[2]);}deg=toFloat(deg[0]);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2;cy=bbox.y+bbox.height/2;}this._.dirtyT=1;this.transform(this._.transform.concat([[\"r\",deg,cx,cy]]));return this;};elproto.translate=function(dx,dy){if(this.removed){return this;}dx=Str(dx).split(separator);if(dx.length-1){dy=toFloat(dx[1]);}dx=toFloat(dx[0])||0;dy=+dy||0;if(this._.bbox){this._.bbox.x+=dx;this._.bbox.y+=dy;}this.transform(this._.transform.concat([[\"t\",dx,dy]]));return this;};elproto.scale=function(sx,sy,cx,cy){if(this.removed){return this;}sx=Str(sx).split(separator);if(sx.length-1){sy=toFloat(sx[1]);cx=toFloat(sx[2]);cy=toFloat(sx[3]);isNaN(cx)&&(cx=null);isNaN(cy)&&(cy=null);}sx=toFloat(sx[0]);sy==null&&(sy=sx);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=this.getBBox(1);}cx=cx==null?bbox.x+bbox.width/2:cx;cy=cy==null?bbox.y+bbox.height/2:cy;this.transform(this._.transform.concat([[\"s\",sx,sy,cx,cy]]));this._.dirtyT=1;return this;};elproto.hide=function(){!this.removed&&(this.node.style.display=\"none\");return this;};elproto.show=function(){!this.removed&&(this.node.style.display=E);return this;};elproto._getBBox=function(){if(this.removed){return{};}return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H};};elproto.remove=function(){if(this.removed||!this.node.parentNode){return;}this.paper.__set__&&this.paper.__set__.exclude(this);R.eve.unbind(\"raphael.*.*.\"+this.id);R._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var i in this){this[i]=typeof this[i]==\"function\"?R._removedFactory(i):null;}this.removed=true;};elproto.attr=function(name,value){if(this.removed){return this;}if(name==null){var res={};for(var a in this.attrs){if(this.attrs[has](a)){res[a]=this.attrs[a];}}res.gradient&&res.fill==\"none\"&&(res.fill=res.gradient)&&delete res.gradient;res.transform=this._.transform;return res;}if(value==null&&R.is(name,\"string\")){if(name==fillString&&this.attrs.fill==\"none\"&&this.attrs.gradient){return this.attrs.gradient;}var names=name.split(separator),out={};for(var i=0,ii=names.length;i<ii;i++){name=names[i];if(name in this.attrs){out[name]=this.attrs[name];}else if(R.is(this.paper.customAttributes[name],\"function\")){out[name]=this.paper.customAttributes[name].def;}else{out[name]=R._availableAttrs[name];}}return ii-1?out:out[names[0]];}if(this.attrs&&value==null&&R.is(name,\"array\")){out={};for(i=0,ii=name.length;i<ii;i++){out[name[i]]=this.attr(name[i]);}return out;}var params;if(value!=null){params={};params[name]=value;}value==null&&R.is(name,\"object\")&&(params=name);for(var key in params){eve(\"raphael.attr.\"+key+\".\"+this.id,this,params[key]);}if(params){for(key in this.paper.customAttributes){if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],\"function\")){var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par){if(par[has](subkey)){params[subkey]=par[subkey];}}}}if(params.text&&this.type==\"text\"){this.textpath.string=params.text;}setFillAndStroke(this,params);}return this;};elproto.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&R._tofront(this,this.paper);return this;};elproto.toBack=function(){if(this.removed){return this;}if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);R._toback(this,this.paper);}return this;};elproto.insertAfter=function(element){if(this.removed){return this;}if(element.constructor==R.st.constructor){element=element[element.length-1];}if(element.node.nextSibling){element.node.parentNode.insertBefore(this.node,element.node.nextSibling);}else{element.node.parentNode.appendChild(this.node);}R._insertafter(this,element,this.paper);return this;};elproto.insertBefore=function(element){if(this.removed){return this;}if(element.constructor==R.st.constructor){element=element[0];}element.node.parentNode.insertBefore(this.node,element.node);R._insertbefore(this,element,this.paper);return this;};elproto.blur=function(size){var s=this.node.runtimeStyle,f=s.filter;f=f.replace(blurregexp,E);if(+size!==0){this.attrs.blur=size;s.filter=f+S+ms+\".Blur(pixelradius=\"+(+size||1.5)+\")\";s.margin=R.format(\"-{0}px 0 0 -{0}px\",round(+size||1.5));}else{s.filter=f;s.margin=0;delete this.attrs.blur;}};R._engine.path=function(pathString,vml){var el=createNode(\"shape\");el.style.cssText=cssDot;el.coordsize=zoom+S+zoom;el.coordorigin=vml.coordorigin;var p=new Element(el,vml),attr={fill:\"none\",stroke:\"#000\"};pathString&&(attr.path=pathString);p.type=\"path\";p.path=[];p.Path=E;setFillAndStroke(p,attr);vml.canvas.appendChild(el);var skew=createNode(\"skew\");skew.on=true;el.appendChild(skew);p.skew=skew;p.transform(E);return p;};R._engine.rect=function(vml,x,y,w,h,r){var path=R._rectPath(x,y,w,h,r),res=vml.path(path),a=res.attrs;res.X=a.x=x;res.Y=a.y=y;res.W=a.width=w;res.H=a.height=h;a.r=r;a.path=path;res.type=\"rect\";return res;};R._engine.ellipse=function(vml,x,y,rx,ry){var res=vml.path(),a=res.attrs;res.X=x-rx;res.Y=y-ry;res.W=rx*2;res.H=ry*2;res.type=\"ellipse\";setFillAndStroke(res,{cx:x,cy:y,rx:rx,ry:ry});return res;};R._engine.circle=function(vml,x,y,r){var res=vml.path(),a=res.attrs;res.X=x-r;res.Y=y-r;res.W=res.H=r*2;res.type=\"circle\";setFillAndStroke(res,{cx:x,cy:y,r:r});return res;};R._engine.image=function(vml,src,x,y,w,h){var path=R._rectPath(x,y,w,h),res=vml.path(path).attr({stroke:\"none\"}),a=res.attrs,node=res.node,fill=node.getElementsByTagName(fillString)[0];a.src=src;res.X=a.x=x;res.Y=a.y=y;res.W=a.width=w;res.H=a.height=h;a.path=path;res.type=\"image\";fill.parentNode==node&&node.removeChild(fill);fill.rotate=true;fill.src=src;fill.type=\"tile\";res._.fillpos=[x,y];res._.fillsize=[w,h];node.appendChild(fill);setCoords(res,1,1,0,0,0);return res;};R._engine.text=function(vml,x,y,text){var el=createNode(\"shape\"),path=createNode(\"path\"),o=createNode(\"textpath\");x=x||0;y=y||0;text=text||\"\";path.v=R.format(\"m{0},{1}l{2},{1}\",round(x*zoom),round(y*zoom),round(x*zoom)+1);path.textpathok=true;o.string=Str(text);o.on=true;el.style.cssText=cssDot;el.coordsize=zoom+S+zoom;el.coordorigin=\"0 0\";var p=new Element(el,vml),attr={fill:\"#000\",stroke:\"none\",font:R._availableAttrs.font,text:text};p.shape=el;p.path=path;p.textpath=o;p.type=\"text\";p.attrs.text=Str(text);p.attrs.x=x;p.attrs.y=y;p.attrs.w=1;p.attrs.h=1;setFillAndStroke(p,attr);el.appendChild(o);el.appendChild(path);vml.canvas.appendChild(el);var skew=createNode(\"skew\");skew.on=true;el.appendChild(skew);p.skew=skew;p.transform(E);return p;};R._engine.setSize=function(width,height){var cs=this.canvas.style;this.width=width;this.height=height;width==+width&&(width+=\"px\");height==+height&&(height+=\"px\");cs.width=width;cs.height=height;cs.clip=\"rect(0 \"+width+\" \"+height+\" 0)\";if(this._viewBox){R._engine.setViewBox.apply(this,this._viewBox);}return this;};R._engine.setViewBox=function(x,y,w,h,fit){R.eve(\"raphael.setViewBox\",this,this._viewBox,[x,y,w,h,fit]);var width=this.width,height=this.height,size=1/mmax(w/width,h/height),H,W;if(fit){H=height/h;W=width/w;if(w*H<width){x-=(width-w*H)/2/H;}if(h*W<height){y-=(height-h*W)/2/W;}}this._viewBox=[x,y,w,h,!!fit];this._viewBoxShift={dx:-x,dy:-y,scale:size};this.forEach(function(el){el.transform(\"...\");});return this;};var createNode;R._engine.initWin=function(win){var doc=win.document;doc.createStyleSheet().addRule(\".rvml\",\"behavior:url(#default#VML)\");try{!doc.namespaces.rvml&&doc.namespaces.add(\"rvml\",\"urn:schemas-microsoft-com:vml\");createNode=function createNode(tagName){return doc.createElement('<rvml:'+tagName+' class=\"rvml\">');};}catch(e){createNode=function createNode(tagName){return doc.createElement('<'+tagName+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');};}};R._engine.initWin(R._g.win);R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con.container,height=con.height,s,width=con.width,x=con.x,y=con.y;if(!container){throw new Error(\"VML container not found.\");}var res=new R._Paper(),c=res.canvas=R._g.doc.createElement(\"div\"),cs=c.style;x=x||0;y=y||0;width=width||512;height=height||342;res.width=width;res.height=height;width==+width&&(width+=\"px\");height==+height&&(height+=\"px\");res.coordsize=zoom*1e3+S+zoom*1e3;res.coordorigin=\"0 0\";res.span=R._g.doc.createElement(\"span\");res.span.style.cssText=\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\";c.appendChild(res.span);cs.cssText=R.format(\"top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\",width,height);if(container==1){R._g.doc.body.appendChild(c);cs.left=x+\"px\";cs.top=y+\"px\";cs.position=\"absolute\";}else{if(container.firstChild){container.insertBefore(c,container.firstChild);}else{container.appendChild(c);}}res.renderfix=function(){};return res;};R.prototype.clear=function(){R.eve(\"raphael.clear\",this);this.canvas.innerHTML=E;this.span=R._g.doc.createElement(\"span\");this.span.style.cssText=\"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\";this.canvas.appendChild(this.span);this.bottom=this.top=null;};R.prototype.remove=function(){R.eve(\"raphael.remove\",this);this.canvas.parentNode.removeChild(this.canvas);for(var i in this){this[i]=typeof this[i]==\"function\"?R._removedFactory(i):null;}return true;};var setproto=R.st;for(var method in elproto){if(elproto[has](method)&&!setproto[has](method)){setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg);});};}(method);}}}(window.Raphael);(function(){var EventProxy=function EventProxy(){if(!(this instanceof EventProxy)){return new EventProxy();}this._callbacks={};this._fired={};};EventProxy.prototype.addListener=function(ev,callback){this._callbacks=this._callbacks||{};this._callbacks[ev]=this._callbacks[ev]||[];this._callbacks[ev].push(callback);return this;};EventProxy.prototype.bind=EventProxy.prototype.addListener;EventProxy.prototype.on=EventProxy.prototype.addListener;EventProxy.prototype.await=EventProxy.prototype.addListener;EventProxy.prototype.removeListener=function(ev,callback){var calls=this._callbacks,i,l;if(!ev){this._callbacks={};}else if(calls){if(!callback){calls[ev]=[];}else{var list=calls[ev];if(!list){return this;}l=list.length;for(i=0;i<l;i++){if(callback===list[i]){list[i]=null;break;}}}}return this;};EventProxy.prototype.unbind=EventProxy.prototype.removeListener;EventProxy.prototype.removeAllListeners=function(event){return this.unbind(event);};EventProxy.prototype.trigger=function(eventName,data){var list,calls,ev,callback,args,i,l;var both=2;if(!(calls=this._callbacks)){return this;}while(both--){ev=both?eventName:'all';list=calls[ev];if(list){for(i=0,l=list.length;i<l;i++){if(!(callback=list[i])){list.splice(i,1);i--;l--;}else{args=both?Array.prototype.slice.call(arguments,1):arguments;callback.apply(this,args);}}}}return this;};EventProxy.prototype.emit=EventProxy.prototype.trigger;EventProxy.prototype.fire=EventProxy.prototype.trigger;EventProxy.prototype.once=function(ev,callback){var self=this,wrapper=function wrapper(){callback.apply(self,arguments);self.unbind(ev,wrapper);};this.bind(ev,wrapper);return this;};EventProxy.prototype.immediate=function(ev,callback,data){this.bind(ev,callback);this.trigger(ev,data);return this;};var _assign=function _assign(eventname1,eventname2,cb,once){var proxy=this,length,index=0,argsLength=arguments.length,bind,_all2,callback,events,isOnce,times=0,flag={};if(argsLength<3){return this;}events=Array.prototype.slice.apply(arguments,[0,argsLength-2]);callback=arguments[argsLength-2];isOnce=arguments[argsLength-1];if(typeof callback!==\"function\"){return this;}length=events.length;bind=function bind(key){var method=isOnce?\"once\":\"bind\";proxy[method](key,function(data){proxy._fired[key]=proxy._fired[key]||{};proxy._fired[key].data=data;if(!flag[key]){flag[key]=true;times++;}});};for(index=0;index<length;index++){bind(events[index]);}_all2=function _all(){if(times<length){return;}var data=[];for(index=0;index<length;index++){data.push(proxy._fired[events[index]].data);}if(isOnce){proxy.unbind(\"all\",_all2);}callback.apply(null,data);};proxy.bind(\"all\",_all2);};EventProxy.prototype.all=function(eventname1,eventname2,cb){var args=Array.prototype.concat.apply([],arguments);args.push(true);_assign.apply(this,args);return this;};EventProxy.prototype.assign=EventProxy.prototype.all;EventProxy.prototype.tail=function(){var args=Array.prototype.concat.apply([],arguments);args.push(false);_assign.apply(this,args);return this;};EventProxy.prototype.assignAll=EventProxy.prototype.tail;EventProxy.prototype.assignAlways=EventProxy.prototype.tail;EventProxy.prototype.after=function(eventName,times,callback){if(times===0){callback.call(null,[]);return this;}var proxy=this,firedData=[],_all3;_all3=function all(name,data){if(name===eventName){times--;firedData.push(data);if(times<1){proxy.unbind(\"all\",_all3);callback.apply(null,[firedData]);}}};proxy.bind(\"all\",_all3);return this;};EventProxy.prototype.any=function(){var proxy=this,index,_bind,len=arguments.length,callback=arguments[len-1],events=Array.prototype.slice.apply(arguments,[0,len-1]),count=events.length,_eventName=events.join(\"_\");proxy.once(_eventName,callback);_bind=function _bind(key){proxy.bind(key,function(data){proxy.trigger(_eventName,{\"data\":data,eventName:key});});};for(index=0;index<count;index++){_bind(events[index]);}};EventProxy.prototype.not=function(eventName,callback){var proxy=this;proxy.bind(\"all\",function(name,data){if(name!==eventName){callback(data);}});};EventProxy.create=function(){var ep=new EventProxy();if(arguments.length){ep.assign.apply(ep,Array.prototype.slice.call(arguments));}return ep;};if(true){exports.EventProxy=EventProxy;}else{this.EventProxy=EventProxy;}})();var DataV=function DataV(){};DataV.version=\"0.0.1\";DataV.Themes={};DataV.Themes[\"default\"]=DataV.Themes.theme0={COLOR_ARGS:[[\"#3dc6f4\",\"#8ce3ff\"],[\"#214fd9\",\"#7396ff\"],[\"#4f21d9\",\"#9673ff\"],[\"#c43df2\",\"#e38cff\"],[\"#d8214f\",\"#ff7396\"],[\"#f3c53c\",\"#ffe38c\"]]};DataV.Themes.theme1={COLOR_ARGS:[[\"#e72e8b\",\"#ff7fbf\"],[\"#d94f21\",\"#ff9673\"],[\"#f3c53c\",\"#ffe38c\"],[\"#8be62f\",\"#bfff7f\"],[\"#14cc14\",\"#66ff66\"],[\"#2fe68a\",\"#7fffc0\"]]};DataV.Themes.theme2={COLOR_ARGS:[[\"#2f8ae7\",\"#7fc0ff\"],[\"#8a2ee7\",\"#bf7fff\"],[\"#f33dc6\",\"#ff8ce3\"],[\"#8be62f\",\"#bfff7f\"],[\"#14cc14\",\"#66ff66\"],[\"#2fe68a\",\"#7fffc0\"]]};DataV.Themes.theme3={COLOR_ARGS:[[\"#2f8ae7\",\"#896DA3\"],[\"#8e34df\",\"#FFADA6\"],[\"#f738c0\",\"#65FCFC\"],[\"#84e653\",\"#555566\"],[\"#0cc53e\",\"#db3f7c\"],[\"#00e793s\",\"#db3f7c\"]]};DataV.Themes.theme4={COLOR_ARGS:[[\"#d94f21\",\"#7a88d1\"],[\"#579ce2\",\"#87bdf4\"],[\"#3bb4df\",\"#7fd1ef\"],[\"#a380ff\",\"#baa0ff\"],[\"#a164c5\",\"#c28fe1\"],[\"#d93a92\",\"#ec74b6\"],[\"#b82377\",\"#d569a7\"],[\"#bb3ca3\",\"#d381c2\"],[\"#da2d57\",\"#ec6b8a\"],[\"#4ca716\",\"#4ca716\"],[\"#5b63c2\",\"#8e93d7\"],[\"#15a9a3\",\"#4ecac5\"],[\"#a9ab48\",\"#e8c670\"],[\"#2aa5f5\",\"#73c4fa\"],[\"#f67e10\",\"#feb648\"],[\"#1faa77\",\"#62c8a2\"],[\"#eb4f20\",\"#f58563\"],[\"#ffc000\",\"#ffd659\"],[\"#f16ebc\",\"#f6a1d3\"],[\"#d23457\",\"#e27b92\"]]};DataV.Themes.current=\"default\";DataV.Themes._currentTheme=null;DataV.Themes.get=function(key){if(!DataV.Themes._currentTheme){DataV.Themes._currentTheme=DataV.Themes[DataV.Themes.current];}return DataV.Themes._currentTheme[key]||DataV.Themes[\"default\"][key];};DataV.Themes.set=function(themeName,theme){if(arguments.length<2){throw new Error(\"Arguments format error. should be: (themsName, theme)\");}else if((typeof theme==='undefined'?'undefined':(0,_typeof3.default)(theme))!==\"object\"){throw new Error(\"second argument theme should be a json object\");}else if(!theme[\"COLOR_ARGS\"]){throw new Error(\"theme.COLOR_ARGS needed\");}else if(!theme[\"COLOR_ARGS\"]instanceof Array){throw new Error(\"theme.COLOR_ARGS should be an array\");}else if(!(theme[\"COLOR_ARGS\"][0]instanceof Array)){throw new Error(\"theme.COLOR_ARGS[0] should be an array\");}DataV.Themes[themeName]=theme;};DataV.changeTheme=function(themeName){var ret=DataV.Themes[themeName];if(ret){DataV.Themes.current=themeName;DataV.Themes._currentTheme=null;}return!!ret;};DataV.getColor=function(){var theme=DataV.Themes;var color=theme.get(\"COLOR_ARGS\");return color;};DataV.getDiscreteColor=function(){var theme=DataV.Themes;var color=theme.get(\"COLOR_ARGS\");if(color.constructor!==Array){throw new Error(\"The color should be Array\");}var colorCount=color.length;var gotColor=[];if(color[0]===Array){var i;for(i=0;i<colorLineCount;i++){getColor.push(color[i][0]);}}else{gotColor=color;}return function(num){var thisColor=gotColor;var thisColorCount=colorCount;return thisColor[num%thisolorCount];};};DataV.gradientColor=function(color,method){if(color.constructor!==Array){throw new Error(\"The color should be Array\");}var startColor=color[0];var colorColor;var colorCount=color.length;var hsb;var endColor;if(colorCount===1){hsb=Raphael.color(color[0]);endColor=Raphael.hsb(hsb.h/360,(hsb.s-30)/100,1);}else{endColor=color[colorCount-1];}method=method||\"normal \";if(method===\"special\"){return function(num){var startHSB=Raphael.color(startColor);var endHSB=Raphael.color(endColor);var startH=startHSB.h*360;var endH=endHSB.h*360;var startNum=startHSB.h*20;var endNum=endHSB.h*20;var dH;var dNum;if(startNum>=endNum){dH=360-startH+endH;dNum=colorCount-startNum+endNum;}else{dH=endH-startH;dNum=endNum-startNum;}var h=(startH+dH*num)/360;var s=(70+Math.abs(4-(startNum+dNum*num)%8)*5)/100;var b=(100-Math.abs(4-(startNum+dNum*num)%8)*5)/100;return Raphael.hsb(h,s,b);};}else{return d3.interpolateRgb.apply(null,[startColor,endColor]);}};DataV.json=function(url,callback){d3.json(url,callback);'] ';};DataV.csv=function(url,callback){d3.text(url,\"text/csv\",function(text){callback(text&&d3.csv.parseRows(text));});};var Chart=function Chart(){this.type=\"Chart\";};Chart.prototype.getType=function(){return this.type;};DataV.Chart=Chart;DataV.extend=function(parent,properties){if(typeof parent!==\"function\"){properties=parent;parent=function parent(){};}properties=properties||{};var sub=function sub(){parent.apply(this,arguments);if(this.constructor===parent&&this.initialize){this.initialize.apply(this,arguments);}};sub.prototype=new parent();sub.prototype.constructor=parent;_jquery2.default.extend(sub.prototype,properties);return sub;};function d3_scaleExtent(domain){var start=domain[0],stop=domain[domain.length-1];return start<stop?[start,stop]:[stop,start];}function d3_scaleRange(scale){return scale.rangeExtent?scale.rangeExtent():d3_scaleExtent(scale.range());}function d3_svg_axisSubdivide(scale,ticks,m){var subticks=[];if(m&&ticks.length>1){var extent=d3_scaleExtent(scale.domain()),i=-1,n=ticks.length,d=(ticks[1]-ticks[0])/++m,j,v;while(++i<n){for(j=m;--j>0;){if((v=+ticks[i]-j*d)>=extent[0]){subticks.push(v);}}}for(--i,j=0;++j<m&&(v=+ticks[i]+j*d)<extent[1];){subticks.push(v);}}return subticks;}var Axis=function Axis(){var scale=d3.scale.linear(),orient=\"bottom\",tickMajorSize=6,tickMinorSize=6,tickEndSize=6,tickPadding=3,tickArguments_=[10],tickFormat_,tickSubdivide=0,tickAttr_={},tickTextAttr_={},minorTickAttr_={},domainAttr_={};function axis(paper){var ticks=scale.ticks?scale.ticks.apply(scale,tickArguments_):scale.domain(),tickFormat=tickFormat_===undefined?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments_):String:tickFormat_;var subticks=d3_svg_axisSubdivide(scale,ticks,tickSubdivide);var range=d3_scaleRange(scale);var axisSet=paper.set();switch(orient){case\"bottom\":subticks.forEach(function(d,i,arr){var tickX=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickX+\",\"+tickMinorSize+\"V0\").attr(minorTickAttr_));});ticks.forEach(function(d,i,arr){var tickX=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickX+\",\"+tickMajorSize+\"V0\").attr(tickAttr_));axisSet.push(paper.text(tickX,Math.max(tickMajorSize,0)+tickPadding+2,typeof tickFormat===\"function\"?tickFormat(d):tickFormat).attr({\"text-anchor\":\"middle\"}).attr(tickTextAttr_));});axisSet.push(paper.path(\"M\"+range[0]+\",\"+tickEndSize+\"V0H\"+range[1]+\"V\"+tickEndSize).attr(domainAttr_));break;case\"top\":subticks.forEach(function(d,i,arr){var tickX=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickX+\",\"+-tickMinorSize+\"V0\").attr(minorTickAttr_));});ticks.forEach(function(d,i,arr){var tickX=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickX+\",\"+-tickMajorSize+\"V0\").attr(tickAttr_));axisSet.push(paper.text(tickX,-(Math.max(tickMajorSize,0)+tickPadding+2),typeof tickFormat===\"function\"?tickFormat(d):tickFormat).attr({\"text-anchor\":\"middle\"}).attr(tickTextAttr_));});axisSet.push(paper.path(\"M\"+range[0]+\",\"+-tickEndSize+\"V0H\"+range[1]+\"V\"+-tickEndSize).attr(domainAttr_));break;case\"left\":subticks.forEach(function(d,i,arr){var tickY=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+-tickMinorSize+\",\"+tickY+\"H0\").attr(minorTickAttr_));});ticks.forEach(function(d,i,arr){var tickY=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+-tickMajorSize+\",\"+tickY+\"H0\").attr(tickAttr_));axisSet.push(paper.text(-(Math.max(tickMajorSize,0)+tickPadding),tickY,typeof tickFormat===\"function\"?tickFormat(d):tickFormat).attr({\"text-anchor\":\"end\"}).attr(tickTextAttr_));});axisSet.push(paper.path(\"M\"+-tickEndSize+\",\"+range[0]+\"H0V\"+range[1]+\"H\"+-tickEndSize).attr(domainAttr_));break;case\"right\":subticks.forEach(function(d,i,arr){var tickY=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickMinorSize+\",\"+tickY+\"H0\").attr(minorTickAttr_));});ticks.forEach(function(d,i,arr){var tickY=scale.ticks?scale(d):scale(d)+scale.rangeBand()/2;axisSet.push(paper.path(\"M\"+tickMajorSize+\",\"+tickY+\"H0\").attr(tickAttr_));axisSet.push(paper.text(Math.max(tickMajorSize,0)+tickPadding,tickY,typeof tickFormat===\"function\"?tickFormat(d):tickFormat).attr({\"text-anchor\":\"start\"}).attr(tickTextAttr_));});axisSet.push(paper.path(\"M\"+tickEndSize+\",\"+range[0]+\"H0V\"+range[1]+\"H\"+tickEndSize).attr(domainAttr_));break;}return axisSet;}axis.scale=function(x){if(!arguments.length){return scale;}scale=x;return axis;};axis.orient=function(x){if(!arguments.length){return orient;}orient=x;return axis;};axis.ticks=function(){if(!arguments.length){return tickArguments_;}tickArguments_=arguments;return axis;};axis.tickFormat=function(x){if(!arguments.length){return tickFormat_;}tickFormat_=x;return axis;};axis.tickSize=function(x,y,z){if(!arguments.length){return tickMajorSize;}var n=arguments.length-1;tickMajorSize=+x;tickMinorSize=n>1?+y:tickMajorSize;tickEndSize=n>0?+arguments[n]:tickMajorSize;return axis;};axis.tickPadding=function(x){if(!arguments.length){return tickPadding;}tickPadding=+x;return axis;};axis.tickSubdivide=function(x){if(!arguments.length){return tickSubdivide;}tickSubdivide=+x;return axis;};axis.tickAttr=function(x){if(!arguments.length){return tickAttr_;}tickAttr_=x;return axis;};axis.tickTextAttr=function(x){if(!arguments.length){return tickTextAttr_;}tickTextAttr_=x;return axis;};axis.minorTickAttr=function(x){if(!arguments.length){return minorTickAttr_;}minorTickAttr_=x;return axis;};axis.domainAttr=function(x){if(!arguments.length){return domainAttr_;}domainAttr_=x;return axis;};return axis;};DataV.Axis=Axis;var d3_svg_brush,d3_svg_brushDispatch,d3_svg_brushTarget,d3_svg_brushX,d3_svg_brushY,d3_svg_brushExtent,d3_svg_brushDrag,d3_svg_brushResize,d3_svg_brushCenter,d3_svg_brushOffset,d3_svg_brushEls;function d3_svg_brushRedrawX(brushEls,extent){brushEls.fg.attr({\"x\":extent[0][0],\"width\":extent[1][0]-extent[0][0]});brushEls.resizerSet.forEach(function(el){var orient=el.data(\"resizeOrient\");if(orient===\"n\"||orient===\"s\"||orient===\"w\"||orient===\"nw\"||orient===\"sw\"){el.attr({\"x\":extent[0][0]-2});}else{el.attr({\"x\":extent[1][0]-2});}if(orient===\"n\"||orient===\"s\"){el.attr({\"width\":extent[1][0]-extent[0][0]});}});}function d3_svg_brushRedrawY(brushEls,extent){brushEls.fg.attr({\"y\":extent[0][1],\"height\":extent[1][1]-extent[0][1]});brushEls.resizerSet.forEach(function(el){var orient=el.data(\"resizeOrient\");if(orient===\"n\"||orient===\"e\"||orient===\"w\"||orient===\"nw\"||orient===\"ne\"){el.attr({\"y\":extent[0][1]-3});}else{el.attr({\"y\":extent[1][1]-4});}if(orient===\"e\"||orient===\"w\"){el.attr({\"height\":extent[1][1]-extent[0][1]});}});}function d3_svg_brushMove1(mouse,scale,i){var range=d3_scaleRange(scale),r0=range[0],r1=range[1],offset=d3_svg_brushOffset[i],size=d3_svg_brushExtent[1][i]-d3_svg_brushExtent[0][i],min,max;if(d3_svg_brushDrag){r0-=offset;r1-=size+offset;}min=Math.max(r0,Math.min(r1,mouse[i]));if(d3_svg_brushDrag){max=(min+=offset)+size;}else{if(d3_svg_brushCenter){offset=Math.max(r0,Math.min(r1,2*d3_svg_brushCenter[i]-min));}if(offset<min){max=min;min=offset;}else{max=offset;}}d3_svg_brushExtent[0][i]=min;d3_svg_brushExtent[1][i]=max;}function d3_svg_brushMove(e){if(d3_svg_brushOffset){var bgOffset=(0,_jquery2.default)(d3_svg_brushTarget).offset();var mouse=[e.pageX-bgOffset.left,e.pageY-bgOffset.top];if(!d3_svg_brushDrag){if(e.altKey){if(!d3_svg_brushCenter){d3_svg_brushCenter=[(d3_svg_brushExtent[0][0]+d3_svg_brushExtent[1][0])/2,(d3_svg_brushExtent[0][1]+d3_svg_brushExtent[1][1])/2];}d3_svg_brushOffset[0]=d3_svg_brushExtent[+(mouse[0]<d3_svg_brushCenter[0])][0];d3_svg_brushOffset[1]=d3_svg_brushExtent[+(mouse[1]<d3_svg_brushCenter[1])][1];}else{d3_svg_brushCenter=null;}}if(d3_svg_brushX){d3_svg_brushMove1(mouse,d3_svg_brushX,0);d3_svg_brushRedrawX(d3_svg_brushEls,d3_svg_brushExtent);}if(d3_svg_brushY){d3_svg_brushMove1(mouse,d3_svg_brushY,1);d3_svg_brushRedrawY(d3_svg_brushEls,d3_svg_brushExtent);}d3_svg_brushDispatch(\"brush\");}}function d3_svg_brushKeydown(e){if(e.keyCode===32&&d3_svg_brushTarget&&!d3_svg_brushDrag){d3_svg_brushCenter=null;d3_svg_brushOffset[0]-=d3_svg_brushExtent[1][0];d3_svg_brushOffset[1]-=d3_svg_brushExtent[1][1];d3_svg_brushDrag=2;e.stopPropagation();}}function d3_svg_brushKeyup(e){if(e.keyCode===32&&d3_svg_brushDrag===2){d3_svg_brushOffset[0]+=d3_svg_brushExtent[1][0];d3_svg_brushOffset[1]+=d3_svg_brushExtent[1][1];d3_svg_brushDrag=0;e.stopPropagation();}}function d3_svg_brushUp(e){if(d3_svg_brushOffset){d3_svg_brushMove(e);d3_svg_brushEls.resizerSet.forEach(function(resizer){var orient=resizer.data(\"resizeOrient\");var size=d3_svg_brush.empty()?0:6;if(orient===\"n\"||orient===\"s\"){resizer.attr({\"height\":size});}else{resizer.attr({\"width\":size});}});d3_svg_brushDispatch(\"brushend\");d3_svg_brush=d3_svg_brushDispatch=d3_svg_brushTarget=d3_svg_brushX=d3_svg_brushY=d3_svg_brushExtent=d3_svg_brushDrag=d3_svg_brushResize=d3_svg_brushCenter=d3_svg_brushOffset=d3_svg_brushEls=null;e.stopPropagation();}}var d3_svg_brushCursor={n:\"ns-resize\",e:\"ew-resize\",s:\"ns-resize\",w:\"ew-resize\",nw:\"nwse-resize\",ne:\"nesw-resize\",se:\"nwse-resize\",sw:\"nesw-resize\"};var vml_brushCursor={n:\"row-resize\",e:\"col-resize\",s:\"row-resize\",w:\"col-resize\",nw:\"all-scroll\",ne:\"all-scroll\",se:\"all-scroll\",sw:\"all-scroll\"};var Brush=function Brush(){var event=d3.dispatch(\"brushstart\",\"brush\",\"brushend\"),x,y,extent=[[0,0],[0,0]],e,left,top,width,height,backgroundAttr={\"fill\":\"#dddddd\",\"stroke\":\"none\",\"cursor\":\"crosshair\"},foregroundAttr={\"fill\":\"steelblue\",\"stroke\":\"none\",\"cursor\":\"move\"},brushStart=function brushStart(){},brushing=function brushing(){},brushEnd=function brushEnd(){},brushEls={},brushClass;function down(e){var target=e.target,bgOffset;d3_svg_brush=brush;d3_svg_brushTarget=(0,_jquery2.default)(brushEls.paper.canvas).parent();d3_svg_brushExtent=extent;bgOffset=(0,_jquery2.default)(d3_svg_brushTarget).offset();d3_svg_brushOffset=[e.pageX-bgOffset.left,e.pageY-bgOffset.top];d3_svg_brushEls=brushEls;d3_svg_brushDrag=target.__brushNodeType__===\"fg\"?true:false;if(d3_svg_brushDrag){d3_svg_brushOffset[0]=extent[0][0]-d3_svg_brushOffset[0];d3_svg_brushOffset[1]=extent[0][1]-d3_svg_brushOffset[1];}else if(/^resize/.test(target.__brushNodeType__)){d3_svg_brushResize=target.__brushNodeType__.split(\"_\")[1];d3_svg_brushOffset[0]=extent[+/w$/.test(d3_svg_brushResize)][0];d3_svg_brushOffset[1]=extent[+/^n/.test(d3_svg_brushResize)][1];}else if(e.altKey){d3_svg_brushCenter=d3_svg_brushOffset.slice();}d3_svg_brushX=!/^(n|s)$/.test(d3_svg_brushResize)&&x;d3_svg_brushY=!/^(e|w)$/.test(d3_svg_brushResize)&&y;d3_svg_brushDispatch=dispatcher(this,arguments);d3_svg_brushDispatch(\"brushstart\");d3_svg_brushMove(e);e.stopPropagation();}function brush(paper){var resizes=x&&y?[\"n\",\"e\",\"s\",\"w\",\"nw\",\"ne\",\"se\",\"sw\"]:x?[\"e\",\"w\"]:y?[\"n\",\"s\"]:[];if(x){e=d3_scaleRange(x);left=e[0];width=e[1]-e[0];}if(y){e=d3_scaleRange(y);top=e[0];height=e[1]-e[0];}brushEls.paper=paper;brushEls.brushSet=paper.set();brushEls.resizerSet=paper.set();brushEls.bg=paper.rect(left,top,width,height).attr({\"fill\":\"#dddddd\",\"stroke\":\"none\",\"cursor\":\"crosshair\"}).attr(backgroundAttr);brushEls.bg.node.__brushNodeType__=\"bg\";brushEls.bg.node.ondragstart=function(){return false;};brushClass=\"brush\"+brushEls.bg.id;brushEls.bg.node.setAttribute(\"class\",\"brush bg rvml \"+brushClass);brushEls.bg.node.setAttribute(\"className\",\"brush bg rvml \"+brushClass);brushEls.fg=paper.rect(left,top,x?0:width,y?0:height).attr({\"fill\":\"steelblue\",\"stroke\":\"none\",\"cursor\":\"move\"}).attr(foregroundAttr);brushEls.fg.node.__brushNodeType__=\"fg\";brushEls.fg.node.ondragstart=function(){return false;};brushEls.fg.node.setAttribute(\"class\",\"brush fg rvml \"+brushClass);brushEls.fg.node.setAttribute(\"className\",\"brush fg rvml \"+brushClass);resizes.forEach(function(d){var resizer=paper.rect(left,top,x?6:width,y?6:height).data(\"resizeOrient\",d).attr({\"cursor\":d3_svg_brushCursor[d],\"fill\":\"white\",\"stroke\":\"black\",\"opacity\":0});if(Raphael.vml){resizer.attr({\"cursor\":vml_brushCursor[d]});}if(brush.empty()){if(d===\"n\"||d===\"s\"){resizer.attr({\"height\":0});}else{resizer.attr({\"width\":0});}}resizer.node.__brushNodeType__=\"resizer_\"+d;resizer.node.ondragstart=function(){return false;};resizer.node.setAttribute(\"class\",\"brush rvml \"+brushClass+\" \"+d3_svg_brushCursor[d]);resizer.node.setAttribute(\"className\",\"brush rvml \"+brushClass+\" \"+d3_svg_brushCursor[d]);brushEls.resizerSet.push(resizer);});if(x){d3_svg_brushRedrawX(brushEls,extent);}if(y){d3_svg_brushRedrawY(brushEls,extent);}(0,_jquery2.default)(paper.canvas).on(\"mousedown\",\".\"+brushClass,down);brush.brushElements=brushEls;return brush;}var dispatcher=function dispatcher(that,argumentz){return function(type){var e=d3.event;try{d3.event={type:type,target:brush};event[type].apply(that,argumentz);}finally{d3.event=e;}};};brush.left=function(z){if(!arguments.length){return left;}left=z;return brush;};brush.top=function(z){if(!arguments.length){return top;}top=z;return brush;};brush.width=function(z){if(!arguments.length){return width;}width=z;return brush;};brush.height=function(z){if(!arguments.length){return height;}height=z;return brush;};brush.x=function(z){if(!arguments.length){return x;}x=z;return brush;};brush.y=function(z){if(!arguments.length){return y;}y=z;return brush;};brush.extent=function(z){var x0,x1,y0,y1,t;if(!arguments.length){if(x){x0=extent[0][0];x1=extent[1][0];if(x.invert){x0=x.invert(x0);x1=x.invert(x1);}if(x1<x0){t=x0;x0=x1;x1=t;}}if(y){y0=extent[0][1];y1=extent[1][1];if(y.invert){y0=y.invert(y0);y1=y.invert(y1);}if(y1<y0){t=y0;y0=y1;y1=t;}}return x&&y?[[x0,y0],[x1,y1]]:x?[x0,x1]:y&&[y0,y1];}if(x){x0=z[0];x1=z[1];if(y){x0=x0[0];x1=x1[0];}if(x.invert){x0=x(x0);x1=x(x1);}if(x1<x0){t=x0;x0=x1;x1=t;}extent[0][0]=x0;extent[1][0]=x1;}if(y){y0=z[0];y1=z[1];if(x){y0=y0[1];y1=y1[1];}if(y.invert){y0=y(y0);y1=y(y1);}if(y1<y0){t=y0;y0=y1;y1=t;}extent[0][1]=y0;extent[1][1]=y1;}return brush;};brush.clear=function(){extent[0][0]=extent[0][1]=extent[1][0]=extent[1][1]=0;brush.refresh();return brush;};brush.refresh=function(){if(x){d3_svg_brushRedrawX(brushEls,extent);}if(y){d3_svg_brushRedrawY(brushEls,extent);}return brush;};brush.remove=function(){(0,_jquery2.default)(paper.canvas).off(\"mousedown\",\".\"+brushClass,down);brushEls.fg.remove();brushEls.bg.remove();brushEls.resizerSet.remove();return brush;};brush.empty=function(){return x&&extent[0][0]===extent[1][0]||y&&extent[0][1]===extent[1][1];};brush.backgroundAttr=function(x){if(!arguments.length){return backgroundAttr;}backgroundAttr=x;return brush;};brush.foregroundAttr=function(x){if(!arguments.length){return foregroundAttr;}foregroundAttr=x;return brush;};(0,_jquery2.default)(document).bind(\"mousemove\",d3_svg_brushMove).bind(\"mouseup\",d3_svg_brushUp).bind(\"keydown\",d3_svg_brushKeydown).bind(\"keyup\",d3_svg_brushKeyup);return d3.rebind(brush,event,\"on\");};DataV.Brush=Brush;var FloatTag=function FloatTag(){var _mousemove=function _mousemove(e){var jqNode=e.data.jqNode;var container=e.data.container;var mouseToFloatTag={x:20,y:20};var offset=(0,_jquery2.default)(container).offset();if(!(e.pageX&&e.pageY)){return false;}var x=e.pageX-offset.left,y=e.pageY-offset.top;var position=(0,_jquery2.default)(container).position();setContent.call(this);var floatTagWidth,floatTagHeight;floatTagWidth=jqNode.outerWidth();floatTagHeight=jqNode.outerHeight();if(floatTagWidth+x+2*mouseToFloatTag.x<=(0,_jquery2.default)(container).width()){x+=mouseToFloatTag.x;}else{x=x-floatTagWidth-mouseToFloatTag.x;}if(y>=floatTagHeight+mouseToFloatTag.y){y=y-mouseToFloatTag.y-floatTagHeight;}else{y+=mouseToFloatTag.y;}jqNode.css(\"left\",x+\"px\");jqNode.css(\"top\",y+\"px\");};var setContent=function setContent(){};function floatTag(cont){var container=cont;var jqNode=(0,_jquery2.default)(\"<div/>\").css({\"border\":\"1px solid\",\"border-color\":_jquery2.default.browser.msie?\"rgb(0, 0, 0)\":\"rgba(0, 0, 0, 0.8)\",\"background-color\":_jquery2.default.browser.msie?\"rgb(0, 0, 0)\":\"rgba(0, 0, 0, 0.75)\",\"color\":\"white\",\"border-radius\":\"2px\",\"padding\":\"12px 8px\",\"font-size\":\"12px\",\"box-shadow\":\"3px 3px 6px 0px rgba(0,0,0,0.58)\",\"font-familiy\":\"\",\"z-index\":10000,\"text-align\":\"center\",\"visibility\":\"hidden\",\"position\":\"absolute\"});(0,_jquery2.default)(container).append(jqNode).mousemove({\"jqNode\":jqNode,\"container\":container},_mousemove);return jqNode;}floatTag.setContent=function(sc){if(arguments.length===0){return setContent;}setContent=sc;};return floatTag;};DataV.FloatTag=FloatTag;var theme=DataV.Themes;var Tree=DataV.extend(DataV.Chart,{initialize:function initialize(container,options){this.type=\"Tree\";this.container=container;this.defaults={};this.addlink={};this.treeDepth=0;this.font={};this.defaults.width=750;this.defaults.height=760;this.defaults.deep=180;this.defaults.radius=15;this.setOptions(options);this.emitter=new _eventproxy.EventProxy();this.createCanvas();}});Tree.prototype.on=function(eventName,callback){this.emitter.on(eventName,callback);};Tree.prototype.setOptions=function(options){var prop;if(options){for(prop in options){if(options.hasOwnProperty(prop)){this.defaults[prop]=options[prop];}}}};Tree.prototype.hierarchyTableToJson=function(table){if(table[0][0]===\"ID\"){table=table.slice(1);}var rootID;var hierarchy={};var addlink={};table.forEach(function(d,i){if(d[0]===\"\"){throw new Error(\"ID can not be empty(line:\"+(i+1)+\").\");}if(!d[3]){if(rootID){throw new Error(\"2 or more lines have an empty parentID(line:\"+(i+1)+\").\");}else{rootID=d[0];}}if(hierarchy[d[0]]){throw new Error(\"2 or more lines have same ID: \"+d[0]+\"(line:\"+(i+1)+\").\");}var value=\"\";var j,length;if(d.length>4){for(j=4,length=d.length;j<length;j++){if(j<length-1){value=value+d[j]+\",\";}else{value=value+d[j];}}}hierarchy[d[0]]={name:d[1],size:d[2],child:[],id:d[0],value:value};});if(!rootID){throw new Error(\"No root node defined.\");}table.forEach(function(d,i){if(d[3]){var record;var ids=d[3].split('.');if(ids.length===1){record=hierarchy[d[3]];record.child.push(d[0]);}else{record=hierarchy[ids[0]];record.child.push(d[0]);addlink[d[0]]={child:[],path:[],pnode:[]};var j,length;for(j=1,length=ids.length;j<length;j++){addlink[d[0]].child.push(ids[j]);}}if(!record){throw new Error(\"Can not find parent with ID \"+d[3]+\"(line:\"+(i+1)+\").\");}}});this.addlink=addlink;var recurse=function recurse(rootID){var record=hierarchy[rootID];if(record.child.length===0){if(isNaN(parseFloat(record.size))){throw new Error(\"Leaf node's size is not a number(ID:\"+(rootID+1)+\").\");}else{return{name:record.name,size:record.size,num:record.id,children:null,draw:false,value:record.value};}}else{var childNode=[];record.child.forEach(function(d){childNode.push(recurse(d));});return{name:record.name,children:childNode,num:record.id,draw:false,value:record.value};}};return recurse(rootID);};Tree.prototype.setSource=function(source){var conf=this.defaults;this.rawData=source;this.source=this.remapSource(source);this.source.x0=conf.width/2;this.source.y0=conf.radius*10;if(this.source.children){this.source.children.forEach(function collapse(d){if(d.children){d._children=null;d.children.forEach(collapse);}});}};Tree.prototype.remapSource=function(data){return this.hierarchyTableToJson(data);};Tree.prototype.layout=function(){var conf=this.defaults;var tree=d3.layout.tree().size([conf.width,conf.height]);this.nodesData=tree.nodes(this.source);var treedepth=0;var id=0;this.nodesData.forEach(function(d){if(d.depth>treedepth){treedepth=d.depth;}});this.nodesData.forEach(function(d){d.origDepth=d.depth;d.depth-=Math.max(0,treedepth-5);});treedepth=Math.min(5,treedepth);this.treeDepth=treedepth;conf.deep=conf.height/(treedepth+1);this.nodesData.forEach(function(d){d.y=conf.radius*3+d.depth*conf.deep;d.id=id;id++;});};Tree.prototype.getColor=function(){var colorMatrix=DataV.getColor();var color;if(colorMatrix.length>1&&colorMatrix[0].length>1){color=[colorMatrix[0][0],colorMatrix[1][0]];}else{color=colorMatrix[0];}return DataV.gradientColor(color,\"special\");};Tree.prototype.createCanvas=function(){var conf=this.defaults;var canvasStyle;this.canvas=new Raphael(this.container,conf.width,conf.height);this.canvasF=document.getElementById(this.container);canvasStyle=this.canvasF.style;canvasStyle.position=\"relative\";this.floatTag=DataV.FloatTag()(this.canvasF);this.floatTag.css({\"visibility\":\"hidden\"});this.DOMNode=(0,_jquery2.default)(this.canvas.canvas);var that=this;this.DOMNode.click(function(event){that.emitter.trigger(\"click\",event);});this.DOMNode.dblclick(function(event){that.emitter.trigger(\"dblclick\",event);});var mousewheel=document.all?\"mousewheel\":\"DOMMouseScroll\";this.DOMNode.bind(mousewheel,function(event){that.emitter.trigger(\"mousewheel\",event);});this.DOMNode.bind(\"contextmenu\",function(event){that.emitter.trigger(\"contextmenu\",event);});this.DOMNode.delegate(\"circle\",\"click\",function(event){that.emitter.trigger(\"circle_click\",event);});this.DOMNode.delegate(\"circle\",\"mouseover\",function(event){that.emitter.trigger(\"circle_mouseover\",event);});this.DOMNode.delegate(\"circle\",\"mouseout\",function(event){that.emitter.trigger(\"circle_mouseout\",event);});};Tree.prototype.zoom=function(d){var multiple=2;if(d!==null){multiple=d;}var conf=this.defaults;conf.width=conf.width*multiple;if(conf.height<=this.treeDepth*conf.deep){conf.height=conf.height*multiple;}this.canvas.setSize(conf.width,conf.height);this.canvas.setViewBox(0,0,conf.width,800);this.defaults=conf;this.render();};Tree.prototype.getLinkPath=function(fx,fy,tx,ty){var conf=this.defaults;var c1x=fx;var c1y=fy+(ty-fy)/2;var c2x=tx;var c2y=ty-(ty-fy)/2;var link_path=[[\"M\",fx,fy+conf.radius],[\"C\",c1x,c1y,c2x,c2y,tx,ty-conf.radius]];return link_path;};Tree.prototype.generatePaths=function(){var canvas=this.canvas;var source=this.source;var conf=this.defaults;var radius=conf.radius;var color=this.getColor();var font_family='';var font_size=8;var treedepth=this.treeDepth;var nodesData=this.nodesData;var n=0;var addlink=this.addlink;var node;var num=0;var nodes=canvas.set();var path=[];var textpath=[];var tree=this;var nodeupdate=function nodeupdate(){tree.update(this.data(\"num\"));};(0,_jquery2.default)(\"#\"+this.container).append(this.floatTag);var i,nodesLength;for(i=0,nodesLength=nodesData.length;i<nodesLength;i++){var d=nodesData[i];if(d.depth<0){continue;}var extra=d.value.split(\",\");d.lit=extra[0]==\"1\";d.new=extra[1]==\"1\";if(d.depth==0){if(d.lit){delete d.parent;}else{continue;}}if(d.new){d.draw=true;}var parent=d.parent;if(addlink[d.num]){var j,k,childLength;for(j=0,childLength=addlink[d.num].child.length;j<childLength;j++){for(k=0;k<nodesLength;k++){if(nodesData[k].num===addlink[d.num].child[j]){addlink[d.num].pnode[j]=k;addlink[d.num].path[j]=canvas.path().attr({stroke:\"#939598\",\"stroke-width\":d.lit?2:0.5});}}}}var startX;var startY;if(parent&&d.draw){startX=parent.x;startY=parent.y;}else{startX=d.x;startY=d.y;}var p=null;if(parent){p=canvas.path().attr({stroke:\"#939598\",\"stroke-width\":d.lit?2:0.5});path.push(p);}var circle=canvas.circle(startX,startY,radius).attr({fill:d.lit?color(d.origDepth*1.5):\"#999\",stroke:\"#ffffff\",\"stroke-width\":1,\"fill-opacity\":0.4,\"data\":12}).data(\"num\",i);if(parent&&d.draw){circle.animate({cx:d.x,cy:d.y},500,\"backOut\");}else if(parent){circle.animate({cx:d.x,cy:d.y},0,\"linear\");}nodes.push(circle);d.order=nodes.items.length;if(d.children||d._children){nodes.items.rear().click(nodeupdate);}if(d._children){nodes.items.rear().attr({stroke:color(d.depth/treedepth),\"stroke-width\":radius,\"stroke-opacity\":0.4,\"fill-opacity\":1,\"r\":radius/2});}if(d.children){textpath.push(canvas.text(d.x,d.y-radius-7,d.name).attr({'font-size':12}));}else{textpath.push(canvas.text(d.x,d.y+radius+7,d.name).attr({'font-size':12}));}}var floatTag=this.floatTag;nodes.forEach(function(d,i){var orig=d.data(\"num\");(0,_jquery2.default)(d.node).attr('value',nodesData[orig].value);var textY=textpath[i].attr('y');var thisradius=d.attr('r');var thisstrokewidth=d.attr('stroke-width');d.mouseover(function(){if(!nodesData[orig]._children){this.animate({r:thisradius+2,\"fill-opacity\":0.75},100);}else{this.animate({r:thisradius+2,\"stroke-opacity\":0.75},100);}textpath[i].attr({'font-size':20});if(i>0){if(!nodesData[orig].children){textpath[i].animate({'y':textY+12},100,\"backOut\");}else{textpath[i].animate({'y':textY-12},100,\"backOut\");}}var getFline=function getFline(node,num){var parent=node.parent;if(parent){path[node.order-2].attr({\"stroke-width\":4,\"stroke-opacity\":num});if(num>0.5){num=num-0.1;}getFline(parent,num);}};getFline(nodesData[orig],0.9);var thisparent=nodesData[orig].parent;var j,textpathLength;for(j=0,textpathLength=textpath.length;j<textpathLength;j++){var parent=nodesData[orig].parent;if(parent===thisparent&&j!==nodesData[orig].order-1){textpath[j].animate({'fill-opacity':0.4});}}floatTag.html('<div style = \"text-align: center;margin:auto;color:'+\"#ffffff\"+'\">'+nodesData[orig].name+'</div>');floatTag.css({\"visibility\":\"visible\"});}).mouseout(function(){floatTag.css({\"visibility\":\"hidden\"});if(!nodesData[orig]._children){this.animate({r:thisradius,\"fill-opacity\":0.4},100);}else{this.animate({r:thisradius,\"stroke-width\":thisstrokewidth,\"stroke-opacity\":0.4},100);}textpath[i].attr({'font-size':12});textpath[i].animate({'y':textY},100,\"backOut\");var getFline=function getFline(node){var parent=node.parent;if(parent){path[node.order-2].attr({\"stroke-width\":node.lit?2:0.5,\"stroke-opacity\":1});getFline(parent);}};getFline(nodesData[orig]);var thisparent=nodesData[orig].parent;var j,textpathLength;for(j=0,textpathLength=textpath.length;j<textpathLength;j++){var parent=nodesData[orig].parent;if(parent===thisparent&&j!==nodesData[orig].order-1){textpath[j].animate({'fill-opacity':1});}}});});nodes.onAnimation(function(){var pathNum=0;var i,nodeslength;for(i=1,nodeslength=nodes.length;i<nodeslength;i++){var d=nodes[i],orig=d.data(\"num\");var node=nodesData[orig];var parent=node.parent;path[pathNum].attr({path:tree.getLinkPath(parent.x,parent.y,d.attr(\"cx\"),d.attr(\"cy\"))});pathNum++;if(addlink[node.num]){var j,k,linkchildLength,nodesLength;for(j=0,linkchildLength=addlink[node.num].child.length;j<linkchildLength;j++){for(k=0,nodesLength=nodesData.length;k<nodesLength;k++){var anparent=nodesData[nodes[k].attr(\"orig\")];if(anparent.num===addlink[node.num].child[j]){var link_path=tree.getLinkPath(anparent.x,anparent.y,d.attr(\"cx\"),d.attr(\"cy\"));addlink[node.num].path[j].attr({path:link_path});}}}}}});this.nodes=nodes;this.path=path;this.textpath=textpath;};Tree.prototype.update=function(i){var source=this.source;var conf=this.defaults;source.children.forEach(function clearDraw(d){d.draw=false;if(d.children){d.children.forEach(clearDraw);}});source.children.forEach(function find(d){if(d.id===i){if(d.children){d._children=d.children;d.children=null;}else{d.children=d._children;if(d.children){d.children.forEach(function drawn(child){child.draw=true;if(child.children){child.children.forEach(drawn);}});}d._children=null;}}else{if(d.children){d.children.forEach(find);}}});this.source=source;this.source.x0=conf.width/2;this.source.y0=conf.radius*2;this.render();};Tree.prototype.render=function(options){if(!this.container){throw new Error(\"Please specify which node to render.\");}this.canvas.clear();this.setOptions(options);this.canvas.setSize(this.defaults.width,this.defaults.height);this.layout();this.generatePaths();};Tree.prototype.append=function(arr){var source=this.rawData;for(var i=0;i<source.length;i++){var a=source[i];if(a[5]==\"1\"){a[5]=\"0\";}}if(arr.length<6){arr.push(\"1\");}else{arr[5]=\"1\";}source.push(arr);this.setSource(source);};module.exports=Tree;\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t(function () {\n\t    var EventProxy = function EventProxy() {\n\t        if (!(this instanceof EventProxy)) {\n\t            return new EventProxy();\n\t        }\n\t        this._callbacks = {};\n\t        this._fired = {};\n\t    };\n\t\n\t    EventProxy.prototype.addListener = function (ev, callback) {\n\t        this._callbacks = this._callbacks || {};\n\t        this._callbacks[ev] = this._callbacks[ev] || [];\n\t        this._callbacks[ev].push(callback);\n\t        return this;\n\t    };\n\t    EventProxy.prototype.bind = EventProxy.prototype.addListener;\n\t    EventProxy.prototype.on = EventProxy.prototype.addListener;\n\t    EventProxy.prototype.await = EventProxy.prototype.addListener;\n\t\n\t    EventProxy.prototype.removeListener = function (ev, callback) {\n\t        var calls = this._callbacks,\n\t            i,\n\t            l;\n\t        if (!ev) {\n\t            this._callbacks = {};\n\t        } else if (calls) {\n\t            if (!callback) {\n\t                calls[ev] = [];\n\t            } else {\n\t                var list = calls[ev];\n\t                if (!list) {\n\t                    return this;\n\t                }\n\t                l = list.length;\n\t                for (i = 0; i < l; i++) {\n\t                    if (callback === list[i]) {\n\t                        list[i] = null;\n\t                        break;\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        return this;\n\t    };\n\t    EventProxy.prototype.unbind = EventProxy.prototype.removeListener;\n\t\n\t    EventProxy.prototype.removeAllListeners = function (event) {\n\t        return this.unbind(event);\n\t    };\n\t\n\t    EventProxy.prototype.trigger = function (eventName, data) {\n\t        var list, calls, ev, callback, args, i, l;\n\t        var both = 2;\n\t        if (!(calls = this._callbacks)) {\n\t            return this;\n\t        }\n\t        while (both--) {\n\t            ev = both ? eventName : 'all';\n\t            list = calls[ev];\n\t            if (list) {\n\t                for (i = 0, l = list.length; i < l; i++) {\n\t                    if (!(callback = list[i])) {\n\t                        list.splice(i, 1);i--;l--;\n\t                    } else {\n\t                        args = both ? Array.prototype.slice.call(arguments, 1) : arguments;\n\t                        callback.apply(this, args);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        return this;\n\t    };\n\t    EventProxy.prototype.emit = EventProxy.prototype.trigger;\n\t    EventProxy.prototype.fire = EventProxy.prototype.trigger;\n\t\n\t    EventProxy.prototype.once = function (ev, callback) {\n\t        var self = this,\n\t            wrapper = function wrapper() {\n\t            callback.apply(self, arguments);\n\t            self.unbind(ev, wrapper);\n\t        };\n\t        this.bind(ev, wrapper);\n\t        return this;\n\t    };\n\t\n\t    EventProxy.prototype.immediate = function (ev, callback, data) {\n\t        this.bind(ev, callback);\n\t        this.trigger(ev, data);\n\t        return this;\n\t    };\n\t\n\t    var _assign = function _assign(eventname1, eventname2, cb, once) {\n\t        var proxy = this,\n\t            length,\n\t            index = 0,\n\t            argsLength = arguments.length,\n\t            bind,\n\t            _all2,\n\t            callback,\n\t            events,\n\t            isOnce,\n\t            times = 0,\n\t            flag = {};\n\t\n\t        if (argsLength < 3) {\n\t            return this;\n\t        }\n\t\n\t        events = Array.prototype.slice.apply(arguments, [0, argsLength - 2]);\n\t        callback = arguments[argsLength - 2];\n\t        isOnce = arguments[argsLength - 1];\n\t\n\t        if (typeof callback !== \"function\") {\n\t            return this;\n\t        }\n\t\n\t        length = events.length;\n\t        bind = function bind(key) {\n\t            var method = isOnce ? \"once\" : \"bind\";\n\t            proxy[method](key, function (data) {\n\t                proxy._fired[key] = proxy._fired[key] || {};\n\t                proxy._fired[key].data = data;\n\t                if (!flag[key]) {\n\t                    flag[key] = true;\n\t                    times++;\n\t                }\n\t            });\n\t        };\n\t\n\t        for (index = 0; index < length; index++) {\n\t            bind(events[index]);\n\t        }\n\t\n\t        _all2 = function _all() {\n\t            if (times < length) {\n\t                return;\n\t            }\n\t            var data = [];\n\t            for (index = 0; index < length; index++) {\n\t                data.push(proxy._fired[events[index]].data);\n\t            }\n\t            if (isOnce) {\n\t                proxy.unbind(\"all\", _all2);\n\t            }\n\t            callback.apply(null, data);\n\t        };\n\t        proxy.bind(\"all\", _all2);\n\t    };\n\t\n\t    EventProxy.prototype.all = function (eventname1, eventname2, cb) {\n\t        var args = Array.prototype.concat.apply([], arguments);\n\t        args.push(true);\n\t        _assign.apply(this, args);\n\t        return this;\n\t    };\n\t    EventProxy.prototype.assign = EventProxy.prototype.all;\n\t\n\t    EventProxy.prototype.tail = function () {\n\t        var args = Array.prototype.concat.apply([], arguments);\n\t        args.push(false);\n\t        _assign.apply(this, args);\n\t        return this;\n\t    };\n\t    EventProxy.prototype.assignAll = EventProxy.prototype.tail;\n\t    EventProxy.prototype.assignAlways = EventProxy.prototype.tail;\n\t\n\t    EventProxy.prototype.after = function (eventName, times, callback) {\n\t        if (times === 0) {\n\t            callback.call(null, []);\n\t            return this;\n\t        }\n\t        var proxy = this,\n\t            firedData = [],\n\t            _all3;\n\t        _all3 = function all(name, data) {\n\t            if (name === eventName) {\n\t                times--;\n\t                firedData.push(data);\n\t                if (times < 1) {\n\t                    proxy.unbind(\"all\", _all3);\n\t                    callback.apply(null, [firedData]);\n\t                }\n\t            }\n\t        };\n\t        proxy.bind(\"all\", _all3);\n\t        return this;\n\t    };\n\t\n\t    EventProxy.prototype.any = function () {\n\t        var proxy = this,\n\t            index,\n\t            _bind,\n\t            len = arguments.length,\n\t            callback = arguments[len - 1],\n\t            events = Array.prototype.slice.apply(arguments, [0, len - 1]),\n\t            count = events.length,\n\t            _eventName = events.join(\"_\");\n\t\n\t        proxy.once(_eventName, callback);\n\t\n\t        _bind = function _bind(key) {\n\t            proxy.bind(key, function (data) {\n\t                proxy.trigger(_eventName, { \"data\": data, eventName: key });\n\t            });\n\t        };\n\t\n\t        for (index = 0; index < count; index++) {\n\t            _bind(events[index]);\n\t        }\n\t    };\n\t\n\t    EventProxy.prototype.not = function (eventName, callback) {\n\t        var proxy = this;\n\t        proxy.bind(\"all\", function (name, data) {\n\t            if (name !== eventName) {\n\t                callback(data);\n\t            }\n\t        });\n\t    };\n\t\n\t    EventProxy.create = function () {\n\t        var ep = new EventProxy();\n\t        if (arguments.length) {\n\t            ep.assign.apply(ep, Array.prototype.slice.call(arguments));\n\t        }\n\t        return ep;\n\t    };\n\t\n\t    if (true) {\n\t        exports.EventProxy = EventProxy;\n\t    } else {\n\t        this.EventProxy = EventProxy;\n\t    }\n\t})();\n\n/***/ },\n/* 72 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\"use strict\";var _typeof2=__webpack_require__(6);var _typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require,exports,module){(function(window,undefined){var document=window.document,navigator=window.navigator,location=window.location;var jQuery=function(){var jQuery=function jQuery(selector,context){return new jQuery.fn.init(selector,context,rootjQuery);},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,rnotwhite=/\\S/,trimLeft=/^\\s+/,trimRight=/\\s+$/,rsingleTag=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,rvalidchars=/^[\\],:{}\\s]*$/,rvalidescape=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\\s*\\[)+/g,rwebkit=/(webkit)[ \\/]([\\w.]+)/,ropera=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,rmsie=/(msie) ([\\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/ig,rmsPrefix=/^-ms-/,fcamelCase=function fcamelCase(all,letter){return(letter+\"\").toUpperCase();},userAgent=navigator.userAgent,browserMatch,readyList,_DOMContentLoaded2,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,_slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function init(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this;}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this;}if(selector===\"body\"&&!context&&document.body){this.context=document;this[0]=document.body;this.selector=selector;this.length=1;return this;}if(typeof selector===\"string\"){if(selector.charAt(0)===\"<\"&&selector.charAt(selector.length-1)===\">\"&&selector.length>=3){match=[null,selector,null];}else{match=quickExpr.exec(selector);}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=context?context.ownerDocument||context:document;ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true);}else{selector=[doc.createElement(ret[1])];}}else{ret=jQuery.buildFragment([match[1]],[doc]);selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes;}return jQuery.merge(this,selector);}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector);}this.length=1;this[0]=elem;}this.context=document;this.selector=selector;return this;}}else if(!context||context.jquery){return(context||rootjQuery).find(selector);}else{return this.constructor(context).find(selector);}}else if(jQuery.isFunction(selector)){return rootjQuery.ready(selector);}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context;}return jQuery.makeArray(selector,this);},selector:\"\",jquery:\"1.7.1\",length:0,size:function size(){return this.length;},toArray:function toArray(){return _slice.call(this,0);},get:function get(num){return num==null?this.toArray():num<0?this[this.length+num]:this[num];},pushStack:function pushStack(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems)){push.apply(ret,elems);}else{jQuery.merge(ret,elems);}ret.prevObject=this;ret.context=this.context;if(name===\"find\"){ret.selector=this.selector+(this.selector?\" \":\"\")+selector;}else if(name){ret.selector=this.selector+\".\"+name+\"(\"+selector+\")\";}return ret;},each:function each(callback,args){return jQuery.each(this,callback,args);},ready:function ready(fn){jQuery.bindReady();readyList.add(fn);return this;},eq:function eq(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1);},first:function first(){return this.eq(0);},last:function last(){return this.eq(-1);},slice:function slice(){return this.pushStack(_slice.apply(this,arguments),\"slice\",_slice.call(arguments).join(\",\"));},map:function map(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem);}));},end:function end(){return this.prevObject||this.constructor(null);},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target===\"boolean\"){deep=target;target=arguments[1]||{};i=2;}if((typeof target===\"undefined\"?\"undefined\":(0,_typeof3.default)(target))!==\"object\"&&!jQuery.isFunction(target)){target={};}if(length===i){target=this;--i;}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue;}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[];}else{clone=src&&jQuery.isPlainObject(src)?src:{};}target[name]=jQuery.extend(deep,clone,copy);}else if(copy!==undefined){target[name]=copy;}}}}return target;};jQuery.extend({noConflict:function noConflict(deep){if(window.$===jQuery){window.$=_$;}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery;}return jQuery;},isReady:false,readyWait:1,holdReady:function holdReady(hold){if(hold){jQuery.readyWait++;}else{jQuery.ready(true);}},ready:function ready(wait){if(wait===true&&! --jQuery.readyWait||wait!==true&&!jQuery.isReady){if(!document.body){return setTimeout(jQuery.ready,1);}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return;}readyList.fireWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger(\"ready\").off(\"ready\");}}},bindReady:function bindReady(){if(readyList){return;}readyList=jQuery.Callbacks(\"once memory\");if(document.readyState===\"complete\"){return setTimeout(jQuery.ready,1);}if(document.addEventListener){document.addEventListener(\"DOMContentLoaded\",_DOMContentLoaded2,false);window.addEventListener(\"load\",jQuery.ready,false);}else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",_DOMContentLoaded2);window.attachEvent(\"onload\",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null;}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck();}}},isFunction:function isFunction(obj){return jQuery.type(obj)===\"function\";},isArray:Array.isArray||function(obj){return jQuery.type(obj)===\"array\";},isWindow:function isWindow(obj){return obj&&(typeof obj===\"undefined\"?\"undefined\":(0,_typeof3.default)(obj))===\"object\"&&\"setInterval\"in obj;},isNumeric:function isNumeric(obj){return!isNaN(parseFloat(obj))&&isFinite(obj);},type:function type(obj){return obj==null?String(obj):class2type[toString.call(obj)]||\"object\";},isPlainObject:function isPlainObject(obj){if(!obj||jQuery.type(obj)!==\"object\"||obj.nodeType||jQuery.isWindow(obj)){return false;}try{if(obj.constructor&&!hasOwn.call(obj,\"constructor\")&&!hasOwn.call(obj.constructor.prototype,\"isPrototypeOf\")){return false;}}catch(e){return false;}var key;for(key in obj){}return key===undefined||hasOwn.call(obj,key);},isEmptyObject:function isEmptyObject(obj){for(var name in obj){return false;}return true;},error:function error(msg){throw new Error(msg);},parseJSON:function parseJSON(data){if(typeof data!==\"string\"||!data){return null;}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data);}if(rvalidchars.test(data.replace(rvalidescape,\"@\").replace(rvalidtokens,\"]\").replace(rvalidbraces,\"\"))){return new Function(\"return \"+data)();}jQuery.error(\"Invalid JSON: \"+data);},parseXML:function parseXML(data){var xml,tmp;try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,\"text/xml\");}else{xml=new ActiveXObject(\"Microsoft.XMLDOM\");xml.async=\"false\";xml.loadXML(data);}}catch(e){xml=undefined;}if(!xml||!xml.documentElement||xml.getElementsByTagName(\"parsererror\").length){jQuery.error(\"Invalid XML: \"+data);}return xml;},noop:function noop(){},globalEval:function globalEval(data){if(data&&rnotwhite.test(data)){(window.execScript||function(data){window[\"eval\"].call(window,data);})(data);}},camelCase:function camelCase(string){return string.replace(rmsPrefix,\"ms-\").replace(rdashAlpha,fcamelCase);},nodeName:function nodeName(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase();},each:function each(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break;}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break;}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break;}}}else{for(;i<length;){if(callback.call(object[i],i,object[i++])===false){break;}}}}return object;},trim:trim?function(text){return text==null?\"\":trim.call(text);}:function(text){return text==null?\"\":text.toString().replace(trimLeft,\"\").replace(trimRight,\"\");},makeArray:function makeArray(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);if(array.length==null||type===\"string\"||type===\"function\"||type===\"regexp\"||jQuery.isWindow(array)){push.call(ret,array);}else{jQuery.merge(ret,array);}}return ret;},inArray:function inArray(elem,array,i){var len;if(array){if(indexOf){return indexOf.call(array,elem,i);}len=array.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in array&&array[i]===elem){return i;}}}return-1;},merge:function merge(first,second){var i=first.length,j=0;if(typeof second.length===\"number\"){for(var l=second.length;j<l;j++){first[i++]=second[j];}}else{while(second[j]!==undefined){first[i++]=second[j++];}}first.length=i;return first;},grep:function grep(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i]);}}return ret;},map:function map(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length===\"number\"&&(length>0&&elems[0]&&elems[length-1]||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value;}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value;}}}return ret.concat.apply([],ret);},guid:1,proxy:function proxy(fn,context){if(typeof context===\"string\"){var tmp=fn[context];context=fn;fn=tmp;}if(!jQuery.isFunction(fn)){return undefined;}var args=_slice.call(arguments,2),proxy=function proxy(){return fn.apply(context,args.concat(_slice.call(arguments)));};proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy;},access:function access(elems,key,value,exec,fn,pass){var length=elems.length;if((typeof key===\"undefined\"?\"undefined\":(0,_typeof3.default)(key))===\"object\"){for(var k in key){jQuery.access(elems,k,key[k],exec,fn,value);}return elems;}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);}return elems;}return length?fn(elems[0],key):undefined;},now:function now(){return new Date().getTime();},uaMatch:function uaMatch(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf(\"compatible\")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||\"\",version:match[2]||\"0\"};},sub:function sub(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context);}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context);}return jQuery.fn.init.call(this,selector,context,rootjQuerySub);};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub;},browser:{}});jQuery.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(i,name){class2type[\"[object \"+name+\"]\"]=name.toLowerCase();});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version;}if(jQuery.browser.webkit){jQuery.browser.safari=true;}if(rnotwhite.test(\"\\xA0\")){trimLeft=/^[\\s\\xA0]+/;trimRight=/[\\s\\xA0]+$/;}rootjQuery=jQuery(document);if(document.addEventListener){_DOMContentLoaded2=function DOMContentLoaded(){document.removeEventListener(\"DOMContentLoaded\",_DOMContentLoaded2,false);jQuery.ready();};}else if(document.attachEvent){_DOMContentLoaded2=function _DOMContentLoaded(){if(document.readyState===\"complete\"){document.detachEvent(\"onreadystatechange\",_DOMContentLoaded2);jQuery.ready();}};}function doScrollCheck(){if(jQuery.isReady){return;}try{document.documentElement.doScroll(\"left\");}catch(e){setTimeout(doScrollCheck,1);return;}jQuery.ready();}return jQuery;}();var flagsCache={};function createFlags(flags){var object=flagsCache[flags]={},i,length;flags=flags.split(/\\s+/);for(i=0,length=flags.length;i<length;i++){object[flags[i]]=true;}return object;}jQuery.Callbacks=function(flags){flags=flags?flagsCache[flags]||createFlags(flags):{};var list=[],stack=[],memory,firing,firingStart,firingLength,firingIndex,_add=function _add(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type===\"array\"){_add(elem);}else if(type===\"function\"){if(!flags.unique||!self.has(elem)){list.push(elem);}}}},fire=function fire(context,args){args=args||[];memory=!flags.memory||[context,args];firing=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(context,args)===false&&flags.stopOnFalse){memory=true;break;}}firing=false;if(list){if(!flags.once){if(stack&&stack.length){memory=stack.shift();self.fireWith(memory[0],memory[1]);}}else if(memory===true){self.disable();}else{list=[];}}},self={add:function add(){if(list){var length=list.length;_add(arguments);if(firing){firingLength=list.length;}else if(memory&&memory!==true){firingStart=length;fire(memory[0],memory[1]);}}return this;},remove:function remove(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++){for(var i=0;i<list.length;i++){if(args[argIndex]===list[i]){if(firing){if(i<=firingLength){firingLength--;if(i<=firingIndex){firingIndex--;}}}list.splice(i--,1);if(flags.unique){break;}}}}}return this;},has:function has(fn){if(list){var i=0,length=list.length;for(;i<length;i++){if(fn===list[i]){return true;}}}return false;},empty:function empty(){list=[];return this;},disable:function disable(){list=stack=memory=undefined;return this;},disabled:function disabled(){return!list;},lock:function lock(){stack=undefined;if(!memory||memory===true){self.disable();}return this;},locked:function locked(){return!stack;},fireWith:function fireWith(context,args){if(stack){if(firing){if(!flags.once){stack.push([context,args]);}}else if(!(flags.once&&memory)){fire(context,args);}}return this;},fire:function fire(){self.fireWith(this,arguments);return this;},fired:function fired(){return!!memory;}};return self;};var sliceDeferred=[].slice;jQuery.extend({Deferred:function Deferred(func){var doneList=jQuery.Callbacks(\"once memory\"),failList=jQuery.Callbacks(\"once memory\"),progressList=jQuery.Callbacks(\"memory\"),_state=\"pending\",lists={resolve:doneList,reject:failList,notify:progressList},_promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function state(){return _state;},isResolved:doneList.fired,isRejected:failList.fired,then:function then(doneCallbacks,failCallbacks,progressCallbacks){deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);return this;},always:function always(){deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments);return this;},pipe:function pipe(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,\"resolve\"],fail:[fnFail,\"reject\"],progress:[fnProgress,\"notify\"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn)){deferred[handler](function(){returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify);}else{newDefer[action+\"With\"](this===deferred?newDefer:this,[returned]);}});}else{deferred[handler](newDefer[action]);}});}).promise();},promise:function promise(obj){if(obj==null){obj=_promise;}else{for(var key in _promise){obj[key]=_promise[key];}}return obj;}},deferred=_promise.promise({}),key;for(key in lists){deferred[key]=lists[key].fire;deferred[key+\"With\"]=lists[key].fireWith;}deferred.done(function(){_state=\"resolved\";},failList.disable,progressList.lock).fail(function(){_state=\"rejected\";},doneList.disable,progressList.lock);if(func){func.call(deferred,deferred);}return deferred;},when:function when(firstParam){var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;if(! --count){deferred.resolveWith(deferred,args);}};}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;deferred.notifyWith(promise,pValues);};}if(length>1){for(;i<length;i++){if(args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)){args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i));}else{--count;}}if(!count){deferred.resolveWith(deferred,args);}}else if(deferred!==firstParam){deferred.resolveWith(deferred,length?[firstParam]:[]);}return promise;}});jQuery.support=function(){var support,all,a,select,opt,input,marginDiv,fragment,tds,events,eventName,i,isSupported,div=document.createElement(\"div\"),documentElement=document.documentElement;div.setAttribute(\"className\",\"t\");div.innerHTML=\"   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>\";all=div.getElementsByTagName(\"*\");a=div.getElementsByTagName(\"a\")[0];if(!all||!all.length||!a){return{};}select=document.createElement(\"select\");opt=select.appendChild(document.createElement(\"option\"));input=div.getElementsByTagName(\"input\")[0];support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName(\"tbody\").length,htmlSerialize:!!div.getElementsByTagName(\"link\").length,style:/top/.test(a.getAttribute(\"style\")),hrefNormalized:a.getAttribute(\"href\")===\"/a\",opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:input.value===\"on\",optSelected:opt.selected,getSetAttribute:div.className!==\"t\",enctype:!!document.createElement(\"form\").enctype,html5Clone:document.createElement(\"nav\").cloneNode(true).outerHTML!==\"<:nav></:nav>\",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test;}catch(e){support.deleteExpando=false;}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent(\"onclick\",function(){support.noCloneEvent=false;});div.cloneNode(true).fireEvent(\"onclick\");}input=document.createElement(\"input\");input.value=\"t\";input.setAttribute(\"type\",\"radio\");support.radioValue=input.value===\"t\";input.setAttribute(\"checked\",\"checked\");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);div.innerHTML=\"\";if(window.getComputedStyle){marginDiv=document.createElement(\"div\");marginDiv.style.width=\"0\";marginDiv.style.marginRight=\"0\";div.style.width=\"2px\";div.appendChild(marginDiv);support.reliableMarginRight=(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)===0;}if(div.attachEvent){for(i in{submit:1,change:1,focusin:1}){eventName=\"on\"+i;isSupported=eventName in div;if(!isSupported){div.setAttribute(eventName,\"return;\");isSupported=typeof div[eventName]===\"function\";}support[i+\"Bubbles\"]=isSupported;}}fragment.removeChild(div);fragment=select=opt=marginDiv=div=input=null;jQuery(function(){var container,outer,inner,table,td,offsetSupport,conMarginTop,ptlm,vb,style,html,body=document.getElementsByTagName(\"body\")[0];if(!body){return;}conMarginTop=1;ptlm=\"position:absolute;top:0;left:0;width:1px;height:1px;margin:0;\";vb=\"visibility:hidden;border:0;\";style=\"style='\"+ptlm+\"border:5px solid #000;padding:0;'\";html=\"<div \"+style+\"><div></div></div>\"+\"<table \"+style+\" cellpadding='0' cellspacing='0'>\"+\"<tr><td></td></tr></table>\";container=document.createElement(\"div\");container.style.cssText=vb+\"width:0;height:0;position:static;top:0;margin-top:\"+conMarginTop+\"px\";body.insertBefore(container,body.firstChild);div=document.createElement(\"div\");container.appendChild(div);div.innerHTML=\"<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>\";tds=div.getElementsByTagName(\"td\");isSupported=tds[0].offsetHeight===0;tds[0].style.display=\"\";tds[1].style.display=\"none\";support.reliableHiddenOffsets=isSupported&&tds[0].offsetHeight===0;div.innerHTML=\"\";div.style.width=div.style.paddingLeft=\"1px\";jQuery.boxModel=support.boxModel=div.offsetWidth===2;if(typeof div.style.zoom!==\"undefined\"){div.style.display=\"inline\";div.style.zoom=1;support.inlineBlockNeedsLayout=div.offsetWidth===2;div.style.display=\"\";div.innerHTML=\"<div style='width:4px;'></div>\";support.shrinkWrapBlocks=div.offsetWidth!==2;}div.style.cssText=ptlm+vb;div.innerHTML=html;outer=div.firstChild;inner=outer.firstChild;td=outer.nextSibling.firstChild.firstChild;offsetSupport={doesNotAddBorder:inner.offsetTop!==5,doesAddBorderForTableAndCells:td.offsetTop===5};inner.style.position=\"fixed\";inner.style.top=\"20px\";offsetSupport.fixedPosition=inner.offsetTop===20||inner.offsetTop===15;inner.style.position=inner.style.top=\"\";outer.style.overflow=\"hidden\";outer.style.position=\"relative\";offsetSupport.subtractsBorderForOverflowNotVisible=inner.offsetTop===-5;offsetSupport.doesNotIncludeMarginInBodyOffset=body.offsetTop!==conMarginTop;body.removeChild(container);div=container=null;jQuery.extend(support,offsetSupport);});return support;}();var rbrace=/^(?:\\{.*\\}|\\[.*\\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:\"jQuery\"+(jQuery.fn.jquery+Math.random()).replace(/\\D/g,\"\"),noData:{\"embed\":true,\"object\":\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\"applet\":true},hasData:function hasData(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return!!elem&&!isEmptyDataObject(elem);},data:function data(elem,name,_data,pvt){if(!jQuery.acceptData(elem)){return;}var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName=typeof name===\"string\",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents=name===\"events\";if((!id||!cache[id]||!isEvents&&!pvt&&!cache[id].data)&&getByName&&_data===undefined){return;}if(!id){if(isNode){elem[internalKey]=id=++jQuery.uuid;}else{id=internalKey;}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop;}}if((typeof name===\"undefined\"?\"undefined\":(0,_typeof3.default)(name))===\"object\"||typeof name===\"function\"){if(pvt){cache[id]=jQuery.extend(cache[id],name);}else{cache[id].data=jQuery.extend(cache[id].data,name);}}privateCache=thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={};}thisCache=thisCache.data;}if(_data!==undefined){thisCache[jQuery.camelCase(name)]=_data;}if(isEvents&&!thisCache[name]){return privateCache.events;}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)];}}else{ret=thisCache;}return ret;},removeData:function removeData(elem,name,pvt){if(!jQuery.acceptData(elem)){return;}var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(!cache[id]){return;}if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name];}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name];}else{name=name.split(\" \");}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]];}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return;}}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return;}}if(jQuery.support.deleteExpando||!cache.setInterval){delete cache[id];}else{cache[id]=null;}if(isNode){if(jQuery.support.deleteExpando){delete elem[internalKey];}else if(elem.removeAttribute){elem.removeAttribute(internalKey);}else{elem[internalKey]=null;}}},_data:function _data(elem,name,data){return jQuery.data(elem,name,data,true);},acceptData:function acceptData(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match){return!(match===true||elem.getAttribute(\"classid\")!==match);}}return true;}});jQuery.fn.extend({data:function data(key,value){var parts,attr,name,data=null;if(typeof key===\"undefined\"){if(this.length){data=jQuery.data(this[0]);if(this[0].nodeType===1&&!jQuery._data(this[0],\"parsedAttrs\")){attr=this[0].attributes;for(var i=0,l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf(\"data-\")===0){name=jQuery.camelCase(name.substring(5));dataAttr(this[0],name,data[name]);}}jQuery._data(this[0],\"parsedAttrs\",true);}}return data;}else if((typeof key===\"undefined\"?\"undefined\":(0,_typeof3.default)(key))===\"object\"){return this.each(function(){jQuery.data(this,key);});}parts=key.split(\".\");parts[1]=parts[1]?\".\"+parts[1]:\"\";if(value===undefined){data=this.triggerHandler(\"getData\"+parts[1]+\"!\",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key);data=dataAttr(this[0],key,data);}return data===undefined&&parts[1]?this.data(parts[0]):data;}else{return this.each(function(){var self=jQuery(this),args=[parts[0],value];self.triggerHandler(\"setData\"+parts[1]+\"!\",args);jQuery.data(this,key,value);self.triggerHandler(\"changeData\"+parts[1]+\"!\",args);});}},removeData:function removeData(key){return this.each(function(){jQuery.removeData(this,key);});}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name=\"data-\"+key.replace(rmultiDash,\"-$1\").toLowerCase();data=elem.getAttribute(name);if(typeof data===\"string\"){try{data=data===\"true\"?true:data===\"false\"?false:data===\"null\"?null:jQuery.isNumeric(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data;}catch(e){}jQuery.data(elem,key,data);}else{data=undefined;}}return data;}function isEmptyDataObject(obj){for(var name in obj){if(name===\"data\"&&jQuery.isEmptyObject(obj[name])){continue;}if(name!==\"toJSON\"){return false;}}return true;}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+\"defer\",queueDataKey=type+\"queue\",markDataKey=type+\"mark\",defer=jQuery._data(elem,deferDataKey);if(defer&&(src===\"queue\"||!jQuery._data(elem,queueDataKey))&&(src===\"mark\"||!jQuery._data(elem,markDataKey))){setTimeout(function(){if(!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey)){jQuery.removeData(elem,deferDataKey,true);defer.fire();}},0);}}jQuery.extend({_mark:function _mark(elem,type){if(elem){type=(type||\"fx\")+\"mark\";jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1);}},_unmark:function _unmark(force,elem,type){if(force!==true){type=elem;elem=force;force=false;}if(elem){type=type||\"fx\";var key=type+\"mark\",count=force?0:(jQuery._data(elem,key)||1)-1;if(count){jQuery._data(elem,key,count);}else{jQuery.removeData(elem,key,true);handleQueueMarkDefer(elem,type,\"mark\");}}},queue:function queue(elem,type,data){var q;if(elem){type=(type||\"fx\")+\"queue\";q=jQuery._data(elem,type);if(data){if(!q||jQuery.isArray(data)){q=jQuery._data(elem,type,jQuery.makeArray(data));}else{q.push(data);}}return q||[];}},dequeue:function dequeue(elem,type){type=type||\"fx\";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};if(fn===\"inprogress\"){fn=queue.shift();}if(fn){if(type===\"fx\"){queue.unshift(\"inprogress\");}jQuery._data(elem,type+\".run\",hooks);fn.call(elem,function(){jQuery.dequeue(elem,type);},hooks);}if(!queue.length){jQuery.removeData(elem,type+\"queue \"+type+\".run\",true);handleQueueMarkDefer(elem,type,\"queue\");}}});jQuery.fn.extend({queue:function queue(type,data){if(typeof type!==\"string\"){data=type;type=\"fx\";}if(data===undefined){return jQuery.queue(this[0],type);}return this.each(function(){var queue=jQuery.queue(this,type,data);if(type===\"fx\"&&queue[0]!==\"inprogress\"){jQuery.dequeue(this,type);}});},dequeue:function dequeue(type){return this.each(function(){jQuery.dequeue(this,type);});},delay:function delay(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||\"fx\";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout);};});},clearQueue:function clearQueue(type){return this.queue(type||\"fx\",[]);},promise:function promise(type,object){if(typeof type!==\"string\"){object=type;type=undefined;}type=type||\"fx\";var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+\"defer\",queueDataKey=type+\"queue\",markDataKey=type+\"mark\",tmp;function resolve(){if(! --count){defer.resolveWith(elements,[elements]);}}while(i--){if(tmp=jQuery.data(elements[i],deferDataKey,undefined,true)||(jQuery.data(elements[i],queueDataKey,undefined,true)||jQuery.data(elements[i],markDataKey,undefined,true))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks(\"once memory\"),true)){count++;tmp.add(resolve);}}resolve();return defer.promise();}});var rclass=/[\\n\\t\\r]/g,rspace=/\\s+/,rreturn=/\\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;jQuery.fn.extend({attr:function attr(name,value){return jQuery.access(this,name,value,true,jQuery.attr);},removeAttr:function removeAttr(name){return this.each(function(){jQuery.removeAttr(this,name);});},prop:function prop(name,value){return jQuery.access(this,name,value,true,jQuery.prop);},removeProp:function removeProp(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name];}catch(e){}});},addClass:function addClass(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className));});}if(value&&typeof value===\"string\"){classNames=value.split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value;}else{setClass=\" \"+elem.className+\" \";for(c=0,cl=classNames.length;c<cl;c++){if(!~setClass.indexOf(\" \"+classNames[c]+\" \")){setClass+=classNames[c]+\" \";}}elem.className=jQuery.trim(setClass);}}}}return this;},removeClass:function removeClass(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className));});}if(value&&typeof value===\"string\"||value===undefined){classNames=(value||\"\").split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){if(value){className=(\" \"+elem.className+\" \").replace(rclass,\" \");for(c=0,cl=classNames.length;c<cl;c++){className=className.replace(\" \"+classNames[c]+\" \",\" \");}elem.className=jQuery.trim(className);}else{elem.className=\"\";}}}}return this;},toggleClass:function toggleClass(value,stateVal){var type=typeof value===\"undefined\"?\"undefined\":(0,_typeof3.default)(value),isBool=typeof stateVal===\"boolean\";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal);});}return this.each(function(){if(type===\"string\"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while(className=classNames[i++]){state=isBool?state:!self.hasClass(className);self[state?\"addClass\":\"removeClass\"](className);}}else if(type===\"undefined\"||type===\"boolean\"){if(this.className){jQuery._data(this,\"__className__\",this.className);}this.className=this.className||value===false?\"\":jQuery._data(this,\"__className__\")||\"\";}});},hasClass:function hasClass(selector){var className=\" \"+selector+\" \",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(\" \"+this[i].className+\" \").replace(rclass,\" \").indexOf(className)>-1){return true;}}return false;},val:function val(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.nodeName.toLowerCase()]||jQuery.valHooks[elem.type];if(hooks&&\"get\"in hooks&&(ret=hooks.get(elem,\"value\"))!==undefined){return ret;}ret=elem.value;return typeof ret===\"string\"?ret.replace(rreturn,\"\"):ret==null?\"\":ret;}return;}isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val;if(this.nodeType!==1){return;}if(isFunction){val=value.call(this,i,self.val());}else{val=value;}if(val==null){val=\"\";}else if(typeof val===\"number\"){val+=\"\";}else if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?\"\":value+\"\";});}hooks=jQuery.valHooks[this.nodeName.toLowerCase()]||jQuery.valHooks[this.type];if(!hooks||!(\"set\"in hooks)||hooks.set(this,val,\"value\")===undefined){this.value=val;}});}});jQuery.extend({valHooks:{option:{get:function get(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text;}},select:{get:function get(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type===\"select-one\";if(index<0){return null;}i=one?index:0;max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute(\"disabled\")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,\"optgroup\"))){value=jQuery(option).val();if(one){return value;}values.push(value);}}if(one&&!values.length&&options.length){return jQuery(options[index]).val();}return values;},set:function set(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find(\"option\").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0;});if(!values.length){elem.selectedIndex=-1;}return values;}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function attr(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value);}if(typeof elem.getAttribute===\"undefined\"){return jQuery.prop(elem,name,value);}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook);}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return;}else if(hooks&&\"set\"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{elem.setAttribute(name,\"\"+value);return value;}}else if(hooks&&\"get\"in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret;}else{ret=elem.getAttribute(name);return ret===null?undefined:ret;}},removeAttr:function removeAttr(elem,value){var propName,attrNames,name,l,i=0;if(value&&elem.nodeType===1){attrNames=value.toLowerCase().split(rspace);l=attrNames.length;for(;i<l;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;jQuery.attr(elem,name,\"\");elem.removeAttribute(getSetAttribute?name:propName);if(rboolean.test(name)&&propName in elem){elem[propName]=false;}}}}},attrHooks:{type:{set:function set(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error(\"type property can't be changed\");}else if(!jQuery.support.radioValue&&value===\"radio\"&&jQuery.nodeName(elem,\"input\")){var val=elem.value;elem.setAttribute(\"type\",value);if(val){elem.value=val;}return value;}}},value:{get:function get(elem,name){if(nodeHook&&jQuery.nodeName(elem,\"button\")){return nodeHook.get(elem,name);}return name in elem?elem.value:null;},set:function set(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,\"button\")){return nodeHook.set(elem,value,name);}elem.value=value;}}},propFix:{tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},prop:function prop(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return;}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name];}if(value!==undefined){if(hooks&&\"set\"in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret;}else{return elem[name]=value;}}else{if(hooks&&\"get\"in hooks&&(ret=hooks.get(elem,name))!==null){return ret;}else{return elem[name];}}},propHooks:{tabIndex:{get:function get(elem){var attributeNode=elem.getAttributeNode(\"tabindex\");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined;}}}});jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex;boolHook={get:function get(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!==\"boolean\"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined;},set:function set(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name);}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true;}elem.setAttribute(name,name.toLowerCase());}return name;}};if(!getSetAttribute){fixSpecified={name:true,id:true};nodeHook=jQuery.valHooks.button={get:function get(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.nodeValue!==\"\":ret.specified)?ret.nodeValue:undefined;},set:function set(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret);}return ret.nodeValue=value+\"\";}};jQuery.attrHooks.tabindex.set=nodeHook.set;jQuery.each([\"width\",\"height\"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function set(elem,value){if(value===\"\"){elem.setAttribute(name,\"auto\");return value;}}});});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function set(elem,value,name){if(value===\"\"){value=\"false\";}nodeHook.set(elem,value,name);}};}if(!jQuery.support.hrefNormalized){jQuery.each([\"href\",\"src\",\"width\",\"height\"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function get(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret;}});});}if(!jQuery.support.style){jQuery.attrHooks.style={get:function get(elem){return elem.style.cssText.toLowerCase()||undefined;},set:function set(elem,value){return elem.style.cssText=\"\"+value;}};}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function get(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex;}}return null;}});}if(!jQuery.support.enctype){jQuery.propFix.enctype=\"encoding\";}if(!jQuery.support.checkOn){jQuery.each([\"radio\",\"checkbox\"],function(){jQuery.valHooks[this]={get:function get(elem){return elem.getAttribute(\"value\")===null?\"on\":elem.value;}};});}jQuery.each([\"radio\",\"checkbox\"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function set(elem,value){if(jQuery.isArray(value)){return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0;}}});});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\\.]*)?(?:\\.(.+))?$/,rhoverHack=/\\bhover(\\.\\S+)?\\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,quickParse=function quickParse(selector){var quick=rquickIs.exec(selector);if(quick){quick[1]=(quick[1]||\"\").toLowerCase();quick[3]=quick[3]&&new RegExp(\"(?:^|\\\\s)\"+quick[3]+\"(?:\\\\s|$)\");}return quick;},quickIs=function quickIs(elem,m){var attrs=elem.attributes||{};return(!m[1]||elem.nodeName.toLowerCase()===m[1])&&(!m[2]||(attrs.id||{}).value===m[2])&&(!m[3]||m[3].test((attrs[\"class\"]||{}).value));},hoverHack=function hoverHack(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,\"mouseenter$1 mouseleave$1\");};jQuery.event={add:function add(elem,types,handler,data,selector){var elemData,_eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return;}if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler;}if(!handler.guid){handler.guid=jQuery.guid++;}events=elemData.events;if(!events){elemData.events=events={};}_eventHandle=elemData.handle;if(!_eventHandle){elemData.handle=_eventHandle=function eventHandle(e){return typeof jQuery!==\"undefined\"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(_eventHandle.elem,arguments):undefined;};_eventHandle.elem=elem;}types=jQuery.trim(hoverHack(types)).split(\" \");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||\"\").split(\".\").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:quickParse(selector),namespace:namespaces.join(\".\")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,_eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,_eventHandle,false);}else if(elem.attachEvent){elem.attachEvent(\"on\"+type,_eventHandle);}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid;}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj);}else{handlers.push(handleObj);}jQuery.event.global[type]=true;}elem=null;},global:{},remove:function remove(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(!elemData||!(events=elemData.events)){return;}types=jQuery.trim(hoverHack(types||\"\")).split(\" \");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true);}continue;}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp(\"(^|\\\\.)\"+namespaces.split(\".\").sort().join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector===\"**\"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--;}if(special.remove){special.remove.call(elem,handleObj);}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces)===false){jQuery.removeEvent(elem,type,elemData.handle);}delete events[type];}}if(jQuery.isEmptyObject(events)){handle=elemData.handle;if(handle){handle.elem=null;}jQuery.removeData(elem,[\"events\",\"handle\"],true);}},customEvent:{\"getData\":true,\"setData\":true,\"changeData\":true},trigger:function trigger(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return;}var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(rfocusMorph.test(type+jQuery.event.triggered)){return;}if(type.indexOf(\"!\")>=0){type=type.slice(0,-1);exclusive=true;}if(type.indexOf(\".\")>=0){namespaces=type.split(\".\");type=namespaces.shift();namespaces.sort();}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return;}event=(typeof event===\"undefined\"?\"undefined\":(0,_typeof3.default)(event))===\"object\"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(\".\");event.namespace_re=event.namespace?new RegExp(\"(^|\\\\.)\"+namespaces.join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null;ontype=type.indexOf(\":\")<0?\"on\"+type:\"\";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true);}}return;}event.result=undefined;if(!event.target){event.target=elem;}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return;}eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;old=null;for(;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur;}if(old&&old===elem.ownerDocument){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType]);}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,\"events\")||{})[event.type]&&jQuery._data(cur,\"handle\");if(handle){handle.apply(cur,data);}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault();}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type===\"click\"&&jQuery.nodeName(elem,\"a\"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&(type!==\"focus\"&&type!==\"blur\"||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null;}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old;}}}}return event.result;},dispatch:function dispatch(event){event=jQuery.event.fix(event||window.event);var handlers=(jQuery._data(this,\"events\")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;args[0]=event;event.delegateTarget=this;if(delegateCount&&!event.target.disabled&&!(event.button&&event.type===\"click\")){jqcur=jQuery(this);jqcur.context=this.ownerDocument||this;for(cur=event.target;cur!=this;cur=cur.parentNode||this){selMatch={};matches=[];jqcur[0]=cur;for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel);}if(selMatch[sel]){matches.push(handleObj);}}if(matches.length){handlerQueue.push({elem:cur,matches:matches});}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation();}}}}}return event.result;},props:\"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function filter(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode;}return event;}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function filter(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement;}if(!event.which&&button!==undefined){event.which=button&1?1:button&2?3:button&4?2:0;}return event;}},fix:function fix(event){if(event[jQuery.expando]){return event;}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop];}if(!event.target){event.target=originalEvent.srcElement||document;}if(event.target.nodeType===3){event.target=event.target.parentNode;}if(event.metaKey===undefined){event.metaKey=event.ctrlKey;}return fixHook.filter?fixHook.filter(event,originalEvent):event;},special:{ready:{setup:jQuery.bindReady},load:{noBubble:true},focus:{delegateType:\"focusin\"},blur:{delegateType:\"focusout\"},beforeunload:{setup:function setup(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle;}},teardown:function teardown(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null;}}}},simulate:function simulate(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem);}else{jQuery.event.dispatch.call(elem,e);}if(e.isDefaultPrevented()){event.preventDefault();}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false);}}:function(elem,type,handle){if(elem.detachEvent){elem.detachEvent(\"on\"+type,handle);}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props);}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse;}else{this.type=src;}if(props){jQuery.extend(this,props);}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true;};function returnFalse(){return false;}function returnTrue(){return true;}jQuery.Event.prototype={preventDefault:function preventDefault(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return;}if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}},stopPropagation:function stopPropagation(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return;}if(e.stopPropagation){e.stopPropagation();}e.cancelBubble=true;},stopImmediatePropagation:function stopImmediatePropagation(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation();},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function handle(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||related!==target&&!jQuery.contains(target,related)){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix;}return ret;}};});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function setup(){if(jQuery.nodeName(this,\"form\")){return false;}jQuery.event.add(this,\"click._submit keypress._submit\",function(e){var elem=e.target,form=jQuery.nodeName(elem,\"input\")||jQuery.nodeName(elem,\"button\")?elem.form:undefined;if(form&&!form._submit_attached){jQuery.event.add(form,\"submit._submit\",function(event){if(this.parentNode&&!event.isTrigger){jQuery.event.simulate(\"submit\",this.parentNode,event,true);}});form._submit_attached=true;}});},teardown:function teardown(){if(jQuery.nodeName(this,\"form\")){return false;}jQuery.event.remove(this,\"._submit\");}};}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function setup(){if(rformElems.test(this.nodeName)){if(this.type===\"checkbox\"||this.type===\"radio\"){jQuery.event.add(this,\"propertychange._change\",function(event){if(event.originalEvent.propertyName===\"checked\"){this._just_changed=true;}});jQuery.event.add(this,\"click._change\",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;jQuery.event.simulate(\"change\",this,event,true);}});}return false;}jQuery.event.add(this,\"beforeactivate._change\",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!elem._change_attached){jQuery.event.add(elem,\"change._change\",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate(\"change\",this.parentNode,event,true);}});elem._change_attached=true;}});},handle:function handle(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!==\"radio\"&&elem.type!==\"checkbox\"){return event.handleObj.handler.apply(this,arguments);}},teardown:function teardown(){jQuery.event.remove(this,\"._change\");return rformElems.test(this.nodeName);}};}if(!jQuery.support.focusinBubbles){jQuery.each({focus:\"focusin\",blur:\"focusout\"},function(orig,fix){var attaches=0,handler=function handler(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true);};jQuery.event.special[fix]={setup:function setup(){if(attaches++===0){document.addEventListener(orig,handler,true);}},teardown:function teardown(){if(--attaches===0){document.removeEventListener(orig,handler,true);}}};});}jQuery.fn.extend({on:function on(types,selector,data,fn,one){var origFn,type;if((typeof types===\"undefined\"?\"undefined\":(0,_typeof3.default)(types))===\"object\"){if(typeof selector!==\"string\"){data=selector;selector=undefined;}for(type in types){this.on(type,selector,data,types[type],one);}return this;}if(data==null&&fn==null){fn=selector;data=selector=undefined;}else if(fn==null){if(typeof selector===\"string\"){fn=data;data=undefined;}else{fn=data;data=selector;selector=undefined;}}if(fn===false){fn=returnFalse;}else if(!fn){return this;}if(one===1){origFn=fn;fn=function fn(event){jQuery().off(event);return origFn.apply(this,arguments);};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++);}return this.each(function(){jQuery.event.add(this,types,fn,data,selector);});},one:function one(types,selector,data,fn){return this.on.call(this,types,selector,data,fn,1);},off:function off(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.type+\".\"+handleObj.namespace:handleObj.type,handleObj.selector,handleObj.handler);return this;}if((typeof types===\"undefined\"?\"undefined\":(0,_typeof3.default)(types))===\"object\"){for(var type in types){this.off(type,selector,types[type]);}return this;}if(selector===false||typeof selector===\"function\"){fn=selector;selector=undefined;}if(fn===false){fn=returnFalse;}return this.each(function(){jQuery.event.remove(this,types,fn,selector);});},bind:function bind(types,data,fn){return this.on(types,null,data,fn);},unbind:function unbind(types,fn){return this.off(types,null,fn);},live:function live(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this;},die:function die(types,fn){jQuery(this.context).off(types,this.selector||\"**\",fn);return this;},delegate:function delegate(selector,types,data,fn){return this.on(types,selector,data,fn);},undelegate:function undelegate(selector,types,fn){return arguments.length==1?this.off(selector,\"**\"):this.off(types,selector,fn);},trigger:function trigger(type,data){return this.each(function(){jQuery.event.trigger(type,data,this);});},triggerHandler:function triggerHandler(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true);}},toggle:function toggle(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function toggler(event){var lastToggle=(jQuery._data(this,\"lastToggle\"+fn.guid)||0)%i;jQuery._data(this,\"lastToggle\"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false;};toggler.guid=guid;while(i<args.length){args[i++].guid=guid;}return this.click(toggler);},hover:function hover(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver);}});jQuery.each((\"blur focus focusin focusout load resize scroll unload click dblclick \"+\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \"+\"change select submit keydown keypress keyup error contextmenu\").split(\" \"),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null;}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};if(jQuery.attrFn){jQuery.attrFn[name]=true;}if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks;}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks;}});(function(){var chunker=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,expando=\"sizcache\"+(Math.random()+'').replace('.',''),done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true,rBackslash=/\\\\/g,rReturn=/\\r\\n/g,rNonWord=/\\W/;[0,0].sort(function(){baseHasDuplicate=false;return 0;});var _Sizzle2=function Sizzle(selector,context,results,seed){results=results||[];context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9){return[];}if(!selector||typeof selector!==\"string\"){return results;}var m,set,checkSet,extra,ret,cur,pop,i,prune=true,contextXML=_Sizzle2.isXML(context),parts=[],soFar=selector;do{chunker.exec(\"\");m=chunker.exec(soFar);if(m){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break;}}}while(m);if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context,seed);}else{set=Expr.relative[parts[0]]?[context]:_Sizzle2(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift();}set=posProcess(selector,set,seed);}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){ret=_Sizzle2.find(parts.shift(),context,contextXML);context=ret.expr?_Sizzle2.filter(ret.expr,ret.set)[0]:ret.set[0];}if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:_Sizzle2.find(parts.pop(),parts.length===1&&(parts[0]===\"~\"||parts[0]===\"+\")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?_Sizzle2.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set);}else{prune=false;}while(parts.length){cur=parts.pop();pop=cur;if(!Expr.relative[cur]){cur=\"\";}else{pop=parts.pop();}if(pop==null){pop=context;}Expr.relative[cur](checkSet,pop,contextXML);}}else{checkSet=parts=[];}}if(!checkSet){checkSet=set;}if(!checkSet){_Sizzle2.error(cur||selector);}if(toString.call(checkSet)===\"[object Array]\"){if(!prune){results.push.apply(results,checkSet);}else if(context&&context.nodeType===1){for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&_Sizzle2.contains(context,checkSet[i]))){results.push(set[i]);}}}else{for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i]);}}}}else{makeArray(checkSet,results);}if(extra){_Sizzle2(extra,origContext,results,seed);_Sizzle2.uniqueSort(results);}return results;};_Sizzle2.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1);}}}}return results;};_Sizzle2.matches=function(expr,set){return _Sizzle2(expr,null,null,set);};_Sizzle2.matchesSelector=function(node,expr){return _Sizzle2(expr,null,null,[node]).length>0;};_Sizzle2.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr){return[];}for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if(match=Expr.leftMatch[type].exec(expr)){left=match[1];match.splice(1,1);if(left.substr(left.length-1)!==\"\\\\\"){match[1]=(match[1]||\"\").replace(rBackslash,\"\");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],\"\");break;}}}}if(!set){set=typeof context.getElementsByTagName!==\"undefined\"?context.getElementsByTagName(\"*\"):[];}return{set:set,expr:expr};};_Sizzle2.filter=function(expr,set,inplace,not){var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&_Sizzle2.isXML(set[0]);while(expr&&set.length){for(type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){filter=Expr.filter[type];left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)===\"\\\\\"){continue;}if(curLoop===result){result=[];}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true;}else if(match===true){continue;}}if(match){for(i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);pass=not^found;if(inplace&&found!=null){if(pass){anyFound=true;}else{curLoop[i]=false;}}else if(pass){result.push(item);anyFound=true;}}}}if(found!==undefined){if(!inplace){curLoop=result;}expr=expr.replace(Expr.match[type],\"\");if(!anyFound){return[];}break;}}}if(expr===old){if(anyFound==null){_Sizzle2.error(expr);}else{break;}}old=expr;}return curLoop;};_Sizzle2.error=function(msg){throw new Error(\"Syntax error, unrecognized expression: \"+msg);};var getText=_Sizzle2.getText=function(elem){var i,node,nodeType=elem.nodeType,ret=\"\";if(nodeType){if(nodeType===1||nodeType===9){if(typeof elem.textContent==='string'){return elem.textContent;}else if(typeof elem.innerText==='string'){return elem.innerText.replace(rReturn,'');}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}}else{for(i=0;node=elem[i];i++){if(node.nodeType!==8){ret+=getText(node);}}}return ret;};var Expr=_Sizzle2.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function href(elem){return elem.getAttribute(\"href\");},type:function type(elem){return elem.getAttribute(\"type\");}},relative:{\"+\":function _(checkSet,part){var isPartStr=typeof part===\"string\",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase();}for(var i=0,l=checkSet.length,elem;i<l;i++){if(elem=checkSet[i]){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part;}}if(isPartStrNotTag){_Sizzle2.filter(part,checkSet,true);}},\">\":function _(checkSet,part){var elem,isPartStr=typeof part===\"string\",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false;}}}else{for(;i<l;i++){elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part;}}if(isPartStr){_Sizzle2.filter(part,checkSet,true);}}},\"\":function _(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part===\"string\"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck;}checkFn(\"parentNode\",part,doneName,checkSet,nodeCheck,isXML);},\"~\":function _(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part===\"string\"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck;}checkFn(\"previousSibling\",part,doneName,checkSet,nodeCheck,isXML);}},find:{ID:function ID(match,context,isXML){if(typeof context.getElementById!==\"undefined\"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[];}},NAME:function NAME(match,context){if(typeof context.getElementsByName!==\"undefined\"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute(\"name\")===match[1]){ret.push(results[i]);}}return ret.length===0?null:ret;}},TAG:function TAG(match,context){if(typeof context.getElementsByTagName!==\"undefined\"){return context.getElementsByTagName(match[1]);}}},preFilter:{CLASS:function CLASS(match,curLoop,inplace,result,not,isXML){match=\" \"+match[1].replace(rBackslash,\"\")+\" \";if(isXML){return match;}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(\" \"+elem.className+\" \").replace(/[\\t\\n\\r]/g,\" \").indexOf(match)>=0)){if(!inplace){result.push(elem);}}else if(inplace){curLoop[i]=false;}}}return false;},ID:function ID(match){return match[1].replace(rBackslash,\"\");},TAG:function TAG(match,curLoop){return match[1].replace(rBackslash,\"\").toLowerCase();},CHILD:function CHILD(match){if(match[1]===\"nth\"){if(!match[2]){_Sizzle2.error(match[0]);}match[2]=match[2].replace(/^\\+|\\s*/g,'');var test=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(match[2]===\"even\"&&\"2n\"||match[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(match[2])&&\"0n+\"+match[2]||match[2]);match[2]=test[1]+(test[2]||1)-0;match[3]=test[3]-0;}else if(match[2]){_Sizzle2.error(match[0]);}match[0]=done++;return match;},ATTR:function ATTR(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,\"\");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name];}match[4]=(match[4]||match[5]||\"\").replace(rBackslash,\"\");if(match[2]===\"~=\"){match[4]=\" \"+match[4]+\" \";}return match;},PSEUDO:function PSEUDO(match,curLoop,inplace,result,not){if(match[1]===\"not\"){if((chunker.exec(match[3])||\"\").length>1||/^\\w/.test(match[3])){match[3]=_Sizzle2(match[3],null,null,curLoop);}else{var ret=_Sizzle2.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret);}return false;}}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true;}return match;},POS:function POS(match){match.unshift(true);return match;}},filters:{enabled:function enabled(elem){return elem.disabled===false&&elem.type!==\"hidden\";},disabled:function disabled(elem){return elem.disabled===true;},checked:function checked(elem){return elem.checked===true;},selected:function selected(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}return elem.selected===true;},parent:function parent(elem){return!!elem.firstChild;},empty:function empty(elem){return!elem.firstChild;},has:function has(elem,i,match){return!!_Sizzle2(match[3],elem).length;},header:function header(elem){return /h\\d/i.test(elem.nodeName);},text:function text(elem){var attr=elem.getAttribute(\"type\"),type=elem.type;return elem.nodeName.toLowerCase()===\"input\"&&\"text\"===type&&(attr===type||attr===null);},radio:function radio(elem){return elem.nodeName.toLowerCase()===\"input\"&&\"radio\"===elem.type;},checkbox:function checkbox(elem){return elem.nodeName.toLowerCase()===\"input\"&&\"checkbox\"===elem.type;},file:function file(elem){return elem.nodeName.toLowerCase()===\"input\"&&\"file\"===elem.type;},password:function password(elem){return elem.nodeName.toLowerCase()===\"input\"&&\"password\"===elem.type;},submit:function submit(elem){var name=elem.nodeName.toLowerCase();return(name===\"input\"||name===\"button\")&&\"submit\"===elem.type;},image:function image(elem){return elem.nodeName.toLowerCase()===\"input\"&&\"image\"===elem.type;},reset:function reset(elem){var name=elem.nodeName.toLowerCase();return(name===\"input\"||name===\"button\")&&\"reset\"===elem.type;},button:function button(elem){var name=elem.nodeName.toLowerCase();return name===\"input\"&&\"button\"===elem.type||name===\"button\";},input:function input(elem){return /input|select|textarea|button/i.test(elem.nodeName);},focus:function focus(elem){return elem===elem.ownerDocument.activeElement;}},setFilters:{first:function first(elem,i){return i===0;},last:function last(elem,i,match,array){return i===array.length-1;},even:function even(elem,i){return i%2===0;},odd:function odd(elem,i){return i%2===1;},lt:function lt(elem,i,match){return i<match[3]-0;},gt:function gt(elem,i,match){return i>match[3]-0;},nth:function nth(elem,i,match){return match[3]-0===i;},eq:function eq(elem,i,match){return match[3]-0===i;}},filter:{PSEUDO:function PSEUDO(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array);}else if(name===\"contains\"){return(elem.textContent||elem.innerText||getText([elem])||\"\").indexOf(match[3])>=0;}else if(name===\"not\"){var not=match[3];for(var j=0,l=not.length;j<l;j++){if(not[j]===elem){return false;}}return true;}else{_Sizzle2.error(name);}},CHILD:function CHILD(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case\"only\":case\"first\":while(node=node.previousSibling){if(node.nodeType===1){return false;}}if(type===\"first\"){return true;}node=elem;case\"last\":while(node=node.nextSibling){if(node.nodeType===1){return false;}}return true;case\"nth\":first=match[2];last=match[3];if(first===1&&last===0){return true;}doneName=match[0];parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.nodeIndex)){count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count;}}parent[expando]=doneName;}diff=elem.nodeIndex-last;if(first===0){return diff===0;}else{return diff%first===0&&diff/first>=0;}}},ID:function ID(elem,match){return elem.nodeType===1&&elem.getAttribute(\"id\")===match;},TAG:function TAG(elem,match){return match===\"*\"&&elem.nodeType===1||!!elem.nodeName&&elem.nodeName.toLowerCase()===match;},CLASS:function CLASS(elem,match){return(\" \"+(elem.className||elem.getAttribute(\"class\"))+\" \").indexOf(match)>-1;},ATTR:function ATTR(elem,match){var name=match[1],result=_Sizzle2.attr?_Sizzle2.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+\"\",type=match[2],check=match[4];return result==null?type===\"!=\":!type&&_Sizzle2.attr?result!=null:type===\"=\"?value===check:type===\"*=\"?value.indexOf(check)>=0:type===\"~=\"?(\" \"+value+\" \").indexOf(check)>=0:!check?value&&result!==false:type===\"!=\"?value!==check:type===\"^=\"?value.indexOf(check)===0:type===\"$=\"?value.substr(value.length-check.length)===check:type===\"|=\"?value===check||value.substr(0,check.length+1)===check+\"-\":false;},POS:function POS(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array);}}}};var origPOS=Expr.match.POS,fescape=function fescape(all,num){return\"\\\\\"+(num-0+1);};for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source);Expr.leftMatch[type]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+Expr.match[type].source.replace(/\\\\(\\d+)/g,fescape));}var makeArray=function makeArray(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results;}return array;};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType;}catch(e){makeArray=function makeArray(array,results){var i=0,ret=results||[];if(toString.call(array)===\"[object Array]\"){Array.prototype.push.apply(ret,array);}else{if(typeof array.length===\"number\"){for(var l=array.length;i<l;i++){ret.push(array[i]);}}else{for(;array[i];i++){ret.push(array[i]);}}}return ret;};}var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition){sortOrder=function sortOrder(a,b){if(a===b){hasDuplicate=true;return 0;}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1;}return a.compareDocumentPosition(b)&4?-1:1;};}else{sortOrder=function sortOrder(a,b){if(a===b){hasDuplicate=true;return 0;}else if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex;}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b);}else if(!aup){return-1;}else if(!bup){return 1;}while(cur){ap.unshift(cur);cur=cur.parentNode;}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode;}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i]);}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1);};siblingCheck=function siblingCheck(a,b,ret){if(a===b){return ret;}var cur=a.nextSibling;while(cur){if(cur===b){return-1;}cur=cur.nextSibling;}return 1;};}(function(){var form=document.createElement(\"div\"),id=\"script\"+new Date().getTime(),root=document.documentElement;form.innerHTML=\"<a name='\"+id+\"'/>\";root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!==\"undefined\"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!==\"undefined\"&&m.getAttributeNode(\"id\").nodeValue===match[1]?[m]:undefined:[];}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!==\"undefined\"&&elem.getAttributeNode(\"id\");return elem.nodeType===1&&node&&node.nodeValue===match;};}root.removeChild(form);root=form=null;})();(function(){var div=document.createElement(\"div\");div.appendChild(document.createComment(\"\"));if(div.getElementsByTagName(\"*\").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]===\"*\"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i]);}}results=tmp;}return results;};}div.innerHTML=\"<a href='#'></a>\";if(div.firstChild&&typeof div.firstChild.getAttribute!==\"undefined\"&&div.firstChild.getAttribute(\"href\")!==\"#\"){Expr.attrHandle.href=function(elem){return elem.getAttribute(\"href\",2);};}div=null;})();if(document.querySelectorAll){(function(){var oldSizzle=_Sizzle2,div=document.createElement(\"div\"),id=\"__sizzle__\";div.innerHTML=\"<p class='TEST'></p>\";if(div.querySelectorAll&&div.querySelectorAll(\".TEST\").length===0){return;}_Sizzle2=function _Sizzle(query,context,extra,seed){context=context||document;if(!seed&&!_Sizzle2.isXML(context)){var match=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9)){if(match[1]){return makeArray(context.getElementsByTagName(query),extra);}else if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName){return makeArray(context.getElementsByClassName(match[2]),extra);}}if(context.nodeType===9){if(query===\"body\"&&context.body){return makeArray([context.body],extra);}else if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3]){return makeArray([elem],extra);}}else{return makeArray([],extra);}}try{return makeArray(context.querySelectorAll(query),extra);}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!==\"object\"){var oldContext=context,old=context.getAttribute(\"id\"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\\s*[+~]/.test(query);if(!old){context.setAttribute(\"id\",nid);}else{nid=nid.replace(/'/g,\"\\\\$&\");}if(relativeHierarchySelector&&hasParent){context=context.parentNode;}try{if(!relativeHierarchySelector||hasParent){return makeArray(context.querySelectorAll(\"[id='\"+nid+\"'] \"+query),extra);}}catch(pseudoError){}finally{if(!old){oldContext.removeAttribute(\"id\");}}}}return oldSizzle(query,context,extra,seed);};for(var prop in oldSizzle){_Sizzle2[prop]=oldSizzle[prop];}div=null;})();}(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement(\"div\"),\"div\"),pseudoWorks=false;try{matches.call(document.documentElement,\"[test!='']:sizzle\");}catch(pseudoError){pseudoWorks=true;}_Sizzle2.matchesSelector=function(node,expr){expr=expr.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!_Sizzle2.isXML(node)){try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11){return ret;}}}catch(e){}}return _Sizzle2(expr,null,null,[node]).length>0;};}})();(function(){var div=document.createElement(\"div\");div.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!div.getElementsByClassName||div.getElementsByClassName(\"e\").length===0){return;}div.lastChild.className=\"e\";if(div.getElementsByClassName(\"e\").length===1){return;}Expr.order.splice(1,0,\"CLASS\");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!==\"undefined\"&&!isXML){return context.getElementsByClassName(match[1]);}};div=null;})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break;}if(elem.nodeType===1&&!isXML){elem[expando]=doneName;elem.sizset=i;}if(elem.nodeName.toLowerCase()===cur){match=elem;break;}elem=elem[dir];}checkSet[i]=match;}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break;}if(elem.nodeType===1){if(!isXML){elem[expando]=doneName;elem.sizset=i;}if(typeof cur!==\"string\"){if(elem===cur){match=true;break;}}else if(_Sizzle2.filter(cur,[elem]).length>0){match=elem;break;}}elem=elem[dir];}checkSet[i]=match;}}}if(document.documentElement.contains){_Sizzle2.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true);};}else if(document.documentElement.compareDocumentPosition){_Sizzle2.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16);};}else{_Sizzle2.contains=function(){return false;};}_Sizzle2.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!==\"HTML\":false;};var posProcess=function posProcess(selector,context,seed){var match,tmpSet=[],later=\"\",root=context.nodeType?[context]:context;while(match=Expr.match.PSEUDO.exec(selector)){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,\"\");}selector=Expr.relative[selector]?selector+\"*\":selector;for(var i=0,l=root.length;i<l;i++){_Sizzle2(selector,root[i],tmpSet,seed);}return _Sizzle2.filter(later,tmpSet);};_Sizzle2.attr=jQuery.attr;_Sizzle2.selectors.attrMap={};jQuery.find=_Sizzle2;jQuery.expr=_Sizzle2.selectors;jQuery.expr[\":\"]=jQuery.expr.filters;jQuery.unique=_Sizzle2.uniqueSort;jQuery.text=_Sizzle2.getText;jQuery.isXMLDoc=_Sizzle2.isXML;jQuery.contains=_Sizzle2.contains;})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\\[\\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function find(selector){var self=this,i,l;if(typeof selector!==\"string\"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true;}}});}var ret=this.pushStack(\"\",\"find\",selector),length,n,r;for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break;}}}}}return ret;},has:function has(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true;}}});},not:function not(selector){return this.pushStack(winnow(this,selector,false),\"not\",selector);},filter:function filter(selector){return this.pushStack(winnow(this,selector,true),\"filter\",selector);},is:function is(selector){return!!selector&&(typeof selector===\"string\"?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0);},closest:function closest(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var level=1;while(cur&&cur.ownerDocument&&cur!==context){for(i=0;i<selectors.length;i++){if(jQuery(cur).is(selectors[i])){ret.push({selector:selectors[i],elem:cur,level:level});}}cur=cur.parentNode;level++;}return ret;}var pos=POS.test(selectors)||typeof selectors!==\"string\"?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break;}else{cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context||cur.nodeType===11){break;}}}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,\"closest\",selectors);},index:function index(elem){if(!elem){return this[0]&&this[0].parentNode?this.prevAll().length:-1;}if(typeof elem===\"string\"){return jQuery.inArray(this[0],jQuery(elem));}return jQuery.inArray(elem.jquery?elem[0]:elem,this);},add:function add(selector,context){var set=typeof selector===\"string\"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all));},andSelf:function andSelf(){return this.add(this.prevObject);}});function isDisconnected(node){return!node||!node.parentNode||node.parentNode.nodeType===11;}jQuery.each({parent:function parent(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null;},parents:function parents(elem){return jQuery.dir(elem,\"parentNode\");},parentsUntil:function parentsUntil(elem,i,until){return jQuery.dir(elem,\"parentNode\",until);},next:function next(elem){return jQuery.nth(elem,2,\"nextSibling\");},prev:function prev(elem){return jQuery.nth(elem,2,\"previousSibling\");},nextAll:function nextAll(elem){return jQuery.dir(elem,\"nextSibling\");},prevAll:function prevAll(elem){return jQuery.dir(elem,\"previousSibling\");},nextUntil:function nextUntil(elem,i,until){return jQuery.dir(elem,\"nextSibling\",until);},prevUntil:function prevUntil(elem,i,until){return jQuery.dir(elem,\"previousSibling\",until);},siblings:function siblings(elem){return jQuery.sibling(elem.parentNode.firstChild,elem);},children:function children(elem){return jQuery.sibling(elem.firstChild);},contents:function contents(elem){return jQuery.nodeName(elem,\"iframe\")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes);}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until;}if(selector&&typeof selector===\"string\"){ret=jQuery.filter(selector,ret);}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse();}return this.pushStack(ret,name,slice.call(arguments).join(\",\"));};});jQuery.extend({filter:function filter(expr,elems,not){if(not){expr=\":not(\"+expr+\")\";}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems);},dir:function dir(elem,_dir,until){var matched=[],cur=elem[_dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur);}cur=cur[_dir];}return matched;},nth:function nth(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break;}}return cur;},sibling:function sibling(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n);}}return r;}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep;});}else if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return elem===qualifier===keep;});}else if(typeof qualifier===\"string\"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1;});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep);}else{qualifier=jQuery.filter(qualifier,filtered);}}return jQuery.grep(elements,function(elem,i){return jQuery.inArray(elem,qualifier)>=0===keep;});}function createSafeFragment(document){var list=nodeNames.split(\"|\"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop());}}return safeFrag;}var nodeNames=\"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|\"+\"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",rinlinejQuery=/ jQuery\\d+=\"(?:\\d+|null)\"/g,rleadingWhitespace=/^\\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,rtagName=/<([\\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp(\"<(?:\"+nodeNames+\")\",\"i\"),rchecked=/checked\\s*(?:[^=]|=\\s*.checked.)/i,rscriptType=/\\/(java|ecma)script/i,rcleanScript=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)/,wrapMap={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,\"div<div>\",\"</div>\"];}jQuery.fn.extend({text:function text(_text){if(jQuery.isFunction(_text)){return this.each(function(i){var self=jQuery(this);self.text(_text.call(this,i,self.text()));});}if((typeof _text===\"undefined\"?\"undefined\":(0,_typeof3.default)(_text))!==\"object\"&&_text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(_text));}return jQuery.text(this);},wrapAll:function wrapAll(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i));});}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild;}return elem;}).append(this);}return this;},wrapInner:function wrapInner(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i));});}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html);}else{self.append(html);}});},wrap:function wrap(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html);});},unwrap:function unwrap(){return this.parent().each(function(){if(!jQuery.nodeName(this,\"body\")){jQuery(this).replaceWith(this.childNodes);}}).end();},append:function append(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem);}});},prepend:function prepend(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild);}});},before:function before(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this);});}else if(arguments.length){var set=jQuery.clean(arguments);set.push.apply(set,this.toArray());return this.pushStack(set,\"before\",arguments);}},after:function after(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling);});}else if(arguments.length){var set=this.pushStack(this,\"after\",arguments);set.push.apply(set,jQuery.clean(arguments));return set;}},remove:function remove(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName(\"*\"));jQuery.cleanData([elem]);}if(elem.parentNode){elem.parentNode.removeChild(elem);}}}return this;},empty:function empty(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName(\"*\"));}while(elem.firstChild){elem.removeChild(elem.firstChild);}}return this;},clone:function clone(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents);});},html:function html(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,\"\"):null;}else if(typeof value===\"string\"&&!rnoInnerhtml.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||[\"\",\"\"])[1].toLowerCase()]){value=value.replace(rxhtmlTag,\"<$1></$2>\");try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName(\"*\"));this[i].innerHTML=value;}}}catch(e){this.empty().append(value);}}else if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()));});}else{this.empty().append(value);}return this;},replaceWith:function replaceWith(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old));});}if(typeof value!==\"string\"){value=jQuery(value).detach();}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value);}else{jQuery(parent).append(value);}});}else{return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),\"replaceWith\",value):this;}},detach:function detach(selector){return this.remove(selector,true);},domManip:function domManip(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value===\"string\"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true);});}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback);});}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent};}else{results=jQuery.buildFragment(args,this,scripts);}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild;}else{first=fragment.firstChild;}if(first){table=table&&jQuery.nodeName(first,\"tr\");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||l>1&&i<lastIndex?jQuery.clone(fragment,true,true):fragment);}}if(scripts.length){jQuery.each(scripts,evalScript);}}return this;}});function root(elem,cur){return jQuery.nodeName(elem,\"table\")?elem.getElementsByTagName(\"tbody\")[0]||elem.appendChild(elem.ownerDocument.createElement(\"tbody\")):elem;}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return;}var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type+(events[type][i].namespace?\".\":\"\")+events[type][i].namespace,events[type][i],events[type][i].data);}}}if(curData.data){curData.data=jQuery.extend({},curData.data);}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return;}if(dest.clearAttributes){dest.clearAttributes();}if(dest.mergeAttributes){dest.mergeAttributes(src);}nodeName=dest.nodeName.toLowerCase();if(nodeName===\"object\"){dest.outerHTML=src.outerHTML;}else if(nodeName===\"input\"&&(src.type===\"checkbox\"||src.type===\"radio\")){if(src.checked){dest.defaultChecked=dest.checked=src.checked;}if(dest.value!==src.value){dest.value=src.value;}}else if(nodeName===\"option\"){dest.selected=src.defaultSelected;}else if(nodeName===\"input\"||nodeName===\"textarea\"){dest.defaultValue=src.defaultValue;}dest.removeAttribute(jQuery.expando);}jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];if(nodes&&nodes[0]){doc=nodes[0].ownerDocument||nodes[0];}if(!doc.createDocumentFragment){doc=document;}if(args.length===1&&typeof first===\"string\"&&first.length<512&&doc===document&&first.charAt(0)===\"<\"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;cacheresults=jQuery.fragments[first];if(cacheresults&&cacheresults!==1){fragment=cacheresults;}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts);}if(cacheable){jQuery.fragments[first]=cacheresults?fragment:1;}return{fragment:fragment,cacheable:cacheable};};jQuery.fragments={};jQuery.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this;}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems);}return this.pushStack(ret,name,insert.selector);}};});function getAll(elem){if(typeof elem.getElementsByTagName!==\"undefined\"){return elem.getElementsByTagName(\"*\");}else if(typeof elem.querySelectorAll!==\"undefined\"){return elem.querySelectorAll(\"*\");}else{return[];}}function fixDefaultChecked(elem){if(elem.type===\"checkbox\"||elem.type===\"radio\"){elem.defaultChecked=elem.checked;}}function findInputs(elem){var nodeName=(elem.nodeName||\"\").toLowerCase();if(nodeName===\"input\"){fixDefaultChecked(elem);}else if(nodeName!==\"script\"&&typeof elem.getElementsByTagName!==\"undefined\"){jQuery.grep(elem.getElementsByTagName(\"input\"),fixDefaultChecked);}}function shimCloneNode(elem){var div=document.createElement(\"div\");safeFragment.appendChild(div);div.innerHTML=elem.outerHTML;return div.firstChild;}jQuery.extend({clone:function clone(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||!rnoshimcache.test(\"<\"+elem.nodeName)?elem.cloneNode(true):shimCloneNode(elem);if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i]);}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i]);}}}srcElements=destElements=null;return clone;},clean:function clean(elems,context,fragment,scripts){var checkScriptType;context=context||document;if(typeof context.createElement===\"undefined\"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document;}var ret=[],j;for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem===\"number\"){elem+=\"\";}if(!elem){continue;}if(typeof elem===\"string\"){if(!rhtml.test(elem)){elem=context.createTextNode(elem);}else{elem=elem.replace(rxhtmlTag,\"<$1></$2>\");var tag=(rtagName.exec(elem)||[\"\",\"\"])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement(\"div\");if(context===document){safeFragment.appendChild(div);}else{createSafeFragment(context).appendChild(div);}div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild;}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag===\"table\"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]===\"<table>\"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],\"tbody\")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j]);}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild);}elem=div.childNodes;}}var len;if(!jQuery.support.appendChecked){if(elem[0]&&typeof(len=elem.length)===\"number\"){for(j=0;j<len;j++){findInputs(elem[j]);}}else{findInputs(elem);}}if(elem.nodeType){ret.push(elem);}else{ret=jQuery.merge(ret,elem);}}if(fragment){checkScriptType=function checkScriptType(elem){return!elem.type||rscriptType.test(elem.type);};for(i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],\"script\")&&(!ret[i].type||ret[i].type.toLowerCase()===\"text/javascript\")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i]);}else{if(ret[i].nodeType===1){var jsTags=jQuery.grep(ret[i].getElementsByTagName(\"script\"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags));}fragment.appendChild(ret[i]);}}}return ret;},cleanData:function cleanData(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){continue;}id=elem[jQuery.expando];if(id){data=cache[id];if(data&&data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type);}else{jQuery.removeEvent(elem,type,data.handle);}}if(data.handle){data.handle.elem=null;}}if(deleteExpando){delete elem[jQuery.expando];}else if(elem.removeAttribute){elem.removeAttribute(jQuery.expando);}delete cache[id];}}}});function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:\"script\"});}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||\"\").replace(rcleanScript,\"/*$0*/\"));}if(elem.parentNode){elem.parentNode.removeChild(elem);}}var ralpha=/alpha\\([^)]*\\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\\d+(?:px)?$/i,rnum=/^-?\\d/,rrelNum=/^([\\-+])=([\\-+.\\de]+)/,cssShow={position:\"absolute\",visibility:\"hidden\",display:\"block\"},cssWidth=[\"Left\",\"Right\"],cssHeight=[\"Top\",\"Bottom\"],curCSS,getComputedStyle,currentStyle;jQuery.fn.css=function(name,value){if(arguments.length===2&&value===undefined){return this;}return jQuery.access(this,name,value,true,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name);});};jQuery.extend({cssHooks:{opacity:{get:function get(elem,computed){if(computed){var ret=curCSS(elem,\"opacity\",\"opacity\");return ret===\"\"?\"1\":ret;}else{return elem.style.opacity;}}}},cssNumber:{\"fillOpacity\":true,\"fontWeight\":true,\"lineHeight\":true,\"opacity\":true,\"orphans\":true,\"widows\":true,\"zIndex\":true,\"zoom\":true},cssProps:{\"float\":jQuery.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function style(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value!==undefined){type=typeof value===\"undefined\"?\"undefined\":(0,_typeof3.default)(value);if(type===\"string\"&&(ret=rrelNum.exec(value))){value=+(ret[1]+1)*+ret[2]+parseFloat(jQuery.css(elem,name));type=\"number\";}if(value==null||type===\"number\"&&isNaN(value)){return;}if(type===\"number\"&&!jQuery.cssNumber[origName]){value+=\"px\";}if(!hooks||!(\"set\"in hooks)||(value=hooks.set(elem,value))!==undefined){try{style[name]=value;}catch(e){}}}else{if(hooks&&\"get\"in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret;}return style[name];}},css:function css(elem,name,extra){var ret,hooks;name=jQuery.camelCase(name);hooks=jQuery.cssHooks[name];name=jQuery.cssProps[name]||name;if(name===\"cssFloat\"){name=\"float\";}if(hooks&&\"get\"in hooks&&(ret=hooks.get(elem,true,extra))!==undefined){return ret;}else if(curCSS){return curCSS(elem,name);}},swap:function swap(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name];}callback.call(elem);for(name in options){elem.style[name]=old[name];}}});jQuery.curCSS=jQuery.css;jQuery.each([\"height\",\"width\"],function(i,name){jQuery.cssHooks[name]={get:function get(elem,computed,extra){var val;if(computed){if(elem.offsetWidth!==0){return getWH(elem,name,extra);}else{jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra);});}return val;}},set:function set(elem,value){if(rnumpx.test(value)){value=parseFloat(value);if(value>=0){return value+\"px\";}}else{return value;}}};});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function get(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||\"\")?parseFloat(RegExp.$1)/100+\"\":computed?\"1\":\"\";},set:function set(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?\"alpha(opacity=\"+value*100+\")\":\"\",filter=currentStyle&&currentStyle.filter||style.filter||\"\";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,\"\"))===\"\"){style.removeAttribute(\"filter\");if(currentStyle&&!currentStyle.filter){return;}}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+\" \"+opacity;}};}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function get(elem,computed){var ret;jQuery.swap(elem,{\"display\":\"inline-block\"},function(){if(computed){ret=curCSS(elem,\"margin-right\",\"marginRight\");}else{ret=elem.style.marginRight;}});return ret;}};}});if(document.defaultView&&document.defaultView.getComputedStyle){getComputedStyle=function getComputedStyle(elem,name){var ret,defaultView,computedStyle;name=name.replace(rupper,\"-$1\").toLowerCase();if((defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null))){ret=computedStyle.getPropertyValue(name);if(ret===\"\"&&!jQuery.contains(elem.ownerDocument.documentElement,elem)){ret=jQuery.style(elem,name);}}return ret;};}if(document.documentElement.currentStyle){currentStyle=function currentStyle(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret===null&&style&&(uncomputed=style[name])){ret=uncomputed;}if(!rnumpx.test(ret)&&rnum.test(ret)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left;}style.left=name===\"fontSize\"?\"1em\":ret||0;ret=style.pixelLeft+\"px\";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft;}}return ret===\"\"?\"auto\":ret;};}curCSS=getComputedStyle||currentStyle;function getWH(elem,name,extra){var val=name===\"width\"?elem.offsetWidth:elem.offsetHeight,which=name===\"width\"?cssWidth:cssHeight,i=0,len=which.length;if(val>0){if(extra!==\"border\"){for(;i<len;i++){if(!extra){val-=parseFloat(jQuery.css(elem,\"padding\"+which[i]))||0;}if(extra===\"margin\"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0;}else{val-=parseFloat(jQuery.css(elem,\"border\"+which[i]+\"Width\"))||0;}}}return val+\"px\";}val=curCSS(elem,name,name);if(val<0||val==null){val=elem.style[name]||0;}val=parseFloat(val)||0;if(extra){for(;i<len;i++){val+=parseFloat(jQuery.css(elem,\"padding\"+which[i]))||0;if(extra!==\"padding\"){val+=parseFloat(jQuery.css(elem,\"border\"+which[i]+\"Width\"))||0;}if(extra===\"margin\"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0;}}}return val+\"px\";}if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return width===0&&height===0||!jQuery.support.reliableHiddenOffsets&&(elem.style&&elem.style.display||jQuery.css(elem,\"display\"))===\"none\";};jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem);};}var r20=/%20/g,rbracket=/\\[\\]$/,rCRLF=/\\r?\\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\\/\\//,rquery=/\\?/,rscript=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=[\"*/\"]+[\"*\"];try{ajaxLocation=location.href;}catch(e){ajaxLocation=document.createElement(\"a\");ajaxLocation.href=\"\";ajaxLocation=ajaxLocation.href;}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!==\"string\"){func=dataTypeExpression;dataTypeExpression=\"*\";}if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||\"*\";}list=structure[dataType]=structure[dataType]||[];list[placeBefore?\"unshift\":\"push\"](func);}}};}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters,selection;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection===\"string\"){if(!executeOnly||inspected[selection]){selection=undefined;}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected);}}}if((executeOnly||!selection)&&!inspected[\"*\"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,\"*\",inspected);}return selection;}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:deep||(deep={}))[key]=src[key];}}if(deep){jQuery.extend(true,target,deep);}}jQuery.fn.extend({load:function load(url,params,callback){if(typeof url!==\"string\"&&_load){return _load.apply(this,arguments);}else if(!this.length){return this;}var off=url.indexOf(\" \");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off);}var type=\"GET\";if(params){if(jQuery.isFunction(params)){callback=params;params=undefined;}else if((typeof params===\"undefined\"?\"undefined\":(0,_typeof3.default)(params))===\"object\"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type=\"POST\";}}var self=this;jQuery.ajax({url:url,type:type,dataType:\"html\",data:params,complete:function complete(jqXHR,status,responseText){responseText=jqXHR.responseText;if(jqXHR.isResolved()){jqXHR.done(function(r){responseText=r;});self.html(selector?jQuery(\"<div>\").append(responseText.replace(rscript,\"\")).find(selector):responseText);}if(callback){self.each(callback,[responseText,status,jqXHR]);}}});return this;},serialize:function serialize(){return jQuery.param(this.serializeArray());},serializeArray:function serializeArray(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this;}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type));}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,\"\\r\\n\")};}):{name:elem.name,value:val.replace(rCRLF,\"\\r\\n\")};}).get();}});jQuery.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f);};});jQuery.each([\"get\",\"post\"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined;}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type});};});jQuery.extend({getScript:function getScript(url,callback){return jQuery.get(url,undefined,callback,\"script\");},getJSON:function getJSON(url,data,callback){return jQuery.get(url,data,callback,\"json\");},ajaxSetup:function ajaxSetup(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings);}else{settings=target;target=jQuery.ajaxSettings;}ajaxExtend(target,settings);return target;},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:\"GET\",contentType:\"application/x-www-form-urlencoded\",processData:true,async:true,accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",text:\"text/plain\",json:\"application/json, text/javascript\",\"*\":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\"},converters:{\"* text\":window.String,\"text html\":true,\"text json\":jQuery.parseJSON,\"text xml\":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function ajax(url,options){if((typeof url===\"undefined\"?\"undefined\":(0,_typeof3.default)(url))===\"object\"){options=url;url=undefined;}options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks(\"once memory\"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function setRequestHeader(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value;}return this;},getAllResponseHeaders:function getAllResponseHeaders(){return state===2?responseHeadersString:null;},getResponseHeader:function getResponseHeader(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString)){responseHeaders[match[1].toLowerCase()]=match[2];}}match=responseHeaders[key.toLowerCase()];}return match===undefined?null:match;},overrideMimeType:function overrideMimeType(type){if(!state){s.mimeType=type;}return this;},abort:function abort(statusText){statusText=statusText||\"abort\";if(transport){transport.abort(statusText);}done(0,statusText);return this;}};function done(status,nativeStatusText,responses,headers){if(state===2){return;}state=2;if(timeoutTimer){clearTimeout(timeoutTimer);}transport=undefined;responseHeadersString=headers||\"\";jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if(lastModified=jqXHR.getResponseHeader(\"Last-Modified\")){jQuery.lastModified[ifModifiedKey]=lastModified;}if(etag=jqXHR.getResponseHeader(\"Etag\")){jQuery.etag[ifModifiedKey]=etag;}}if(status===304){statusText=\"notmodified\";isSuccess=true;}else{try{success=ajaxConvert(s,response);statusText=\"success\";isSuccess=true;}catch(e){statusText=\"parsererror\";error=e;}}}else{error=statusText;if(!statusText||status){statusText=\"error\";if(status<0){status=0;}}}jqXHR.status=status;jqXHR.statusText=\"\"+(nativeStatusText||statusText);if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR]);}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error]);}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger(\"ajax\"+(isSuccess?\"Success\":\"Error\"),[jqXHR,s,isSuccess?success:error]);}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger(\"ajaxComplete\",[jqXHR,s]);if(! --jQuery.active){jQuery.event.trigger(\"ajaxStop\");}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]];}}else{tmp=map[jqXHR.status];jqXHR.then(tmp,tmp);}}return this;};s.url=((url||s.url)+\"\").replace(rhash,\"\").replace(rprotocol,ajaxLocParts[1]+\"//\");s.dataTypes=jQuery.trim(s.dataType||\"*\").toLowerCase().split(rspacesAjax);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]===\"http:\"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]===\"http:\"?80:443))));}if(s.data&&s.processData&&typeof s.data!==\"string\"){s.data=jQuery.param(s.data,s.traditional);}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return false;}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger(\"ajaxStart\");}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?\"&\":\"?\")+s.data;delete s.data;}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,\"$1_=\"+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?\"&\":\"?\")+\"_=\"+ts:\"\");}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader(\"Content-Type\",s.contentType);}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader(\"If-Modified-Since\",jQuery.lastModified[ifModifiedKey]);}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader(\"If-None-Match\",jQuery.etag[ifModifiedKey]);}}jqXHR.setRequestHeader(\"Accept\",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!==\"*\"?\", \"+allTypes+\"; q=0.01\":\"\"):s.accepts[\"*\"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i]);}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){jqXHR.abort();return false;}for(i in{success:1,error:1,complete:1}){jqXHR[i](s[i]);}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,\"No Transport\");}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger(\"ajaxSend\",[jqXHR,s]);}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort(\"timeout\");},s.timeout);}try{state=1;transport.send(requestHeaders,done);}catch(e){if(state<2){done(-1,e);}else{throw e;}}}return jqXHR;},param:function param(a,traditional){var s=[],add=function add(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+\"=\"+encodeURIComponent(value);};if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional;}if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a)){jQuery.each(a,function(){add(this.name,this.value);});}else{for(var prefix in a){buildParams(prefix,a[prefix],traditional,add);}}return s.join(\"&\").replace(r20,\"+\");}});function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v);}else{buildParams(prefix+\"[\"+((typeof v===\"undefined\"?\"undefined\":(0,_typeof3.default)(v))===\"object\"||jQuery.isArray(v)?i:\"\")+\"]\",v,traditional,add);}});}else if(!traditional&&obj!=null&&(typeof obj===\"undefined\"?\"undefined\":(0,_typeof3.default)(obj))===\"object\"){for(var name in obj){buildParams(prefix+\"[\"+name+\"]\",obj[name],traditional,add);}}else{add(prefix,obj);}}jQuery.extend({active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type];}}while(dataTypes[0]===\"*\"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader(\"content-type\");}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break;}}}if(dataTypes[0]in responses){finalDataType=dataTypes[0];}else{for(type in responses){if(!dataTypes[0]||s.converters[type+\" \"+dataTypes[0]]){finalDataType=type;break;}if(!firstDataType){firstDataType=type;}}finalDataType=finalDataType||firstDataType;}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType);}return responses[finalDataType];}}function ajaxConvert(s,response){if(s.dataFilter){response=s.dataFilter(response,s.dataType);}var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1){for(key in s.converters){if(typeof key===\"string\"){converters[key.toLowerCase()]=s.converters[key];}}}prev=current;current=dataTypes[i];if(current===\"*\"){current=prev;}else if(prev!==\"*\"&&prev!==current){conversion=prev+\" \"+current;conv=converters[conversion]||converters[\"* \"+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(\" \");if(tmp[0]===prev||tmp[0]===\"*\"){conv2=converters[tmp[1]+\" \"+current];if(conv2){conv1=converters[conv1];if(conv1===true){conv=conv2;}else if(conv2===true){conv=conv1;}break;}}}}if(!(conv||conv2)){jQuery.error(\"No conversion from \"+conversion.replace(\" \",\" to \"));}if(conv!==true){response=conv?conv(response):conv2(conv1(response));}}}return response;}var jsc=jQuery.now(),jsre=/(\\=)\\?(&|$)|\\?\\?/i;jQuery.ajaxSetup({jsonp:\"callback\",jsonpCallback:function jsonpCallback(){return jQuery.expando+\"_\"+jsc++;}});jQuery.ajaxPrefilter(\"json jsonp\",function(s,originalSettings,jqXHR){var inspectData=s.contentType===\"application/x-www-form-urlencoded\"&&typeof s.data===\"string\";if(s.dataTypes[0]===\"jsonp\"||s.jsonp!==false&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace=\"$1\"+jsonpCallback+\"$2\";if(s.jsonp!==false){url=url.replace(jsre,replace);if(s.url===url){if(inspectData){data=data.replace(jsre,replace);}if(s.data===data){url+=(/\\?/.test(url)?\"&\":\"?\")+s.jsonp+\"=\"+jsonpCallback;}}}s.url=url;s.data=data;window[jsonpCallback]=function(response){responseContainer=[response];};jqXHR.always(function(){window[jsonpCallback]=previous;if(responseContainer&&jQuery.isFunction(previous)){window[jsonpCallback](responseContainer[0]);}});s.converters[\"script json\"]=function(){if(!responseContainer){jQuery.error(jsonpCallback+\" was not called\");}return responseContainer[0];};s.dataTypes[0]=\"json\";return\"script\";}});jQuery.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/javascript|ecmascript/},converters:{\"text script\":function textScript(text){jQuery.globalEval(text);return text;}}});jQuery.ajaxPrefilter(\"script\",function(s){if(s.cache===undefined){s.cache=false;}if(s.crossDomain){s.type=\"GET\";s.global=false;}});jQuery.ajaxTransport(\"script\",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName(\"head\")[0]||document.documentElement;return{send:function send(_,callback){script=document.createElement(\"script\");script.async=\"async\";if(s.scriptCharset){script.charset=s.scriptCharset;}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script);}script=undefined;if(!isAbort){callback(200,\"success\");}}};head.insertBefore(script,head.firstChild);},abort:function abort(){if(script){script.onload(0,1);}}};}});var xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1);}}:false,xhrId=0,xhrCallbacks;function createStandardXHR(){try{return new window.XMLHttpRequest();}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject(\"Microsoft.XMLHTTP\");}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR();}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&\"withCredentials\"in xhr});})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var _callback;return{send:function send(headers,complete){var xhr=s.xhr(),handle,i;if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password);}else{xhr.open(s.type,s.url,s.async);}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i];}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType);}if(!s.crossDomain&&!headers[\"X-Requested-With\"]){headers[\"X-Requested-With\"]=\"XMLHttpRequest\";}try{for(i in headers){xhr.setRequestHeader(i,headers[i]);}}catch(_){}xhr.send(s.hasContent&&s.data||null);_callback=function callback(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(_callback&&(isAbort||xhr.readyState===4)){_callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle];}}if(isAbort){if(xhr.readyState!==4){xhr.abort();}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml;}responses.text=xhr.responseText;try{statusText=xhr.statusText;}catch(e){statusText=\"\";}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404;}else if(status===1223){status=204;}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException);}}if(responses){complete(status,statusText,responses,responseHeaders);}};if(!s.async||xhr.readyState===4){_callback();}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort);}xhrCallbacks[handle]=_callback;}xhr.onreadystatechange=_callback;}},abort:function abort(){if(_callback){_callback(0,1);}}};}});}var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,timerId,fxAttrs=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]],fxNow;jQuery.fn.extend({show:function show(speed,easing,callback){var elem,display;if(speed||speed===0){return this.animate(genFx(\"show\",3),speed,easing,callback);}else{for(var i=0,j=this.length;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(!jQuery._data(elem,\"olddisplay\")&&display===\"none\"){display=elem.style.display=\"\";}if(display===\"\"&&jQuery.css(elem,\"display\")===\"none\"){jQuery._data(elem,\"olddisplay\",defaultDisplay(elem.nodeName));}}}for(i=0;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(display===\"\"||display===\"none\"){elem.style.display=jQuery._data(elem,\"olddisplay\")||\"\";}}}return this;}},hide:function hide(speed,easing,callback){if(speed||speed===0){return this.animate(genFx(\"hide\",3),speed,easing,callback);}else{var elem,display,i=0,j=this.length;for(;i<j;i++){elem=this[i];if(elem.style){display=jQuery.css(elem,\"display\");if(display!==\"none\"&&!jQuery._data(elem,\"olddisplay\")){jQuery._data(elem,\"olddisplay\",display);}}}for(i=0;i<j;i++){if(this[i].style){this[i].style.display=\"none\";}}return this;}},_toggle:jQuery.fn.toggle,toggle:function toggle(fn,fn2,callback){var bool=typeof fn===\"boolean\";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments);}else if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(\":hidden\");jQuery(this)[state?\"show\":\"hide\"]();});}else{this.animate(genFx(\"toggle\",3),fn,fn2,callback);}return this;},fadeTo:function fadeTo(speed,to,easing,callback){return this.filter(\":hidden\").css(\"opacity\",0).show().end().animate({opacity:to},speed,easing,callback);},animate:function animate(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete,[false]);}prop=jQuery.extend({},prop);function doAnimation(){if(optall.queue===false){jQuery._mark(this);}var opt=jQuery.extend({},optall),isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(\":hidden\"),name,val,p,e,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){name=jQuery.camelCase(p);if(p!==name){prop[name]=prop[p];delete prop[p];}val=prop[name];if(jQuery.isArray(val)){opt.animatedProperties[name]=val[1];val=prop[name]=val[0];}else{opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||'swing';}if(val===\"hide\"&&hidden||val===\"show\"&&!hidden){return opt.complete.call(this);}if(isElement&&(name===\"height\"||name===\"width\")){opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(jQuery.css(this,\"display\")===\"inline\"&&jQuery.css(this,\"float\")===\"none\"){if(!jQuery.support.inlineBlockNeedsLayout||defaultDisplay(this.nodeName)===\"inline\"){this.style.display=\"inline-block\";}else{this.style.zoom=1;}}}}if(opt.overflow!=null){this.style.overflow=\"hidden\";}for(p in prop){e=new jQuery.fx(this,opt,p);val=prop[p];if(rfxtypes.test(val)){method=jQuery._data(this,\"toggle\"+p)||(val===\"toggle\"?hidden?\"show\":\"hide\":0);if(method){jQuery._data(this,\"toggle\"+p,method===\"show\"?\"hide\":\"show\");e[method]();}else{e[val]();}}else{parts=rfxnum.exec(val);start=e.cur();if(parts){end=parseFloat(parts[2]);unit=parts[3]||(jQuery.cssNumber[p]?\"\":\"px\");if(unit!==\"px\"){jQuery.style(this,p,(end||1)+unit);start=(end||1)/e.cur()*start;jQuery.style(this,p,start+unit);}if(parts[1]){end=(parts[1]===\"-=\"?-1:1)*end+start;}e.custom(start,end,unit);}else{e.custom(start,val,\"\");}}}return true;}return optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation);},stop:function stop(type,clearQueue,gotoEnd){if(typeof type!==\"string\"){gotoEnd=clearQueue;clearQueue=type;type=undefined;}if(clearQueue&&type!==false){this.queue(type||\"fx\",[]);}return this.each(function(){var index,hadTimers=false,timers=jQuery.timers,data=jQuery._data(this);if(!gotoEnd){jQuery._unmark(true,this);}function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,true);hooks.stop(gotoEnd);}if(type==null){for(index in data){if(data[index]&&data[index].stop&&index.indexOf(\".run\")===index.length-4){stopQueue(this,data,index);}}}else if(data[index=type+\".run\"]&&data[index].stop){stopQueue(this,data,index);}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){if(gotoEnd){timers[index](true);}else{timers[index].saveState();}hadTimers=true;timers.splice(index,1);}}if(!(gotoEnd&&hadTimers)){jQuery.dequeue(this,type);}});}});function createFxNow(){setTimeout(clearFxNow,0);return fxNow=jQuery.now();}function clearFxNow(){fxNow=undefined;}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type;});return obj;}jQuery.each({slideDown:genFx(\"show\",1),slideUp:genFx(\"hide\",1),slideToggle:genFx(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback);};});jQuery.extend({speed:function speed(_speed,easing,fn){var opt=_speed&&(typeof _speed===\"undefined\"?\"undefined\":(0,_typeof3.default)(_speed))===\"object\"?jQuery.extend({},_speed):{complete:fn||!fn&&easing||jQuery.isFunction(_speed)&&_speed,duration:_speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration===\"number\"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue=\"fx\";}opt.old=opt.complete;opt.complete=function(noUnmark){if(jQuery.isFunction(opt.old)){opt.old.call(this);}if(opt.queue){jQuery.dequeue(this,opt.queue);}else if(noUnmark!==false){jQuery._unmark(this);}};return opt;},easing:{linear:function linear(p,n,firstNum,diff){return firstNum+diff*p;},swing:function swing(p,n,firstNum,diff){return(-Math.cos(p*Math.PI)/2+0.5)*diff+firstNum;}},timers:[],fx:function fx(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;options.orig=options.orig||{};}});jQuery.fx.prototype={update:function update(){if(this.options.step){this.options.step.call(this.elem,this.now,this);}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this);},cur:function cur(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop];}var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r===\"auto\"?0:r:parsed;},custom:function custom(from,to,unit){var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow();this.end=to;this.now=this.start=from;this.pos=this.state=0;this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?\"\":\"px\");function t(gotoEnd){return self.step(gotoEnd);}t.queue=this.options.queue;t.elem=this.elem;t.saveState=function(){if(self.options.hide&&jQuery._data(self.elem,\"fxshow\"+self.prop)===undefined){jQuery._data(self.elem,\"fxshow\"+self.prop,self.start);}};if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(fx.tick,fx.interval);}},show:function show(){var dataShow=jQuery._data(this.elem,\"fxshow\"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop);this.options.show=true;if(dataShow!==undefined){this.custom(this.cur(),dataShow);}else{this.custom(this.prop===\"width\"||this.prop===\"height\"?1:0,this.cur());}jQuery(this.elem).show();},hide:function hide(){this.options.orig[this.prop]=jQuery._data(this.elem,\"fxshow\"+this.prop)||jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0);},step:function step(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=true,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();options.animatedProperties[this.prop]=true;for(p in options.animatedProperties){if(options.animatedProperties[p]!==true){done=false;}}if(done){if(options.overflow!=null&&!jQuery.support.shrinkWrapBlocks){jQuery.each([\"\",\"X\",\"Y\"],function(index,value){elem.style[\"overflow\"+value]=options.overflow[index];});}if(options.hide){jQuery(elem).hide();}if(options.hide||options.show){for(p in options.animatedProperties){jQuery.style(elem,p,options.orig[p]);jQuery.removeData(elem,\"fxshow\"+p,true);jQuery.removeData(elem,\"toggle\"+p,true);}}complete=options.complete;if(complete){options.complete=false;complete.call(elem);}}return false;}else{if(options.duration==Infinity){this.now=t;}else{n=t-this.startTime;this.state=n/options.duration;this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration);this.now=this.start+(this.end-this.start)*this.pos;}this.update();}return true;}};jQuery.extend(jQuery.fx,{tick:function tick(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1);}}if(!timers.length){jQuery.fx.stop();}},interval:13,stop:function stop(){clearInterval(timerId);timerId=null;},speeds:{slow:600,fast:200,_default:400},step:{opacity:function opacity(fx){jQuery.style(fx.elem,\"opacity\",fx.now);},_default:function _default(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit;}else{fx.elem[fx.prop]=fx.now;}}}});jQuery.each([\"width\",\"height\"],function(i,prop){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit);};});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem;}).length;};}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery(\"<\"+nodeName+\">\").appendTo(body),display=elem.css(\"display\");elem.remove();if(display===\"none\"||display===\"\"){if(!iframe){iframe=document.createElement(\"iframe\");iframe.frameBorder=iframe.width=iframe.height=0;}body.appendChild(iframe);if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write((document.compatMode===\"CSS1Compat\"?\"<!doctype html>\":\"\")+\"<html><body>\");iframeDoc.close();}elem=iframeDoc.createElement(nodeName);iframeDoc.body.appendChild(elem);display=jQuery.css(elem,\"display\");body.removeChild(iframe);}elemdisplay[nodeName]=display;}return elemdisplay[nodeName];}var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if(\"getBoundingClientRect\"in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0],box;if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i);});}if(!elem||!elem.ownerDocument){return null;}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem);}try{box=elem.getBoundingClientRect();}catch(e){}var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem)){return box?{top:box.top,left:box.left}:{top:0,left:0};}var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left};};}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i);});}if(!elem||!elem.ownerDocument){return null;}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem);}var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position===\"fixed\"){break;}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.support.doesNotAddBorder&&!(jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0;}prevOffsetParent=offsetParent;offsetParent=elem.offsetParent;}if(jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!==\"visible\"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0;}prevComputedStyle=computedStyle;}if(prevComputedStyle.position===\"relative\"||prevComputedStyle.position===\"static\"){top+=body.offsetTop;left+=body.offsetLeft;}if(jQuery.support.fixedPosition&&prevComputedStyle.position===\"fixed\"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft);}return{top:top,left:left};};}jQuery.offset={bodyOffset:function bodyOffset(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,\"marginTop\"))||0;left+=parseFloat(jQuery.css(body,\"marginLeft\"))||0;}return{top:top,left:left};},setOffset:function setOffset(elem,options,i){var position=jQuery.css(elem,\"position\");if(position===\"static\"){elem.style.position=\"relative\";}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,\"top\"),curCSSLeft=jQuery.css(elem,\"left\"),calculatePosition=(position===\"absolute\"||position===\"fixed\")&&jQuery.inArray(\"auto\",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left;}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0;}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset);}if(options.top!=null){props.top=options.top-curOffset.top+curTop;}if(options.left!=null){props.left=options.left-curOffset.left+curLeft;}if(\"using\"in options){options.using.call(elem,props);}else{curElem.css(props);}}};jQuery.fn.extend({position:function position(){if(!this[0]){return null;}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,\"marginTop\"))||0;offset.left-=parseFloat(jQuery.css(elem,\"marginLeft\"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],\"borderTopWidth\"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],\"borderLeftWidth\"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left};},offsetParent:function offsetParent(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,\"position\")===\"static\"){offsetParent=offsetParent.offsetParent;}return offsetParent;});}});jQuery.each([\"Left\",\"Top\"],function(i,name){var method=\"scroll\"+name;jQuery.fn[method]=function(val){var elem,win;if(val===undefined){elem=this[0];if(!elem){return null;}win=getWindow(elem);return win?\"pageXOffset\"in win?win[i?\"pageYOffset\":\"pageXOffset\"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method];}return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop());}else{this[method]=val;}});};});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false;}jQuery.each([\"Height\",\"Width\"],function(i,name){var type=name.toLowerCase();jQuery.fn[\"inner\"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,\"padding\")):this[type]():null;};jQuery.fn[\"outer\"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?\"margin\":\"border\")):this[type]():null;};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this;}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()));});}if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement[\"client\"+name],body=elem.document.body;return elem.document.compatMode===\"CSS1Compat\"&&docElemProp||body&&body[\"client\"+name]||docElemProp;}else if(elem.nodeType===9){return Math.max(elem.documentElement[\"client\"+name],elem.body[\"scroll\"+name],elem.documentElement[\"scroll\"+name],elem.body[\"offset\"+name],elem.documentElement[\"offset\"+name]);}else if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig;}else{return this.css(type,typeof size===\"string\"?size:size+\"px\");}};});window.jQuery=window.$=jQuery;if(\"function\"===\"function\"&&__webpack_require__(56)&&__webpack_require__(56).jQuery){!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function(){return jQuery;}.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));}})(window);module.exports=jQuery;}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(module) {\"use strict\";\n\t\n\tvar _typeof2 = __webpack_require__(6);\n\t\n\tvar _typeof3 = _interopRequireDefault(_typeof2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(function (mod) {\n\t  if (( false ? \"undefined\" : (0, _typeof3.default)(exports)) == \"object\" && ( false ? \"undefined\" : (0, _typeof3.default)(module)) == \"object\") {\n\t      mod(__webpack_require__(1));\n\t    } else if (true) {\n\t      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(1)], __WEBPACK_AMD_DEFINE_FACTORY__ = (mod), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else {\n\t      mod(CodeMirror);\n\t    }\n\t})(function (CodeMirror) {\n\t  \"use strict\";\n\t\n\t  Array.prototype.has = function (ele) {\n\t    return this.indexOf(ele) != -1;\n\t  };\n\t  Array.prototype.rear = function () {\n\t    if (this.length) {\n\t      return this[this.length - 1];\n\t    }\n\t  };\n\t\n\t  CodeMirror.defineMode(\"toy\", function (config, parserConfig) {\n\t    var indentUnit = config.indentUnit;\n\t    var wordReg = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\t    var keywordReg = /\\b(int|real|if|else|then|while)\\b/;\n\t\n\t    var intReg = /^[0-9]+$/;\n\t    var realReg = /^([0-9]+(E|e)?[0-9]+)|([0-9]+\\.[0-9]+)|([0-9]+\\.[0-9]+(E|e)(\\+|\\-)?[0-9]+)$/;\n\t    var numReg = /^\\d+(\\.\\d+)?(e(\\+|\\-)?\\d+)?(f|d)?|0x[\\da-f]+$/;\n\t    var operatorReg = /^(\\+|\\-|\\*|\\/|>=?|<=?|==?)$/;\n\t\n\t    function tokenize(stream, state) {\n\t      var char = stream.next();\n\t\n\t      if (operatorReg.test(char)) {\n\t\n\t        stream.eatWhile(/^[*+\\-<>!=\\/]/);\n\t        if (/^\\/\\//.test(stream.current())) {\n\t          stream.skipToEnd();\n\t          return \"comment\";\n\t        }\n\t        return \"operator\";\n\t      } else if (/\\d/.test(char)) {\n\t        stream.match(/^[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?/);\n\t        return \"number\";\n\t      } else if (wordReg.test(char)) {\n\t        stream.eatWhile(wordReg);\n\t        if (keywordReg.test(stream.current())) {\n\t          return \"keyword\";\n\t        } else {\n\t          return \"variable\";\n\t        }\n\t      }\n\t      return null;\n\t    }\n\t\n\t    return {\n\t      startState: function startState() {\n\t        return {\n\t          indentStack: []\n\t        };\n\t      },\n\t      token: function token(stream, state) {\n\t        if (stream.eatSpace()) {\n\t          return null;\n\t        }\n\t        var style = tokenize(stream, state);\n\t        var type = stream.current();\n\t        if ([\"{\", \"then\", \"else\"].has(type)) {\n\t          if (type == \"{\" && state.indentStack.rear() != \"{\") {\n\t            state.indentStack.pop();\n\t          }\n\t          state.indentStack.push(type);\n\t        } else if (\"}\" === type) {\n\t          if (state.indentStack.rear() == \"{\") {\n\t            state.indentStack.pop();\n\t          }\n\t        } else if (\";\" === type) {\n\t          if ([\"else\", \"then\"].has(state.indentStack.rear())) {\n\t            state.indentStack.pop();\n\t          }\n\t        }\n\t        return style;\n\t      },\n\t      indent: function indent(state, textAfter) {\n\t        var ch = textAfter && textAfter.charAt(0);\n\t        if (ch == \"}\") {\n\t          if (state.indentStack.rear() == \"{\") {\n\t            state.indentStack.pop();\n\t          }\n\t        }\n\t        return state.indentStack.length * indentUnit;\n\t      },\n\t      electricInput: /^\\s*(?:\\{|})$/\n\t    };\n\t  });\n\t});\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(24)(module)))\n\n/***/ },\n/* 74 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _ArrayHelper = __webpack_require__(66);\n\t\n\tvar _EditorTab = __webpack_require__(44);\n\t\n\tvar _EditorTab2 = _interopRequireDefault(_EditorTab);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  state: {\n\t    tabs: [],\n\t    currentTab: null,\n\t    compilee: null\n\t  },\n\t  getters: {\n\t    currentCursorPos: function currentCursorPos(state) {\n\t      if (state.currentTab) {\n\t        return state.currentTab.cursorPosition;\n\t      }\n\t    },\n\t    unsavedTabs: function unsavedTabs(state) {\n\t      return state.tabs.filter(function (tab) {\n\t        return tab.unsaved;\n\t      });\n\t    },\n\t    editorNeedSave: function editorNeedSave(state, getters) {\n\t      return !!getters.unsavedTabs.length;\n\t    }\n\t  },\n\t  mutations: {\n\t    openTab: function openTab(state, tab) {\n\t      state.tabs.push(tab);\n\t    },\n\t    closeTab: function closeTab(state, tab) {\n\t      (0, _ArrayHelper.remove)(state.tabs, tab);\n\t    },\n\t    setCurrentTab: function setCurrentTab(state, tab) {\n\t      state.currentTab = tab;\n\t    },\n\t    setCompilee: function setCompilee(state, file) {\n\t      state.compilee = file;\n\t    }\n\t  },\n\t  actions: {\n\t    openFile: function openFile(_ref, file) {\n\t      var commit = _ref.commit;\n\t      var state = _ref.state;\n\t\n\t      var opened = state.tabs.filter(function (tab) {\n\t        return tab.file == file;\n\t      });\n\t      if (opened.length) {\n\t        commit('setCurrentTab', opened[0]);\n\t      } else {\n\t        var newTab = new _EditorTab2.default(file);\n\t        commit('openTab', newTab);\n\t        commit('setCurrentTab', newTab);\n\t      }\n\t    },\n\t    switchTab: function switchTab(_ref2, tab) {\n\t      var commit = _ref2.commit;\n\t\n\t      commit('setCurrentTab', tab);\n\t    },\n\t    closeTab: function closeTab(_ref3, tab) {\n\t      var commit = _ref3.commit;\n\t      var state = _ref3.state;\n\t\n\t      commit('closeTab', tab);\n\t      commit('setCurrentTab', (0, _ArrayHelper.rear)(state.tabs));\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 75 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(26);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _keys = __webpack_require__(47);\n\t\n\tvar _keys2 = _interopRequireDefault(_keys);\n\t\n\tvar _storage = __webpack_require__(42);\n\t\n\tvar _storage2 = _interopRequireDefault(_storage);\n\t\n\tvar _File = __webpack_require__(45);\n\t\n\tvar _File2 = _interopRequireDefault(_File);\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Storage = window.Storage = (0, _storage2.default)(window.localStorage);\n\t\n\t\n\tvar fileMap = {};\n\t\n\tvar addFile = function addFile(file) {\n\t  fileMap[file.fileName] = file;\n\t};\n\t\n\tvar load = function load() {\n\t  var storedFileNames = JSON.parse(Storage.getItem(\"stored-files\") || \"[]\");\n\t  for (var i = 0, len = storedFileNames.length; i < len; i++) {\n\t    var item = Storage.getItem(storedFileNames[i]);\n\t\n\t    if (item) {\n\t      var fileInfo = JSON.parse(item);\n\t      var file = new _File2.default(fileInfo.name, fileInfo.content, false);\n\t      addFile(file);\n\t    }\n\t  }\n\t  if (!storedFileNames.length) {\n\t    addFile(_File2.default.example());\n\t  }\n\t};\n\tvar saveFile = function saveFile(file) {\n\t  Storage.setItem(file.fileName, file.serialize());\n\t  file.isNew = false;\n\t};\n\tload();\n\t\n\texports.default = {\n\t  state: {\n\t    fileMap: fileMap,\n\t    cached: []\n\t  },\n\t  getters: {\n\t    fileList: function fileList(state) {\n\t      return (0, _keys2.default)(state.fileMap).map(function (name) {\n\t        return state.fileMap[name];\n\t      });\n\t    }\n\t  },\n\t  mutations: {\n\t    newFile: function newFile(state, file) {\n\t      state.cached.push(file);\n\t    },\n\t    addFile: function addFile(state, file) {\n\t      (0, _vue.set)(state.fileMap, file.fileName, file);\n\t    }\n\t  },\n\t  actions: {\n\t    createNewFile: function createNewFile(_ref) {\n\t      var commit = _ref.commit;\n\t\n\t      var file = new _File2.default();\n\t      commit('newFile', file);\n\t    },\n\t    cacheFile: function cacheFile(_ref2, file) {\n\t      var commit = _ref2.commit;\n\t\n\t      commit('addFile', file);\n\t    },\n\t    saveFilesToStorage: function saveFilesToStorage(_ref3) {\n\t      var getters = _ref3.getters;\n\t\n\t      var storedFiles = [];\n\t      for (var i = 0, files = getters.fileList, len = files.length; i < len; i++) {\n\t        saveFile(files[i]);\n\t        storedFiles[storedFiles.length] = files[i].fileName;\n\t      }\n\t      Storage.setItem(\"stored-files\", (0, _stringify2.default)(storedFiles));\n\t    }\n\t  }\n\t};\n\t\n\tfunction FileManager() {\n\t  var self = this;\n\t  self.files = ko.observableArray([]);\n\t  var cached = [];\n\t  self.newFile = function () {\n\t    var file = new _File2.default();\n\t    cached.push(file);\n\t    return file;\n\t  };\n\t\n\t  self.findFile = function (fileName) {\n\t    for (var i = 0, files = self.files(), len = files.length; i < len; i++) {\n\t      if (files[i].fileName() == fileName) {\n\t        return files[i];\n\t      }\n\t    }\n\t  };\n\t\n\t  self.saveFile = function (file) {\n\t    if (file.isNew()) {\n\t      self.files.push(cached.pop());\n\t      file.isNew(false);\n\t    }\n\t    Storage.setItem(file.fileName(), file.serialize());\n\t  };\n\t  self.deleteFile = function (file) {\n\t    self.files.remove(file);\n\t    Storage.removeItem(file.fileName());\n\t  };\n\t\n\t  self.load = function () {\n\t    var storedFileNames = JSON.parse(Storage.getItem(\"stored-files\") || \"[]\");\n\t    for (var i = 0, len = storedFileNames.length; i < len; i++) {\n\t      var item = Storage.getItem(storedFileNames[i]);\n\t\n\t      if (item) {\n\t        var fileInfo = JSON.parse(item);\n\t        self.files.push(new _File2.default(fileInfo.name, fileInfo.content, false));\n\t      }\n\t    }\n\t    if (!self.files().length) {\n\t      self.files.push(_File2.default.example());\n\t    }\n\t  };\n\t  self.save = function () {\n\t    var storedFiles = [];\n\t    for (var i = 0, files = self.files(), len = files.length; i < len; i++) {\n\t      self.saveFile(files[i]);\n\t      storedFiles[storedFiles.length] = files[i].fileName();\n\t    }\n\t    Storage.setItem(\"stored-files\", (0, _stringify2.default)(storedFiles));\n\t  };\n\t  self.load();\n\t}\n\n/***/ },\n/* 76 */,\n/* 77 */,\n/* 78 */,\n/* 79 */,\n/* 80 */,\n/* 81 */,\n/* 82 */,\n/* 83 */,\n/* 84 */,\n/* 85 */,\n/* 86 */,\n/* 87 */,\n/* 88 */,\n/* 89 */,\n/* 90 */,\n/* 91 */,\n/* 92 */,\n/* 93 */,\n/* 94 */,\n/* 95 */,\n/* 96 */,\n/* 97 */,\n/* 98 */,\n/* 99 */,\n/* 100 */,\n/* 101 */,\n/* 102 */,\n/* 103 */,\n/* 104 */,\n/* 105 */,\n/* 106 */,\n/* 107 */,\n/* 108 */,\n/* 109 */,\n/* 110 */,\n/* 111 */,\n/* 112 */,\n/* 113 */,\n/* 114 */,\n/* 115 */,\n/* 116 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 117 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 118 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 119 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 120 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 121 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 122 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(121)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(57)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(137)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"App\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 123 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(116)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(58)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(132)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"Console\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 124 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(59)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(130)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"Editor\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 125 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(117)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(60)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(133)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"Layout\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 126 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(61)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(131)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"ParseTree\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 127 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(63)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(138)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"SymbolTable\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 128 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(118)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(64)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(134)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"ToolBar\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 129 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* styles */\n\t__webpack_require__(120)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(65)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(136)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t__vue_options__.name = __vue_options__.name || \"Workspace\"\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 130 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"editor-box\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('click')\n\t      }\n\t    }\n\t  }, [_h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!editorState.tabs.length),\n\t      expression: \"!editorState.tabs.length\"\n\t    }],\n\t    staticClass: \"editor-placeholder\"\n\t  }, [\"\\n    Choose a file from workspace or \", _h('a', {\n\t    attrs: {\n\t      \"id\": \"cover-open\"\n\t    },\n\t    on: {\n\t      \"click\": openNewFile\n\t    }\n\t  }, [\"create a new file\"])]), \" \", _h('div', {\n\t    staticClass: \"tab-bar\"\n\t  }, [(editorState.compilee) ? _h('div', {\n\t    staticClass: \"tab-bar-cover\"\n\t  }, [_h('span', {\n\t    attrs: {\n\t      \"id\": \"compiling-filename\"\n\t    }\n\t  }, [_s(editorState.compilee.fileName)])]) : _e(), \" \", _h('button', {\n\t    staticClass: \"tab-new\",\n\t    on: {\n\t      \"click\": openNewFile\n\t    }\n\t  }, [\"+\"]), \" \", _h('div', {\n\t    staticClass: \"tab-row\"\n\t  }, [_h('div', {\n\t    staticClass: \"tab-group\"\n\t  }, [_l((editorState.tabs), function(tab) {\n\t    return _h('div', {\n\t      staticClass: \"tab-cell\",\n\t      class: {\n\t        active: currentTab == tab\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          switchTab(tab)\n\t        }\n\t      }\n\t    }, [_h('a', [_h('span', [_s(tab.file.fileName)]), \" \", _h('span', {\n\t      staticClass: \"tab-dismiss\",\n\t      on: {\n\t        \"click\": function($event) {\n\t          $event.stopPropagation();\n\t          closeTab(tab)\n\t        }\n\t      }\n\t    }, [\"\"])])])\n\t  })])])]), \" \", _h('div', {\n\t    staticClass: \"editor-container\"\n\t  }, [_h('textarea', {\n\t    ref: \"textarea\",\n\t    attrs: {\n\t      \"id\": \"editor\"\n\t    }\n\t  })])])\n\t}},staticRenderFns: []}\n\n/***/ },\n/* 131 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"tree-box resizable\",\n\t    style: ({\n\t      width: width + 'px'\n\t    }),\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('click')\n\t      }\n\t    }\n\t  }, [_h('resizer', {\n\t    attrs: {\n\t      \"type\": \"vertical\"\n\t    },\n\t    on: {\n\t      \"resizer:begin\": onResizeBegin,\n\t      \"resizer:resize\": onResize\n\t    }\n\t  }), \" \", _h('div', {\n\t    staticClass: \"box-header\"\n\t  }, [_h('div', {\n\t    staticClass: \"box-title\"\n\t  }, [_s(showAssembly ? 'Assembly' : 'Syntax Tree')]), \" \", _h('span', {\n\t    staticClass: \"box-caret glyphicon glyphicon-menu-right\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('parse-tree:close')\n\t      }\n\t    }\n\t  })]), \" \", _h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!showAssembly),\n\t      expression: \"!showAssembly\"\n\t    }],\n\t    ref: \"boxBody\",\n\t    staticClass: \"box-body\",\n\t    attrs: {\n\t      \"id\": \"tree-pane\"\n\t    }\n\t  }, [_m(0)]), \" \", _h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (showAssembly),\n\t      expression: \"showAssembly\"\n\t    }],\n\t    staticClass: \"box-body\",\n\t    attrs: {\n\t      \"id\": \"assembly-pane\"\n\t    }\n\t  }, [_m(1), \" \", _h('textarea', {\n\t    ref: \"textarea\",\n\t    attrs: {\n\t      \"id\": \"assembly\"\n\t    }\n\t  })])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"placeholder\"\n\t  }, [\"Nothing to show\"])\n\t}},function (){with(this) {\n\t  return _h('div', {\n\t    attrs: {\n\t      \"style\": \"float: left;height: 100%;width: 18px;background: rgb(60, 63, 65)\"\n\t    }\n\t  })\n\t}}]}\n\n/***/ },\n/* 132 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"bottom-box resizable\",\n\t    style: ({\n\t      height: height + 'px'\n\t    }),\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('click')\n\t      }\n\t    }\n\t  }, [_h('resizer', {\n\t    attrs: {\n\t      \"type\": \"horizontal\"\n\t    },\n\t    on: {\n\t      \"resizer:begin\": onResizeBegin,\n\t      \"resizer:resize\": onResize\n\t    }\n\t  }), \" \", _h('div', {\n\t    staticClass: \"box-header\"\n\t  }, [_m(0), \" \", _h('span', {\n\t    staticClass: \"box-caret glyphicon glyphicon-menu-down\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('console:close')\n\t      }\n\t    }\n\t  })]), \" \", _h('div', {\n\t    staticClass: \"console-container\"\n\t  }, [_m(1), \" \", _h('textarea', {\n\t    ref: \"textarea\",\n\t    attrs: {\n\t      \"id\": \"console\"\n\t    }\n\t  })])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"box-title\"\n\t  }, [\"Output\"])\n\t}},function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"console-seal\"\n\t  })\n\t}}]}\n\n/***/ },\n/* 133 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"layout\",\n\t    attrs: {\n\t      \"id\": \"main\"\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"upper-box\",\n\t    style: (upperStyleObj)\n\t  }, [_h('div', {\n\t    staticClass: \"center-box\"\n\t  }, [_h('div', {\n\t    staticClass: \"center-box-inner\",\n\t    style: (centerStyleObj)\n\t  }, [_h('parse-tree', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (parseTree.open),\n\t      expression: \"parseTree.open\"\n\t    }],\n\t    class: {\n\t      'active-box': currentActiveBox == 'parseTree'\n\t    },\n\t    attrs: {\n\t      \"width\": parseTreeWidth\n\t    },\n\t    on: {\n\t      \"parse-tree:resize\": onParseTreeResize,\n\t      \"parse-tree:close\": onParseTreeClose,\n\t      \"click\": function($event) {\n\t        currentActiveBox = 'parseTree'\n\t      }\n\t    }\n\t  }), \" \", _h('editor', {\n\t    style: ({\n\t      width: editorWidth + 'px'\n\t    }),\n\t    on: {\n\t      \"click\": function($event) {\n\t        currentActiveBox = 'editor'\n\t      }\n\t    }\n\t  })])]), \" \", _h('workspace', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (workspace.open),\n\t      expression: \"workspace.open\"\n\t    }],\n\t    class: {\n\t      'active-box': currentActiveBox == 'workspace'\n\t    },\n\t    style: (leftStyleObj),\n\t    attrs: {\n\t      \"width\": workspaceWidth\n\t    },\n\t    on: {\n\t      \"workspace:resize\": onWorkspaceResize,\n\t      \"workspace:close\": onWorkspaceClose,\n\t      \"click\": function($event) {\n\t        currentActiveBox = 'workspace'\n\t      }\n\t    }\n\t  }), \" \", _h('symbol-table', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (symbolTable.open),\n\t      expression: \"symbolTable.open\"\n\t    }],\n\t    class: {\n\t      'active-box': currentActiveBox == 'symbolTable'\n\t    },\n\t    style: (rightStyleObj),\n\t    attrs: {\n\t      \"width\": symbolTableWidth\n\t    },\n\t    on: {\n\t      \"symbol-table:resize\": onSymbolTableResize,\n\t      \"symbol-table:close\": onSymbolTableClose,\n\t      \"click\": function($event) {\n\t        currentActiveBox = 'symbolTable'\n\t      }\n\t    }\n\t  })]), \" \", _h('console', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (console.open),\n\t      expression: \"console.open\"\n\t    }],\n\t    class: {\n\t      'active-box': currentActiveBox == 'console'\n\t    },\n\t    attrs: {\n\t      \"height\": consoleHeight\n\t    },\n\t    on: {\n\t      \"console:close\": onConsoleClose,\n\t      \"console:resize\": onConsoleResize,\n\t      \"click\": function($event) {\n\t        currentActiveBox = 'console'\n\t      }\n\t    }\n\t  })])\n\t}},staticRenderFns: []}\n\n/***/ },\n/* 134 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('nav', {\n\t    staticClass: \"tool-bar navbar navbar-inverse navbar-fixed-top\",\n\t    attrs: {\n\t      \"style\": \"margin-bottom: 0\"\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"container-fluid\",\n\t    attrs: {\n\t      \"style\": \"padding-right: 15px\"\n\t    }\n\t  }, [_m(0), \" \", _h('ul', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (ui.mode == 'edit'),\n\t      expression: \"ui.mode == 'edit'\"\n\t    }],\n\t    staticClass: \"nav navbar-nav navbar-right\",\n\t    attrs: {\n\t      \"id\": \"editing-btn-group\",\n\t      \"data-bind\": \"with: controls\"\n\t    }\n\t  }, [_h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn-o\",\n\t    class: {\n\t      unsaved: editorNeedSave\n\t    },\n\t    attrs: {\n\t      \"id\": \"btn-save\"\n\t    },\n\t    on: {\n\t      \"click\": save\n\t    }\n\t  }, [_m(1), \" Save\\n        \"])]), \" \", _h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn\",\n\t    attrs: {\n\t      \"id\": \"btn-tidy\"\n\t    },\n\t    on: {\n\t      \"click\": tidy\n\t    }\n\t  }, [_m(2), \" Tidy\\n        \"])]), \" \", _m(3), \" \", _h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn\",\n\t    attrs: {\n\t      \"id\": \"btn-compile\"\n\t    },\n\t    on: {\n\t      \"click\": compile\n\t    }\n\t  }, [_m(4), \" Compile\\n        \"])])]), \" \", _h('ul', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (ui.mode == 'compile'),\n\t      expression: \"ui.mode == 'compile'\"\n\t    }],\n\t    staticClass: \"nav navbar-nav navbar-right\",\n\t    attrs: {\n\t      \"id\": \"compiling-btn-group\",\n\t      \"style\": \"margin-right: -15px\",\n\t      \"data-bind\": \"with: controls\"\n\t    }\n\t  }, [_h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn-o\",\n\t    attrs: {\n\t      \"id\": \"btn-stop\"\n\t    },\n\t    on: {\n\t      \"click\": stop\n\t    }\n\t  }, [_m(5), \" Stop\\n        \"])]), \" \", _h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn\",\n\t    attrs: {\n\t      \"id\": \"btn-next\"\n\t    },\n\t    on: {\n\t      \"click\": next\n\t    }\n\t  }, [_m(6), \" Next\\n        \"])]), \" \", _h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn\",\n\t    attrs: {\n\t      \"id\": \"btn-ff\"\n\t    },\n\t    on: {\n\t      \"click\": ff\n\t    }\n\t  }, [_m(7), \" Fast Forward\\n        \"])])])])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"navbar-header\"\n\t  }, [_h('div', {\n\t    staticClass: \"navbar-brand\"\n\t  }, [_h('span', {\n\t    staticClass: \"glyphicon glyphicon-console\"\n\t  }), \"\\n        Compiler\\n      \"])])\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-floppy-disk\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-flash\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('li', [_h('button', {\n\t    staticClass: \"btn navbar-btn\",\n\t    attrs: {\n\t      \"id\": \"btn-import\",\n\t      \"data-bind\": \"click: importFile\"\n\t    }\n\t  }, [_h('span', {\n\t    staticClass: \"glyphicon glyphicon-import\"\n\t  }), \" Import\\n        \"])])\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-download-alt\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-stop\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-share-alt\"\n\t  })\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-fast-forward\"\n\t  })\n\t}}]}\n\n/***/ },\n/* 135 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"resizer\",\n\t    class: [type, {\n\t      resizing: resizing\n\t    }],\n\t    on: {\n\t      \"mousedown\": onMouseDown,\n\t      \"mousemove\": onMouseMove,\n\t      \"mouseleave\": onMouseUp,\n\t      \"mouseup\": onMouseUp\n\t    }\n\t  })\n\t}},staticRenderFns: []}\n\n/***/ },\n/* 136 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"left-box resizable\",\n\t    style: ({\n\t      width: width + 'px'\n\t    }),\n\t    attrs: {\n\t      \"id\": \"workspace\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('click')\n\t      }\n\t    }\n\t  }, [_h('resizer', {\n\t    attrs: {\n\t      \"type\": \"vertical\"\n\t    },\n\t    on: {\n\t      \"resizer:begin\": onResizeBegin,\n\t      \"resizer:resize\": onResize\n\t    }\n\t  }), \" \", _h('div', {\n\t    staticClass: \"box-header\"\n\t  }, [_m(0), \" \", _h('span', {\n\t    staticClass: \"box-caret glyphicon glyphicon-menu-left\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('workspace:close')\n\t      }\n\t    }\n\t  })]), \" \", _h('div', {\n\t    staticClass: \"box-body\"\n\t  }, [_h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!files.length),\n\t      expression: \"!files.length\"\n\t    }],\n\t    staticClass: \"placeholder\"\n\t  }, [\"Nothing to show\"]), \" \", _h('ul', {\n\t    staticClass: \"list\",\n\t    attrs: {\n\t      \"id\": \"file-list\"\n\t    }\n\t  }, [_l((files), function(file) {\n\t    return _h('li', {\n\t      class: {\n\t        active: file == selectedFile\n\t      },\n\t      attrs: {\n\t        \"data-bind\": \"attr: {id: attrId}, css: {active: isActive},\\n                      event: {contextmenu: $parents[0].setActive.bind($data)}\"\n\t      },\n\t      on: {\n\t        \"click\": function($event) {\n\t          selectedFile = file\n\t        },\n\t        \"dblclick\": function($event) {\n\t          openFileInEditor(file)\n\t        }\n\t      }\n\t    }, [_m(1, true), \" \", _h('span', [_s(file.fileName)])])\n\t  })])])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"box-title\"\n\t  }, [\"Workspace\"])\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon glyphicon-file\"\n\t  })\n\t}}]}\n\n/***/ },\n/* 137 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    },\n\t    on: {\n\t      \"contextmenu\": function($event) {\n\t        $event.preventDefault();\n\t      }\n\t    }\n\t  }, [_h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (about.show),\n\t      expression: \"about.show\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"about-mask\"\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"mask-backdrop\",\n\t    on: {\n\t      \"click\": hideAbout\n\t    }\n\t  }), \" \", _m(0)]), \" \", \" \", _h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (renameDialog.show),\n\t      expression: \"renameDialog.show\"\n\t    }],\n\t    attrs: {\n\t      \"id\": \"dialog-mask\"\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"dialog\",\n\t    attrs: {\n\t      \"id\": \"rename-dialog\"\n\t    }\n\t  }, [_m(1), \" \", _h('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (renameDialog.name),\n\t      expression: \"renameDialog.name\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"id\": \"filename\"\n\t    },\n\t    domProps: {\n\t      \"value\": _s(renameDialog.name)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) return;\n\t        renameDialog.name = $event.target.value\n\t      }\n\t    }\n\t  }), \" \", _m(2), \" \", _h('div', {\n\t    staticClass: \"dialog-btn-group\"\n\t  }, [_h('button', {\n\t    staticClass: \"dialog-btn\",\n\t    attrs: {\n\t      \"id\": \"rename-cancel\"\n\t    },\n\t    on: {\n\t      \"click\": onRenameCancel\n\t    }\n\t  }, [\"Cancel\"]), \" \", _h('button', {\n\t    staticClass: \"dialog-btn\",\n\t    attrs: {\n\t      \"id\": \"rename-confirm\"\n\t    },\n\t    on: {\n\t      \"click\": onRenameConfirm\n\t    }\n\t  }, [\"Confirm\"])])])]), \" \", _h('tool-bar'), \" \", _h('layout'), \" \", _h('div', {\n\t    attrs: {\n\t      \"id\": \"footer\"\n\t    }\n\t  }, [(ui.mode != 'compile') ? _h('div', {\n\t    staticClass: \"footer-text footer-btn\",\n\t    class: {\n\t      active: workspace.open\n\t    },\n\t    on: {\n\t      \"click\": toggleWorkspace\n\t    }\n\t  }, [\"Workspace\\n    \"]) : _e(), \" \", _h('div', {\n\t    staticClass: \"footer-text footer-btn\",\n\t    class: {\n\t      active: console.open\n\t    },\n\t    on: {\n\t      \"click\": toggleConsole\n\t    }\n\t  }, [\"Output\\n    \"]), \" \", (ui.mode == 'compile') ? _h('div', {\n\t    staticClass: \"footer-text footer-btn\",\n\t    class: {\n\t      active: parseTree.open\n\t    },\n\t    on: {\n\t      \"click\": toggleParseTree\n\t    }\n\t  }, [\"Syntax Tree\\n    \"]) : _e(), \" \", (ui.mode == 'compile') ? _h('div', {\n\t    staticClass: \"footer-text footer-btn\",\n\t    class: {\n\t      active: symbolTable.open\n\t    },\n\t    on: {\n\t      \"click\": toggleSymbolTable\n\t    }\n\t  }, [\"Symbol Table\\n    \"]) : _e(), \" \", (currentCursorPos) ? _h('div', {\n\t    staticClass: \"footer-text\",\n\t    attrs: {\n\t      \"id\": \"cursor-position\"\n\t    }\n\t  }, [_s(currentCursorPos.line + 1) + \":\" + _s(currentCursorPos.ch + 1) + \"\\n    \"]) : _e(), \" \", _h('div', {\n\t    staticClass: \"footer-text footer-btn\",\n\t    class: {\n\t      active: about.show\n\t    },\n\t    attrs: {\n\t      \"style\": \"float: right;margin: 0 1px 0 0;\"\n\t    },\n\t    on: {\n\t      \"click\": toggleAbout\n\t    }\n\t  }, [\"About\\n    \"])])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"dialog\",\n\t    attrs: {\n\t      \"id\": \"about-dialog\"\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"dialog-banner\"\n\t  }, [_h('h1', [_h('span', {\n\t    staticClass: \"glyphicon glyphicon-console\"\n\t  }), \" Compiler\"]), \" \", _h('p', [\"Presented by \", _h('a', {\n\t    attrs: {\n\t      \"href\": \"https://github.com/SevenOutman\",\n\t      \"target\": \"_blank\"\n\t    }\n\t  }, [\"SevenOutman\"]), \". Compiler implemented\\n          by \", _h('a', {\n\t    attrs: {\n\t      \"href\": \"https://github.com/ExinCoda\",\n\t      \"target\": \"_blank\"\n\t    }\n\t  }, [\"ExinCoda\"]), \".\"])])])\n\t}},function (){with(this) {\n\t  return _h('p', [\"New name:\"])\n\t}},function (){with(this) {\n\t  return _h('p', [\"File type: .toy\"])\n\t}}]}\n\n/***/ },\n/* 138 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"right-box resizable\",\n\t    style: ({\n\t      width: width + 'px'\n\t    }),\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('click')\n\t      }\n\t    }\n\t  }, [_h('resizer', {\n\t    attrs: {\n\t      \"type\": \"vertical\"\n\t    },\n\t    on: {\n\t      \"resizer:begin\": onResizeBegin,\n\t      \"resizer:resize\": onResize\n\t    }\n\t  }), \" \", _h('div', {\n\t    staticClass: \"box-header\"\n\t  }, [_m(0), \" \", _h('span', {\n\t    staticClass: \"box-caret glyphicon glyphicon-menu-right\",\n\t    on: {\n\t      \"click\": function($event) {\n\t        $emit('symbol-table:close')\n\t      }\n\t    }\n\t  })]), \" \", _h('div', {\n\t    staticClass: \"box-body\"\n\t  }, [_h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (symbols.length < 1),\n\t      expression: \"symbols.length < 1\"\n\t    }],\n\t    staticClass: \"placeholder\"\n\t  }, [\"Nothing to show\"]), \" \", _h('ul', {\n\t    staticClass: \"list\",\n\t    attrs: {\n\t      \"id\": \"symbol-list\"\n\t    }\n\t  }, [_l((symbols), function(symbol) {\n\t    return [_h('li', {\n\t      attrs: {\n\t        \"data-bind\": \"attr: {id: attrId}, css: {active: isActive}, event: {click: $parents[0].setActive.bind($data), dblclick: toggle}\"\n\t      }\n\t    }, [_m(1), \" \", _h('span', [_s(symbol.name)]), \" \", _h('span', {\n\t      staticClass: \"extra\",\n\t      attrs: {\n\t        \"data-bind\": \"text: rowText\"\n\t      }\n\t    }, [\"type: \" + _s(symbol.type || 'unknown') + \", occurance: \" + _s(symbol.positions.length)])]), \" \", _l((symbol.positions), function(position, $index) {\n\t      return _h('li', {\n\t        staticClass: \"position-row\",\n\t        attrs: {\n\t          \"data-bind\": \"text: rowText, visible: $parents[0].isOpen, css: {active: isActive}, click: $parents[1].setActive.bind($data)\"\n\t        }\n\t      }, [\"\\n          [\" + _s($index + 1) + \"] line: \" + _s(position.first_row) + \", ch: \" + _s(position.first_col) + \"\\n        \"])\n\t    }), \" \"]\n\t  })])])])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"box-title\"\n\t  }, [\"Symbol Table\"])\n\t}},function (){with(this) {\n\t  return _h('span', {\n\t    staticClass: \"glyphicon li-caret\",\n\t    attrs: {\n\t      \"data-bind\": \"css: {'glyphicon-triangle-right': !isOpen(), 'glyphicon-triangle-bottom': isOpen}, click: toggle\"\n\t    }\n\t  })\n\t}}]}\n\n/***/ }\n]);\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.eec95ba72d341914e4ff.js\n **/","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store/index'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#loading-mask',\n  store,\n  render: h => h(App)\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// This is CodeMirror (http://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    module.exports = mod();\n  else if (typeof define == \"function\" && define.amd) // AMD\n    return define([], mod);\n  else // Plain browser env\n    this.CodeMirror = mod();\n})(function() {\n  \"use strict\";\n\n  // BROWSER SNIFFING\n\n  // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : ie_11up[1]);\n  var webkit = /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n\n  var ios = /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  // This is woefully incomplete. Suggestions for alternative methods welcome.\n  var mobile = ios || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var windows = /win/i.test(platform);\n\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n  if (presto_version) presto_version = Number(presto_version[1]);\n  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n  // Optimize some code when these features are not used.\n  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n  // EDITOR CONSTRUCTOR\n\n  // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n  function CodeMirror(place, options) {\n    if (!(this instanceof CodeMirror)) return new CodeMirror(place, options);\n\n    this.options = options = options ? copyObj(options) : {};\n    // Determine effective options based on given values and defaults.\n    copyObj(defaults, options, false);\n    setGuttersForLineNumbers(options);\n\n    var doc = options.value;\n    if (typeof doc == \"string\") doc = new Doc(doc, options.mode, null, options.lineSeparator);\n    this.doc = doc;\n\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input);\n    display.wrapper.CodeMirror = this;\n    updateGutters(this);\n    themeChanged(this);\n    if (options.lineWrapping)\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    if (options.autofocus && !mobile) display.input.focus();\n    initScrollbars(this);\n\n    this.state = {\n      keyMaps: [],  // stores maps added by addKeyMap\n      overlays: [], // highlighting overlays, as added by addOverlay\n      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: false, cutIncoming: false, // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(), // stores highlight worker timeout\n      keySeq: null,  // Unfinished key sequence\n      specialChars: null\n    };\n\n    var cm = this;\n\n    // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n    if (ie && ie_version < 11) setTimeout(function() { cm.display.input.reset(true); }, 20);\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if ((options.autofocus && !mobile) || cm.hasFocus())\n      setTimeout(bind(onFocus, this), 20);\n    else\n      onBlur(this);\n\n    for (var opt in optionHandlers) if (optionHandlers.hasOwnProperty(opt))\n      optionHandlers[opt](this, options[opt], Init);\n    maybeUpdateLineNumberWidth(this);\n    if (options.finishInit) options.finishInit(this);\n    for (var i = 0; i < initHooks.length; ++i) initHooks[i](this);\n    endOperation(this);\n    // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n    if (webkit && options.lineWrapping &&\n        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n      display.lineDiv.style.textRendering = \"auto\";\n  }\n\n  // DISPLAY CONSTRUCTOR\n\n  // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n  function Display(place, doc, input) {\n    var d = this;\n    this.input = input;\n\n    // Covers bottom-right square when both scrollbars are present.\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n    // Will contain the actual code, positioned to cover the viewport.\n    d.lineDiv = elt(\"div\", null, \"CodeMirror-code\");\n    // Elements are added to these to represent selection and cursors.\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n    // A visibility: hidden element used to find the size of things.\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n    // When lines outside of the viewport are measured, they are drawn in this.\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n    d.lineSpace = elt(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n                      null, \"position: relative; outline: none\");\n    // Moved around its parent to cover visible view.\n    d.mover = elt(\"div\", [elt(\"div\", [d.lineSpace], \"CodeMirror-lines\")], null, \"position: relative\");\n    // Set to the height of the document, allowing scrolling.\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null;\n    // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n    // Will contain the gutters, if any.\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null;\n    // Actual scrollable element.\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n    // The element in which the editor lives.\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\n    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n    if (!webkit && !(gecko && mobile)) d.scroller.draggable = true;\n\n    if (place) {\n      if (place.appendChild) place.appendChild(d.wrapper);\n      else place(d.wrapper);\n    }\n\n    // Current rendered range (may be bigger than the view window).\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first;\n    // Information about the rendered lines.\n    d.view = [];\n    d.renderedView = null;\n    // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n    d.externalMeasured = null;\n    // Empty space (in pixels) above the view\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false;\n\n    // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n    // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n    d.alignWidgets = false;\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n    // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false;\n\n    // Used for measuring wheel scrolling granularity\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n    // True when shift is held down.\n    d.shift = false;\n\n    // Used to track whether anything happened since the context menu\n    // was opened.\n    d.selForContextMenu = null;\n\n    d.activeTouch = null;\n\n    input.init(d);\n  }\n\n  // STATE UPDATES\n\n  // Used to get the editor into a consistent state again when options change.\n\n  function loadMode(cm) {\n    cm.doc.mode = CodeMirror.getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function(line) {\n      if (line.stateAfter) line.stateAfter = null;\n      if (line.styles) line.styles = null;\n    });\n    cm.doc.frontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n    if (cm.curOp) regChange(cm);\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function(){updateScrollbars(cm);}, 100);\n  }\n\n  // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function(line) {\n      if (lineIsHidden(cm.doc, line)) return 0;\n\n      var widgetsHeight = 0;\n      if (line.widgets) for (var i = 0; i < line.widgets.length; i++) {\n        if (line.widgets[i].height) widgetsHeight += line.widgets[i].height;\n      }\n\n      if (wrapping)\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      else\n        return widgetsHeight + th;\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc, est = estimateHeight(cm);\n    doc.iter(function(line) {\n      var estHeight = est(line);\n      if (estHeight != line.height) updateLineHeight(line, estHeight);\n    });\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  function guttersChanged(cm) {\n    updateGutters(cm);\n    regChange(cm);\n    setTimeout(function(){alignHorizontally(cm);}, 20);\n  }\n\n  // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n  function updateGutters(cm) {\n    var gutters = cm.display.gutters, specs = cm.options.gutters;\n    removeChildren(gutters);\n    for (var i = 0; i < specs.length; ++i) {\n      var gutterClass = specs[i];\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + gutterClass));\n      if (gutterClass == \"CodeMirror-linenumbers\") {\n        cm.display.lineGutter = gElt;\n        gElt.style.width = (cm.display.lineNumWidth || 1) + \"px\";\n      }\n    }\n    gutters.style.display = i ? \"\" : \"none\";\n    updateGutterSpace(cm);\n  }\n\n  function updateGutterSpace(cm) {\n    var width = cm.display.gutters.offsetWidth;\n    cm.display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n  function lineLength(line) {\n    if (line.height == 0) return 0;\n    var len = line.text.length, merged, cur = line;\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n    cur = line;\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found = merged.find(0, true);\n      len -= cur.text.length - found.from.ch;\n      cur = found.to.line;\n      len += cur.text.length - found.to.ch;\n    }\n    return len;\n  }\n\n  // Find the longest line in the document.\n  function findMaxLine(cm) {\n    var d = cm.display, doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function(line) {\n      var len = lineLength(line);\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  }\n\n  // Make sure the gutters options contains the element\n  // \"CodeMirror-linenumbers\" when the lineNumbers option is true.\n  function setGuttersForLineNumbers(options) {\n    var found = indexOf(options.gutters, \"CodeMirror-linenumbers\");\n    if (found == -1 && options.lineNumbers) {\n      options.gutters = options.gutters.concat([\"CodeMirror-linenumbers\"]);\n    } else if (found > -1 && !options.lineNumbers) {\n      options.gutters = options.gutters.slice(0);\n      options.gutters.splice(found, 1);\n    }\n  }\n\n  // SCROLLBARS\n\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n  function measureForScrollbars(cm) {\n    var d = cm.display, gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  function NativeScrollbars(place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    place(vert); place(horiz);\n\n    on(vert, \"scroll\", function() {\n      if (vert.clientHeight) scroll(vert.scrollTop, \"vertical\");\n    });\n    on(horiz, \"scroll\", function() {\n      if (horiz.clientWidth) scroll(horiz.scrollLeft, \"horizontal\");\n    });\n\n    this.checkedZeroWidth = false;\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n    if (ie && ie_version < 8) this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n  }\n\n  NativeScrollbars.prototype = copyObj({\n    update: function(measure) {\n      var needsH = measure.scrollWidth > measure.clientWidth + 1;\n      var needsV = measure.scrollHeight > measure.clientHeight + 1;\n      var sWidth = measure.nativeBarWidth;\n\n      if (needsV) {\n        this.vert.style.display = \"block\";\n        this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n        var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n        // A bug in IE8 can cause this value to be negative, so guard it.\n        this.vert.firstChild.style.height =\n          Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n      } else {\n        this.vert.style.display = \"\";\n        this.vert.firstChild.style.height = \"0\";\n      }\n\n      if (needsH) {\n        this.horiz.style.display = \"block\";\n        this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n        this.horiz.style.left = measure.barLeft + \"px\";\n        var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n        this.horiz.firstChild.style.width =\n          (measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n      } else {\n        this.horiz.style.display = \"\";\n        this.horiz.firstChild.style.width = \"0\";\n      }\n\n      if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n        if (sWidth == 0) this.zeroWidthHack();\n        this.checkedZeroWidth = true;\n      }\n\n      return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0};\n    },\n    setScrollLeft: function(pos) {\n      if (this.horiz.scrollLeft != pos) this.horiz.scrollLeft = pos;\n      if (this.disableHoriz) this.enableZeroWidthBar(this.horiz, this.disableHoriz);\n    },\n    setScrollTop: function(pos) {\n      if (this.vert.scrollTop != pos) this.vert.scrollTop = pos;\n      if (this.disableVert) this.enableZeroWidthBar(this.vert, this.disableVert);\n    },\n    zeroWidthHack: function() {\n      var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n      this.horiz.style.height = this.vert.style.width = w;\n      this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n      this.disableHoriz = new Delayed;\n      this.disableVert = new Delayed;\n    },\n    enableZeroWidthBar: function(bar, delay) {\n      bar.style.pointerEvents = \"auto\";\n      function maybeDisable() {\n        // To find out whether the scrollbar is still visible, we\n        // check whether the element under the pixel in the bottom\n        // left corner of the scrollbar box is the scrollbar box\n        // itself (when the bar is still visible) or its filler child\n        // (when the bar is hidden). If it is still visible, we keep\n        // it enabled, if it's hidden, we disable pointer events.\n        var box = bar.getBoundingClientRect();\n        var elt = document.elementFromPoint(box.left + 1, box.bottom - 1);\n        if (elt != bar) bar.style.pointerEvents = \"none\";\n        else delay.set(1000, maybeDisable);\n      }\n      delay.set(1000, maybeDisable);\n    },\n    clear: function() {\n      var parent = this.horiz.parentNode;\n      parent.removeChild(this.horiz);\n      parent.removeChild(this.vert);\n    }\n  }, NativeScrollbars.prototype);\n\n  function NullScrollbars() {}\n\n  NullScrollbars.prototype = copyObj({\n    update: function() { return {bottom: 0, right: 0}; },\n    setScrollLeft: function() {},\n    setScrollTop: function() {},\n    clear: function() {}\n  }, NullScrollbars.prototype);\n\n  CodeMirror.scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n      if (cm.display.scrollbars.addClass)\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n\n    cm.display.scrollbars = new CodeMirror.scrollbarModel[cm.options.scrollbarStyle](function(node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n      // Prevent clicks in the scrollbars from killing focus\n      on(node, \"mousedown\", function() {\n        if (cm.state.focused) setTimeout(function() { cm.display.input.focus(); }, 0);\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function(pos, axis) {\n      if (axis == \"horizontal\") setScrollLeft(cm, pos);\n      else setScrollTop(cm, pos);\n    }, cm);\n    if (cm.display.scrollbars.addClass)\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n  }\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) measure = measureForScrollbars(cm);\n    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n        updateHeightsInViewport(cm);\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n    }\n  }\n\n  // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else d.scrollbarFiller.style.display = \"\";\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else d.gutterFiller.style.display = \"\";\n  }\n\n  // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n    return {from: from, to: Math.max(to, from + 1)};\n  }\n\n  // LINE NUMBERS\n\n  // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n  function alignHorizontally(cm) {\n    var display = cm.display, view = display.view;\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) return;\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n    for (var i = 0; i < view.length; i++) if (!view[i].hidden) {\n      if (cm.options.fixedGutter && view[i].gutter)\n        view[i].gutter.style.left = left;\n      var align = view[i].alignable;\n      if (align) for (var j = 0; j < align.length; j++)\n        align[j].style.left = left;\n    }\n    if (cm.options.fixedGutter)\n      display.gutters.style.left = (comp + gutterW) + \"px\";\n  }\n\n  // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) return false;\n    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm);\n      return true;\n    }\n    return false;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  }\n\n  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  }\n\n  // DISPLAY DRAWING\n\n  function DisplayUpdate(cm, viewport, force) {\n    var display = cm.display;\n\n    this.viewport = viewport;\n    // Store some values that we'll need later (but don't want to force a relayout for)\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  }\n\n  DisplayUpdate.prototype.signal = function(emitter, type) {\n    if (hasHandler(emitter, type))\n      this.events.push(arguments);\n  };\n  DisplayUpdate.prototype.finish = function() {\n    for (var i = 0; i < this.events.length; i++)\n      signal.apply(null, this.events[i]);\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display, doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    }\n\n    // Bail out if the visible area is already rendered and nothing changed.\n    if (!update.force &&\n        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n        display.renderedView == display.view && countDirtyView(cm) == 0)\n      return false;\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    }\n\n    // Compute a suitable new viewport (from & to)\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n    if (display.viewFrom < from && from - display.viewFrom < 20) from = Math.max(doc.first, display.viewFrom);\n    if (display.viewTo > to && display.viewTo - to < 20) to = Math.min(end, display.viewTo);\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo ||\n      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n    // Position the mover div to align with the current scroll position\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n    var toUpdate = countDirtyView(cm);\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n      return false;\n\n    // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n    var focused = activeElt();\n    if (toUpdate > 4) display.lineDiv.style.display = \"none\";\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n    if (toUpdate > 4) display.lineDiv.style.display = \"\";\n    display.renderedView = display.view;\n    // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n    if (focused && activeElt() != focused && focused.offsetHeight) focused.focus();\n\n    // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null)\n          viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)};\n        // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n          break;\n      }\n      if (!updateDisplayIfNeeded(cm, update)) break;\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      setDocumentHeight(cm, barMeasure);\n      updateScrollbars(cm, barMeasure);\n    }\n\n    update.signal(cm, \"update\", cm);\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      setDocumentHeight(cm, barMeasure);\n      updateScrollbars(cm, barMeasure);\n      update.finish();\n    }\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    var total = measure.docHeight + cm.display.barHeight;\n    cm.display.heightForcer.style.top = total + \"px\";\n    cm.display.gutters.style.height = Math.max(total + scrollGap(cm), measure.clientHeight) + \"px\";\n  }\n\n  // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i], height;\n      if (cur.hidden) continue;\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top;\n      }\n      var diff = cur.line.height - height;\n      if (height < 2) height = textHeight(display);\n      if (diff > .001 || diff < -.001) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n        if (cur.rest) for (var j = 0; j < cur.rest.length; j++)\n          updateWidgetHeight(cur.rest[j]);\n      }\n    }\n  }\n\n  // Read and store the height of line widgets associated with the\n  // given line.\n  function updateWidgetHeight(line) {\n    if (line.widgets) for (var i = 0; i < line.widgets.length; ++i)\n      line.widgets[i].height = line.widgets[i].node.offsetHeight;\n  }\n\n  // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n  function getDimensions(cm) {\n    var d = cm.display, left = {}, width = {};\n    var gutterLeft = d.gutters.clientLeft;\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      left[cm.options.gutters[i]] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[cm.options.gutters[i]] = n.clientWidth;\n    }\n    return {fixedPos: compensateForHScroll(d),\n            gutterTotalWidth: d.gutters.offsetWidth,\n            gutterLeft: left,\n            gutterWidth: width,\n            wrapperWidth: d.wrapper.clientWidth};\n  }\n\n  // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv, cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling;\n      // Works around a throw-scroll bug in OS X Webkit\n      if (webkit && mac && cm.display.currentWheelTarget == node)\n        node.style.display = \"none\";\n      else\n        node.parentNode.removeChild(node);\n      return next;\n    }\n\n    var view = display.view, lineN = display.viewFrom;\n    // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) {\n      } else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else { // Already drawn\n        while (cur != lineView.node) cur = rm(cur);\n        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n          updateNumbersFrom <= lineN && lineView.lineNumber;\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) updateNumber = false;\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n    while (cur) cur = rm(cur);\n  }\n\n  // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n      if (type == \"text\") updateLineText(cm, lineView);\n      else if (type == \"gutter\") updateLineGutter(cm, lineView, lineN, dims);\n      else if (type == \"class\") updateLineClasses(lineView);\n      else if (type == \"widget\") updateLineWidgets(cm, lineView, dims);\n    }\n    lineView.changes = null;\n  }\n\n  // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n      if (lineView.text.parentNode)\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      lineView.node.appendChild(lineView.text);\n      if (ie && ie_version < 8) lineView.node.style.zIndex = 2;\n    }\n    return lineView.node;\n  }\n\n  function updateLineBackground(lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n    if (cls) cls += \" CodeMirror-linebackground\";\n    if (lineView.background) {\n      if (cls) lineView.background.className = cls;\n      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n    }\n  }\n\n  // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n    return buildLineContent(cm, lineView);\n  }\n\n  // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n    if (lineView.text == lineView.node) lineView.node = built.pre;\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(lineView) {\n    updateLineBackground(lineView);\n    if (lineView.line.wrapClass)\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    else if (lineView.node != lineView.text)\n      lineView.node.className = \"\";\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n                                      \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) +\n                                      \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n    var markers = lineView.line.gutterMarkers;\n    if (cm.options.lineNumbers || markers) {\n      var wrap = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" +\n                                             (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap.insertBefore(gutterWrap, lineView.text);\n      if (lineView.line.gutterClass)\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n        lineView.lineNumber = gutterWrap.appendChild(\n          elt(\"div\", lineNumberFor(cm.options, lineN),\n              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n              \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \"\n              + cm.display.lineNumInnerWidth + \"px\"));\n      if (markers) for (var k = 0; k < cm.options.gutters.length; ++k) {\n        var id = cm.options.gutters[k], found = markers.hasOwnProperty(id) && markers[id];\n        if (found)\n          gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" +\n                                     dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) lineView.alignable = null;\n    for (var node = lineView.node.firstChild, next; node; node = next) {\n      var next = node.nextSibling;\n      if (node.className == \"CodeMirror-linewidget\")\n        lineView.node.removeChild(node);\n    }\n    insertLineWidgets(cm, lineView, dims);\n  }\n\n  // Build a line's DOM representation from scratch\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n    if (built.bgClass) lineView.bgClass = built.bgClass;\n    if (built.textClass) lineView.textClass = built.textClass;\n\n    updateLineClasses(lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  }\n\n  // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n    if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n      insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) return;\n    var wrap = ensureLineWrapped(lineView);\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\");\n      if (!widget.handleMouseEvents) node.setAttribute(\"cm-ignore-events\", \"true\");\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n      if (allowAbove && widget.above)\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      else\n        wrap.appendChild(node);\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n      node.style.width = width + \"px\";\n    }\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n      if (!widget.noHScroll) node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n    }\n  }\n\n  // POSITION OBJECT\n\n  // A Pos instance represents a position within the text.\n  var Pos = CodeMirror.Pos = function(line, ch) {\n    if (!(this instanceof Pos)) return new Pos(line, ch);\n    this.line = line; this.ch = ch;\n  };\n\n  // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n  var cmp = CodeMirror.cmpPos = function(a, b) { return a.line - b.line || a.ch - b.ch; };\n\n  function copyPos(x) {return Pos(x.line, x.ch);}\n  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a; }\n  function minPos(a, b) { return cmp(a, b) < 0 ? a : b; }\n\n  // INPUT HANDLING\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) { cm.display.input.focus(); onFocus(cm); }\n  }\n\n  function isReadOnly(cm) {\n    return cm.options.readOnly || cm.doc.cantEdit;\n  }\n\n  // This will be set to an array of strings when copying, so that,\n  // when pasting, we know what kind of selections the copied text\n  // was made out of.\n  var lastCopied = null;\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n    if (!sel) sel = doc.sel;\n\n    var paste = cm.state.pasteIncoming || origin == \"paste\";\n    var textLines = doc.splitLines(inserted), multiPaste = null;\n    // When pasing N lines into N selections, insert one line per selection\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.length == 0) {\n          multiPaste = [];\n          for (var i = 0; i < lastCopied.length; i++)\n            multiPaste.push(doc.splitLines(lastCopied[i]));\n        }\n      } else if (textLines.length == sel.ranges.length) {\n        multiPaste = map(textLines, function(l) { return [l]; });\n      }\n    }\n\n    // Normal behavior is to insert the new text into every selection\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      var from = range.from(), to = range.to();\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          from = Pos(from.line, from.ch - deleted);\n        else if (cm.state.overwrite && !paste) // Handle overwrite\n          to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n      }\n      var updateInput = cm.curOp.updateInput;\n      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i % multiPaste.length] : textLines,\n                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming ? \"cut\" : \"+input\")};\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n    if (inserted && !paste)\n      triggerElectric(cm, inserted);\n\n    ensureCursorVisible(cm);\n    cm.curOp.updateInput = updateInput;\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = false;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"text/plain\");\n    if (pasted) {\n      e.preventDefault();\n      if (!isReadOnly(cm) && !cm.options.disableInput)\n        runInOp(cm, function() { applyTextInput(cm, pasted, 0, null, \"paste\"); });\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) return;\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) continue;\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++)\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n          indented = indentLine(cm, range.head.line, \"smart\");\n      }\n      if (indented) signalLater(cm, \"electricInput\", cm, range.head.line);\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [], ranges = [];\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n    return {text: text, ranges: ranges};\n  }\n\n  function disableBrowserMagic(field) {\n    field.setAttribute(\"autocorrect\", \"off\");\n    field.setAttribute(\"autocapitalize\", \"off\");\n    field.setAttribute(\"spellcheck\", \"false\");\n  }\n\n  // TEXTAREA INPUT STYLE\n\n  function TextareaInput(cm) {\n    this.cm = cm;\n    // See input.poll and input.reset\n    this.prevInput = \"\";\n\n    // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n    this.pollingFast = false;\n    // Self-resetting timeout for the poller\n    this.polling = new Delayed();\n    // Tracks when input.reset has punted to just putting a short\n    // string into the textarea instead of the full selection.\n    this.inaccurateSelection = false;\n    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n    // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n    if (webkit) te.style.width = \"1000px\";\n    else te.setAttribute(\"wrap\", \"off\");\n    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n    if (ios) te.style.border = \"1px solid black\";\n    disableBrowserMagic(te);\n    return div;\n  }\n\n  TextareaInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = this.cm;\n\n      // Wraps and hides input textarea\n      var div = this.wrapper = hiddenTextarea();\n      // The semihidden textarea that is focused when the editor is\n      // focused, and receives input.\n      var te = this.textarea = div.firstChild;\n      display.wrapper.insertBefore(div, display.wrapper.firstChild);\n\n      // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n      if (ios) te.style.width = \"0px\";\n\n      on(te, \"input\", function() {\n        if (ie && ie_version >= 9 && input.hasSelection) input.hasSelection = null;\n        input.poll();\n      });\n\n      on(te, \"paste\", function(e) {\n        if (handlePaste(e, cm)) return true;\n\n        cm.state.pasteIncoming = true;\n        input.fastPoll();\n      });\n\n      function prepareCopyCut(e) {\n        if (cm.somethingSelected()) {\n          lastCopied = cm.getSelections();\n          if (input.inaccurateSelection) {\n            input.prevInput = \"\";\n            input.inaccurateSelection = false;\n            te.value = lastCopied.join(\"\\n\");\n            selectInput(te);\n          }\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = ranges.text;\n          if (e.type == \"cut\") {\n            cm.setSelections(ranges.ranges, null, sel_dontScroll);\n          } else {\n            input.prevInput = \"\";\n            te.value = ranges.text.join(\"\\n\");\n            selectInput(te);\n          }\n        }\n        if (e.type == \"cut\") cm.state.cutIncoming = true;\n      }\n      on(te, \"cut\", prepareCopyCut);\n      on(te, \"copy\", prepareCopyCut);\n\n      on(display.scroller, \"paste\", function(e) {\n        if (eventInWidget(display, e)) return;\n        cm.state.pasteIncoming = true;\n        input.focus();\n      });\n\n      // Prevent normal selection in the editor (we handle our own)\n      on(display.lineSpace, \"selectstart\", function(e) {\n        if (!eventInWidget(display, e)) e_preventDefault(e);\n      });\n\n      on(te, \"compositionstart\", function() {\n        var start = cm.getCursor(\"from\");\n        if (input.composing) input.composing.range.clear()\n        input.composing = {\n          start: start,\n          range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n        };\n      });\n      on(te, \"compositionend\", function() {\n        if (input.composing) {\n          input.poll();\n          input.composing.range.clear();\n          input.composing = null;\n        }\n      });\n    },\n\n    prepareSelection: function() {\n      // Redraw the selection and/or cursor\n      var cm = this.cm, display = cm.display, doc = cm.doc;\n      var result = prepareSelection(cm);\n\n      // Move the hidden textarea near the cursor to prevent scrolling artifacts\n      if (cm.options.moveInputWithCursor) {\n        var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n        var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n        result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n                                            headPos.top + lineOff.top - wrapOff.top));\n        result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n                                             headPos.left + lineOff.left - wrapOff.left));\n      }\n\n      return result;\n    },\n\n    showSelection: function(drawn) {\n      var cm = this.cm, display = cm.display;\n      removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n      removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n      if (drawn.teTop != null) {\n        this.wrapper.style.top = drawn.teTop + \"px\";\n        this.wrapper.style.left = drawn.teLeft + \"px\";\n      }\n    },\n\n    // Reset the input to correspond to the selection (or to be empty,\n    // when not typing and nothing is selected)\n    reset: function(typing) {\n      if (this.contextMenuPending) return;\n      var minimal, selected, cm = this.cm, doc = cm.doc;\n      if (cm.somethingSelected()) {\n        this.prevInput = \"\";\n        var range = doc.sel.primary();\n        minimal = hasCopyEvent &&\n          (range.to().line - range.from().line > 100 || (selected = cm.getSelection()).length > 1000);\n        var content = minimal ? \"-\" : selected || cm.getSelection();\n        this.textarea.value = content;\n        if (cm.state.focused) selectInput(this.textarea);\n        if (ie && ie_version >= 9) this.hasSelection = content;\n      } else if (!typing) {\n        this.prevInput = this.textarea.value = \"\";\n        if (ie && ie_version >= 9) this.hasSelection = null;\n      }\n      this.inaccurateSelection = minimal;\n    },\n\n    getField: function() { return this.textarea; },\n\n    supportsTouch: function() { return false; },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n        try { this.textarea.focus(); }\n        catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n      }\n    },\n\n    blur: function() { this.textarea.blur(); },\n\n    resetPosition: function() {\n      this.wrapper.style.top = this.wrapper.style.left = 0;\n    },\n\n    receivedFocus: function() { this.slowPoll(); },\n\n    // Poll for input changes, using the normal rate of polling. This\n    // runs as long as the editor is focused.\n    slowPoll: function() {\n      var input = this;\n      if (input.pollingFast) return;\n      input.polling.set(this.cm.options.pollInterval, function() {\n        input.poll();\n        if (input.cm.state.focused) input.slowPoll();\n      });\n    },\n\n    // When an event has just come in that is likely to add or change\n    // something in the input textarea, we poll faster, to ensure that\n    // the change appears on the screen quickly.\n    fastPoll: function() {\n      var missed = false, input = this;\n      input.pollingFast = true;\n      function p() {\n        var changed = input.poll();\n        if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n        else {input.pollingFast = false; input.slowPoll();}\n      }\n      input.polling.set(20, p);\n    },\n\n    // Read input from the textarea, and update the document to match.\n    // When something is selected, it is present in the textarea, and\n    // selected (unless it is huge, in which case a placeholder is\n    // used). When nothing is selected, the cursor sits after previously\n    // seen text (can be empty), which is stored in prevInput (we must\n    // not reset the textarea when typing, because that breaks IME).\n    poll: function() {\n      var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n      // Since this is called a *lot*, try to bail out as cheaply as\n      // possible when it is clear that nothing happened. hasSelection\n      // will be the case when there is a lot of text in the textarea,\n      // in which case reading its value would be expensive.\n      if (this.contextMenuPending || !cm.state.focused ||\n          (hasSelection(input) && !prevInput && !this.composing) ||\n          isReadOnly(cm) || cm.options.disableInput || cm.state.keySeq)\n        return false;\n\n      var text = input.value;\n      // If nothing changed, bail.\n      if (text == prevInput && !cm.somethingSelected()) return false;\n      // Work around nonsensical selection resetting in IE9/10, and\n      // inexplicable appearance of private area unicode characters on\n      // some key combos in Mac (#2689).\n      if (ie && ie_version >= 9 && this.hasSelection === text ||\n          mac && /[\\uf700-\\uf7ff]/.test(text)) {\n        cm.display.input.reset();\n        return false;\n      }\n\n      if (cm.doc.sel == cm.display.selForContextMenu) {\n        var first = text.charCodeAt(0);\n        if (first == 0x200b && !prevInput) prevInput = \"\\u200b\";\n        if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\"); }\n      }\n      // Find the part of the input that is actually new\n      var same = 0, l = Math.min(prevInput.length, text.length);\n      while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) ++same;\n\n      var self = this;\n      runInOp(cm, function() {\n        applyTextInput(cm, text.slice(same), prevInput.length - same,\n                       null, self.composing ? \"*compose\" : null);\n\n        // Don't leave long text in the textarea, since it makes further polling slow\n        if (text.length > 1000 || text.indexOf(\"\\n\") > -1) input.value = self.prevInput = \"\";\n        else self.prevInput = text;\n\n        if (self.composing) {\n          self.composing.range.clear();\n          self.composing.range = cm.markText(self.composing.start, cm.getCursor(\"to\"),\n                                             {className: \"CodeMirror-composing\"});\n        }\n      });\n      return true;\n    },\n\n    ensurePolled: function() {\n      if (this.pollingFast && this.poll()) this.pollingFast = false;\n    },\n\n    onKeyPress: function() {\n      if (ie && ie_version >= 9) this.hasSelection = null;\n      this.fastPoll();\n    },\n\n    onContextMenu: function(e) {\n      var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n      var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n      if (!pos || presto) return; // Opera is difficult.\n\n      // Reset the current text selection only if the click is done outside of the selection\n      // and 'resetSelectionOnContextMenu' option is true.\n      var reset = cm.options.resetSelectionOnContextMenu;\n      if (reset && cm.doc.sel.contains(pos) == -1)\n        operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n\n      var oldCSS = te.style.cssText;\n      input.wrapper.style.position = \"absolute\";\n      te.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (e.clientY - 5) +\n        \"px; left: \" + (e.clientX - 5) + \"px; z-index: 1000; background: \" +\n        (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") +\n        \"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n      if (webkit) var oldScrollY = window.scrollY; // Work around Chrome issue (#2712)\n      display.input.focus();\n      if (webkit) window.scrollTo(null, oldScrollY);\n      display.input.reset();\n      // Adds \"Select all\" to context menu in FF\n      if (!cm.somethingSelected()) te.value = input.prevInput = \" \";\n      input.contextMenuPending = true;\n      display.selForContextMenu = cm.doc.sel;\n      clearTimeout(display.detectingSelectAll);\n\n      // Select-all will be greyed out if there's nothing to select, so\n      // this adds a zero-width space so that we can later check whether\n      // it got selected.\n      function prepareSelectAllHack() {\n        if (te.selectionStart != null) {\n          var selected = cm.somethingSelected();\n          var extval = \"\\u200b\" + (selected ? te.value : \"\");\n          te.value = \"\\u21da\"; // Used to catch context-menu undo\n          te.value = extval;\n          input.prevInput = selected ? \"\" : \"\\u200b\";\n          te.selectionStart = 1; te.selectionEnd = extval.length;\n          // Re-set this, in case some other handler touched the\n          // selection in the meantime.\n          display.selForContextMenu = cm.doc.sel;\n        }\n      }\n      function rehide() {\n        input.contextMenuPending = false;\n        input.wrapper.style.position = \"relative\";\n        te.style.cssText = oldCSS;\n        if (ie && ie_version < 9) display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n\n        // Try to detect the user choosing select-all\n        if (te.selectionStart != null) {\n          if (!ie || (ie && ie_version < 9)) prepareSelectAllHack();\n          var i = 0, poll = function() {\n            if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n                te.selectionEnd > 0 && input.prevInput == \"\\u200b\")\n              operation(cm, commands.selectAll)(cm);\n            else if (i++ < 10) display.detectingSelectAll = setTimeout(poll, 500);\n            else display.input.reset();\n          };\n          display.detectingSelectAll = setTimeout(poll, 200);\n        }\n      }\n\n      if (ie && ie_version >= 9) prepareSelectAllHack();\n      if (captureRightClick) {\n        e_stop(e);\n        var mouseup = function() {\n          off(window, \"mouseup\", mouseup);\n          setTimeout(rehide, 20);\n        };\n        on(window, \"mouseup\", mouseup);\n      } else {\n        setTimeout(rehide, 50);\n      }\n    },\n\n    readOnlyChanged: function(val) {\n      if (!val) this.reset();\n    },\n\n    setUneditable: nothing,\n\n    needsContentAttribute: false\n  }, TextareaInput.prototype);\n\n  // CONTENTEDITABLE INPUT STYLE\n\n  function ContentEditableInput(cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.gracePeriod = false;\n  }\n\n  ContentEditableInput.prototype = copyObj({\n    init: function(display) {\n      var input = this, cm = input.cm;\n      var div = input.div = display.lineDiv;\n      disableBrowserMagic(div);\n\n      on(div, \"paste\", function(e) { handlePaste(e, cm); })\n\n      on(div, \"compositionstart\", function(e) {\n        var data = e.data;\n        input.composing = {sel: cm.doc.sel, data: data, startData: data};\n        if (!data) return;\n        var prim = cm.doc.sel.primary();\n        var line = cm.getLine(prim.head.line);\n        var found = line.indexOf(data, Math.max(0, prim.head.ch - data.length));\n        if (found > -1 && found <= prim.head.ch)\n          input.composing.sel = simpleSelection(Pos(prim.head.line, found),\n                                                Pos(prim.head.line, found + data.length));\n      });\n      on(div, \"compositionupdate\", function(e) {\n        input.composing.data = e.data;\n      });\n      on(div, \"compositionend\", function(e) {\n        var ours = input.composing;\n        if (!ours) return;\n        if (e.data != ours.startData && !/\\u200b/.test(e.data))\n          ours.data = e.data;\n        // Need a small delay to prevent other code (input event,\n        // selection polling) from doing damage when fired right after\n        // compositionend.\n        setTimeout(function() {\n          if (!ours.handled)\n            input.applyComposition(ours);\n          if (input.composing == ours)\n            input.composing = null;\n        }, 50);\n      });\n\n      on(div, \"touchstart\", function() {\n        input.forceCompositionEnd();\n      });\n\n      on(div, \"input\", function() {\n        if (input.composing) return;\n        if (isReadOnly(cm) || !input.pollContent())\n          runInOp(input.cm, function() {regChange(cm);});\n      });\n\n      function onCopyCut(e) {\n        if (cm.somethingSelected()) {\n          lastCopied = cm.getSelections();\n          if (e.type == \"cut\") cm.replaceSelection(\"\", null, \"cut\");\n        } else if (!cm.options.lineWiseCopyCut) {\n          return;\n        } else {\n          var ranges = copyableRanges(cm);\n          lastCopied = ranges.text;\n          if (e.type == \"cut\") {\n            cm.operation(function() {\n              cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n              cm.replaceSelection(\"\", null, \"cut\");\n            });\n          }\n        }\n        // iOS exposes the clipboard API, but seems to discard content inserted into it\n        if (e.clipboardData && !ios) {\n          e.preventDefault();\n          e.clipboardData.clearData();\n          e.clipboardData.setData(\"text/plain\", lastCopied.join(\"\\n\"));\n        } else {\n          // Old-fashioned briefly-focus-a-textarea hack\n          var kludge = hiddenTextarea(), te = kludge.firstChild;\n          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n          te.value = lastCopied.join(\"\\n\");\n          var hadFocus = document.activeElement;\n          selectInput(te);\n          setTimeout(function() {\n            cm.display.lineSpace.removeChild(kludge);\n            hadFocus.focus();\n          }, 50);\n        }\n      }\n      on(div, \"copy\", onCopyCut);\n      on(div, \"cut\", onCopyCut);\n    },\n\n    prepareSelection: function() {\n      var result = prepareSelection(this.cm, false);\n      result.focus = this.cm.state.focused;\n      return result;\n    },\n\n    showSelection: function(info) {\n      if (!info || !this.cm.display.view.length) return;\n      if (info.focus) this.showPrimarySelection();\n      this.showMultipleSelections(info);\n    },\n\n    showPrimarySelection: function() {\n      var sel = window.getSelection(), prim = this.cm.doc.sel.primary();\n      var curAnchor = domToPos(this.cm, sel.anchorNode, sel.anchorOffset);\n      var curFocus = domToPos(this.cm, sel.focusNode, sel.focusOffset);\n      if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n          cmp(minPos(curAnchor, curFocus), prim.from()) == 0 &&\n          cmp(maxPos(curAnchor, curFocus), prim.to()) == 0)\n        return;\n\n      var start = posToDOM(this.cm, prim.from());\n      var end = posToDOM(this.cm, prim.to());\n      if (!start && !end) return;\n\n      var view = this.cm.display.view;\n      var old = sel.rangeCount && sel.getRangeAt(0);\n      if (!start) {\n        start = {node: view[0].measure.map[2], offset: 0};\n      } else if (!end) { // FIXME dangerously hacky\n        var measure = view[view.length - 1].measure;\n        var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n        end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n      }\n\n      try { var rng = range(start.node, start.offset, end.offset, end.node); }\n      catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n      if (rng) {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n        if (old && sel.anchorNode == null) sel.addRange(old);\n        else if (gecko) this.startGracePeriod();\n      }\n      this.rememberSelection();\n    },\n\n    startGracePeriod: function() {\n      var input = this;\n      clearTimeout(this.gracePeriod);\n      this.gracePeriod = setTimeout(function() {\n        input.gracePeriod = false;\n        if (input.selectionChanged())\n          input.cm.operation(function() { input.cm.curOp.selectionChanged = true; });\n      }, 20);\n    },\n\n    showMultipleSelections: function(info) {\n      removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n      removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n    },\n\n    rememberSelection: function() {\n      var sel = window.getSelection();\n      this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n      this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n    },\n\n    selectionInEditor: function() {\n      var sel = window.getSelection();\n      if (!sel.rangeCount) return false;\n      var node = sel.getRangeAt(0).commonAncestorContainer;\n      return contains(this.div, node);\n    },\n\n    focus: function() {\n      if (this.cm.options.readOnly != \"nocursor\") this.div.focus();\n    },\n    blur: function() { this.div.blur(); },\n    getField: function() { return this.div; },\n\n    supportsTouch: function() { return true; },\n\n    receivedFocus: function() {\n      var input = this;\n      if (this.selectionInEditor())\n        this.pollSelection();\n      else\n        runInOp(this.cm, function() { input.cm.curOp.selectionChanged = true; });\n\n      function poll() {\n        if (input.cm.state.focused) {\n          input.pollSelection();\n          input.polling.set(input.cm.options.pollInterval, poll);\n        }\n      }\n      this.polling.set(this.cm.options.pollInterval, poll);\n    },\n\n    selectionChanged: function() {\n      var sel = window.getSelection();\n      return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n        sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n    },\n\n    pollSelection: function() {\n      if (!this.composing && !this.gracePeriod && this.selectionChanged()) {\n        var sel = window.getSelection(), cm = this.cm;\n        this.rememberSelection();\n        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n        var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n        if (anchor && head) runInOp(cm, function() {\n          setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n          if (anchor.bad || head.bad) cm.curOp.selectionChanged = true;\n        });\n      }\n    },\n\n    pollContent: function() {\n      var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n      var from = sel.from(), to = sel.to();\n      if (from.line < display.viewFrom || to.line > display.viewTo - 1) return false;\n\n      var fromIndex;\n      if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n        var fromLine = lineNo(display.view[0].line);\n        var fromNode = display.view[0].node;\n      } else {\n        var fromLine = lineNo(display.view[fromIndex].line);\n        var fromNode = display.view[fromIndex - 1].node.nextSibling;\n      }\n      var toIndex = findViewIndex(cm, to.line);\n      if (toIndex == display.view.length - 1) {\n        var toLine = display.viewTo - 1;\n        var toNode = display.lineDiv.lastChild;\n      } else {\n        var toLine = lineNo(display.view[toIndex + 1].line) - 1;\n        var toNode = display.view[toIndex + 1].node.previousSibling;\n      }\n\n      var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n      var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n      while (newText.length > 1 && oldText.length > 1) {\n        if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n        else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n        else break;\n      }\n\n      var cutFront = 0, cutEnd = 0;\n      var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n      while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n        ++cutFront;\n      var newBot = lst(newText), oldBot = lst(oldText);\n      var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n                               oldBot.length - (oldText.length == 1 ? cutFront : 0));\n      while (cutEnd < maxCutEnd &&\n             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n        ++cutEnd;\n\n      newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd);\n      newText[0] = newText[0].slice(cutFront);\n\n      var chFrom = Pos(fromLine, cutFront);\n      var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n      if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n        replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n        return true;\n      }\n    },\n\n    ensurePolled: function() {\n      this.forceCompositionEnd();\n    },\n    reset: function() {\n      this.forceCompositionEnd();\n    },\n    forceCompositionEnd: function() {\n      if (!this.composing || this.composing.handled) return;\n      this.applyComposition(this.composing);\n      this.composing.handled = true;\n      this.div.blur();\n      this.div.focus();\n    },\n    applyComposition: function(composing) {\n      if (isReadOnly(this.cm))\n        operation(this.cm, regChange)(this.cm)\n      else if (composing.data && composing.data != composing.startData)\n        operation(this.cm, applyTextInput)(this.cm, composing.data, 0, composing.sel);\n    },\n\n    setUneditable: function(node) {\n      node.contentEditable = \"false\"\n    },\n\n    onKeyPress: function(e) {\n      e.preventDefault();\n      if (!isReadOnly(this.cm))\n        operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    },\n\n    readOnlyChanged: function(val) {\n      this.div.contentEditable = String(val != \"nocursor\")\n    },\n\n    onContextMenu: nothing,\n    resetPosition: nothing,\n\n    needsContentAttribute: true\n  }, ContentEditableInput.prototype);\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n    if (!view || view.hidden) return null;\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n\n    var order = getOrder(line), side = \"left\";\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function badPos(pos, bad) { if (bad) pos.bad = true; return pos; }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n      if (!lineNode) return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      node = null; offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) return null;\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) break;\n      }\n    }\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n      if (lineView.node == lineNode)\n        return locateNodeInLineView(lineView, node, offset);\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild, bad = false;\n    if (!node || !contains(wrapper, node)) return badPos(Pos(lineNo(lineView.line), 0), true);\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n      if (offset) offset = textNode.nodeValue.length;\n    }\n    while (topNode.parentNode != wrapper) topNode = topNode.parentNode;\n    var measure = lineView.measure, maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n            if (offset < 0 || curNode != textNode) ch = map[j + (offset ? 1 : 0)];\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n    var found = find(textNode, topNode, offset);\n    if (found) return badPos(found, bad);\n\n    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n      if (found)\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n    for (var before = topNode.previousSibling, dist = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n      if (found)\n        return badPos(Pos(found.line, found.ch + dist), bad);\n      else\n        dist += after.textContent.length;\n    }\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator();\n    function recognizeMarker(id) { return function(marker) { return marker.id == id; }; }\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n        if (cmText != null) {\n          if (cmText == \"\") cmText = node.textContent.replace(/\\u200b/g, \"\");\n          text += cmText;\n          return;\n        }\n        var markerID = node.getAttribute(\"cm-marker\"), range;\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n          if (found.length && (range = found[0].find()))\n            text += getBetween(cm.doc, range.from, range.to).join(lineSep);\n          return;\n        }\n        if (node.getAttribute(\"contenteditable\") == \"false\") return;\n        for (var i = 0; i < node.childNodes.length; i++)\n          walk(node.childNodes[i]);\n        if (/^(pre|div|p)$/i.test(node.nodeName))\n          closing = true;\n      } else if (node.nodeType == 3) {\n        var val = node.nodeValue;\n        if (!val) return;\n        if (closing) {\n          text += lineSep;\n          closing = false;\n        }\n        text += val;\n      }\n    }\n    for (;;) {\n      walk(from);\n      if (from == to) break;\n      from = from.nextSibling;\n    }\n    return text;\n  }\n\n  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n  // SELECTION / CURSOR\n\n  // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n  function Selection(ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  }\n\n  Selection.prototype = {\n    primary: function() { return this.ranges[this.primIndex]; },\n    equals: function(other) {\n      if (other == this) return true;\n      if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) return false;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var here = this.ranges[i], there = other.ranges[i];\n        if (cmp(here.anchor, there.anchor) != 0 || cmp(here.head, there.head) != 0) return false;\n      }\n      return true;\n    },\n    deepCopy: function() {\n      for (var out = [], i = 0; i < this.ranges.length; i++)\n        out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n      return new Selection(out, this.primIndex);\n    },\n    somethingSelected: function() {\n      for (var i = 0; i < this.ranges.length; i++)\n        if (!this.ranges[i].empty()) return true;\n      return false;\n    },\n    contains: function(pos, end) {\n      if (!end) end = pos;\n      for (var i = 0; i < this.ranges.length; i++) {\n        var range = this.ranges[i];\n        if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n          return i;\n      }\n      return -1;\n    }\n  };\n\n  function Range(anchor, head) {\n    this.anchor = anchor; this.head = head;\n  }\n\n  Range.prototype = {\n    from: function() { return minPos(this.anchor, this.head); },\n    to: function() { return maxPos(this.anchor, this.head); },\n    empty: function() {\n      return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n    }\n  };\n\n  // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n  function normalizeSelection(ranges, primIndex) {\n    var prim = ranges[primIndex];\n    ranges.sort(function(a, b) { return cmp(a.from(), b.from()); });\n    primIndex = indexOf(ranges, prim);\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i], prev = ranges[i - 1];\n      if (cmp(prev.to(), cur.from()) >= 0) {\n        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n        if (i <= primIndex) --primIndex;\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  }\n\n  // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));}\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) return Pos(doc.first, 0);\n    var last = doc.first + doc.size - 1;\n    if (pos.line > last) return Pos(last, getLine(doc, last).text.length);\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n    if (ch == null || ch > linelen) return Pos(pos.line, linelen);\n    else if (ch < 0) return Pos(pos.line, 0);\n    else return pos;\n  }\n  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size;}\n  function clipPosArray(doc, array) {\n    for (var out = [], i = 0; i < array.length; i++) out[i] = clipPos(doc, array[i]);\n    return out;\n  }\n\n  // SELECTION UPDATES\n\n  // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n  function extendRange(doc, range, head, other) {\n    if (doc.cm && doc.cm.display.shift || doc.extend) {\n      var anchor = range.anchor;\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n        if (posBefore != (cmp(other, anchor) < 0)) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != (cmp(head, other) < 0)) {\n          head = other;\n        }\n      }\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  }\n\n  // Extend the primary selection range, discard the rest.\n  function extendSelection(doc, head, other, options) {\n    setSelection(doc, new Selection([extendRange(doc, doc.sel.primary(), head, other)], 0), options);\n  }\n\n  // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n  function extendSelections(doc, heads, options) {\n    for (var out = [], i = 0; i < doc.sel.ranges.length; i++)\n      out[i] = extendRange(doc, doc.sel.ranges[i], heads[i], null);\n    var newSel = normalizeSelection(out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  }\n\n  // Updates a single range in the selection.\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(ranges, doc.sel.primIndex), options);\n  }\n\n  // Reset the selection to a single range.\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  }\n\n  // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n  function filterSelectionChange(doc, sel) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function(ranges) {\n        this.ranges = [];\n        for (var i = 0; i < ranges.length; i++)\n          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n                                     clipPos(doc, ranges[i].head));\n      }\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    if (obj.ranges != sel.ranges) return normalizeSelection(obj.ranges, obj.ranges.length - 1);\n    else return sel;\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done, last = lst(done);\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  }\n\n  // Set a new selection.\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n      sel = filterSelectionChange(doc, sel);\n\n    var bias = options && options.bias ||\n      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm)\n      ensureCursorVisible(doc.cm);\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) return;\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n    signalLater(doc, \"cursorActivity\", doc);\n  }\n\n  // Verify that the selection does not partially select any atomic\n  // marked ranges.\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false), sel_dontScroll);\n  }\n\n  // Return a selection that does not partially select any atomic\n  // ranges.\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, bias, mayClear);\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) out = sel.ranges.slice(0, i);\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n    return out ? normalizeSelection(out, sel.primIndex) : sel;\n  }\n\n  // Ensure a given position is not inside an atomic range.\n  function skipAtomic(doc, pos, bias, mayClear) {\n    var flipped = false, curPos = pos;\n    var dir = bias || 1;\n    doc.cantEdit = false;\n    search: for (;;) {\n      var line = getLine(doc, curPos.line);\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var sp = line.markedSpans[i], m = sp.marker;\n          if ((sp.from == null || (m.inclusiveLeft ? sp.from <= curPos.ch : sp.from < curPos.ch)) &&\n              (sp.to == null || (m.inclusiveRight ? sp.to >= curPos.ch : sp.to > curPos.ch))) {\n            if (mayClear) {\n              signal(m, \"beforeCursorEnter\");\n              if (m.explicitlyCleared) {\n                if (!line.markedSpans) break;\n                else {--i; continue;}\n              }\n            }\n            if (!m.atomic) continue;\n            var newPos = m.find(dir < 0 ? -1 : 1);\n            if (cmp(newPos, curPos) == 0) {\n              newPos.ch += dir;\n              if (newPos.ch < 0) {\n                if (newPos.line > doc.first) newPos = clipPos(doc, Pos(newPos.line - 1));\n                else newPos = null;\n              } else if (newPos.ch > line.text.length) {\n                if (newPos.line < doc.first + doc.size - 1) newPos = Pos(newPos.line + 1, 0);\n                else newPos = null;\n              }\n              if (!newPos) {\n                if (flipped) {\n                  // Driven in a corner -- no valid cursor position found at all\n                  // -- try again *with* clearing, if we didn't already\n                  if (!mayClear) return skipAtomic(doc, pos, bias, true);\n                  // Otherwise, turn off editing until further notice, and return the start of the doc\n                  doc.cantEdit = true;\n                  return Pos(doc.first, 0);\n                }\n                flipped = true; newPos = pos; dir = -dir;\n              }\n            }\n            curPos = newPos;\n            continue search;\n          }\n        }\n      }\n      return curPos;\n    }\n  }\n\n  // SELECTION DRAWING\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    var doc = cm.doc, result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (primary === false && i == doc.sel.primIndex) continue;\n      var range = doc.sel.ranges[i];\n      var collapsed = range.empty();\n      if (collapsed || cm.options.showCursorWhenSelecting)\n        drawSelectionCursor(cm, range.head, curFragment);\n      if (!collapsed)\n        drawSelectionRange(cm, range, selFragment);\n    }\n    return result;\n  }\n\n  // Draws a cursor for the given range\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  // Draws the given range as a highlighted selection\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display, doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display), leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n\n    function add(left, top, width, bottom) {\n      if (top < 0) top = 0;\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left +\n                               \"px; top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) +\n                               \"px; height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      iterateBidiSections(getOrder(lineObj), fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir) {\n        var leftPos = coords(from, \"left\"), rightPos, left, right;\n        if (from == to) {\n          rightPos = leftPos;\n          left = right = leftPos.left;\n        } else {\n          rightPos = coords(to - 1, \"right\");\n          if (dir == \"rtl\") { var tmp = leftPos; leftPos = rightPos; rightPos = tmp; }\n          left = leftPos.left;\n          right = rightPos.right;\n        }\n        if (fromArg == null && from == 0) left = leftSide;\n        if (rightPos.top - leftPos.top > 3) { // Different lines, draw top part\n          add(left, leftPos.top, null, leftPos.bottom);\n          left = leftSide;\n          if (leftPos.bottom < rightPos.top) add(left, leftPos.bottom, null, rightPos.top);\n        }\n        if (toArg == null && to == lineLen) right = rightSide;\n        if (!start || leftPos.top < start.top || leftPos.top == start.top && leftPos.left < start.left)\n          start = leftPos;\n        if (!end || rightPos.bottom > end.bottom || rightPos.bottom == end.bottom && rightPos.right > end.right)\n          end = rightPos;\n        if (left < leftSide + 1) left = leftSide;\n        add(left, rightPos.top, right - left, rightPos.bottom);\n      });\n      return {start: start, end: end};\n    }\n\n    var sFrom = range.from(), sTo = range.to();\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n      if (leftEnd.bottom < rightStart.top)\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n    }\n\n    output.appendChild(fragment);\n  }\n\n  // Cursor-blinking\n  function restartBlink(cm) {\n    if (!cm.state.focused) return;\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n    if (cm.options.cursorBlinkRate > 0)\n      display.blinker = setInterval(function() {\n        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    else if (cm.options.cursorBlinkRate < 0)\n      display.cursorDiv.style.visibility = \"hidden\";\n  }\n\n  // HIGHLIGHT WORKER\n\n  function startWorker(cm, time) {\n    if (cm.doc.mode.startState && cm.doc.frontier < cm.display.viewTo)\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n    if (doc.frontier < doc.first) doc.frontier = doc.first;\n    if (doc.frontier >= cm.display.viewTo) return;\n    var end = +new Date + cm.options.workTime;\n    var state = copyState(doc.mode, getStateBefore(cm, doc.frontier));\n    var changedLines = [];\n\n    doc.iter(doc.frontier, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function(line) {\n      if (doc.frontier >= cm.display.viewFrom) { // Visible\n        var oldStyles = line.styles, tooLong = line.text.length > cm.options.maxHighlightLength;\n        var highlighted = highlightLine(cm, line, tooLong ? copyState(doc.mode, state) : state, true);\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses, newCls = highlighted.classes;\n        if (newCls) line.styleClasses = newCls;\n        else if (oldCls) line.styleClasses = null;\n        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) ischange = oldStyles[i] != line.styles[i];\n        if (ischange) changedLines.push(doc.frontier);\n        line.stateAfter = tooLong ? state : copyState(doc.mode, state);\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength)\n          processLine(cm, line.text, state);\n        line.stateAfter = doc.frontier % 5 == 0 ? copyState(doc.mode, state) : null;\n      }\n      ++doc.frontier;\n      if (+new Date > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    if (changedLines.length) runInOp(cm, function() {\n      for (var i = 0; i < changedLines.length; i++)\n        regLineChange(cm, changedLines[i], \"text\");\n    });\n  }\n\n  // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n  function findStartLine(cm, n, precise) {\n    var minindent, minline, doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) return doc.first;\n      var line = getLine(doc, search - 1);\n      if (line.stateAfter && (!precise || search <= doc.frontier)) return search;\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n    return minline;\n  }\n\n  function getStateBefore(cm, n, precise) {\n    var doc = cm.doc, display = cm.display;\n    if (!doc.mode.startState) return true;\n    var pos = findStartLine(cm, n, precise), state = pos > doc.first && getLine(doc, pos-1).stateAfter;\n    if (!state) state = startState(doc.mode);\n    else state = copyState(doc.mode, state);\n    doc.iter(pos, n, function(line) {\n      processLine(cm, line.text, state);\n      var save = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo;\n      line.stateAfter = save ? copyState(doc.mode, state) : null;\n      ++pos;\n    });\n    if (precise) doc.frontier = pos;\n    return state;\n  }\n\n  // POSITION MEASUREMENT\n\n  function paddingTop(display) {return display.lineSpace.offsetTop;}\n  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight;}\n  function paddingH(display) {\n    if (display.cachedPaddingH) return display.cachedPaddingH;\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n    if (!isNaN(data.left) && !isNaN(data.right)) display.cachedPaddingH = data;\n    return data;\n  }\n\n  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth; }\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  }\n\n  // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i], next = rects[i + 1];\n          if (Math.abs(cur.bottom - next.bottom) > 2)\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n        }\n      }\n      heights.push(rect.bottom - rect.top);\n    }\n  }\n\n  // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line)\n      return {map: lineView.measure.map, cache: lineView.measure.cache};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineView.rest[i] == line)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]};\n    for (var i = 0; i < lineView.rest.length; i++)\n      if (lineNo(lineView.rest[i]) > lineN)\n        return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i], before: true};\n  }\n\n  // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  }\n\n  // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  }\n\n  // Find a line view that corresponds to the given line number.\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n      return cm.display.view[findViewIndex(cm, lineN)];\n    var ext = cm.display.externalMeasured;\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n      return ext;\n  }\n\n  // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n    if (!view)\n      view = updateExternalMeasurement(cm, line);\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line, view: view, rect: null,\n      map: info.map, cache: info.cache, before: info.before,\n      hasHeights: false\n    };\n  }\n\n  // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) ch = -1;\n    var key = ch + (bias || \"\"), found;\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect)\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n      found = measureCharInner(cm, prepared, ch, bias);\n      if (!found.bogus) prepared.cache[key] = found;\n    }\n    return {left: found.left, right: found.right,\n            top: varHeight ? found.rtop : found.top,\n            bottom: varHeight ? found.rbottom : found.bottom};\n  }\n\n  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse;\n    // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n    for (var i = 0; i < map.length; i += 3) {\n      var mStart = map[i], mEnd = map[i + 1];\n      if (ch < mStart) {\n        start = 0; end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n        if (ch >= mEnd) collapse = \"right\";\n      }\n      if (start != null) {\n        node = map[i + 2];\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n          collapse = bias;\n        if (bias == \"left\" && start == 0)\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        if (bias == \"right\" && start == mEnd - mStart)\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        break;\n      }\n    }\n    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd};\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n    var rect;\n    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n      for (var i = 0; i < 4; i++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) --start;\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) ++end;\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else if (ie && cm.options.lineWrapping) {\n          var rects = range(node, start, end).getClientRects();\n          if (rects.length)\n            rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n          else\n            rect = nullRect;\n        } else {\n          rect = range(node, start, end).getBoundingClientRect() || nullRect;\n        }\n        if (rect.left || rect.right || start == 0) break;\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n      if (ie && ie_version < 11) rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n    } else { // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) collapse = bias = \"right\";\n      var rects;\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      else\n        rect = node.getBoundingClientRect();\n    }\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n      if (rSpan)\n        rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom};\n      else\n        rect = nullRect;\n    }\n\n    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    for (var i = 0; i < heights.length - 1; i++)\n      if (mid < heights[i]) break;\n    var top = i ? heights[i - 1] : 0, bot = heights[i];\n    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n                  top: top, bottom: bot};\n    if (!rect.left && !rect.right) result.bogus = true;\n    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n    return result;\n  }\n\n  // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null ||\n        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n      return rect;\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {left: rect.left * scaleX, right: rect.right * scaleX,\n            top: rect.top * scaleY, bottom: rect.bottom * scaleY};\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n      if (lineView.rest) for (var i = 0; i < lineView.rest.length; i++)\n        lineView.measure.caches[i] = {};\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n    for (var i = 0; i < cm.display.view.length; i++)\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n    if (!cm.options.lineWrapping) cm.display.maxLineChanged = true;\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() { return window.pageXOffset || (document.documentElement || document.body).scrollLeft; }\n  function pageScrollY() { return window.pageYOffset || (document.documentElement || document.body).scrollTop; }\n\n  // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"/null (editor), \"window\",\n  // or \"page\".\n  function intoCoordSystem(cm, lineObj, rect, context) {\n    if (lineObj.widgets) for (var i = 0; i < lineObj.widgets.length; ++i) if (lineObj.widgets[i].above) {\n      var size = widgetHeight(lineObj.widgets[i]);\n      rect.top += size; rect.bottom += size;\n    }\n    if (context == \"line\") return rect;\n    if (!context) context = \"local\";\n    var yOff = heightAtLine(lineObj);\n    if (context == \"local\") yOff += paddingTop(cm.display);\n    else yOff -= cm.display.viewOffset;\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff; rect.right += xOff;\n    }\n    rect.top += yOff; rect.bottom += yOff;\n    return rect;\n  }\n\n  // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"/null.\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") return coords;\n    var left = coords.left, top = coords.top;\n    // First move into \"page\" coordinate system\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top};\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) lineObj = getLine(cm.doc, pos.line);\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  }\n\n  // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n    if (!preparedMeasure) preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n      if (right) m.left = m.right; else m.right = m.left;\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n    function getBidi(ch, partPos) {\n      var part = order[partPos], right = part.level % 2;\n      if (ch == bidiLeft(part) && partPos && part.level < order[partPos - 1].level) {\n        part = order[--partPos];\n        ch = bidiRight(part) - (part.level % 2 ? 0 : 1);\n        right = true;\n      } else if (ch == bidiRight(part) && partPos < order.length - 1 && part.level < order[partPos + 1].level) {\n        part = order[++partPos];\n        ch = bidiLeft(part) - part.level % 2;\n        right = false;\n      }\n      if (right && ch == part.to && ch > part.from) return get(ch - 1);\n      return get(ch, right);\n    }\n    var order = getOrder(lineObj), ch = pos.ch;\n    if (!order) return get(ch);\n    var partPos = getBidiPartAt(order, ch);\n    var val = getBidi(ch, partPos);\n    if (bidiOther != null) val.other = getBidi(ch, bidiOther);\n    return val;\n  }\n\n  // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n  function estimateCoords(cm, pos) {\n    var left = 0, pos = clipPos(cm.doc, pos);\n    if (!cm.options.lineWrapping) left = charWidth(cm.display) * pos.ch;\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {left: left, right: left, top: top, bottom: top + lineObj.height};\n  }\n\n  // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n  function PosWithInfo(line, ch, outside, xRel) {\n    var pos = Pos(line, ch);\n    pos.xRel = xRel;\n    if (outside) pos.outside = true;\n    return pos;\n  }\n\n  // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n    if (y < 0) return PosWithInfo(doc.first, 0, true, -1);\n    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n    if (lineN > last)\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, true, 1);\n    if (x < 0) x = 0;\n\n    var lineObj = getLine(doc, lineN);\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var merged = collapsedSpanAtEnd(lineObj);\n      var mergedPos = merged && merged.find(0, true);\n      if (merged && (found.ch > mergedPos.from.ch || found.ch == mergedPos.from.ch && found.xRel > 0))\n        lineN = lineNo(lineObj = mergedPos.to.line);\n      else\n        return found;\n    }\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    var innerOff = y - heightAtLine(lineObj);\n    var wrongLine = false, adjust = 2 * cm.display.wrapper.clientWidth;\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n\n    function getX(ch) {\n      var sp = cursorCoords(cm, Pos(lineNo, ch), \"line\", lineObj, preparedMeasure);\n      wrongLine = true;\n      if (innerOff > sp.bottom) return sp.left - adjust;\n      else if (innerOff < sp.top) return sp.left + adjust;\n      else wrongLine = false;\n      return sp.left;\n    }\n\n    var bidi = getOrder(lineObj), dist = lineObj.text.length;\n    var from = lineLeft(lineObj), to = lineRight(lineObj);\n    var fromX = getX(from), fromOutside = wrongLine, toX = getX(to), toOutside = wrongLine;\n\n    if (x > toX) return PosWithInfo(lineNo, to, toOutside, 1);\n    // Do a binary search between these bounds.\n    for (;;) {\n      if (bidi ? to == from || to == moveVisually(lineObj, from, 1) : to - from <= 1) {\n        var ch = x < fromX || x - fromX <= toX - x ? from : to;\n        var xDiff = x - (ch == from ? fromX : toX);\n        while (isExtendingChar(lineObj.text.charAt(ch))) ++ch;\n        var pos = PosWithInfo(lineNo, ch, ch == from ? fromOutside : toOutside,\n                              xDiff < -1 ? -1 : xDiff > 1 ? 1 : 0);\n        return pos;\n      }\n      var step = Math.ceil(dist / 2), middle = from + step;\n      if (bidi) {\n        middle = from;\n        for (var i = 0; i < step; ++i) middle = moveVisually(lineObj, middle, 1);\n      }\n      var middleX = getX(middle);\n      if (middleX > x) {to = middle; toX = middleX; if (toOutside = wrongLine) toX += 1000; dist = step;}\n      else {from = middle; fromX = middleX; fromOutside = wrongLine; dist -= step;}\n    }\n  }\n\n  var measureText;\n  // Compute the default text height.\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) return display.cachedTextHeight;\n    if (measureText == null) {\n      measureText = elt(\"pre\");\n      // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n    if (height > 3) display.cachedTextHeight = height;\n    removeChildren(display.measure);\n    return height || 1;\n  }\n\n  // Compute the default character width.\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) return display.cachedCharWidth;\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor]);\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n    if (width > 2) display.cachedCharWidth = width;\n    return width || 10;\n  }\n\n  // OPERATIONS\n\n  // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n  var operationGroup = null;\n\n  var nextOpId = 0;\n  // Start a new operation.\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n      forceUpdate: false,      // Used to force a redraw\n      updateInput: null,       // Whether to reset the input textarea\n      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,        // Accumulated changes, for firing change events\n      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false, // Whether the selection needs to be redrawn\n      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,       // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId           // Unique ID\n    };\n    if (operationGroup) {\n      operationGroup.ops.push(cm.curOp);\n    } else {\n      cm.curOp.ownsGroup = operationGroup = {\n        ops: [cm.curOp],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks, i = 0;\n    do {\n      for (; i < callbacks.length; i++)\n        callbacks[i].call(null);\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n        if (op.cursorActivityHandlers)\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n      }\n    } while (i < callbacks.length);\n  }\n\n  // Finish an operation, updating the display and signalling delayed events\n  function endOperation(cm) {\n    var op = cm.curOp, group = op.ownsGroup;\n    if (!group) return;\n\n    try { fireCallbacksForOps(group); }\n    finally {\n      operationGroup = null;\n      for (var i = 0; i < group.ops.length; i++)\n        group.ops[i].cm.curOp = null;\n      endOperations(group);\n    }\n  }\n\n  // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n  function endOperations(group) {\n    var ops = group.ops;\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W1(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_R2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Write DOM (maybe)\n      endOperation_W2(ops[i]);\n    for (var i = 0; i < ops.length; i++) // Read DOM\n      endOperation_finish(ops[i]);\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm, display = cm.display;\n    maybeClipScrollbars(cm);\n    if (op.updateMaxLine) findMaxLine(cm);\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n                         op.scrollToPos.to.line >= display.viewTo) ||\n      display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate &&\n      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm, display = cm.display;\n    if (op.updatedDisplay) updateHeightsInViewport(cm);\n\n    op.barMeasure = measureForScrollbars(cm);\n\n    // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth =\n        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged)\n      op.preparedSelection = display.input.prepareSelection();\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n      if (op.maxScrollLeft < cm.doc.scrollLeft)\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      cm.display.maxLineChanged = false;\n    }\n\n    if (op.preparedSelection)\n      cm.display.input.showSelection(op.preparedSelection);\n    if (op.updatedDisplay)\n      setDocumentHeight(cm, op.barMeasure);\n    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n      updateScrollbars(cm, op.barMeasure);\n\n    if (op.selectionChanged) restartBlink(cm);\n\n    if (cm.state.focused && op.updateInput)\n      cm.display.input.reset(op.typing);\n    if (op.focus && op.focus == activeElt() && (!document.hasFocus || document.hasFocus()))\n      ensureFocus(op.cm);\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n    if (op.updatedDisplay) postUpdateDisplay(cm, op.update);\n\n    // Abort mouse wheel delta measurement, when scrolling explicitly\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n      display.wheelStartX = display.wheelStartY = null;\n\n    // Propagate the scroll position to the actual DOM scroller\n    if (op.scrollTop != null && (display.scroller.scrollTop != op.scrollTop || op.forceScroll)) {\n      doc.scrollTop = Math.max(0, Math.min(display.scroller.scrollHeight - display.scroller.clientHeight, op.scrollTop));\n      display.scrollbars.setScrollTop(doc.scrollTop);\n      display.scroller.scrollTop = doc.scrollTop;\n    }\n    if (op.scrollLeft != null && (display.scroller.scrollLeft != op.scrollLeft || op.forceScroll)) {\n      doc.scrollLeft = Math.max(0, Math.min(display.scroller.scrollWidth - displayWidth(cm), op.scrollLeft));\n      display.scrollbars.setScrollLeft(doc.scrollLeft);\n      display.scroller.scrollLeft = doc.scrollLeft;\n      alignHorizontally(cm);\n    }\n    // If we need to scroll a specific position into view, do so.\n    if (op.scrollToPos) {\n      var coords = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n                                     clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      if (op.scrollToPos.isCursor && cm.state.focused) maybeScrollWindow(cm, coords);\n    }\n\n    // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n    if (hidden) for (var i = 0; i < hidden.length; ++i)\n      if (!hidden[i].lines.length) signal(hidden[i], \"hide\");\n    if (unhidden) for (var i = 0; i < unhidden.length; ++i)\n      if (unhidden[i].lines.length) signal(unhidden[i], \"unhide\");\n\n    if (display.wrapper.offsetHeight)\n      doc.scrollTop = cm.display.scroller.scrollTop;\n\n    // Fire change events, and delayed event handlers\n    if (op.changeObjs)\n      signal(cm, \"changes\", cm, op.changeObjs);\n    if (op.update)\n      op.update.finish();\n  }\n\n  // Run the given function in an operation\n  function runInOp(cm, f) {\n    if (cm.curOp) return f();\n    startOperation(cm);\n    try { return f(); }\n    finally { endOperation(cm); }\n  }\n  // Wraps a function in an operation. Returns the wrapped function.\n  function operation(cm, f) {\n    return function() {\n      if (cm.curOp) return f.apply(cm, arguments);\n      startOperation(cm);\n      try { return f.apply(cm, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n  // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n  function methodOp(f) {\n    return function() {\n      if (this.curOp) return f.apply(this, arguments);\n      startOperation(this);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(this); }\n    };\n  }\n  function docMethodOp(f) {\n    return function() {\n      var cm = this.cm;\n      if (!cm || cm.curOp) return f.apply(this, arguments);\n      startOperation(cm);\n      try { return f.apply(this, arguments); }\n      finally { endOperation(cm); }\n    };\n  }\n\n  // VIEW TRACKING\n\n  // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line;\n    // Continuing lines, if any\n    this.rest = visualLineContinued(line);\n    // Number of logical lines in this visual line\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  }\n\n  // Create a range of LineView objects for the given lines.\n  function buildViewArray(cm, from, to) {\n    var array = [], nextPos;\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n    return array;\n  }\n\n  // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) from = cm.doc.first;\n    if (to == null) to = cm.doc.first + cm.doc.size;\n    if (!lendiff) lendiff = 0;\n\n    var display = cm.display;\n    if (lendiff && to < display.viewTo &&\n        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n      display.updateLineNumbers = from;\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) { // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n        resetView(cm);\n    } else if (to <= display.viewFrom) { // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) { // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) { // Bottom overlap\n      var cut = viewCuttingPoint(cm, from, from, -1);\n      if (cut) {\n        display.view = display.view.slice(0, cut.index);\n        display.viewTo = cut.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else { // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index)\n          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n          .concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n    if (ext) {\n      if (to < ext.lineN)\n        ext.lineN += lendiff;\n      else if (from < ext.lineN + ext.size)\n        display.externalMeasured = null;\n    }\n  }\n\n  // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display, ext = cm.display.externalMeasured;\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n      display.externalMeasured = null;\n\n    if (line < display.viewFrom || line >= display.viewTo) return;\n    var lineView = display.view[findViewIndex(cm, line)];\n    if (lineView.node == null) return;\n    var arr = lineView.changes || (lineView.changes = []);\n    if (indexOf(arr, type) == -1) arr.push(type);\n  }\n\n  // Clear the view.\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) return null;\n    n -= cm.display.viewFrom;\n    if (n < 0) return null;\n    var view = cm.display.view;\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n      if (n < 0) return i;\n    }\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n      return {index: index, lineN: newN};\n    for (var i = 0, n = cm.display.viewFrom; i < index; i++)\n      n += view[i].size;\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) return null;\n        diff = (n + view[index].size) - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n      oldN += diff; newN += diff;\n    }\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) return null;\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n    return {index: index, lineN: newN};\n  }\n\n  // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n  function adjustView(cm, from, to) {\n    var display = cm.display, view = display.view;\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from)\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      else if (display.viewFrom < from)\n        display.view = display.view.slice(findViewIndex(cm, from));\n      display.viewFrom = from;\n      if (display.viewTo < to)\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      else if (display.viewTo > to)\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n    }\n    display.viewTo = to;\n  }\n\n  // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n  function countDirtyView(cm) {\n    var view = cm.display.view, dirty = 0;\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) ++dirty;\n    }\n    return dirty;\n  }\n\n  // EVENT HANDLERS\n\n  // Attach the necessary event handlers when initializing the editor\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n    // Older IE's will not fire a second mousedown for a double click\n    if (ie && ie_version < 11)\n      on(d.scroller, \"dblclick\", operation(cm, function(e) {\n        if (signalDOMEvent(cm, e)) return;\n        var pos = posFromMouse(cm, e);\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) return;\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    else\n      on(d.scroller, \"dblclick\", function(e) { signalDOMEvent(cm, e) || e_preventDefault(e); });\n    // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n    if (!captureRightClick) on(d.scroller, \"contextmenu\", function(e) {onContextMenu(cm, e);});\n\n    // Used to suppress mouse event handling when a touch happens\n    var touchFinished, prevTouch = {end: 0};\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function() {d.activeTouch = null;}, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date;\n      }\n    };\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) return false;\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n    function farAway(touch, other) {\n      if (other.left == null) return true;\n      var dx = other.left - touch.left, dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n    on(d.scroller, \"touchstart\", function(e) {\n      if (!isMouseLikeTouchEvent(e)) {\n        clearTimeout(touchFinished);\n        var now = +new Date;\n        d.activeTouch = {start: now, moved: false,\n                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function() {\n      if (d.activeTouch) d.activeTouch.moved = true;\n    });\n    on(d.scroller, \"touchend\", function(e) {\n      var touch = d.activeTouch;\n      if (touch && !eventInWidget(d, e) && touch.left != null &&\n          !touch.moved && new Date - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          range = new Range(pos, pos);\n        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          range = cm.findWordAt(pos);\n        else // Triple tap\n          range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch);\n\n    // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n    on(d.scroller, \"scroll\", function() {\n      if (d.scroller.clientHeight) {\n        setScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    });\n\n    // Listen to wheel events in order to try and update the viewport on time.\n    on(d.scroller, \"mousewheel\", function(e){onScrollWheel(cm, e);});\n    on(d.scroller, \"DOMMouseScroll\", function(e){onScrollWheel(cm, e);});\n\n    // Prevent wrapper from ever scrolling\n    on(d.wrapper, \"scroll\", function() { d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n    d.dragFunctions = {\n      enter: function(e) {if (!signalDOMEvent(cm, e)) e_stop(e);},\n      over: function(e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n      start: function(e){onDragStart(cm, e);},\n      drop: operation(cm, onDrop),\n      leave: function() {clearDragCursor(cm);}\n    };\n\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function(e) { onKeyUp.call(cm, e); });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", bind(onFocus, cm));\n    on(inp, \"blur\", bind(onBlur, cm));\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != CodeMirror.Init;\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  // Called when the window resizes\n  function onResize(cm) {\n    var d = cm.display;\n    if (d.lastWrapHeight == d.wrapper.clientHeight && d.lastWrapWidth == d.wrapper.clientWidth)\n      return;\n    // Might be a text scaling operation, clear size caches.\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  // MOUSE EVENTS\n\n  // Return true when the given mouse event happened in a widget\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n          (n.parentNode == display.sizer && n != display.mover))\n        return true;\n    }\n  }\n\n  // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") return null;\n\n    var x, y, space = display.lineSpace.getBoundingClientRect();\n    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n    catch (e) { return null; }\n    var coords = coordsChar(cm, x, y), line;\n    if (forRect && coords.xRel == 1 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n    return coords;\n  }\n\n  // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n  function onMouseDown(e) {\n    var cm = this, display = cm.display;\n    if (display.activeTouch && display.input.supportsTouch() || signalDOMEvent(cm, e)) return;\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function(){display.scroller.draggable = true;}, 100);\n      }\n      return;\n    }\n    if (clickInGutter(cm, e)) return;\n    var start = posFromMouse(cm, e);\n    window.focus();\n\n    switch (e_button(e)) {\n    case 1:\n      // #3261: make sure, that we're not starting a second selection\n      if (cm.state.selectingText)\n        cm.state.selectingText(e);\n      else if (start)\n        leftButtonDown(cm, e, start);\n      else if (e_target(e) == display.scroller)\n        e_preventDefault(e);\n      break;\n    case 2:\n      if (webkit) cm.state.lastMiddleDown = +new Date;\n      if (start) extendSelection(cm.doc, start);\n      setTimeout(function() {display.input.focus();}, 20);\n      e_preventDefault(e);\n      break;\n    case 3:\n      if (captureRightClick) onContextMenu(cm, e);\n      else delayBlurEvent(cm);\n      break;\n    }\n  }\n\n  var lastClick, lastDoubleClick;\n  function leftButtonDown(cm, e, start) {\n    if (ie) setTimeout(bind(ensureFocus, cm), 0);\n    else cm.curOp.focus = activeElt();\n\n    var now = +new Date, type;\n    if (lastDoubleClick && lastDoubleClick.time > now - 400 && cmp(lastDoubleClick.pos, start) == 0) {\n      type = \"triple\";\n    } else if (lastClick && lastClick.time > now - 400 && cmp(lastClick.pos, start) == 0) {\n      type = \"double\";\n      lastDoubleClick = {time: now, pos: start};\n    } else {\n      type = \"single\";\n      lastClick = {time: now, pos: start};\n    }\n\n    var sel = cm.doc.sel, modifier = mac ? e.metaKey : e.ctrlKey, contained;\n    if (cm.options.dragDrop && dragAndDrop && !isReadOnly(cm) &&\n        type == \"single\" && (contained = sel.contains(start)) > -1 &&\n        (cmp((contained = sel.ranges[contained]).from(), start) < 0 || start.xRel > 0) &&\n        (cmp(contained.to(), start) > 0 || start.xRel < 0))\n      leftButtonStartDrag(cm, e, start, modifier);\n    else\n      leftButtonSelect(cm, e, start, type, modifier);\n  }\n\n  // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n  function leftButtonStartDrag(cm, e, start, modifier) {\n    var display = cm.display, startTime = +new Date;\n    var dragEnd = operation(cm, function(e2) {\n      if (webkit) display.scroller.draggable = false;\n      cm.state.draggingText = false;\n      off(document, \"mouseup\", dragEnd);\n      off(display.scroller, \"drop\", dragEnd);\n      if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\n        e_preventDefault(e2);\n        if (!modifier && +new Date - 200 < startTime)\n          extendSelection(cm.doc, start);\n        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n        if (webkit || ie && ie_version == 9)\n          setTimeout(function() {document.body.focus(); display.input.focus();}, 20);\n        else\n          display.input.focus();\n      }\n    });\n    // Let the drag handler handle this.\n    if (webkit) display.scroller.draggable = true;\n    cm.state.draggingText = dragEnd;\n    // IE's approach to draggable\n    if (display.scroller.dragDrop) display.scroller.dragDrop();\n    on(document, \"mouseup\", dragEnd);\n    on(display.scroller, \"drop\", dragEnd);\n  }\n\n  // Normal selection, as opposed to text dragging.\n  function leftButtonSelect(cm, e, start, type, addNew) {\n    var display = cm.display, doc = cm.doc;\n    e_preventDefault(e);\n\n    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n    if (addNew && !e.shiftKey) {\n      ourIndex = doc.sel.contains(start);\n      if (ourIndex > -1)\n        ourRange = ranges[ourIndex];\n      else\n        ourRange = new Range(start, start);\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (e.altKey) {\n      type = \"rect\";\n      if (!addNew) ourRange = new Range(start, start);\n      start = posFromMouse(cm, e, true, true);\n      ourIndex = -1;\n    } else if (type == \"double\") {\n      var word = cm.findWordAt(start);\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, word.anchor, word.head);\n      else\n        ourRange = word;\n    } else if (type == \"triple\") {\n      var line = new Range(Pos(start.line, 0), clipPos(doc, Pos(start.line + 1, 0)));\n      if (cm.display.shift || doc.extend)\n        ourRange = extendRange(doc, ourRange, line.anchor, line.head);\n      else\n        ourRange = line;\n    } else {\n      ourRange = extendRange(doc, ourRange, start);\n    }\n\n    if (!addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(ranges.concat([ourRange]), ourIndex),\n                   {scroll: false, origin: \"*mouse\"});\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && type == \"single\" && !e.shiftKey) {\n      setSelection(doc, normalizeSelection(ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n                   {scroll: false, origin: \"*mouse\"});\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) return;\n      lastPos = pos;\n\n      if (type == \"rect\") {\n        var ranges = [], tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n             line <= end; line++) {\n          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n          if (left == right)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          else if (text.length > leftPos)\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n        }\n        if (!ranges.length) ranges.push(new Range(start, start));\n        setSelection(doc, normalizeSelection(startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n                     {origin: \"*mouse\", scroll: false});\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var anchor = oldRange.anchor, head = pos;\n        if (type != \"single\") {\n          if (type == \"double\")\n            var range = cm.findWordAt(pos);\n          else\n            var range = new Range(Pos(pos.line, 0), clipPos(doc, Pos(pos.line + 1, 0)));\n          if (cmp(range.anchor, anchor) > 0) {\n            head = range.head;\n            anchor = minPos(oldRange.from(), range.anchor);\n          } else {\n            head = range.anchor;\n            anchor = maxPos(oldRange.to(), range.head);\n          }\n        }\n        var ranges = startSel.ranges.slice(0);\n        ranges[ourIndex] = new Range(clipPos(doc, anchor), head);\n        setSelection(doc, normalizeSelection(ranges, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect();\n    // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, type == \"rect\");\n      if (!cur) return;\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n        if (cur.line >= visible.to || cur.line < visible.from)\n          setTimeout(operation(cm, function(){if (counter == curCount) extend(e);}), 150);\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n        if (outside) setTimeout(operation(cm, function() {\n          if (counter != curCount) return;\n          display.scroller.scrollTop += outside;\n          extend(e);\n        }), 50);\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity;\n      e_preventDefault(e);\n      display.input.focus();\n      off(document, \"mousemove\", move);\n      off(document, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function(e) {\n      if (!e_button(e)) done(e);\n      else extend(e);\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(document, \"mousemove\", move);\n    on(document, \"mouseup\", up);\n  }\n\n  // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n  function gutterEvent(cm, e, type, prevent) {\n    try { var mX = e.clientX, mY = e.clientY; }\n    catch(e) { return false; }\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) return false;\n    if (prevent) e_preventDefault(e);\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) return e_defaultPrevented(e);\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.options.gutters.length; ++i) {\n      var g = display.gutters.childNodes[i];\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.options.gutters[i];\n        signal(cm, type, cm, line, gutter, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  }\n\n  // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n      return;\n    e_preventDefault(e);\n    if (ie) lastDrop = +new Date;\n    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n    if (!pos || isReadOnly(cm)) return;\n    // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length, text = Array(n), read = 0;\n      var loadFile = function(file, i) {\n        if (cm.options.allowDropFileTypes &&\n            indexOf(cm.options.allowDropFileTypes, file.type) == -1)\n          return;\n\n        var reader = new FileReader;\n        reader.onload = operation(cm, function() {\n          var content = reader.result;\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) content = \"\";\n          text[i] = content;\n          if (++read == n) {\n            pos = clipPos(cm.doc, pos);\n            var change = {from: pos, to: pos,\n                          text: cm.doc.splitLines(text.join(cm.doc.lineSeparator())),\n                          origin: \"paste\"};\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(pos, changeEnd(change)));\n          }\n        });\n        reader.readAsText(file);\n      };\n      for (var i = 0; i < n; ++i) loadFile(files[i], i);\n    } else { // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e);\n        // Ensure the editor is re-focused\n        setTimeout(function() {cm.display.input.focus();}, 20);\n        return;\n      }\n      try {\n        var text = e.dataTransfer.getData(\"Text\");\n        if (text) {\n          if (cm.state.draggingText && !(mac ? e.altKey : e.ctrlKey))\n            var selected = cm.listSelections();\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n          if (selected) for (var i = 0; i < selected.length; ++i)\n            replaceRange(cm.doc, \"\", selected[i].anchor, selected[i].head, \"drag\");\n          cm.replaceSelection(text, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      }\n      catch(e){}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return; }\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) return;\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n\n    // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img);\n        // Force a relayout, or Opera won't use our image for some obscure reason\n        img._top = img.offsetTop;\n      }\n      e.dataTransfer.setDragImage(img, 0, 0);\n      if (presto) img.parentNode.removeChild(img);\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n    if (!pos) return;\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  }\n\n  // SCROLL EVENTS\n\n  // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n  function setScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) return;\n    cm.doc.scrollTop = val;\n    if (!gecko) updateDisplaySimple(cm, {top: val});\n    if (cm.display.scroller.scrollTop != val) cm.display.scroller.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n    if (gecko) updateDisplaySimple(cm);\n    startWorker(cm, 100);\n  }\n  // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n  function setScrollLeft(cm, val, isScroller) {\n    if (isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) return;\n    val = Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth);\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n    if (cm.display.scroller.scrollLeft != val) cm.display.scroller.scrollLeft = val;\n    cm.display.scrollbars.setScrollLeft(val);\n  }\n\n  // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n  var wheelSamples = 0, wheelPixelsPerUnit = null;\n  // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n  if (ie) wheelPixelsPerUnit = -.53;\n  else if (gecko) wheelPixelsPerUnit = 15;\n  else if (chrome) wheelPixelsPerUnit = -.7;\n  else if (safari) wheelPixelsPerUnit = -1/3;\n\n  var wheelEventDelta = function(e) {\n    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) dx = e.detail;\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) dy = e.detail;\n    else if (dy == null) dy = e.wheelDelta;\n    return {x: dx, y: dy};\n  };\n  CodeMirror.wheelEventPixels = function(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  };\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\n    var display = cm.display, scroll = display.scroller;\n    // Quit if there's nothing to scroll here\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n    if (!(dx && canScrollX || dy && canScrollY)) return;\n\n    // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    }\n\n    // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY)\n        setScrollTop(cm, Math.max(0, Math.min(scroll.scrollTop + dy * wheelPixelsPerUnit, scroll.scrollHeight - scroll.clientHeight)));\n      setScrollLeft(cm, Math.max(0, Math.min(scroll.scrollLeft + dx * wheelPixelsPerUnit, scroll.scrollWidth - scroll.clientWidth)));\n      // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n      if (!dy || (dy && canScrollY))\n        e_preventDefault(e);\n      display.wheelStartX = null; // Abort measurement, if in progress\n      return;\n    }\n\n    // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n      if (pixels < 0) top = Math.max(0, top + pixels - 50);\n      else bot = Math.min(cm.doc.height, bot + pixels + 50);\n      updateDisplaySimple(cm, {top: top, bottom: bot});\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx; display.wheelDY = dy;\n        setTimeout(function() {\n          if (display.wheelStartX == null) return;\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n            (movedX && display.wheelDX && movedX / display.wheelDX);\n          display.wheelStartX = display.wheelStartY = null;\n          if (!sample) return;\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx; display.wheelDY += dy;\n      }\n    }\n  }\n\n  // KEY EVENTS\n\n  // Run a handler that was bound to a key.\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n      if (!bound) return false;\n    }\n    // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift, done = false;\n    try {\n      if (isReadOnly(cm)) cm.state.suppressEdits = true;\n      if (dropShift) cm.display.shift = false;\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n      if (result) return result;\n    }\n    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n      || lookupKey(name, cm.options.keyMap, handle, cm);\n  }\n\n  var stopSeq = new Delayed;\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n    if (seq) {\n      if (isModifierKey(name)) return \"handled\";\n      stopSeq.set(50, function() {\n        if (cm.state.keySeq == seq) {\n          cm.state.keySeq = null;\n          cm.display.input.reset();\n        }\n      });\n      name = seq + \" \" + name;\n    }\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\")\n      cm.state.keySeq = name;\n    if (result == \"handled\")\n      signalLater(cm, \"keyHandled\", cm, name, e);\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    if (seq && !result && /\\'$/.test(name)) {\n      e_preventDefault(e);\n      return true;\n    }\n    return !!result;\n  }\n\n  // Handle a key from the keydown event.\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n    if (!name) return false;\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function(b) {return doHandleBinding(cm, b, true);})\n          || dispatchKey(cm, name, e, function(b) {\n               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n                 return doHandleBinding(cm, b);\n             });\n    } else {\n      return dispatchKey(cm, name, e, function(b) { return doHandleBinding(cm, b); });\n    }\n  }\n\n  // Handle a key from the keypress event\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e,\n                       function(b) { return doHandleBinding(cm, b, true); });\n  }\n\n  var lastStoppedKey = null;\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n    if (signalDOMEvent(cm, e)) return;\n    // IE does strange things with escape.\n    if (ie && ie_version < 11 && e.keyCode == 27) e.returnValue = false;\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n    if (presto) {\n      lastStoppedKey = handled ? code : null;\n      // Opera has no cut event... we try to at least catch the key combo\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n        cm.replaceSelection(\"\", null, \"cut\");\n    }\n\n    // Turn mouse into crosshair when Alt is held on Mac.\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n      showCrossHair(cm);\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) this.doc.sel.shift = false;\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) return;\n    var keyCode = e.keyCode, charCode = e.charCode;\n    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}\n    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) return;\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n    if (handleCharBinding(cm, e, ch)) return;\n    cm.display.input.onKeyPress(e);\n  }\n\n  // FOCUS/BLUR EVENTS\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function() {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm) {\n    if (cm.state.delayingBlurEvent) cm.state.delayingBlurEvent = false;\n\n    if (cm.options.readOnly == \"nocursor\") return;\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n      // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n        if (webkit) setTimeout(function() { cm.display.input.reset(true); }, 20); // Issue #1730\n      }\n      cm.display.input.receivedFocus();\n    }\n    restartBlink(cm);\n  }\n  function onBlur(cm) {\n    if (cm.state.delayingBlurEvent) return;\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n    clearInterval(cm.display.blinker);\n    setTimeout(function() {if (!cm.state.focused) cm.display.shift = false;}, 150);\n  }\n\n  // CONTEXT MENU HANDLING\n\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) return;\n    if (signalDOMEvent(cm, e, \"contextmenu\")) return;\n    cm.display.input.onContextMenu(e);\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) return false;\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  // UPDATING\n\n  // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n  var changeEnd = CodeMirror.changeEnd = function(change) {\n    if (!change.text) return change.to;\n    return Pos(change.from.line + change.text.length - 1,\n               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  };\n\n  // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) return pos;\n    if (cmp(pos, change.to) <= 0) return changeEnd(change);\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n    if (pos.line == change.to.line) ch += changeEnd(change).ch - change.to.ch;\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change),\n                         adjustForChange(range.head, change)));\n    }\n    return normalizeSelection(out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line)\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    else\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n  }\n\n  // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n    return new Selection(out, doc.sel.primIndex);\n  }\n\n  // Allow \"beforeChange\" event handlers to influence a change\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function() { this.canceled = true; }\n    };\n    if (update) obj.update = function(from, to, text, origin) {\n      if (from) this.from = clipPos(doc, from);\n      if (to) this.to = clipPos(doc, to);\n      if (text) this.text = text;\n      if (origin !== undefined) this.origin = origin;\n    };\n    signal(doc, \"beforeChange\", doc, obj);\n    if (doc.cm) signal(doc.cm, \"beforeChange\", doc.cm, obj);\n\n    if (obj.canceled) return null;\n    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin};\n  }\n\n  // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      if (doc.cm.state.suppressEdits) return;\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n      if (!change) return;\n    }\n\n    // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i)\n        makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text});\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) return;\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n\n    linkedDocs(doc, function(doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  }\n\n  // Revert a change stored in a document's history.\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    if (doc.cm && doc.cm.state.suppressEdits) return;\n\n    var hist = doc.history, event, selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n    // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n    for (var i = 0; i < source.length; i++) {\n      event = source[i];\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n        break;\n    }\n    if (i == source.length) return;\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {clearRedo: false});\n          return;\n        }\n        selAfter = event;\n      }\n      else break;\n    }\n\n    // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({changes: antiChanges, generation: hist.generation});\n    hist.generation = event.generation || ++hist.maxGeneration;\n\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    for (var i = event.changes.length - 1; i >= 0; --i) {\n      var change = event.changes[i];\n      change.origin = type;\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return;\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n      if (!i && doc.cm) doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)});\n      var rebased = [];\n\n      // Propagate to the linked documents\n      linkedDocs(doc, function(doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    }\n  }\n\n  // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n  function shiftDoc(doc, distance) {\n    if (distance == 0) return;\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function(range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch),\n                       Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n        regLineChange(doc.cm, l, \"gutter\");\n    }\n  }\n\n  // More lower-level change function, handling only a single document\n  // (not linked ones).\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp)\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n    if (change.from.line > doc.lastLine()) return;\n\n    // Clip the change to the size of this doc\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n                text: [lst(change.text)], origin: change.origin};\n    }\n    var last = doc.lastLine();\n    if (change.to.line > last) {\n      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n                text: [change.text[0]], origin: change.origin};\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) selAfter = computeSelAfterChange(doc, change);\n    if (doc.cm) makeChangeSingleDocInEditor(doc.cm, change, spans);\n    else updateDoc(doc, change, spans);\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n  }\n\n  // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n    var recomputeMaxLength = false, checkWidthStart = from.line;\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function(line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1)\n      signalCursorActivity(cm);\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function(line) {\n        var len = lineLength(line);\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n      if (recomputeMaxLength) cm.curOp.updateMaxLine = true;\n    }\n\n    // Adjust frontier, schedule worker\n    doc.frontier = Math.min(doc.frontier, from.line);\n    startWorker(cm, 400);\n\n    var lendiff = change.text.length - (to.line - from.line) - 1;\n    // Remember that these lines changed, for updating the display\n    if (change.full)\n      regChange(cm);\n    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n      regLineChange(cm, from.line, \"text\");\n    else\n      regChange(cm, from.line, to.line + 1, lendiff);\n\n    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from, to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n      if (changeHandler) signalLater(cm, \"change\", cm, obj);\n      if (changesHandler) (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n    }\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    if (!to) to = from;\n    if (cmp(to, from) < 0) { var tmp = to; to = from; from = tmp; }\n    if (typeof code == \"string\") code = doc.splitLines(code);\n    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n  }\n\n  // SCROLLING THINGS INTO VIEW\n\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n  function maybeScrollWindow(cm, coords) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) return;\n\n    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n    if (coords.top + box.top < 0) doScroll = true;\n    else if (coords.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, \"position: absolute; top: \" +\n                           (coords.top - display.viewOffset - paddingTop(cm.display)) + \"px; height: \" +\n                           (coords.bottom - coords.top + scrollGap(cm) + display.barHeight) + \"px; left: \" +\n                           coords.left + \"px; width: 2px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  }\n\n  // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) margin = 0;\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false, coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      var scrollPos = calculateScrollPos(cm, Math.min(coords.left, endCoords.left),\n                                         Math.min(coords.top, endCoords.top) - margin,\n                                         Math.max(coords.left, endCoords.left),\n                                         Math.max(coords.bottom, endCoords.bottom) + margin);\n      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n      if (scrollPos.scrollTop != null) {\n        setScrollTop(cm, scrollPos.scrollTop);\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) changed = true;\n      }\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) changed = true;\n      }\n      if (!changed) break;\n    }\n    return coords;\n  }\n\n  // Scroll a given set of coordinates into view (immediately).\n  function scrollIntoView(cm, x1, y1, x2, y2) {\n    var scrollPos = calculateScrollPos(cm, x1, y1, x2, y2);\n    if (scrollPos.scrollTop != null) setScrollTop(cm, scrollPos.scrollTop);\n    if (scrollPos.scrollLeft != null) setScrollLeft(cm, scrollPos.scrollLeft);\n  }\n\n  // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n  function calculateScrollPos(cm, x1, y1, x2, y2) {\n    var display = cm.display, snapMargin = textHeight(cm.display);\n    if (y1 < 0) y1 = 0;\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm), result = {};\n    if (y2 - y1 > screen) y2 = y1 + screen;\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = y1 < snapMargin, atBottom = y2 > docBottom - snapMargin;\n    if (y1 < screentop) {\n      result.scrollTop = atTop ? 0 : y1;\n    } else if (y2 > screentop + screen) {\n      var newTop = Math.min(y1, (atBottom ? docBottom : y2) - screen);\n      if (newTop != screentop) result.scrollTop = newTop;\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = x2 - x1 > screenw;\n    if (tooWide) x2 = x1 + screenw;\n    if (x1 < 10)\n      result.scrollLeft = 0;\n    else if (x1 < screenleft)\n      result.scrollLeft = Math.max(0, x1 - (tooWide ? 0 : 10));\n    else if (x2 > screenw + screenleft - 3)\n      result.scrollLeft = x2 + (tooWide ? 0 : 10) - screenw;\n    return result;\n  }\n\n  // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n  function addToScrollPos(cm, left, top) {\n    if (left != null || top != null) resolveScrollToPos(cm);\n    if (left != null)\n      cm.curOp.scrollLeft = (cm.curOp.scrollLeft == null ? cm.doc.scrollLeft : cm.curOp.scrollLeft) + left;\n    if (top != null)\n      cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  }\n\n  // Make sure that at the end of the operation the current cursor is\n  // shown.\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor(), from = cur, to = cur;\n    if (!cm.options.lineWrapping) {\n      from = cur.ch ? Pos(cur.line, cur.ch - 1) : cur;\n      to = Pos(cur.line, cur.ch + 1);\n    }\n    cm.curOp.scrollToPos = {from: from, to: to, margin: cm.options.cursorScrollMargin, isCursor: true};\n  }\n\n  // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n      var sPos = calculateScrollPos(cm, Math.min(from.left, to.left),\n                                    Math.min(from.top, to.top) - range.margin,\n                                    Math.max(from.right, to.right),\n                                    Math.max(from.bottom, to.bottom) + range.margin);\n      cm.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n    }\n  }\n\n  // API UTILITIES\n\n  // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc, state;\n    if (how == null) how = \"add\";\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) how = \"prev\";\n      else state = getStateBefore(cm, n);\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n    if (line.stateAfter) line.stateAfter = null;\n    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) return;\n        how = \"prev\";\n      }\n    }\n    if (how == \"prev\") {\n      if (n > doc.first) indentation = countColumn(getLine(doc, n-1).text, null, tabSize);\n      else indentation = 0;\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n    indentation = Math.max(0, indentation);\n\n    var indentString = \"\", pos = 0;\n    if (cm.options.indentWithTabs)\n      for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";}\n    if (pos < indentation) indentString += spaceStr(indentation - pos);\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i = 0; i < doc.sel.ranges.length; i++) {\n        var range = doc.sel.ranges[i];\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i, new Range(pos, pos));\n          break;\n        }\n      }\n    }\n  }\n\n  // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle, line = handle;\n    if (typeof handle == \"number\") line = getLine(doc, clipLine(doc, handle));\n    else no = lineNo(handle);\n    if (no == null) return null;\n    if (op(line, no) && doc.cm) regLineChange(doc.cm, no, changeType);\n    return line;\n  }\n\n  // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges, kill = [];\n    // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n      kill.push(toKill);\n    }\n    // Next, remove those actual ranges.\n    runInOp(cm, function() {\n      for (var i = kill.length - 1; i >= 0; i--)\n        replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      ensureCursorVisible(cm);\n    });\n  }\n\n  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosH(doc, pos, dir, unit, visually) {\n    var line = pos.line, ch = pos.ch, origDir = dir;\n    var lineObj = getLine(doc, line);\n    var possible = true;\n    function findNextLine() {\n      var l = line + dir;\n      if (l < doc.first || l >= doc.first + doc.size) return (possible = false);\n      line = l;\n      return lineObj = getLine(doc, l);\n    }\n    function moveOnce(boundToLine) {\n      var next = (visually ? moveVisually : moveLogically)(lineObj, ch, dir, true);\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          if (visually) ch = (dir < 0 ? lineRight : lineLeft)(lineObj);\n          else ch = dir < 0 ? lineObj.text.length : 0;\n        } else return (possible = false);\n      } else ch = next;\n      return true;\n    }\n\n    if (unit == \"char\") moveOnce();\n    else if (unit == \"column\") moveOnce(true);\n    else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null, group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) break;\n        var cur = lineObj.text.charAt(ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\"\n          : group && cur == \"\\n\" ? \"n\"\n          : !group || /\\s/.test(cur) ? null\n          : \"p\";\n        if (group && !first && !type) type = \"s\";\n        if (sawType && sawType != type) {\n          if (dir < 0) {dir = 1; moveOnce();}\n          break;\n        }\n\n        if (type) sawType = type;\n        if (dir > 0 && !moveOnce(!first)) break;\n      }\n    }\n    var result = skipAtomic(doc, Pos(line, ch), origDir, true);\n    if (!possible) result.hitSide = true;\n    return result;\n  }\n\n  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc, x = pos.left, y;\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      y = pos.top + dir * (pageSize - (dir < 0 ? 1.5 : .5) * textHeight(cm.display));\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n    for (;;) {\n      var target = coordsChar(cm, x, y);\n      if (!target.outside) break;\n      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break; }\n      y += dir * 5;\n    }\n    return target;\n  }\n\n  // EDITOR METHODS\n\n  // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n  CodeMirror.prototype = {\n    constructor: CodeMirror,\n    focus: function(){window.focus(); this.display.input.focus();},\n\n    setOption: function(option, value) {\n      var options = this.options, old = options[option];\n      if (options[option] == value && option != \"mode\") return;\n      options[option] = value;\n      if (optionHandlers.hasOwnProperty(option))\n        operation(this, optionHandlers[option])(this, value, old);\n    },\n\n    getOption: function(option) {return this.options[option];},\n    getDoc: function() {return this.doc;},\n\n    addKeyMap: function(map, bottom) {\n      this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n    },\n    removeKeyMap: function(map) {\n      var maps = this.state.keyMaps;\n      for (var i = 0; i < maps.length; ++i)\n        if (maps[i] == map || maps[i].name == map) {\n          maps.splice(i, 1);\n          return true;\n        }\n    },\n\n    addOverlay: methodOp(function(spec, options) {\n      var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n      if (mode.startState) throw new Error(\"Overlays may not be stateful.\");\n      this.state.overlays.push({mode: mode, modeSpec: spec, opaque: options && options.opaque});\n      this.state.modeGen++;\n      regChange(this);\n    }),\n    removeOverlay: methodOp(function(spec) {\n      var overlays = this.state.overlays;\n      for (var i = 0; i < overlays.length; ++i) {\n        var cur = overlays[i].modeSpec;\n        if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n          overlays.splice(i, 1);\n          this.state.modeGen++;\n          regChange(this);\n          return;\n        }\n      }\n    }),\n\n    indentLine: methodOp(function(n, dir, aggressive) {\n      if (typeof dir != \"string\" && typeof dir != \"number\") {\n        if (dir == null) dir = this.options.smartIndent ? \"smart\" : \"prev\";\n        else dir = dir ? \"add\" : \"subtract\";\n      }\n      if (isLine(this.doc, n)) indentLine(this, n, dir, aggressive);\n    }),\n    indentSelection: methodOp(function(how) {\n      var ranges = this.doc.sel.ranges, end = -1;\n      for (var i = 0; i < ranges.length; i++) {\n        var range = ranges[i];\n        if (!range.empty()) {\n          var from = range.from(), to = range.to();\n          var start = Math.max(end, from.line);\n          end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n          for (var j = start; j < end; ++j)\n            indentLine(this, j, how);\n          var newRanges = this.doc.sel.ranges;\n          if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n            replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n        } else if (range.head.line > end) {\n          indentLine(this, range.head.line, how, true);\n          end = range.head.line;\n          if (i == this.doc.sel.primIndex) ensureCursorVisible(this);\n        }\n      }\n    }),\n\n    // Fetch the parser token for a given character. Useful for hacks\n    // that want to inspect the mode state (say, for completion).\n    getTokenAt: function(pos, precise) {\n      return takeToken(this, pos, precise);\n    },\n\n    getLineTokens: function(line, precise) {\n      return takeToken(this, Pos(line), precise, true);\n    },\n\n    getTokenTypeAt: function(pos) {\n      pos = clipPos(this.doc, pos);\n      var styles = getLineStyles(this, getLine(this.doc, pos.line));\n      var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n      var type;\n      if (ch == 0) type = styles[2];\n      else for (;;) {\n        var mid = (before + after) >> 1;\n        if ((mid ? styles[mid * 2 - 1] : 0) >= ch) after = mid;\n        else if (styles[mid * 2 + 1] < ch) before = mid + 1;\n        else { type = styles[mid * 2 + 2]; break; }\n      }\n      var cut = type ? type.indexOf(\"cm-overlay \") : -1;\n      return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n    },\n\n    getModeAt: function(pos) {\n      var mode = this.doc.mode;\n      if (!mode.innerMode) return mode;\n      return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n    },\n\n    getHelper: function(pos, type) {\n      return this.getHelpers(pos, type)[0];\n    },\n\n    getHelpers: function(pos, type) {\n      var found = [];\n      if (!helpers.hasOwnProperty(type)) return found;\n      var help = helpers[type], mode = this.getModeAt(pos);\n      if (typeof mode[type] == \"string\") {\n        if (help[mode[type]]) found.push(help[mode[type]]);\n      } else if (mode[type]) {\n        for (var i = 0; i < mode[type].length; i++) {\n          var val = help[mode[type][i]];\n          if (val) found.push(val);\n        }\n      } else if (mode.helperType && help[mode.helperType]) {\n        found.push(help[mode.helperType]);\n      } else if (help[mode.name]) {\n        found.push(help[mode.name]);\n      }\n      for (var i = 0; i < help._global.length; i++) {\n        var cur = help._global[i];\n        if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n          found.push(cur.val);\n      }\n      return found;\n    },\n\n    getStateAfter: function(line, precise) {\n      var doc = this.doc;\n      line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n      return getStateBefore(this, line + 1, precise);\n    },\n\n    cursorCoords: function(start, mode) {\n      var pos, range = this.doc.sel.primary();\n      if (start == null) pos = range.head;\n      else if (typeof start == \"object\") pos = clipPos(this.doc, start);\n      else pos = start ? range.from() : range.to();\n      return cursorCoords(this, pos, mode || \"page\");\n    },\n\n    charCoords: function(pos, mode) {\n      return charCoords(this, clipPos(this.doc, pos), mode || \"page\");\n    },\n\n    coordsChar: function(coords, mode) {\n      coords = fromCoordSystem(this, coords, mode || \"page\");\n      return coordsChar(this, coords.left, coords.top);\n    },\n\n    lineAtHeight: function(height, mode) {\n      height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n      return lineAtHeight(this.doc, height + this.display.viewOffset);\n    },\n    heightAtLine: function(line, mode) {\n      var end = false, lineObj;\n      if (typeof line == \"number\") {\n        var last = this.doc.first + this.doc.size - 1;\n        if (line < this.doc.first) line = this.doc.first;\n        else if (line > last) { line = last; end = true; }\n        lineObj = getLine(this.doc, line);\n      } else {\n        lineObj = line;\n      }\n      return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\").top +\n        (end ? this.doc.height - heightAtLine(lineObj) : 0);\n    },\n\n    defaultTextHeight: function() { return textHeight(this.display); },\n    defaultCharWidth: function() { return charWidth(this.display); },\n\n    setGutterMarker: methodOp(function(line, gutterID, value) {\n      return changeLine(this.doc, line, \"gutter\", function(line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n        if (!value && isEmpty(markers)) line.gutterMarkers = null;\n        return true;\n      });\n    }),\n\n    clearGutter: methodOp(function(gutterID) {\n      var cm = this, doc = cm.doc, i = doc.first;\n      doc.iter(function(line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          line.gutterMarkers[gutterID] = null;\n          regLineChange(cm, i, \"gutter\");\n          if (isEmpty(line.gutterMarkers)) line.gutterMarkers = null;\n        }\n        ++i;\n      });\n    }),\n\n    lineInfo: function(line) {\n      if (typeof line == \"number\") {\n        if (!isLine(this.doc, line)) return null;\n        var n = line;\n        line = getLine(this.doc, line);\n        if (!line) return null;\n      } else {\n        var n = lineNo(line);\n        if (n == null) return null;\n      }\n      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n              widgets: line.widgets};\n    },\n\n    getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo};},\n\n    addWidget: function(pos, node, scroll, vert, horiz) {\n      var display = this.display;\n      pos = cursorCoords(this, clipPos(this.doc, pos));\n      var top = pos.bottom, left = pos.left;\n      node.style.position = \"absolute\";\n      node.setAttribute(\"cm-ignore-events\", \"true\");\n      this.display.input.setUneditable(node);\n      display.sizer.appendChild(node);\n      if (vert == \"over\") {\n        top = pos.top;\n      } else if (vert == \"above\" || vert == \"near\") {\n        var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n        hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n        // Default to positioning above (if specified and possible); otherwise default to positioning below\n        if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n          top = pos.top - node.offsetHeight;\n        else if (pos.bottom + node.offsetHeight <= vspace)\n          top = pos.bottom;\n        if (left + node.offsetWidth > hspace)\n          left = hspace - node.offsetWidth;\n      }\n      node.style.top = top + \"px\";\n      node.style.left = node.style.right = \"\";\n      if (horiz == \"right\") {\n        left = display.sizer.clientWidth - node.offsetWidth;\n        node.style.right = \"0px\";\n      } else {\n        if (horiz == \"left\") left = 0;\n        else if (horiz == \"middle\") left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n        node.style.left = left + \"px\";\n      }\n      if (scroll)\n        scrollIntoView(this, left, top, left + node.offsetWidth, top + node.offsetHeight);\n    },\n\n    triggerOnKeyDown: methodOp(onKeyDown),\n    triggerOnKeyPress: methodOp(onKeyPress),\n    triggerOnKeyUp: onKeyUp,\n\n    execCommand: function(cmd) {\n      if (commands.hasOwnProperty(cmd))\n        return commands[cmd].call(null, this);\n    },\n\n    triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n    findPosH: function(from, amount, unit, visually) {\n      var dir = 1;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        cur = findPosH(this.doc, cur, dir, unit, visually);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveH: methodOp(function(dir, unit) {\n      var cm = this;\n      cm.extendSelectionsBy(function(range) {\n        if (cm.display.shift || cm.doc.extend || range.empty())\n          return findPosH(cm.doc, range.head, dir, unit, cm.options.rtlMoveVisually);\n        else\n          return dir < 0 ? range.from() : range.to();\n      }, sel_move);\n    }),\n\n    deleteH: methodOp(function(dir, unit) {\n      var sel = this.doc.sel, doc = this.doc;\n      if (sel.somethingSelected())\n        doc.replaceSelection(\"\", null, \"+delete\");\n      else\n        deleteNearSelection(this, function(range) {\n          var other = findPosH(doc, range.head, dir, unit, false);\n          return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other};\n        });\n    }),\n\n    findPosV: function(from, amount, unit, goalColumn) {\n      var dir = 1, x = goalColumn;\n      if (amount < 0) { dir = -1; amount = -amount; }\n      for (var i = 0, cur = clipPos(this.doc, from); i < amount; ++i) {\n        var coords = cursorCoords(this, cur, \"div\");\n        if (x == null) x = coords.left;\n        else coords.left = x;\n        cur = findPosV(this, coords, dir, unit);\n        if (cur.hitSide) break;\n      }\n      return cur;\n    },\n\n    moveV: methodOp(function(dir, unit) {\n      var cm = this, doc = this.doc, goals = [];\n      var collapse = !cm.display.shift && !doc.extend && doc.sel.somethingSelected();\n      doc.extendSelectionsBy(function(range) {\n        if (collapse)\n          return dir < 0 ? range.from() : range.to();\n        var headPos = cursorCoords(cm, range.head, \"div\");\n        if (range.goalColumn != null) headPos.left = range.goalColumn;\n        goals.push(headPos.left);\n        var pos = findPosV(cm, headPos, dir, unit);\n        if (unit == \"page\" && range == doc.sel.primary())\n          addToScrollPos(cm, null, charCoords(cm, pos, \"div\").top - headPos.top);\n        return pos;\n      }, sel_move);\n      if (goals.length) for (var i = 0; i < doc.sel.ranges.length; i++)\n        doc.sel.ranges[i].goalColumn = goals[i];\n    }),\n\n    // Find the word at the given position (as returned by coordsChar).\n    findWordAt: function(pos) {\n      var doc = this.doc, line = getLine(doc, pos.line).text;\n      var start = pos.ch, end = pos.ch;\n      if (line) {\n        var helper = this.getHelper(pos, \"wordChars\");\n        if ((pos.xRel < 0 || end == line.length) && start) --start; else ++end;\n        var startChar = line.charAt(start);\n        var check = isWordChar(startChar, helper)\n          ? function(ch) { return isWordChar(ch, helper); }\n          : /\\s/.test(startChar) ? function(ch) {return /\\s/.test(ch);}\n          : function(ch) {return !/\\s/.test(ch) && !isWordChar(ch);};\n        while (start > 0 && check(line.charAt(start - 1))) --start;\n        while (end < line.length && check(line.charAt(end))) ++end;\n      }\n      return new Range(Pos(pos.line, start), Pos(pos.line, end));\n    },\n\n    toggleOverwrite: function(value) {\n      if (value != null && value == this.state.overwrite) return;\n      if (this.state.overwrite = !this.state.overwrite)\n        addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n      else\n        rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n\n      signal(this, \"overwriteToggle\", this, this.state.overwrite);\n    },\n    hasFocus: function() { return this.display.input.getField() == activeElt(); },\n\n    scrollTo: methodOp(function(x, y) {\n      if (x != null || y != null) resolveScrollToPos(this);\n      if (x != null) this.curOp.scrollLeft = x;\n      if (y != null) this.curOp.scrollTop = y;\n    }),\n    getScrollInfo: function() {\n      var scroller = this.display.scroller;\n      return {left: scroller.scrollLeft, top: scroller.scrollTop,\n              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n              clientHeight: displayHeight(this), clientWidth: displayWidth(this)};\n    },\n\n    scrollIntoView: methodOp(function(range, margin) {\n      if (range == null) {\n        range = {from: this.doc.sel.primary().head, to: null};\n        if (margin == null) margin = this.options.cursorScrollMargin;\n      } else if (typeof range == \"number\") {\n        range = {from: Pos(range, 0), to: null};\n      } else if (range.from == null) {\n        range = {from: range, to: null};\n      }\n      if (!range.to) range.to = range.from;\n      range.margin = margin || 0;\n\n      if (range.from.line != null) {\n        resolveScrollToPos(this);\n        this.curOp.scrollToPos = range;\n      } else {\n        var sPos = calculateScrollPos(this, Math.min(range.from.left, range.to.left),\n                                      Math.min(range.from.top, range.to.top) - range.margin,\n                                      Math.max(range.from.right, range.to.right),\n                                      Math.max(range.from.bottom, range.to.bottom) + range.margin);\n        this.scrollTo(sPos.scrollLeft, sPos.scrollTop);\n      }\n    }),\n\n    setSize: methodOp(function(width, height) {\n      var cm = this;\n      function interpret(val) {\n        return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n      }\n      if (width != null) cm.display.wrapper.style.width = interpret(width);\n      if (height != null) cm.display.wrapper.style.height = interpret(height);\n      if (cm.options.lineWrapping) clearLineMeasurementCache(this);\n      var lineNo = cm.display.viewFrom;\n      cm.doc.iter(lineNo, cm.display.viewTo, function(line) {\n        if (line.widgets) for (var i = 0; i < line.widgets.length; i++)\n          if (line.widgets[i].noHScroll) { regLineChange(cm, lineNo, \"widget\"); break; }\n        ++lineNo;\n      });\n      cm.curOp.forceUpdate = true;\n      signal(cm, \"refresh\", this);\n    }),\n\n    operation: function(f){return runInOp(this, f);},\n\n    refresh: methodOp(function() {\n      var oldHeight = this.display.cachedTextHeight;\n      regChange(this);\n      this.curOp.forceUpdate = true;\n      clearCaches(this);\n      this.scrollTo(this.doc.scrollLeft, this.doc.scrollTop);\n      updateGutterSpace(this);\n      if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5)\n        estimateLineHeights(this);\n      signal(this, \"refresh\", this);\n    }),\n\n    swapDoc: methodOp(function(doc) {\n      var old = this.doc;\n      old.cm = null;\n      attachDoc(this, doc);\n      clearCaches(this);\n      this.display.input.reset();\n      this.scrollTo(doc.scrollLeft, doc.scrollTop);\n      this.curOp.forceScroll = true;\n      signalLater(this, \"swapDoc\", this, old);\n      return old;\n    }),\n\n    getInputField: function(){return this.display.input.getField();},\n    getWrapperElement: function(){return this.display.wrapper;},\n    getScrollerElement: function(){return this.display.scroller;},\n    getGutterElement: function(){return this.display.gutters;}\n  };\n  eventMixin(CodeMirror);\n\n  // OPTION DEFAULTS\n\n  // The default configuration options.\n  var defaults = CodeMirror.defaults = {};\n  // Functions to run when options are changed.\n  var optionHandlers = CodeMirror.optionHandlers = {};\n\n  function option(name, deflt, handle, notOnInit) {\n    CodeMirror.defaults[name] = deflt;\n    if (handle) optionHandlers[name] =\n      notOnInit ? function(cm, val, old) {if (old != Init) handle(cm, val, old);} : handle;\n  }\n\n  // Passed to option handlers when there is no old value.\n  var Init = CodeMirror.Init = {toString: function(){return \"CodeMirror.Init\";}};\n\n  // These two are, on init, called from the constructor because they\n  // have to be initialized before the editor can start at all.\n  option(\"value\", \"\", function(cm, val) {\n    cm.setValue(val);\n  }, true);\n  option(\"mode\", null, function(cm, val) {\n    cm.doc.modeOption = val;\n    loadMode(cm);\n  }, true);\n\n  option(\"indentUnit\", 2, loadMode, true);\n  option(\"indentWithTabs\", false);\n  option(\"smartIndent\", true);\n  option(\"tabSize\", 4, function(cm) {\n    resetModeState(cm);\n    clearCaches(cm);\n    regChange(cm);\n  }, true);\n  option(\"lineSeparator\", null, function(cm, val) {\n    cm.doc.lineSep = val;\n    if (!val) return;\n    var newBreaks = [], lineNo = cm.doc.first;\n    cm.doc.iter(function(line) {\n      for (var pos = 0;;) {\n        var found = line.text.indexOf(val, pos);\n        if (found == -1) break;\n        pos = found + val.length;\n        newBreaks.push(Pos(lineNo, found));\n      }\n      lineNo++;\n    });\n    for (var i = newBreaks.length - 1; i >= 0; i--)\n      replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length))\n  });\n  option(\"specialChars\", /[\\t\\u0000-\\u0019\\u00ad\\u200b-\\u200f\\u2028\\u2029\\ufeff]/g, function(cm, val, old) {\n    cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n    if (old != CodeMirror.Init) cm.refresh();\n  });\n  option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function(cm) {cm.refresh();}, true);\n  option(\"electricChars\", true);\n  option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function() {\n    throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n  }, true);\n  option(\"rtlMoveVisually\", !windows);\n  option(\"wholeLineUpdateBefore\", true);\n\n  option(\"theme\", \"default\", function(cm) {\n    themeChanged(cm);\n    guttersChanged(cm);\n  }, true);\n  option(\"keyMap\", \"default\", function(cm, val, old) {\n    var next = getKeyMap(val);\n    var prev = old != CodeMirror.Init && getKeyMap(old);\n    if (prev && prev.detach) prev.detach(cm, next);\n    if (next.attach) next.attach(cm, prev || null);\n  });\n  option(\"extraKeys\", null);\n\n  option(\"lineWrapping\", false, wrappingChanged, true);\n  option(\"gutters\", [], function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"fixedGutter\", true, function(cm, val) {\n    cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n    cm.refresh();\n  }, true);\n  option(\"coverGutterNextToScrollbar\", false, function(cm) {updateScrollbars(cm);}, true);\n  option(\"scrollbarStyle\", \"native\", function(cm) {\n    initScrollbars(cm);\n    updateScrollbars(cm);\n    cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n    cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n  }, true);\n  option(\"lineNumbers\", false, function(cm) {\n    setGuttersForLineNumbers(cm.options);\n    guttersChanged(cm);\n  }, true);\n  option(\"firstLineNumber\", 1, guttersChanged, true);\n  option(\"lineNumberFormatter\", function(integer) {return integer;}, guttersChanged, true);\n  option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n  option(\"resetSelectionOnContextMenu\", true);\n  option(\"lineWiseCopyCut\", true);\n\n  option(\"readOnly\", false, function(cm, val) {\n    if (val == \"nocursor\") {\n      onBlur(cm);\n      cm.display.input.blur();\n      cm.display.disabled = true;\n    } else {\n      cm.display.disabled = false;\n    }\n    cm.display.input.readOnlyChanged(val)\n  });\n  option(\"disableInput\", false, function(cm, val) {if (!val) cm.display.input.reset();}, true);\n  option(\"dragDrop\", true, dragDropChanged);\n  option(\"allowDropFileTypes\", null);\n\n  option(\"cursorBlinkRate\", 530);\n  option(\"cursorScrollMargin\", 0);\n  option(\"cursorHeight\", 1, updateSelection, true);\n  option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n  option(\"workTime\", 100);\n  option(\"workDelay\", 100);\n  option(\"flattenSpans\", true, resetModeState, true);\n  option(\"addModeClass\", false, resetModeState, true);\n  option(\"pollInterval\", 100);\n  option(\"undoDepth\", 200, function(cm, val){cm.doc.history.undoDepth = val;});\n  option(\"historyEventDelay\", 1250);\n  option(\"viewportMargin\", 10, function(cm){cm.refresh();}, true);\n  option(\"maxHighlightLength\", 10000, resetModeState, true);\n  option(\"moveInputWithCursor\", true, function(cm, val) {\n    if (!val) cm.display.input.resetPosition();\n  });\n\n  option(\"tabindex\", null, function(cm, val) {\n    cm.display.input.getField().tabIndex = val || \"\";\n  });\n  option(\"autofocus\", null);\n\n  // MODE DEFINITION AND QUERYING\n\n  // Known modes, by name and by MIME\n  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};\n\n  // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n  CodeMirror.defineMode = function(name, mode) {\n    if (!CodeMirror.defaults.mode && name != \"null\") CodeMirror.defaults.mode = name;\n    if (arguments.length > 2)\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    modes[name] = mode;\n  };\n\n  CodeMirror.defineMIME = function(mime, spec) {\n    mimeModes[mime] = spec;\n  };\n\n  // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n  CodeMirror.resolveMode = function(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n      if (typeof found == \"string\") found = {name: found};\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return CodeMirror.resolveMode(\"application/xml\");\n    }\n    if (typeof spec == \"string\") return {name: spec};\n    else return spec || {name: \"null\"};\n  };\n\n  // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n  CodeMirror.getMode = function(options, spec) {\n    var spec = CodeMirror.resolveMode(spec);\n    var mfactory = modes[spec.name];\n    if (!mfactory) return CodeMirror.getMode(options, \"text/plain\");\n    var modeObj = mfactory(options, spec);\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) continue;\n        if (modeObj.hasOwnProperty(prop)) modeObj[\"_\" + prop] = modeObj[prop];\n        modeObj[prop] = exts[prop];\n      }\n    }\n    modeObj.name = spec.name;\n    if (spec.helperType) modeObj.helperType = spec.helperType;\n    if (spec.modeProps) for (var prop in spec.modeProps)\n      modeObj[prop] = spec.modeProps[prop];\n\n    return modeObj;\n  };\n\n  // Minimal default mode.\n  CodeMirror.defineMode(\"null\", function() {\n    return {token: function(stream) {stream.skipToEnd();}};\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n  // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n  var modeExtensions = CodeMirror.modeExtensions = {};\n  CodeMirror.extendMode = function(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n    copyObj(properties, exts);\n  };\n\n  // EXTENSIONS\n\n  CodeMirror.defineExtension = function(name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n  CodeMirror.defineDocExtension = function(name, func) {\n    Doc.prototype[name] = func;\n  };\n  CodeMirror.defineOption = option;\n\n  var initHooks = [];\n  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};\n\n  var helpers = CodeMirror.helpers = {};\n  CodeMirror.registerHelper = function(type, name, value) {\n    if (!helpers.hasOwnProperty(type)) helpers[type] = CodeMirror[type] = {_global: []};\n    helpers[type][name] = value;\n  };\n  CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n    CodeMirror.registerHelper(type, name, value);\n    helpers[type]._global.push({pred: predicate, val: value});\n  };\n\n  // MODE STATE HANDLING\n\n  // Utility functions for working with state. Exported because nested\n  // modes need to do this for their inner modes.\n\n  var copyState = CodeMirror.copyState = function(mode, state) {\n    if (state === true) return state;\n    if (mode.copyState) return mode.copyState(state);\n    var nstate = {};\n    for (var n in state) {\n      var val = state[n];\n      if (val instanceof Array) val = val.concat([]);\n      nstate[n] = val;\n    }\n    return nstate;\n  };\n\n  var startState = CodeMirror.startState = function(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  };\n\n  // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n  CodeMirror.innerMode = function(mode, state) {\n    while (mode.innerMode) {\n      var info = mode.innerMode(state);\n      if (!info || info.mode == mode) break;\n      state = info.state;\n      mode = info.mode;\n    }\n    return info || {mode: mode, state: state};\n  };\n\n  // STANDARD COMMANDS\n\n  // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n  var commands = CodeMirror.commands = {\n    selectAll: function(cm) {cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);},\n    singleSelection: function(cm) {\n      cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n          if (range.head.ch == len && range.head.line < cm.lastLine())\n            return {from: range.head, to: Pos(range.head.line + 1, 0)};\n          else\n            return {from: range.head, to: Pos(range.head.line, len)};\n        } else {\n          return {from: range.from(), to: range.to()};\n        }\n      });\n    },\n    deleteLine: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0),\n                to: clipPos(cm.doc, Pos(range.to().line + 1, 0))};\n      });\n    },\n    delLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        return {from: Pos(range.from().line, 0), to: range.from()};\n      });\n    },\n    delWrappedLineLeft: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n        return {from: leftPos, to: range.from()};\n      });\n    },\n    delWrappedLineRight: function(cm) {\n      deleteNearSelection(cm, function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n        return {from: range.from(), to: rightPos };\n      });\n    },\n    undo: function(cm) {cm.undo();},\n    redo: function(cm) {cm.redo();},\n    undoSelection: function(cm) {cm.undoSelection();},\n    redoSelection: function(cm) {cm.redoSelection();},\n    goDocStart: function(cm) {cm.extendSelection(Pos(cm.firstLine(), 0));},\n    goDocEnd: function(cm) {cm.extendSelection(Pos(cm.lastLine()));},\n    goLineStart: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineStart(cm, range.head.line); },\n                            {origin: \"+move\", bias: 1});\n    },\n    goLineStartSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        return lineStartSmart(cm, range.head);\n      }, {origin: \"+move\", bias: 1});\n    },\n    goLineEnd: function(cm) {\n      cm.extendSelectionsBy(function(range) { return lineEnd(cm, range.head.line); },\n                            {origin: \"+move\", bias: -1});\n    },\n    goLineRight: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({left: 0, top: top}, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function(cm) {\n      cm.extendSelectionsBy(function(range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) return lineStartSmart(cm, range.head);\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function(cm) {cm.moveV(-1, \"line\");},\n    goLineDown: function(cm) {cm.moveV(1, \"line\");},\n    goPageUp: function(cm) {cm.moveV(-1, \"page\");},\n    goPageDown: function(cm) {cm.moveV(1, \"page\");},\n    goCharLeft: function(cm) {cm.moveH(-1, \"char\");},\n    goCharRight: function(cm) {cm.moveH(1, \"char\");},\n    goColumnLeft: function(cm) {cm.moveH(-1, \"column\");},\n    goColumnRight: function(cm) {cm.moveH(1, \"column\");},\n    goWordLeft: function(cm) {cm.moveH(-1, \"word\");},\n    goGroupRight: function(cm) {cm.moveH(1, \"group\");},\n    goGroupLeft: function(cm) {cm.moveH(-1, \"group\");},\n    goWordRight: function(cm) {cm.moveH(1, \"word\");},\n    delCharBefore: function(cm) {cm.deleteH(-1, \"char\");},\n    delCharAfter: function(cm) {cm.deleteH(1, \"char\");},\n    delWordBefore: function(cm) {cm.deleteH(-1, \"word\");},\n    delWordAfter: function(cm) {cm.deleteH(1, \"word\");},\n    delGroupBefore: function(cm) {cm.deleteH(-1, \"group\");},\n    delGroupAfter: function(cm) {cm.deleteH(1, \"group\");},\n    indentAuto: function(cm) {cm.indentSelection(\"smart\");},\n    indentMore: function(cm) {cm.indentSelection(\"add\");},\n    indentLess: function(cm) {cm.indentSelection(\"subtract\");},\n    insertTab: function(cm) {cm.replaceSelection(\"\\t\");},\n    insertSoftTab: function(cm) {\n      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(new Array(tabSize - col % tabSize + 1).join(\" \"));\n      }\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function(cm) {\n      if (cm.somethingSelected()) cm.indentSelection(\"add\");\n      else cm.execCommand(\"insertTab\");\n    },\n    transposeChars: function(cm) {\n      runInOp(cm, function() {\n        var ranges = cm.listSelections(), newSel = [];\n        for (var i = 0; i < ranges.length; i++) {\n          var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n          if (line) {\n            if (cur.ch == line.length) cur = new Pos(cur.line, cur.ch - 1);\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n                              Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n              if (prev)\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n                                prev.charAt(prev.length - 1),\n                                Pos(cur.line - 1, prev.length - 1), Pos(cur.line, 1), \"+transpose\");\n            }\n          }\n          newSel.push(new Range(cur, cur));\n        }\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function(cm) {\n      runInOp(cm, function() {\n        var len = cm.listSelections().length;\n        for (var i = 0; i < len; i++) {\n          var range = cm.listSelections()[i];\n          cm.replaceRange(cm.doc.lineSeparator(), range.anchor, range.head, \"+input\");\n          cm.indentLine(range.from().line + 1, null, true);\n        }\n        ensureCursorVisible(cm);\n      });\n    },\n    toggleOverwrite: function(cm) {cm.toggleOverwrite();}\n  };\n\n\n  // STANDARD KEYMAPS\n\n  var keyMap = CodeMirror.keyMap = {};\n\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  };\n  // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n    fallthrough: \"basic\"\n  };\n  // Very basic readline/emacs-style bindings, which are standard on Mac.\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\", \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n    fallthrough: [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n  // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/), name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n      if (/^(cmd|meta|m)$/i.test(mod)) cmd = true;\n      else if (/^a(lt)?$/i.test(mod)) alt = true;\n      else if (/^(c|ctrl|control)$/i.test(mod)) ctrl = true;\n      else if (/^s(hift)$/i.test(mod)) shift = true;\n      else throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt) name = \"Alt-\" + name;\n    if (ctrl) name = \"Ctrl-\" + name;\n    if (cmd) name = \"Cmd-\" + name;\n    if (shift) name = \"Shift-\" + name;\n    return name;\n  }\n\n  // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n  CodeMirror.normalizeKeyMap = function(keymap) {\n    var copy = {};\n    for (var keyname in keymap) if (keymap.hasOwnProperty(keyname)) {\n      var value = keymap[keyname];\n      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) continue;\n      if (value == \"...\") { delete keymap[keyname]; continue; }\n\n      var keys = map(keyname.split(\" \"), normalizeKeyName);\n      for (var i = 0; i < keys.length; i++) {\n        var val, name;\n        if (i == keys.length - 1) {\n          name = keys.join(\" \");\n          val = value;\n        } else {\n          name = keys.slice(0, i + 1).join(\" \");\n          val = \"...\";\n        }\n        var prev = copy[name];\n        if (!prev) copy[name] = val;\n        else if (prev != val) throw new Error(\"Inconsistent bindings for \" + name);\n      }\n      delete keymap[keyname];\n    }\n    for (var prop in copy) keymap[prop] = copy[prop];\n    return keymap;\n  };\n\n  var lookupKey = CodeMirror.lookupKey = function(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n    if (found === false) return \"nothing\";\n    if (found === \"...\") return \"multi\";\n    if (found != null && handle(found)) return \"handled\";\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n        return lookupKey(key, map.fallthrough, handle, context);\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n        if (result) return result;\n      }\n    }\n  };\n\n  // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n  var isModifierKey = CodeMirror.isModifierKey = function(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  };\n\n  // Look up the name of a key as indicated by an event object.\n  var keyName = CodeMirror.keyName = function(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) return false;\n    var base = keyNames[event.keyCode], name = base;\n    if (name == null || event.altGraphKey) return false;\n    if (event.altKey && base != \"Alt\") name = \"Alt-\" + name;\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") name = \"Ctrl-\" + name;\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") name = \"Cmd-\" + name;\n    if (!noShift && event.shiftKey && base != \"Shift\") name = \"Shift-\" + name;\n    return name;\n  };\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  }\n\n  // FROMTEXTAREA\n\n  CodeMirror.fromTextArea = function(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n    if (!options.tabindex && textarea.tabIndex)\n      options.tabindex = textarea.tabIndex;\n    if (!options.placeholder && textarea.placeholder)\n      options.placeholder = textarea.placeholder;\n    // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea ||\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {textarea.value = cm.getValue();}\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save);\n      // Deplorable hack to make the submit method do the right thing.\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form, realSubmit = form.submit;\n        try {\n          var wrappedSubmit = form.submit = function() {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch(e) {}\n      }\n    }\n\n    options.finishInit = function(cm) {\n      cm.save = save;\n      cm.getTextArea = function() { return textarea; };\n      cm.toTextArea = function() {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n          if (typeof textarea.form.submit == \"function\")\n            textarea.form.submit = realSubmit;\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function(node) {\n      textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  };\n\n  // STRING STREAM\n\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n  var StringStream = CodeMirror.StringStream = function(string, tabSize) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n  };\n\n  StringStream.prototype = {\n    eol: function() {return this.pos >= this.string.length;},\n    sol: function() {return this.pos == this.lineStart;},\n    peek: function() {return this.string.charAt(this.pos) || undefined;},\n    next: function() {\n      if (this.pos < this.string.length)\n        return this.string.charAt(this.pos++);\n    },\n    eat: function(match) {\n      var ch = this.string.charAt(this.pos);\n      if (typeof match == \"string\") var ok = ch == match;\n      else var ok = ch && (match.test ? match.test(ch) : match(ch));\n      if (ok) {++this.pos; return ch;}\n    },\n    eatWhile: function(match) {\n      var start = this.pos;\n      while (this.eat(match)){}\n      return this.pos > start;\n    },\n    eatSpace: function() {\n      var start = this.pos;\n      while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\n      return this.pos > start;\n    },\n    skipToEnd: function() {this.pos = this.string.length;},\n    skipTo: function(ch) {\n      var found = this.string.indexOf(ch, this.pos);\n      if (found > -1) {this.pos = found; return true;}\n    },\n    backUp: function(n) {this.pos -= n;},\n    column: function() {\n      if (this.lastColumnPos < this.start) {\n        this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n        this.lastColumnPos = this.start;\n      }\n      return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    indentation: function() {\n      return countColumn(this.string, null, this.tabSize) -\n        (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n    },\n    match: function(pattern, consume, caseInsensitive) {\n      if (typeof pattern == \"string\") {\n        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};\n        var substr = this.string.substr(this.pos, pattern.length);\n        if (cased(substr) == cased(pattern)) {\n          if (consume !== false) this.pos += pattern.length;\n          return true;\n        }\n      } else {\n        var match = this.string.slice(this.pos).match(pattern);\n        if (match && match.index > 0) return null;\n        if (match && consume !== false) this.pos += match[0].length;\n        return match;\n      }\n    },\n    current: function(){return this.string.slice(this.start, this.pos);},\n    hideFirstChars: function(n, inner) {\n      this.lineStart += n;\n      try { return inner(); }\n      finally { this.lineStart -= n; }\n    }\n  };\n\n  // TEXTMARKERS\n\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n\n  var nextMarkerId = 0;\n\n  var TextMarker = CodeMirror.TextMarker = function(doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  };\n  eventMixin(TextMarker);\n\n  // Clear the marker.\n  TextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n    if (withOp) startOperation(cm);\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n      if (found) signalLater(this, \"clear\", found.from, found.to);\n    }\n    var min = null, max = null;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (cm && !this.collapsed) regLineChange(cm, lineNo(line), \"text\");\n      else if (cm) {\n        if (span.to != null) max = lineNo(line);\n        if (span.from != null) min = lineNo(line);\n      }\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n        updateLineHeight(line, textHeight(cm.display));\n    }\n    if (cm && this.collapsed && !cm.options.lineWrapping) for (var i = 0; i < this.lines.length; ++i) {\n      var visual = visualLine(this.lines[i]), len = lineLength(visual);\n      if (len > cm.display.maxLineLength) {\n        cm.display.maxLine = visual;\n        cm.display.maxLineLength = len;\n        cm.display.maxLineChanged = true;\n      }\n    }\n\n    if (min != null && cm && this.collapsed) regChange(cm, min, max + 1);\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n      if (cm) reCheckSelection(cm.doc);\n    }\n    if (cm) signalLater(cm, \"markerCleared\", cm, this);\n    if (withOp) endOperation(cm);\n    if (this.parent) this.parent.clear();\n  };\n\n  // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n  TextMarker.prototype.find = function(side, lineObj) {\n    if (side == null && this.type == \"bookmark\") side = 1;\n    var from, to;\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n        if (side == -1) return from;\n      }\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n        if (side == 1) return to;\n      }\n    }\n    return from && {from: from, to: to};\n  };\n\n  // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n  TextMarker.prototype.changed = function() {\n    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n    if (!pos || !cm) return;\n    runInOp(cm, function() {\n      var line = pos.line, lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n      cm.curOp.updateMaxLine = true;\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n        if (dHeight)\n          updateLineHeight(line, line.height + dHeight);\n      }\n    });\n  };\n\n  TextMarker.prototype.attachLine = function(line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n    }\n    this.lines.push(line);\n  };\n  TextMarker.prototype.detachLine = function(line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n  var nextMarkerId = 0;\n\n  // Create a marker, wire it up to the right lines, and\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) return markTextShared(doc, from, to, options, type);\n    // Ensure we are in an operation.\n    if (doc.cm && !doc.cm.curOp) return operation(doc.cm, markText)(doc, from, to, options, type);\n\n    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n    if (options) copyObj(options, marker, false);\n    // Don't connect empty markers unless clearWhenEmpty is false\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n      return marker;\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = elt(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n      if (!options.handleMouseEvents) marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      if (options.insertLeft) marker.widgetNode.insertLeft = true;\n    }\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      sawCollapsedSpans = true;\n    }\n\n    if (marker.addToHistory)\n      addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN);\n\n    var curLine = from.line, cm = doc.cm, updateMaxLine;\n    doc.iter(curLine, to.line + 1, function(line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n        updateMaxLine = true;\n      if (marker.collapsed && curLine != from.line) updateLineHeight(line, 0);\n      addMarkedSpan(line, new MarkedSpan(marker,\n                                         curLine == from.line ? from.ch : null,\n                                         curLine == to.line ? to.ch : null));\n      ++curLine;\n    });\n    // lineIsHidden depends on the presence of the spans, so needs a second pass\n    if (marker.collapsed) doc.iter(from.line, to.line + 1, function(line) {\n      if (lineIsHidden(doc, line)) updateLineHeight(line, 0);\n    });\n\n    if (marker.clearOnEnter) on(marker, \"beforeCursorEnter\", function() { marker.clear(); });\n\n    if (marker.readOnly) {\n      sawReadOnlySpans = true;\n      if (doc.history.done.length || doc.history.undone.length)\n        doc.clearHistory();\n    }\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) cm.curOp.updateMaxLine = true;\n      if (marker.collapsed)\n        regChange(cm, from.line, to.line + 1);\n      else if (marker.className || marker.title || marker.startStyle || marker.endStyle || marker.css)\n        for (var i = from.line; i <= to.line; i++) regLineChange(cm, i, \"text\");\n      if (marker.atomic) reCheckSelection(cm.doc);\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n    return marker;\n  }\n\n  // SHARED TEXTMARKERS\n\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n  var SharedTextMarker = CodeMirror.SharedTextMarker = function(markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n    for (var i = 0; i < markers.length; ++i)\n      markers[i].parent = this;\n  };\n  eventMixin(SharedTextMarker);\n\n  SharedTextMarker.prototype.clear = function() {\n    if (this.explicitlyCleared) return;\n    this.explicitlyCleared = true;\n    for (var i = 0; i < this.markers.length; ++i)\n      this.markers[i].clear();\n    signalLater(this, \"clear\");\n  };\n  SharedTextMarker.prototype.find = function(side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function(doc) {\n      if (widget) options.widgetNode = widget.cloneNode(true);\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n      for (var i = 0; i < doc.linked.length; ++i)\n        if (doc.linked[i].isParent) return;\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())),\n                         function(m) { return m.parent; });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], pos = marker.find();\n      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i], linked = [marker.primary.doc];;\n      linkedDocs(marker.primary.doc, function(d) { linked.push(d); });\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    }\n  }\n\n  // TEXTMARKER SPANS\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from; this.to = to;\n  }\n\n  // Search an array of spans for a span matching the given marker.\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.marker == marker) return span;\n    }\n  }\n  // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n  function removeMarkedSpan(spans, span) {\n    for (var r, i = 0; i < spans.length; ++i)\n      if (spans[i] != span) (r || (r = [])).push(spans[i]);\n    return r;\n  }\n  // Add a span to a line.\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  }\n\n  // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n  function markedSpansBefore(old, startCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n      }\n    }\n    return nw;\n  }\n  function markedSpansAfter(old, endCh, isInsert) {\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\n      var span = old[i], marker = span.marker;\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n        (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n                                              span.to == null ? null : span.to - endCh));\n      }\n    }\n    return nw;\n  }\n\n  // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) return null;\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n    if (!oldFirst && !oldLast) return null;\n\n    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n    // Get the spans that 'stick out' on both sides\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n    // Next, merge those two ends\n    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n          if (!found) span.to = startCh;\n          else if (sameLine) span.to = found.to == null ? null : found.to + offset;\n        }\n      }\n    }\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i = 0; i < last.length; ++i) {\n        var span = last[i];\n        if (span.to != null) span.to += offset;\n        if (span.from == null) {\n          var found = getMarkedSpanFor(first, span.marker);\n          if (!found) {\n            span.from = offset;\n            if (sameLine) (first || (first = [])).push(span);\n          }\n        } else {\n          span.from += offset;\n          if (sameLine) (first || (first = [])).push(span);\n        }\n      }\n    }\n    // Make sure we didn't create any zero-length spans\n    if (first) first = clearEmptySpans(first);\n    if (last && last != first) last = clearEmptySpans(last);\n\n    var newMarkers = [first];\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2, gapMarkers;\n      if (gap > 0 && first)\n        for (var i = 0; i < first.length; ++i)\n          if (first[i].to == null)\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i].marker, null, null));\n      for (var i = 0; i < gap; ++i)\n        newMarkers.push(gapMarkers);\n      newMarkers.push(last);\n    }\n    return newMarkers;\n  }\n\n  // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n        spans.splice(i--, 1);\n    }\n    if (!spans.length) return null;\n    return spans;\n  }\n\n  // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n    if (!old) return stretched;\n    if (!stretched) return old;\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i], stretchCur = stretched[i];\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n          for (var k = 0; k < oldCur.length; ++k)\n            if (oldCur[k].marker == span.marker) continue spans;\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n    return old;\n  }\n\n  // Used to 'clip' out readOnly ranges when making a change.\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function(line) {\n      if (line.markedSpans) for (var i = 0; i < line.markedSpans.length; ++i) {\n        var mark = line.markedSpans[i].marker;\n        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n          (markers || (markers = [])).push(mark);\n      }\n    });\n    if (!markers) return null;\n    var parts = [{from: from, to: to}];\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i], m = mk.find(0);\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) continue;\n        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n          newParts.push({from: p.from, to: m.from});\n        if (dto > 0 || !mk.inclusiveRight && !dto)\n          newParts.push({from: m.to, to: p.to});\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 1;\n      }\n    }\n    return parts;\n  }\n\n  // Connect or disconnect spans from a line.\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.detachLine(line);\n    line.markedSpans = null;\n  }\n  function attachMarkedSpans(line, spans) {\n    if (!spans) return;\n    for (var i = 0; i < spans.length; ++i)\n      spans[i].marker.attachLine(line);\n    line.markedSpans = spans;\n  }\n\n  // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0; }\n  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0; }\n\n  // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n    if (lenDiff != 0) return lenDiff;\n    var aPos = a.find(), bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n    if (fromCmp) return -fromCmp;\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n    if (toCmp) return toCmp;\n    return b.id - a.id;\n  }\n\n  // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans, found;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n        found = sp.marker;\n    }\n    return found;\n  }\n  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true); }\n  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false); }\n\n  // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var i = 0; i < sps.length; ++i) {\n      var sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      var found = sp.marker.find(0);\n      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) continue;\n      if (fromCmp <= 0 && (cmp(found.to, from) > 0 || (sp.marker.inclusiveRight && marker.inclusiveLeft)) ||\n          fromCmp >= 0 && (cmp(found.from, to) < 0 || (sp.marker.inclusiveLeft && marker.inclusiveRight)))\n        return true;\n    }\n  }\n\n  // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n  function visualLine(line) {\n    var merged;\n    while (merged = collapsedSpanAtStart(line))\n      line = merged.find(-1, true).line;\n    return line;\n  }\n\n  // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n  function visualLineContinued(line) {\n    var merged, lines;\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n    return lines;\n  }\n\n  // Get the line number of the start of the visual line that the\n  // given line number is part of.\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN), vis = visualLine(line);\n    if (line == vis) return lineN;\n    return lineNo(vis);\n  }\n  // Get the line number of the start of the next visual line after\n  // the given line.\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) return lineN;\n    var line = getLine(doc, lineN), merged;\n    if (!lineIsHidden(doc, line)) return lineN;\n    while (merged = collapsedSpanAtEnd(line))\n      line = merged.find(1, true).line;\n    return lineNo(line) + 1;\n  }\n\n  // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n    if (sps) for (var sp, i = 0; i < sps.length; ++i) {\n      sp = sps[i];\n      if (!sp.marker.collapsed) continue;\n      if (sp.from == null) return true;\n      if (sp.marker.widgetNode) continue;\n      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n        return true;\n    }\n  }\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n    if (span.marker.inclusiveRight && span.to == line.text.length)\n      return true;\n    for (var sp, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n          (sp.to == null || sp.to != span.from) &&\n          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n          lineIsHiddenInner(doc, line, sp)) return true;\n    }\n  }\n\n  // LINE WIDGETS\n\n  // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = CodeMirror.LineWidget = function(doc, node, options) {\n    if (options) for (var opt in options) if (options.hasOwnProperty(opt))\n      this[opt] = options[opt];\n    this.doc = doc;\n    this.node = node;\n  };\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n      addToScrollPos(cm, null, diff);\n  }\n\n  LineWidget.prototype.clear = function() {\n    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n    if (no == null || !ws) return;\n    for (var i = 0; i < ws.length; ++i) if (ws[i] == this) ws.splice(i--, 1);\n    if (!ws.length) line.widgets = null;\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n    if (cm) runInOp(cm, function() {\n      adjustScrollWhenAboveVisible(cm, line, -height);\n      regLineChange(cm, no, \"widget\");\n    });\n  };\n  LineWidget.prototype.changed = function() {\n    var oldH = this.height, cm = this.doc.cm, line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n    if (!diff) return;\n    updateLineHeight(line, line.height + diff);\n    if (cm) runInOp(cm, function() {\n      cm.curOp.forceUpdate = true;\n      adjustScrollWhenAboveVisible(cm, line, diff);\n    });\n  };\n\n  function widgetHeight(widget) {\n    if (widget.height != null) return widget.height;\n    var cm = widget.doc.cm;\n    if (!cm) return 0;\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n      if (widget.coverGutter)\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      if (widget.noHScroll)\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n    return widget.height = widget.node.offsetHeight;\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n    if (cm && widget.noHScroll) cm.display.alignWidgets = true;\n    changeLine(doc, handle, \"widget\", function(line) {\n      var widgets = line.widgets || (line.widgets = []);\n      if (widget.insertAt == null) widgets.push(widget);\n      else widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      widget.line = line;\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n        if (aboveVisible) addToScrollPos(cm, null, widget.height);\n        cm.curOp.forceUpdate = true;\n      }\n      return true;\n    });\n    return widget;\n  }\n\n  // LINE DATA STRUCTURE\n\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n  var Line = CodeMirror.Line = function(text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n  eventMixin(Line);\n  Line.prototype.lineNo = function() { return lineNo(this); };\n\n  // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n    if (line.stateAfter) line.stateAfter = null;\n    if (line.styles) line.styles = null;\n    if (line.order != null) line.order = null;\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n    if (estHeight != line.height) updateLineHeight(line, estHeight);\n  }\n\n  // Detach a line from the document tree and its markers.\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) for (;;) {\n      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n      if (!lineClass) break;\n      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n      if (output[prop] == null)\n        output[prop] = lineClass[2];\n      else if (!(new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\")).test(output[prop]))\n        output[prop] += \" \" + lineClass[2];\n    }\n    return type;\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) return mode.blankLine(state);\n    if (!mode.innerMode) return;\n    var inner = CodeMirror.innerMode(mode, state);\n    if (inner.mode.blankLine) return inner.mode.blankLine(inner.state);\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) inner[0] = CodeMirror.innerMode(mode, state).mode;\n      var style = mode.token(stream, state);\n      if (stream.pos > stream.start) return style;\n    }\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  // Utility for getTokenAt and getLineTokens\n  function takeToken(cm, pos, precise, asArray) {\n    function getObj(copy) {\n      return {start: stream.start, end: stream.pos,\n              string: stream.current(),\n              type: style || null,\n              state: copy ? copyState(doc.mode, state) : state};\n    }\n\n    var doc = cm.doc, mode = doc.mode, style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line), state = getStateBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize), tokens;\n    if (asArray) tokens = [];\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, state);\n      if (asArray) tokens.push(getObj(true));\n    }\n    return asArray ? tokens : getObj();\n  }\n\n  // Run the given mode's parser over a line, calling f for each token.\n  function runMode(cm, text, mode, state, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n    if (flattenSpans == null) flattenSpans = cm.options.flattenSpans;\n    var curStart = 0, curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize), style;\n    var inner = cm.options.addModeClass && [null];\n    if (text == \"\") extractLineClasses(callBlankLine(mode, state), lineClasses);\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n        if (forceToEnd) processLine(cm, text, state, stream.pos);\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, state, inner), lineClasses);\n      }\n      if (inner) {\n        var mName = inner[0].name;\n        if (mName) style = \"m-\" + (style ? mName + \" \" + style : mName);\n      }\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 50000);\n          f(curStart, curStyle);\n        }\n        curStyle = style;\n      }\n      stream.start = stream.pos;\n    }\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444 characters\n      var pos = Math.min(stream.pos, curStart + 50000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  }\n\n  // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n  function highlightLine(cm, line, state, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen], lineClasses = {};\n    // Compute the base array of styles\n    runMode(cm, line.text, cm.doc.mode, state, function(end, style) {\n      st.push(end, style);\n    }, lineClasses, forceToEnd);\n\n    // Run overlays, adjust style array.\n    for (var o = 0; o < cm.state.overlays.length; ++o) {\n      var overlay = cm.state.overlays[o], i = 1, at = 0;\n      runMode(cm, line.text, overlay.mode, true, function(end, style) {\n        var start = i;\n        // Ensure there's a token end at the current position, and that i points at it\n        while (at < end) {\n          var i_end = st[i];\n          if (i_end > end)\n            st.splice(i, 1, end, st[i+1], i_end);\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n        if (!style) return;\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"cm-overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start+1];\n            st[start+1] = (cur ? cur + \" \" : \"\") + \"cm-overlay \" + style;\n          }\n        }\n      }, lineClasses);\n    }\n\n    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null};\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var state = getStateBefore(cm, lineNo(line));\n      var result = highlightLine(cm, line, line.text.length > cm.options.maxHighlightLength ? copyState(cm.doc.mode, state) : state);\n      line.stateAfter = state;\n      line.styles = result.styles;\n      if (result.classes) line.styleClasses = result.classes;\n      else if (line.styleClasses) line.styleClasses = null;\n      if (updateFrontier === cm.doc.frontier) cm.doc.frontier++;\n    }\n    return line.styles;\n  }\n\n  // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n  function processLine(cm, text, state, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize);\n    stream.start = stream.pos = startAt || 0;\n    if (text == \"\") callBlankLine(mode, state);\n    while (!stream.eol()) {\n      readToken(mode, stream, state);\n      stream.start = stream.pos;\n    }\n  }\n\n  // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) return null;\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] ||\n      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  }\n\n  // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = elt(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {pre: elt(\"pre\", [content], \"CodeMirror-line\"), content: content,\n                   col: 0, pos: 0, cm: cm,\n                   splitSpaces: (ie || webkit) && cm.getOption(\"lineWrapping\")};\n    lineView.measure = {};\n\n    // Iterate over the logical lines that make up this visual line.\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line, order;\n      builder.pos = 0;\n      builder.addToken = buildToken;\n      // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line)))\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass)\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        if (line.styleClasses.textClass)\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n      }\n\n      // Ensure at least a single node is present, for measuring.\n      if (builder.map.length == 0)\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n\n      // Store the map and a cache object for the current logical line\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    }\n\n    // See issue #2901\n    if (webkit && /\\bcm-tab\\b/.test(builder.content.lastChild.className))\n      builder.content.className = \"cm-tab-wrap-hack\";\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n    if (builder.pre.className)\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  }\n\n  // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n  function buildToken(builder, text, style, startStyle, endStyle, title, css) {\n    if (!text) return;\n    var displayText = builder.splitSpaces ? text.replace(/ {3,}/g, splitSpaces) : text;\n    var special = builder.cm.state.specialChars, mustWrap = false;\n    if (!special.test(text)) {\n      builder.col += text.length;\n      var content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n      if (ie && ie_version < 9) mustWrap = true;\n      builder.pos += text.length;\n    } else {\n      var content = document.createDocumentFragment(), pos = 0;\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n        if (!m) break;\n        pos += skipped + 1;\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n          var txt = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt.setAttribute(\"role\", \"presentation\");\n          txt.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          var txt = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          var txt = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt.setAttribute(\"cm-text\", m[0]);\n          if (ie && ie_version < 9) content.appendChild(elt(\"span\", [txt]));\n          else content.appendChild(txt);\n          builder.col += 1;\n        }\n        builder.map.push(builder.pos, builder.pos + 1, txt);\n        builder.pos++;\n      }\n    }\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n      if (startStyle) fullStyle += startStyle;\n      if (endStyle) fullStyle += endStyle;\n      var token = elt(\"span\", [content], fullStyle, css);\n      if (title) token.title = title;\n      return builder.content.appendChild(token);\n    }\n    builder.content.appendChild(content);\n  }\n\n  function splitSpaces(old) {\n    var out = \" \";\n    for (var i = 0; i < old.length - 2; ++i) out += i % 2 ? \" \" : \"\\u00a0\";\n    out += \" \";\n    return out;\n  }\n\n  // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n  function buildTokenBadBidi(inner, order) {\n    return function(builder, text, style, startStyle, endStyle, title, css) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos, end = start + text.length;\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        for (var i = 0; i < order.length; i++) {\n          var part = order[i];\n          if (part.to > start && part.from <= start) break;\n        }\n        if (part.to >= end) return inner(builder, text, style, startStyle, endStyle, title, css);\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, title, css);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n    if (widget) builder.map.push(builder.pos, builder.pos + size, widget);\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget)\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n    builder.pos += size;\n  }\n\n  // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans, allText = line.text, at = 0;\n    if (!spans) {\n      for (var i = 1; i < styles.length; i+=2)\n        builder.addToken(builder, allText.slice(at, at = styles[i]), interpretTokenStyle(styles[i+1], builder.cm.options));\n      return;\n    }\n\n    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, title, collapsed;\n    for (;;) {\n      if (nextChange == pos) { // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = title = css = \"\";\n        collapsed = null; nextChange = Infinity;\n        var foundBookmarks = [];\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j], m = sp.marker;\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n            if (m.className) spanStyle += \" \" + m.className;\n            if (m.css) css = (css ? css + \";\" : \"\") + m.css;\n            if (m.startStyle && sp.from == pos) spanStartStyle += \" \" + m.startStyle;\n            if (m.endStyle && sp.to == nextChange) spanEndStyle += \" \" + m.endStyle;\n            if (m.title && !title) title = m.title;\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n              collapsed = sp;\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n                             collapsed.marker, collapsed.from == null);\n          if (collapsed.to == null) return;\n          if (collapsed.to == pos) collapsed = false;\n        }\n        if (!collapsed && foundBookmarks.length) for (var j = 0; j < foundBookmarks.length; ++j)\n          buildCollapsedSpan(builder, 0, foundBookmarks[j]);\n      }\n      if (pos >= len) break;\n\n      var upto = Math.min(len, nextChange);\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", title, css);\n          }\n          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}\n          pos = end;\n          spanStartStyle = \"\";\n        }\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  }\n\n  // DOCUMENT DATA STRUCTURE\n\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n      (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  }\n\n  // Perform a change on the document data structure.\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {return markedSpans ? markedSpans[n] : null;}\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n    function linesFor(start, end) {\n      for (var i = start, result = []; i < end; ++i)\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      return result;\n    }\n\n    var from = change.from, to = change.to, text = change.text;\n    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n    // Adjust the line structure\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n      if (nlines) doc.remove(from.line, nlines);\n      if (added.length) doc.insert(from.line, added);\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added = linesFor(1, text.length - 1);\n        added.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added = linesFor(1, text.length - 1);\n      if (nlines > 1) doc.remove(from.line + 1, nlines - 1);\n      doc.insert(from.line + 1, added);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  }\n\n  // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    for (var i = 0, height = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function() { return this.lines.length; },\n    // Remove the n lines at offset 'at'.\n    removeInner: function(at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function(lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function(at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n      for (var i = 0; i < lines.length; ++i) lines[i].parent = this;\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function(at, n, op) {\n      for (var e = at + n; at < e; ++at)\n        if (op(this.lines[at])) return true;\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0, height = 0;\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize(); height += ch.height;\n      ch.parent = this;\n    }\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function() { return this.size; },\n    removeInner: function(at, n) {\n      this.size -= n;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n          if ((n -= rm) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n      // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n      if (this.size - n < 25 &&\n          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function(lines) {\n      for (var i = 0; i < this.children.length; ++i) this.children[i].collapse(lines);\n    },\n    insertInner: function(at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n          if (child.lines && child.lines.length > 50) {\n            while (child.lines.length > 50) {\n              var spilled = child.lines.splice(child.lines.length - 25, 25);\n              var newleaf = new LeafChunk(spilled);\n              child.height -= newleaf.height;\n              this.children.splice(i + 1, 0, newleaf);\n              newleaf.parent = this;\n            }\n            this.maybeSpill();\n          }\n          break;\n        }\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function() {\n      if (this.children.length <= 10) return;\n      var me = this;\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n        if (!me.parent) { // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n      me.parent.maybeSpill();\n    },\n    iterN: function(at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i], sz = child.chunkSize();\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n          if (child.iterN(at, used, op)) return true;\n          if ((n -= used) == 0) break;\n          at = 0;\n        } else at -= sz;\n      }\n    }\n  };\n\n  var nextDocId = 0;\n  var Doc = CodeMirror.Doc = function(text, mode, firstLine, lineSep) {\n    if (!(this instanceof Doc)) return new Doc(text, mode, firstLine, lineSep);\n    if (firstLine == null) firstLine = 0;\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.frontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.extend = false;\n\n    if (typeof text == \"string\") text = this.splitLines(text);\n    updateDoc(this, {from: start, to: start, text: text});\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function(from, to, op) {\n      if (op) this.iterN(from - this.first, to - from, op);\n      else this.iterN(this.first, this.first + this.size, from);\n    },\n\n    // Non-public interface for adding and removing lines.\n    insert: function(at, lines) {\n      var height = 0;\n      for (var i = 0; i < lines.length; ++i) height += lines[i].height;\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n\n    getValue: function(lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function(code) {\n      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n      setSelection(this, simpleSelection(top));\n    }),\n    replaceRange: function(code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function(from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n      if (lineSep === false) return lines;\n      return lines.join(lineSep || this.lineSeparator());\n    },\n\n    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text;},\n\n    getLineHandle: function(line) {if (isLine(this, line)) return getLine(this, line);},\n    getLineNumber: function(line) {return lineNo(line);},\n\n    getLineHandleVisualStart: function(line) {\n      if (typeof line == \"number\") line = getLine(this, line);\n      return visualLine(line);\n    },\n\n    lineCount: function() {return this.size;},\n    firstLine: function() {return this.first;},\n    lastLine: function() {return this.first + this.size - 1;},\n\n    clipPos: function(pos) {return clipPos(this, pos);},\n\n    getCursor: function(start) {\n      var range = this.sel.primary(), pos;\n      if (start == null || start == \"head\") pos = range.head;\n      else if (start == \"anchor\") pos = range.anchor;\n      else if (start == \"end\" || start == \"to\" || start === false) pos = range.to();\n      else pos = range.from();\n      return pos;\n    },\n    listSelections: function() { return this.sel.ranges; },\n    somethingSelected: function() {return this.sel.somethingSelected();},\n\n    setCursor: docMethodOp(function(line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function(anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function(head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function(heads, options) {\n      extendSelections(this, clipPosArray(this, heads, options));\n    }),\n    extendSelectionsBy: docMethodOp(function(f, options) {\n      extendSelections(this, map(this.sel.ranges, f), options);\n    }),\n    setSelections: docMethodOp(function(ranges, primary, options) {\n      if (!ranges.length) return;\n      for (var i = 0, out = []; i < ranges.length; i++)\n        out[i] = new Range(clipPos(this, ranges[i].anchor),\n                           clipPos(this, ranges[i].head));\n      if (primary == null) primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      setSelection(this, normalizeSelection(out, primary), options);\n    }),\n    addSelection: docMethodOp(function(anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(ranges, ranges.length - 1), options);\n    }),\n\n    getSelection: function(lineSep) {\n      var ranges = this.sel.ranges, lines;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n      if (lineSep === false) return lines;\n      else return lines.join(lineSep || this.lineSeparator());\n    },\n    getSelections: function(lineSep) {\n      var parts = [], ranges = this.sel.ranges;\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        if (lineSep !== false) sel = sel.join(lineSep || this.lineSeparator());\n        parts[i] = sel;\n      }\n      return parts;\n    },\n    replaceSelection: function(code, collapse, origin) {\n      var dup = [];\n      for (var i = 0; i < this.sel.ranges.length; i++)\n        dup[i] = code;\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function(code, collapse, origin) {\n      var changes = [], sel = this.sel;\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n      }\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n      for (var i = changes.length - 1; i >= 0; i--)\n        makeChange(this, changes[i]);\n      if (newSel) setSelectionReplaceHistory(this, newSel);\n      else if (this.cm) ensureCursorVisible(this.cm);\n    }),\n    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n    setExtending: function(val) {this.extend = val;},\n    getExtending: function() {return this.extend;},\n\n    historySize: function() {\n      var hist = this.history, done = 0, undone = 0;\n      for (var i = 0; i < hist.done.length; i++) if (!hist.done[i].ranges) ++done;\n      for (var i = 0; i < hist.undone.length; i++) if (!hist.undone[i].ranges) ++undone;\n      return {undo: done, redo: undone};\n    },\n    clearHistory: function() {this.history = new History(this.history.maxGeneration);},\n\n    markClean: function() {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function(forceSplit) {\n      if (forceSplit)\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      return this.history.generation;\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n\n    getHistory: function() {\n      return {done: copyHistoryArray(this.history.done),\n              undone: copyHistoryArray(this.history.undone)};\n    },\n    setHistory: function(histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n\n    addLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        if (!line[prop]) line[prop] = cls;\n        else if (classTest(cls).test(line[prop])) return false;\n        else line[prop] += \" \" + cls;\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function(handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function(line) {\n        var prop = where == \"text\" ? \"textClass\"\n                 : where == \"background\" ? \"bgClass\"\n                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n        if (!cur) return false;\n        else if (cls == null) line[prop] = null;\n        else {\n          var found = cur.match(classTest(cls));\n          if (!found) return false;\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n        return true;\n      });\n    }),\n\n    addLineWidget: docMethodOp(function(handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function(widget) { widget.clear(); },\n\n    markText: function(from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function(pos, options) {\n      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n                      insertLeft: options && options.insertLeft,\n                      clearWhenEmpty: false, shared: options && options.shared,\n                      handleMouseEvents: options && options.handleMouseEvents};\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function(pos) {\n      pos = clipPos(this, pos);\n      var markers = [], spans = getLine(this, pos.line).markedSpans;\n      if (spans) for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n        if ((span.from == null || span.from <= pos.ch) &&\n            (span.to == null || span.to >= pos.ch))\n          markers.push(span.marker.parent || span.marker);\n      }\n      return markers;\n    },\n    findMarks: function(from, to, filter) {\n      from = clipPos(this, from); to = clipPos(this, to);\n      var found = [], lineNo = from.line;\n      this.iter(from.line, to.line + 1, function(line) {\n        var spans = line.markedSpans;\n        if (spans) for (var i = 0; i < spans.length; i++) {\n          var span = spans[i];\n          if (!(lineNo == from.line && from.ch > span.to ||\n                span.from == null && lineNo != from.line||\n                lineNo == to.line && span.from > to.ch) &&\n              (!filter || filter(span.marker)))\n            found.push(span.marker.parent || span.marker);\n        }\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function() {\n      var markers = [];\n      this.iter(function(line) {\n        var sps = line.markedSpans;\n        if (sps) for (var i = 0; i < sps.length; ++i)\n          if (sps[i].from != null) markers.push(sps[i].marker);\n      });\n      return markers;\n    },\n\n    posFromIndex: function(off) {\n      var ch, lineNo = this.first;\n      this.iter(function(line) {\n        var sz = line.text.length + 1;\n        if (sz > off) { ch = off; return true; }\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n      if (coords.line < this.first || coords.ch < 0) return 0;\n      this.iter(this.first, coords.line, function (line) {\n        index += line.text.length + 1;\n      });\n      return index;\n    },\n\n    copy: function(copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n                        this.modeOption, this.first, this.lineSep);\n      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n      return doc;\n    },\n\n    linkedDoc: function(options) {\n      if (!options) options = {};\n      var from = this.first, to = this.first + this.size;\n      if (options.from != null && options.from > from) from = options.from;\n      if (options.to != null && options.to < to) to = options.to;\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep);\n      if (options.sharedHist) copy.history = this.history;\n      (this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function(other) {\n      if (other instanceof CodeMirror) other = other.doc;\n      if (this.linked) for (var i = 0; i < this.linked.length; ++i) {\n        var link = this.linked[i];\n        if (link.doc != other) continue;\n        this.linked.splice(i, 1);\n        other.unlinkDoc(this);\n        detachSharedMarkers(findSharedMarkers(this));\n        break;\n      }\n      // If the histories were shared, split them again\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function(doc) {splitIds.push(doc.id);}, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n    getMode: function() {return this.mode;},\n    getEditor: function() {return this.cm;},\n\n    splitLines: function(str) {\n      if (this.lineSep) return str.split(this.lineSep);\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function() { return this.lineSep || \"\\n\"; }\n  });\n\n  // Public alias.\n  Doc.prototype.eachLine = Doc.prototype.iter;\n\n  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n  for (var prop in Doc.prototype) if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n    CodeMirror.prototype[prop] = (function(method) {\n      return function() {return method.apply(this.doc, arguments);};\n    })(Doc.prototype[prop]);\n\n  eventMixin(Doc);\n\n  // Call f for all linked documents.\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) for (var i = 0; i < doc.linked.length; ++i) {\n        var rel = doc.linked[i];\n        if (rel.doc == skip) continue;\n        var shared = sharedHist && rel.sharedHist;\n        if (sharedHistOnly && !shared) continue;\n        f(rel.doc, shared);\n        propagate(rel.doc, doc, shared);\n      }\n    }\n    propagate(doc, null, true);\n  }\n\n  // Attach a document to an editor.\n  function attachDoc(cm, doc) {\n    if (doc.cm) throw new Error(\"This document is already in use.\");\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    if (!cm.options.lineWrapping) findMaxLine(cm);\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  // LINE UTILITIES\n\n  // Find the line object corresponding to the given line number.\n  function getLine(doc, n) {\n    n -= doc.first;\n    if (n < 0 || n >= doc.size) throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    for (var chunk = doc; !chunk.lines;) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i], sz = child.chunkSize();\n        if (n < sz) { chunk = child; break; }\n        n -= sz;\n      }\n    }\n    return chunk.lines[n];\n  }\n\n  // Get the part of a document between two positions, as an array of\n  // strings.\n  function getBetween(doc, start, end) {\n    var out = [], n = start.line;\n    doc.iter(start.line, end.line + 1, function(line) {\n      var text = line.text;\n      if (n == end.line) text = text.slice(0, end.ch);\n      if (n == start.line) text = text.slice(start.ch);\n      out.push(text);\n      ++n;\n    });\n    return out;\n  }\n  // Get the lines between from and to, as array of strings.\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function(line) { out.push(line.text); });\n    return out;\n  }\n\n  // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n    if (diff) for (var n = line; n; n = n.parent) n.height += diff;\n  }\n\n  // Given a line object, find its line number by walking up through\n  // its parent links.\n  function lineNo(line) {\n    if (line.parent == null) return null;\n    var cur = line.parent, no = indexOf(cur.lines, line);\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) break;\n        no += chunk.children[i].chunkSize();\n      }\n    }\n    return no + cur.first;\n  }\n\n  // Find the line at the given vertical position, using the height\n  // information in the document tree.\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n    outer: do {\n      for (var i = 0; i < chunk.children.length; ++i) {\n        var child = chunk.children[i], ch = child.height;\n        if (h < ch) { chunk = child; continue outer; }\n        h -= ch;\n        n += child.chunkSize();\n      }\n      return n;\n    } while (!chunk.lines);\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i], lh = line.height;\n      if (h < lh) break;\n      h -= lh;\n    }\n    return n + i;\n  }\n\n\n  // Find the height above the given line.\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n\n    var h = 0, chunk = lineObj.parent;\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n      if (line == lineObj) break;\n      else h += line.height;\n    }\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i = 0; i < p.children.length; ++i) {\n        var cur = p.children[i];\n        if (cur == chunk) break;\n        else h += cur.height;\n      }\n    }\n    return h;\n  }\n\n  // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n  function getOrder(line) {\n    var order = line.order;\n    if (order == null) order = line.order = bidiOrdering(line.text);\n    return order;\n  }\n\n  // HISTORY\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = []; this.undone = [];\n    this.undoDepth = Infinity;\n    // Used to track when changes can be merged into a single undo\n    // event\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null;\n    // Used by the isClean() method\n    this.generation = this.maxGeneration = startGen || 1;\n  }\n\n  // Create a history change event from an updateDoc-style change\n  // object.\n  function historyChangeFromChange(doc, change) {\n    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function(doc) {attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);}, true);\n    return histChange;\n  }\n\n  // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n      if (last.ranges) array.pop();\n      else break;\n    }\n  }\n\n  // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  }\n\n  // Register a change in the history. Merges changes that are within\n  // a single operation, ore are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date, cur;\n\n    if ((hist.lastOp == opId ||\n         hist.lastOrigin == change.origin && change.origin &&\n         ((change.origin.charAt(0) == \"+\" && doc.cm && hist.lastModTime > time - doc.cm.options.historyEventDelay) ||\n          change.origin.charAt(0) == \"*\")) &&\n        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      var last = lst(cur.changes);\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n      if (!before || !before.ranges)\n        pushSelectionToHistory(doc.sel, hist.done);\n      cur = {changes: [historyChangeFromChange(doc, change)],\n             generation: hist.generation};\n      hist.done.push(cur);\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n        if (!hist.done[0].ranges) hist.done.shift();\n      }\n    }\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) signal(doc, \"historyAdded\");\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" ||\n      ch == \"+\" &&\n      prev.ranges.length == sel.ranges.length &&\n      prev.somethingSelected() == sel.somethingSelected() &&\n      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  }\n\n  // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history, origin = options && options.origin;\n\n    // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n    if (opId == hist.lastSelOp ||\n        (origin && hist.lastSelOrigin == origin &&\n         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n      hist.done[hist.done.length - 1] = sel;\n    else\n      pushSelectionToHistory(sel, hist.done);\n\n    hist.lastSelTime = +new Date;\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n    if (options && options.clearRedo !== false)\n      clearSelectionEvents(hist.undone);\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n    if (!(top && top.ranges && top.equals(sel)))\n      dest.push(sel);\n  }\n\n  // Used to store marked span information in the history.\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id], n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function(line) {\n      if (line.markedSpans)\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      ++n;\n    });\n  }\n\n  // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n  function removeClearedSpans(spans) {\n    if (!spans) return null;\n    for (var i = 0, out; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }\n      else if (out) out.push(spans[i]);\n    }\n    return !out ? spans : out.length ? out : null;\n  }\n\n  // Retrieve and filter the old marked spans stored in a change event.\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n    if (!found) return null;\n    for (var i = 0, nw = []; i < change.text.length; ++i)\n      nw.push(removeClearedSpans(found[i]));\n    return nw;\n  }\n\n  // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    for (var i = 0, copy = []; i < events.length; ++i) {\n      var event = events[i];\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n      var changes = event.changes, newChanges = [];\n      copy.push({changes: newChanges});\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j], m;\n        newChanges.push({from: change.from, to: change.to, text: change.text});\n        if (newGroup) for (var prop in change) if (m = prop.match(/^spans_(\\d+)$/)) {\n          if (indexOf(newGroup, Number(m[1])) > -1) {\n            lst(newChanges)[prop] = change[prop];\n            delete change[prop];\n          }\n        }\n      }\n    }\n    return copy;\n  }\n\n  // Rebasing/resetting history to deal with externally-sourced changes\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  }\n\n  // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i], ok = true;\n      if (sub.ranges) {\n        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n        continue;\n      }\n      for (var j = 0; j < sub.changes.length; ++j) {\n        var cur = sub.changes[j];\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  }\n\n  // EVENT UTILITIES\n\n  // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n  var e_preventDefault = CodeMirror.e_preventDefault = function(e) {\n    if (e.preventDefault) e.preventDefault();\n    else e.returnValue = false;\n  };\n  var e_stopPropagation = CodeMirror.e_stopPropagation = function(e) {\n    if (e.stopPropagation) e.stopPropagation();\n    else e.cancelBubble = true;\n  };\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n  var e_stop = CodeMirror.e_stop = function(e) {e_preventDefault(e); e_stopPropagation(e);};\n\n  function e_target(e) {return e.target || e.srcElement;}\n  function e_button(e) {\n    var b = e.which;\n    if (b == null) {\n      if (e.button & 1) b = 1;\n      else if (e.button & 2) b = 3;\n      else if (e.button & 4) b = 2;\n    }\n    if (mac && e.ctrlKey && b == 1) b = 3;\n    return b;\n  }\n\n  // EVENT HANDLING\n\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n  var on = CodeMirror.on = function(emitter, type, f) {\n    if (emitter.addEventListener)\n      emitter.addEventListener(type, f, false);\n    else if (emitter.attachEvent)\n      emitter.attachEvent(\"on\" + type, f);\n    else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      var arr = map[type] || (map[type] = []);\n      arr.push(f);\n    }\n  };\n\n  var noHandlers = []\n  function getHandlers(emitter, type, copy) {\n    var arr = emitter._handlers && emitter._handlers[type]\n    if (copy) return arr && arr.length > 0 ? arr.slice() : noHandlers\n    else return arr || noHandlers\n  }\n\n  var off = CodeMirror.off = function(emitter, type, f) {\n    if (emitter.removeEventListener)\n      emitter.removeEventListener(type, f, false);\n    else if (emitter.detachEvent)\n      emitter.detachEvent(\"on\" + type, f);\n    else {\n      var handlers = getHandlers(emitter, type, false)\n      for (var i = 0; i < handlers.length; ++i)\n        if (handlers[i] == f) { handlers.splice(i, 1); break; }\n    }\n  };\n\n  var signal = CodeMirror.signal = function(emitter, type /*, values...*/) {\n    var handlers = getHandlers(emitter, type, true)\n    if (!handlers.length) return;\n    var args = Array.prototype.slice.call(arguments, 2);\n    for (var i = 0; i < handlers.length; ++i) handlers[i].apply(null, args);\n  };\n\n  var orphanDelayedCallbacks = null;\n\n  // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n  function signalLater(emitter, type /*, values...*/) {\n    var arr = getHandlers(emitter, type, false)\n    if (!arr.length) return;\n    var args = Array.prototype.slice.call(arguments, 2), list;\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n    function bnd(f) {return function(){f.apply(null, args);};};\n    for (var i = 0; i < arr.length; ++i)\n      list.push(bnd(arr[i]));\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n    for (var i = 0; i < delayed.length; ++i) delayed[i]();\n  }\n\n  // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\")\n      e = {type: e, preventDefault: function() { this.defaultPrevented = true; }};\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n    if (!arr) return;\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n    for (var i = 0; i < arr.length; ++i) if (indexOf(set, arr[i]) == -1)\n      set.push(arr[i]);\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0\n  }\n\n  // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n  function eventMixin(ctor) {\n    ctor.prototype.on = function(type, f) {on(this, type, f);};\n    ctor.prototype.off = function(type, f) {off(this, type, f);};\n  }\n\n  // MISC UTILITIES\n\n  // Number of pixels added to scroller and sizer to hide scrollbar\n  var scrollerGap = 30;\n\n  // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n  var Pass = CodeMirror.Pass = {toString: function(){return \"CodeMirror.Pass\";}};\n\n  // Reused option objects for setSelection & friends\n  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n  function Delayed() {this.id = null;}\n  Delayed.prototype.set = function(ms, f) {\n    clearTimeout(this.id);\n    this.id = setTimeout(f, ms);\n  };\n\n  // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n  var countColumn = CodeMirror.countColumn = function(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n      if (end == -1) end = string.length;\n    }\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n      if (nextTab < 0 || nextTab >= end)\n        return n + (end - i);\n      n += nextTab - i;\n      n += tabSize - (n % tabSize);\n      i = nextTab + 1;\n    }\n  };\n\n  // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n  var findColumn = CodeMirror.findColumn = function(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n      if (nextTab == -1) nextTab = string.length;\n      var skipped = nextTab - pos;\n      if (nextTab == string.length || col + skipped >= goal)\n        return pos + Math.min(skipped, goal - col);\n      col += nextTab - pos;\n      col += tabSize - (col % tabSize);\n      pos = nextTab + 1;\n      if (col >= goal) return pos;\n    }\n  }\n\n  var spaceStrs = [\"\"];\n  function spaceStr(n) {\n    while (spaceStrs.length <= n)\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    return spaceStrs[n];\n  }\n\n  function lst(arr) { return arr[arr.length-1]; }\n\n  var selectInput = function(node) { node.select(); };\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; };\n  else if (ie) // Suppress mysterious IE10 errors\n    selectInput = function(node) { try { node.select(); } catch(_e) {} };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i)\n      if (array[i] == elt) return i;\n    return -1;\n  }\n  function map(array, f) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) out[i] = f(array[i], i);\n    return out;\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n    if (props) copyObj(props, inst);\n    return inst;\n  };\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) target = {};\n    for (var prop in obj)\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n        target[prop] = obj[prop];\n    return target;\n  }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function(){return f.apply(null, args);};\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n  var isWordCharBasic = CodeMirror.isWordChar = function(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" &&\n      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  };\n  function isWordChar(ch, helper) {\n    if (!helper) return isWordCharBasic(ch);\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) return true;\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) if (obj.hasOwnProperty(n) && obj[n]) return false;\n    return true;\n  }\n\n  // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch); }\n\n  // DOM UTILITIES\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n    if (className) e.className = className;\n    if (style) e.style.cssText = style;\n    if (typeof content == \"string\") e.appendChild(document.createTextNode(content));\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\n    return e;\n  }\n\n  var range;\n  if (document.createRange) range = function(node, start, end, endNode) {\n    var r = document.createRange();\n    r.setEnd(endNode || node, end);\n    r.setStart(node, start);\n    return r;\n  };\n  else range = function(node, start, end) {\n    var r = document.body.createTextRange();\n    try { r.moveToElementText(node.parentNode); }\n    catch(e) { return r; }\n    r.collapse(true);\n    r.moveEnd(\"character\", end);\n    r.moveStart(\"character\", start);\n    return r;\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count)\n      e.removeChild(e.firstChild);\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  var contains = CodeMirror.contains = function(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      child = child.parentNode;\n    if (parent.contains)\n      return parent.contains(child);\n    do {\n      if (child.nodeType == 11) child = child.host;\n      if (child == parent) return true;\n    } while (child = child.parentNode);\n  };\n\n  function activeElt() {\n    var activeElement = document.activeElement;\n    while (activeElement && activeElement.root && activeElement.root.activeElement)\n      activeElement = activeElement.root.activeElement;\n    return activeElement;\n  }\n  // Older versions of IE throws unspecified error when touching\n  // document.activeElement in some cases (during loading, in iframe)\n  if (ie && ie_version < 11) activeElt = function() {\n    try { return document.activeElement; }\n    catch(e) { return document.body; }\n  };\n\n  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\"); }\n  var rmClass = CodeMirror.rmClass = function(node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n  var addClass = CodeMirror.addClass = function(node, cls) {\n    var current = node.className;\n    if (!classTest(cls).test(current)) node.className += (current ? \" \" : \"\") + cls;\n  };\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n    for (var i = 0; i < as.length; i++)\n      if (as[i] && !classTest(as[i]).test(b)) b += \" \" + as[i];\n    return b;\n  }\n\n  // WINDOW-WIDE EVENTS\n\n  // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n  function forEachCodeMirror(f) {\n    if (!document.body.getElementsByClassName) return;\n    var byClass = document.body.getElementsByClassName(\"CodeMirror\");\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n      if (cm) f(cm);\n    }\n  }\n\n  var globalsRegistered = false;\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) return;\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function() {\n      if (resizeTimer == null) resizeTimer = setTimeout(function() {\n        resizeTimer = null;\n        forEachCodeMirror(onResize);\n      }, 100);\n    });\n    // When the window loses focus, we want to show the editor as blurred\n    on(window, \"blur\", function() {\n      forEachCodeMirror(onBlur);\n    });\n  }\n\n  // FEATURE DETECTION\n\n  // Detect drag-and-drop\n  var dragAndDrop = function() {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) return false;\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n      if (measure.firstChild.offsetHeight != 0)\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n    }\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  }\n\n  // Feature-detect IE's crummy client rect reporting for bidi text\n  var badBidiRects;\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) return badBidiRects;\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    if (!r0 || r0.left == r0.right) return false; // Safari returns null in some cases (#2780)\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    return badBidiRects = (r1.right - r0.right < 3);\n  }\n\n  // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n  var splitLinesAuto = CodeMirror.splitLines = \"\\n\\nb\".split(/\\n/).length != 3 ? function(string) {\n    var pos = 0, result = [], l = string.length;\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n      if (nl == -1) nl = string.length;\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n    return result;\n  } : function(string){return string.split(/\\r\\n?|\\n/);};\n\n  var hasSelection = window.getSelection ? function(te) {\n    try { return te.selectionStart != te.selectionEnd; }\n    catch(e) { return false; }\n  } : function(te) {\n    try {var range = te.ownerDocument.selection.createRange();}\n    catch(e) {}\n    if (!range || range.parentElement() != te) return false;\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = (function() {\n    var e = elt(\"div\");\n    if (\"oncopy\" in e) return true;\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  })();\n\n  var badZoomedRects = null;\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) return badZoomedRects;\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  }\n\n  // KEY NAMES\n\n  var keyNames = CodeMirror.keyNames = {\n    3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 127: \"Delete\",\n    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n    221: \"]\", 222: \"'\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n  };\n  (function() {\n    // Number keys\n    for (var i = 0; i < 10; i++) keyNames[i + 48] = keyNames[i + 96] = String(i);\n    // Alphabetic keys\n    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);\n    // Function keys\n    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = \"F\" + i;\n  })();\n\n  // BIDI HELPERS\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) return f(from, to, \"ltr\");\n    var found = false;\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\");\n        found = true;\n      }\n    }\n    if (!found) f(from, to, \"ltr\");\n  }\n\n  function bidiLeft(part) { return part.level % 2 ? part.to : part.from; }\n  function bidiRight(part) { return part.level % 2 ? part.from : part.to; }\n\n  function lineLeft(line) { var order = getOrder(line); return order ? bidiLeft(order[0]) : 0; }\n  function lineRight(line) {\n    var order = getOrder(line);\n    if (!order) return line.text.length;\n    return bidiRight(lst(order));\n  }\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n    if (visual != line) lineN = lineNo(visual);\n    var order = getOrder(visual);\n    var ch = !order ? 0 : order[0].level % 2 ? lineRight(visual) : lineLeft(visual);\n    return Pos(lineN, ch);\n  }\n  function lineEnd(cm, lineN) {\n    var merged, line = getLine(cm.doc, lineN);\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      lineN = null;\n    }\n    var order = getOrder(line);\n    var ch = !order ? line.text.length : order[0].level % 2 ? lineLeft(line) : lineRight(line);\n    return Pos(lineN == null ? lineNo(line) : lineN, ch);\n  }\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line);\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(0, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS);\n    }\n    return start;\n  }\n\n  function compareBidiLevel(order, a, b) {\n    var linedir = order[0].level;\n    if (a == linedir) return true;\n    if (b == linedir) return false;\n    return a < b;\n  }\n  var bidiOther;\n  function getBidiPartAt(order, pos) {\n    bidiOther = null;\n    for (var i = 0, found; i < order.length; ++i) {\n      var cur = order[i];\n      if (cur.from < pos && cur.to > pos) return i;\n      if ((cur.from == pos || cur.to == pos)) {\n        if (found == null) {\n          found = i;\n        } else if (compareBidiLevel(order, cur.level, order[found].level)) {\n          if (cur.from != cur.to) bidiOther = found;\n          return i;\n        } else {\n          if (cur.from != cur.to) bidiOther = i;\n          return found;\n        }\n      }\n    }\n    return found;\n  }\n\n  function moveInLine(line, pos, dir, byUnit) {\n    if (!byUnit) return pos + dir;\n    do pos += dir;\n    while (pos > 0 && isExtendingChar(line.text.charAt(pos)));\n    return pos;\n  }\n\n  // This is needed in order to move 'visually' through bi-directional\n  // text -- i.e., pressing left should make the cursor go left, even\n  // when in RTL text. The tricky part is the 'jumps', where RTL and\n  // LTR text touch each other. This often requires the cursor offset\n  // to move more than one unit, in order to visually move one unit.\n  function moveVisually(line, start, dir, byUnit) {\n    var bidi = getOrder(line);\n    if (!bidi) return moveLogically(line, start, dir, byUnit);\n    var pos = getBidiPartAt(bidi, start), part = bidi[pos];\n    var target = moveInLine(line, start, part.level % 2 ? -dir : dir, byUnit);\n\n    for (;;) {\n      if (target > part.from && target < part.to) return target;\n      if (target == part.from || target == part.to) {\n        if (getBidiPartAt(bidi, target) == pos) return target;\n        part = bidi[pos += dir];\n        return (dir > 0) == part.level % 2 ? part.to : part.from;\n      } else {\n        part = bidi[pos += dir];\n        if (!part) return null;\n        if ((dir > 0) == part.level % 2)\n          target = moveInLine(line, part.to, -1, byUnit);\n        else\n          target = moveInLine(line, part.from, 1, byUnit);\n      }\n    }\n  }\n\n  function moveLogically(line, start, dir, byUnit) {\n    var target = start + dir;\n    if (byUnit) while (target > 0 && isExtendingChar(line.text.charAt(target))) target += dir;\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n  var bidiOrdering = (function() {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n    // Character types for codepoints 0x600 to 0x6ff\n    var arabicTypes = \"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm\";\n    function charType(code) {\n      if (code <= 0xf7) return lowTypes.charAt(code);\n      else if (0x590 <= code && code <= 0x5f4) return \"R\";\n      else if (0x600 <= code && code <= 0x6ed) return arabicTypes.charAt(code - 0x600);\n      else if (0x6ee <= code && code <= 0x8ac) return \"r\";\n      else if (0x2000 <= code && code <= 0x200b) return \"w\";\n      else if (code == 0x200c) return \"b\";\n      else return \"L\";\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n    // Browsers seem to always treat the boundaries of block elements as being L.\n    var outerType = \"L\";\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from; this.to = to;\n    }\n\n    return function(str) {\n      if (!bidiRE.test(str)) return false;\n      var len = str.length, types = [];\n      for (var i = 0, type; i < len; ++i)\n        types.push(type = charType(str.charCodeAt(i)));\n\n      // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n      for (var i = 0, prev = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"m\") types[i] = prev;\n        else prev = type;\n      }\n\n      // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (type == \"1\" && cur == \"r\") types[i] = \"n\";\n        else if (isStrong.test(type)) { cur = type; if (type == \"r\") types[i] = \"R\"; }\n      }\n\n      // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n      for (var i = 1, prev = types[0]; i < len - 1; ++i) {\n        var type = types[i];\n        if (type == \"+\" && prev == \"1\" && types[i+1] == \"1\") types[i] = \"1\";\n        else if (type == \",\" && prev == types[i+1] &&\n                 (prev == \"1\" || prev == \"n\")) types[i] = prev;\n        prev = type;\n      }\n\n      // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n      for (var i = 0; i < len; ++i) {\n        var type = types[i];\n        if (type == \",\") types[i] = \"N\";\n        else if (type == \"%\") {\n          for (var end = i + 1; end < len && types[end] == \"%\"; ++end) {}\n          var replace = (i && types[i-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n      for (var i = 0, cur = outerType; i < len; ++i) {\n        var type = types[i];\n        if (cur == \"L\" && type == \"1\") types[i] = \"L\";\n        else if (isStrong.test(type)) cur = type;\n      }\n\n      // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n      for (var i = 0; i < len; ++i) {\n        if (isNeutral.test(types[i])) {\n          for (var end = i + 1; end < len && isNeutral.test(types[end]); ++end) {}\n          var before = (i ? types[i-1] : outerType) == \"L\";\n          var after = (end < len ? types[end] : outerType) == \"L\";\n          var replace = before || after ? \"L\" : \"R\";\n          for (var j = i; j < end; ++j) types[j] = replace;\n          i = end - 1;\n        }\n      }\n\n      // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n      var order = [], m;\n      for (var i = 0; i < len;) {\n        if (countsAsLeft.test(types[i])) {\n          var start = i;\n          for (++i; i < len && countsAsLeft.test(types[i]); ++i) {}\n          order.push(new BidiSpan(0, start, i));\n        } else {\n          var pos = i, at = order.length;\n          for (++i; i < len && types[i] != \"L\"; ++i) {}\n          for (var j = pos; j < i;) {\n            if (countsAsNum.test(types[j])) {\n              if (pos < j) order.splice(at, 0, new BidiSpan(1, pos, j));\n              var nstart = j;\n              for (++j; j < i && countsAsNum.test(types[j]); ++j) {}\n              order.splice(at, 0, new BidiSpan(2, nstart, j));\n              pos = j;\n            } else ++j;\n          }\n          if (pos < i) order.splice(at, 0, new BidiSpan(1, pos, i));\n        }\n      }\n      if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n        order[0].from = m[0].length;\n        order.unshift(new BidiSpan(0, 0, m[0].length));\n      }\n      if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n        lst(order).to -= m[0].length;\n        order.push(new BidiSpan(0, len - m[0].length, len));\n      }\n      if (order[0].level == 2)\n        order.unshift(new BidiSpan(1, order[0].to, order[0].to));\n      if (order[0].level != lst(order).level)\n        order.push(new BidiSpan(order[0].level, len, len));\n\n      return order;\n    };\n  })();\n\n  // THE END\n\n  CodeMirror.version = \"5.9.0\";\n\n  return CodeMirror;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/codemirror/lib/codemirror.js\n **/","/**\n * Created by Doma on 2016/10/19.\n */\nimport Vue from 'vue'\nexport default new Vue()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/EventBus.js\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-b516fa90!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./Resizer.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Resizer.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-b516fa90!vue-loader/lib/selector?type=template&index=0!./Resizer.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"Resizer\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Resizer.vue\n ** module id = 23\n ** module chunks = 2\n **/","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function Bar(cls, orientation, scroll) {\n    this.orientation = orientation;\n    this.scroll = scroll;\n    this.screen = this.total = this.size = 1;\n    this.pos = 0;\n\n    this.node = document.createElement(\"div\");\n    this.node.className = cls + \"-\" + orientation;\n    this.inner = this.node.appendChild(document.createElement(\"div\"));\n\n    var self = this;\n    CodeMirror.on(this.inner, \"mousedown\", function(e) {\n      if (e.which != 1) return;\n      CodeMirror.e_preventDefault(e);\n      var axis = self.orientation == \"horizontal\" ? \"pageX\" : \"pageY\";\n      var start = e[axis], startpos = self.pos;\n      function done() {\n        CodeMirror.off(document, \"mousemove\", move);\n        CodeMirror.off(document, \"mouseup\", done);\n      }\n      function move(e) {\n        if (e.which != 1) return done();\n        self.moveTo(startpos + (e[axis] - start) * (self.total / self.size));\n      }\n      CodeMirror.on(document, \"mousemove\", move);\n      CodeMirror.on(document, \"mouseup\", done);\n    });\n\n    CodeMirror.on(this.node, \"click\", function(e) {\n      CodeMirror.e_preventDefault(e);\n      var innerBox = self.inner.getBoundingClientRect(), where;\n      if (self.orientation == \"horizontal\")\n        where = e.clientX < innerBox.left ? -1 : e.clientX > innerBox.right ? 1 : 0;\n      else\n        where = e.clientY < innerBox.top ? -1 : e.clientY > innerBox.bottom ? 1 : 0;\n      self.moveTo(self.pos + where * self.screen);\n    });\n\n    function onWheel(e) {\n      var moved = CodeMirror.wheelEventPixels(e)[self.orientation == \"horizontal\" ? \"x\" : \"y\"];\n      var oldPos = self.pos;\n      self.moveTo(self.pos + moved);\n      if (self.pos != oldPos) CodeMirror.e_preventDefault(e);\n    }\n    CodeMirror.on(this.node, \"mousewheel\", onWheel);\n    CodeMirror.on(this.node, \"DOMMouseScroll\", onWheel);\n  }\n\n  Bar.prototype.moveTo = function(pos, update) {\n    if (pos < 0) pos = 0;\n    if (pos > this.total - this.screen) pos = this.total - this.screen;\n    if (pos == this.pos) return;\n    this.pos = pos;\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      (pos * (this.size / this.total)) + \"px\";\n    if (update !== false) this.scroll(pos, this.orientation);\n  };\n\n  var minButtonSize = 10;\n\n  Bar.prototype.update = function(scrollSize, clientSize, barSize) {\n    this.screen = clientSize;\n    this.total = scrollSize;\n    this.size = barSize;\n\n    var buttonSize = this.screen * (this.size / this.total);\n    if (buttonSize < minButtonSize) {\n      this.size -= minButtonSize - buttonSize;\n      buttonSize = minButtonSize;\n    }\n    this.inner.style[this.orientation == \"horizontal\" ? \"width\" : \"height\"] =\n      buttonSize + \"px\";\n    this.inner.style[this.orientation == \"horizontal\" ? \"left\" : \"top\"] =\n      this.pos * (this.size / this.total) + \"px\";\n  };\n\n  function SimpleScrollbars(cls, place, scroll) {\n    this.addClass = cls;\n    this.horiz = new Bar(cls, \"horizontal\", scroll);\n    place(this.horiz.node);\n    this.vert = new Bar(cls, \"vertical\", scroll);\n    place(this.vert.node);\n    this.width = null;\n  }\n\n  SimpleScrollbars.prototype.update = function(measure) {\n    if (this.width == null) {\n      var style = window.getComputedStyle ? window.getComputedStyle(this.horiz.node) : this.horiz.node.currentStyle;\n      if (style) this.width = parseInt(style.height);\n    }\n    var width = this.width || 0;\n\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    this.vert.node.style.display = needsV ? \"block\" : \"none\";\n    this.horiz.node.style.display = needsH ? \"block\" : \"none\";\n\n    if (needsV) {\n      this.vert.update(measure.scrollHeight, measure.clientHeight,\n                       measure.viewHeight - (needsH ? width : 0));\n      this.vert.node.style.display = \"block\";\n      this.vert.node.style.bottom = needsH ? width + \"px\" : \"0\";\n    }\n    if (needsH) {\n      this.horiz.update(measure.scrollWidth, measure.clientWidth,\n                        measure.viewWidth - (needsV ? width : 0) - measure.barLeft);\n      this.horiz.node.style.right = needsV ? width + \"px\" : \"0\";\n      this.horiz.node.style.left = measure.barLeft + \"px\";\n    }\n\n    return {right: needsV ? width : 0, bottom: needsH ? width : 0};\n  };\n\n  SimpleScrollbars.prototype.setScrollTop = function(pos) {\n    this.vert.moveTo(pos, false);\n  };\n\n  SimpleScrollbars.prototype.setScrollLeft = function(pos) {\n    this.horiz.moveTo(pos, false);\n  };\n\n  SimpleScrollbars.prototype.clear = function() {\n    var parent = this.horiz.node.parentNode;\n    parent.removeChild(this.horiz.node);\n    parent.removeChild(this.vert.node);\n  };\n\n  CodeMirror.scrollbarModel.simple = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-simplescroll\", place, scroll);\n  };\n  CodeMirror.scrollbarModel.overlay = function(place, scroll) {\n    return new SimpleScrollbars(\"CodeMirror-overlayscroll\", place, scroll);\n  };\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/codemirror/addon/scroll/simplescrollbars.js\n **/","/**\n * Created by Doma on 2016/11/7.\n */\nimport Paxer from './Paxer'\nimport SemanticAnalyzer from './Semantic'\nimport Benchmark from './Benchmark'\nimport store from '../store/index'\nimport bus from '../helpers/EventBus'\n\nfunction Processor() {\n  var self = this;\n  var paxer = self.paxer = Paxer.new();\n  var semantic = self.semantic = new SemanticAnalyzer();\n\n  self.compilee = () => {\n  }\n\n  self.compile = function (file) {\n    self.compilee(file);\n    if (file) {\n      Cache.st = {};\n      store.commit('updateStateSymbolTable', {\n        symbols: []\n      })\n      bus.$emit('sys:console.log', 'Compile \\'' + file.fileName + '\\'...')\n      self.paxer.setInput(file.content);\n    }\n  };\n\n  self.preprocesscode = function (code) {\n    var processed;\n    var findOperatorReg = /(\\+|\\-|\\*|\\/|!=|>=?|<=?|==?)/g,\n      findDelimiterReg = /(\\(|\\)|\\{|}|;|,|\\$)/g;\n    code = code.replace(/\\n/g, \" \")\n        .replace(findOperatorReg, \" $1 \")\n        .replace(findDelimiterReg, \" $1 \")\n        .replace(/[ ]+/g, \" \")\n        .replace(/(else|then)\\s+\\{/g, \"$1{\")\n        .replace(/}\\s+(else)/, \"}$1\")\n        .trim() + \" \";\n    processed = code.replace(/(then|else|then\\{|else\\{|}else\\{|\\{|}|;)\\s/g, \"$1\\n\")\n      .replace(/\\s+(,|;|\\))/g, \"$1\")\n      .replace(/\\(\\s+/g, \"(\")\n      .replace(/(then|else)\\{/g, \"$1 {\")\n      .replace(/}(else)/, \"} $1\");\n    // .replace(/([^\\n]+)(?=else)/g, \"$1\\n\");\n    return processed;\n  };\n\n  self.compileNext = function () {\n    var status = paxer.getStatus();\n    if (status == 'DONE' || status == 'ERROR') {\n      return;\n    }\n    paxer.go();\n    switch (status = paxer.getStatus()) {\n      case \"DONE\":\n        semantic.eat(paxer.getRootS(), paxer.getSymbolTable());\n        bus.$emit('sys:console.success', paxer.getCurMovementF());\n        bus.$emit('sys:console.success', 'code parsed.');\n        bus.$emit('sys:console.warn', paxer.getWarningMsg());\n        bus.$emit('sys:console.error', semantic.getErrorMsg());\n        // parseTree.assembly.show(semantic.getAssembly());\n        bus.$emit('sys:parse-tree.assembly', semantic.getAssembly())\n\n        return;\n      case \"ERROR\":\n        bus.$emit('sys:console.error', paxer.getErrMsg());\n        return;\n      case \"WARNING\":\n      case \"NORMAL\":\n        bus.$emit('sys:console.success', paxer.getCurMovementF());\n        bus.$emit('sys:parse-tree.render', paxer.getSequentialNodes())\n        // parseTree.pen.setSource(paxer.getSequentialNodes());\n        // parseTree.pen.render();\n    }\n    store.commit('updateStateSymbolTable', {\n      symbols: paxer.getSymbolTable()\n    })\n    return status;\n  };\n  self.compileFF = function () {\n    var status = paxer.getStatus();\n    if (status == \"DONE\") {\n      bus.$emit('sys:console.success', 'code parsed.');\n    } else if (paxer.getStatus() == \"ERROR\") {\n      bus.$emit('sys:console.error', paxer.getErrMsg());\n    } else {\n      Benchmark.mark(\"parse\");\n      while (paxer.getStatus() != \"DONE\" && paxer.getStatus() != \"ERROR\") {\n        paxer.go();\n      }\n      switch (status = paxer.getStatus()) {\n        case 'DONE':\n          semantic.eat(paxer.getRootS(), paxer.getSymbolTable());\n          var parseTime = Benchmark.measure(\"parse\");\n          // parseTree.assembly.show(semantic.getAssembly());\n          bus.$emit('sys:parse-tree.assembly', semantic.getAssembly())\n\n          bus.$emit('sys:console.success', paxer.getMovementsF());\n          bus.$emit('sys:console.warn', paxer.getWarningMsg());\n          bus.$emit('sys:console.error', semantic.getErrorMsg());\n          bus.$emit('sys:console.success', \"Compile finished in \" + parseTime.toFixed(4) + \" millisecs.\");\n          bus.$emit('sys:console.success', \"Can we make it faster?\");\n          break;\n        case 'ERROR':\n          bus.$emit('sys:console.error', paxer.getErrMsg());\n          break;\n      }\n    }\n\n    store.commit('updateStateSymbolTable', {\n      symbols: paxer.getSymbolTable()\n    })\n    return status;\n  };\n}\nexport default new Processor()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/Processor.js\n **/","/**\n * Created by Doma on 2016/10/12.\n */\nlet fakeStorage\nexport default (storage) => {\n  var testKey = \"test\";\n\n  try {\n    storage.setItem(testKey, \"1\");\n    storage.removeItem(testKey);\n    return storage;\n  } catch (error) {\n    if (fakeStorage) {\n      return fakeStorage\n    }\n    storage = (function () {\n      var _data = {};\n\n      return {\n        setItem: function (id, val) {\n          _data[id] = String(val);\n          return _data[id];\n        },\n\n        getItem: function (id) {\n          return _data.hasOwnProperty(id) ? this._data[id] : undefined;\n        },\n\n        removeItem: function (id) {\n          return delete _data[id];\n        },\n\n        clear: function () {\n          _data = {};\n          return _data;\n        }\n      };\n    })();\n    return (fakeStorage = storage)\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/storage.js\n **/","/**\n * Created by Doma on 15/12/8.\n */\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n  {\n    mod(require(\"./codemirror/lib/codemirror\"));\n  } else if (typeof define == \"function\" && define.amd) // AMD\n  {\n    define([\"./codemirror/lib/codemirror\"], mod);\n  } else // Plain browser env\n  {\n    mod(CodeMirror);\n  }\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"console\", function (config, parserConfig) {\n\n    var TOKEN_NAMES = {\n      '+': 'positive',\n      '-': 'negative',\n      ':': 'comment',\n      '@': 'def'\n    };\n\n    return {\n      startState: function () {\n        return {\n          ctx: TOKEN_NAMES[\":\"]\n        };\n      },\n      token: function (stream, state) {\n        var tw_pos = stream.string.search(/[\\t ]+?$/);\n\n        if (!stream.sol() || tw_pos === 0) {\n          stream.skipToEnd();\n          return state.ctx;\n          //return (\"error \" + (\n          //TOKEN_NAMES[stream.string.charAt(0)] || '')).replace(/ $/, '');\n        }\n\n        var token_name = TOKEN_NAMES[stream.peek()] || stream.skipToEnd();\n\n        if (tw_pos === -1) {\n          stream.skipToEnd();\n        } else {\n          stream.pos = tw_pos;\n        }\n\n        var type = state.ctx = token_name || state.ctx;\n        return type;\n      }\n    };\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/console.js\n **/","/**\n * Created by Doma on 2016/10/20.\n */\nimport Vue from 'vue'\nfunction EditorTab(file) {\n  return new Vue({\n    data: {\n      file: file,\n      cachedContent: file.content,\n      cursorPosition: {\n        line: 0,\n        ch: 0\n      },\n      history: {\n        done: [],\n        undone: []\n      }\n    },\n    computed: {\n      unsaved() {\n        return this.cachedContent != this.file.content\n      }\n    }\n  })\n}\n\nexport default EditorTab\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/EditorTab.js\n **/","/**\n * Created by Doma on 2016/10/19.\n */\nimport Vue from 'vue'\n\nfunction $defined(v) {\n  return v !== undefined\n}\nfunction File(name, content, isNew) {\n  return new Vue({\n    data: {\n      isNew: $defined(isNew) ? isNew : true,\n      name: $defined(name) ? name.replace(/(\\.toy)$/, \"\") : \"untitled\",\n      content: content || \"\"\n    },\n    computed: {\n      fileName() {\n        return this.isNew ? this.name : this.name + \".toy\"\n      }\n    },\n    methods: {\n      serialize() {\n        return JSON.stringify({\n          name: this.name,\n          content: this.content\n        })\n      }\n    }\n  })\n}\n\nFile.example = function () {\n  return new File(\"example\",\n    \"{\\n\" +\n    \"    int a;\\n\" +\n    \"    real b;\\n\" +\n    \"    a = 1;\\n\" +\n    \"    b = 2.0;\\n\" +\n    \"    if (a > b) then {\\n\" +\n    \"        b = a;\\n\" +\n    \"    } else {\\n\" +\n    \"        b = b - a;\\n\" +\n    \"    }\\n\" +\n    \"}\", false);\n};\nexport default File\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/models/File.js\n **/","/**\n * Created by Doma on 2016/10/12.\n */\nimport Vue from \"vue\"\nimport Vuex from \"vuex\"\n\nVue.use(Vuex)\n\nimport fileManager from './modules/fileManager'\nimport editor from './modules/editor'\n\nexport default new Vuex.Store({\n  modules: {\n    fileManager,\n    editor\n  },\n  state: {\n    ui: {\n      mode: 'edit'\n    },\n    about: {\n      show: false\n    },\n    console: {\n      open: false,\n      height: 0\n    },\n    workspace: {\n      open: true,\n      width: 200\n    },\n    symbolTable: {\n      open: false,\n      width: 300,\n      symbols: []\n    },\n    parseTree: {\n      open: false,\n      width: 300\n    },\n    renameDialog: {\n      show: false,\n      name: '',\n      renaming: null\n    }\n  },\n  mutations: {\n    updateState(state, payload) {\n      let obj = state[payload.key]\n      if (obj) {\n        Object.keys(obj).forEach(key => {\n          if (payload.hasOwnProperty(key)) {\n            obj[key] = payload[key]\n          }\n        })\n      }\n    },\n    updateStateAbout(state, payload) {\n      Object.keys(state.about).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.about[key] = payload[key]\n        }\n      })\n    },\n    updateStateConsole(state, payload) {\n      Object.keys(state.console).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.console[key] = payload[key]\n        }\n      })\n    },\n    updateStateWorkspace(state, payload) {\n      Object.keys(state.workspace).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.workspace[key] = payload[key]\n        }\n      })\n    },\n    updateStateSymbolTable(state, payload) {\n      Object.keys(state.symbolTable).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.symbolTable[key] = payload[key]\n        }\n      })\n    },\n    updateStateParseTree(state, payload) {\n      Object.keys(state.parseTree).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.parseTree[key] = payload[key]\n        }\n      })\n    },\n    updateStateUI(state, payload) {\n      Object.keys(state.ui).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.ui[key] = payload[key]\n        }\n      })\n    },\n    updateStateRenameDialog(state, payload) {\n      Object.keys(state.renameDialog).forEach(key => {\n        if (payload.hasOwnProperty(key)) {\n          state.renameDialog[key] = payload[key]\n        }\n      })\n    }\n  },\n  actions: {}\n})\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store/index.js\n **/","<template>\n  <div id=\"app\" @contextmenu.prevent>\n    <div id=\"about-mask\" v-show=\"about.show\">\n      <div class=\"mask-backdrop\" @click=\"hideAbout\"></div>\n      <div class=\"dialog\" id=\"about-dialog\">\n        <div class=\"dialog-banner\">\n          <h1><span class=\"glyphicon glyphicon-console\"></span> Compiler</h1>\n          <p>Presented by <a href=\"https://github.com/SevenOutman\" target=\"_blank\">SevenOutman</a>. Compiler implemented\n            by <a href=\"https://github.com/ExinCoda\" target=\"_blank\">ExinCoda</a>.</p>\n        </div>\n      </div>\n    </div>\n    <!--ko with: editor.renameDialog-->\n    <div id=\"dialog-mask\" v-show=\"renameDialog.show\">\n      <div class=\"dialog\" id=\"rename-dialog\">\n        <p>New name:</p>\n        <input type=\"text\" id=\"filename\" v-model=\"renameDialog.name\">\n        <p>File type: .toy</p>\n        <div class=\"dialog-btn-group\">\n          <button class=\"dialog-btn\" id=\"rename-cancel\" @click=\"onRenameCancel\">Cancel</button>\n          <button class=\"dialog-btn\" id=\"rename-confirm\" @click=\"onRenameConfirm\">Confirm</button>\n        </div>\n      </div>\n    </div><!--/ko-->\n    <tool-bar></tool-bar>\n    <layout></layout>\n    <div id=\"footer\">\n      <div class=\"footer-text footer-btn\" v-if=\"ui.mode != 'compile'\" :class=\"{ active: workspace.open }\"\n           @click=\"toggleWorkspace\">Workspace\n      </div>\n      <div class=\"footer-text footer-btn\" :class=\"{ active: console.open }\" @click=\"toggleConsole\">Output\n      </div>\n      <div class=\"footer-text footer-btn\" v-if=\"ui.mode == 'compile'\" :class=\"{ active: parseTree.open }\"\n           @click=\"toggleParseTree\">Syntax Tree\n      </div>\n      <div class=\"footer-text footer-btn\" v-if=\"ui.mode == 'compile'\" :class=\"{ active: symbolTable.open }\"\n           @click=\"toggleSymbolTable\">Symbol Table\n      </div>\n      <div class=\"footer-text\" id=\"cursor-position\" v-if=\"currentCursorPos\">{{ currentCursorPos.line + 1 }}:{{\n        currentCursorPos.ch + 1 }}\n      </div>\n\n      <div class=\"footer-text footer-btn\" style=\"float: right;margin: 0 1px 0 0;\" :class=\"{ active: about.show }\"\n           @click=\"toggleAbout\">About\n      </div>\n    </div>\n  </div>\n</template>\n\n<script type=\"text/babel\">\n  import ToolBar from './components/ToolBar.vue'\n  import Layout from './components/Layout.vue'\n\n  import {mapState, mapMutations, mapGetters, mapActions} from 'vuex'\n  import bus from './helpers/EventBus'\n\n  export default {\n    components: {\n      ToolBar,\n      Layout,\n    },\n    computed: {\n      ...mapState([\n        'about',\n        'console',\n        'workspace',\n        'symbolTable',\n        'parseTree',\n        'ui',\n        'renameDialog',\n        'fileManager'\n      ]),\n      ...mapGetters([\n        'currentCursorPos',\n        'editorNeedSave'\n      ])\n    },\n    methods: {\n      ...mapMutations([\n        'updateStateAbout',\n        'updateStateConsole',\n        'updateStateWorkspace',\n        'updateStateSymbolTable',\n        'updateStateParseTree',\n        'updateStateUI',\n        'updateStateRenameDialog'\n      ]),\n      ...mapActions([\n        'saveFilesToStorage',\n        'cacheFile'\n      ]),\n      hideAbout() {\n        this.updateStateAbout({\n          show: false\n        })\n      },\n      toggleAbout() {\n        this.updateStateAbout({\n          show: !this.about.show\n        })\n      },\n      toggleConsole() {\n        this.updateStateConsole({\n          open: !this.console.open\n        })\n      },\n      toggleWorkspace() {\n        this.updateStateWorkspace({\n          open: !this.workspace.open\n        })\n      },\n      toggleSymbolTable() {\n        this.updateStateSymbolTable({\n          open: !this.symbolTable.open\n        })\n      },\n      toggleParseTree() {\n        this.updateStateParseTree({\n          open: !this.parseTree.open\n        })\n      },\n      compileMode(compile) {\n        if (compile) {\n\n          this.updateStateUI({\n            mode: 'compile'\n          })\n\n          this.updateStateWorkspace({\n            open: false\n          })\n          this.updateStateSymbolTable({\n            open: true\n          })\n          this.updateStateParseTree({\n            open: true\n          })\n\n          this.updateStateConsole({\n            open: true\n          })\n\n          this.$nextTick(() => {\n            bus.$emit('sys:parse-tree.reset')\n            bus.$emit('sys:parse-tree.resize')\n            bus.$emit('sys:console.clear')\n\n          })\n\n        } else {\n          this.updateStateUI({\n            mode: 'edit'\n          })\n          this.updateStateWorkspace({\n            open: true\n          })\n          this.updateStateSymbolTable({\n            open: false\n          })\n\n          this.updateStateParseTree({\n            open: false\n          })\n        }\n      },\n      renameFile(file) {\n        this.updateStateRenameDialog({\n          show: true,\n          renaming: file,\n          name: file.name\n        })\n      },\n      onRenameConfirm() {\n        let name = this.renameDialog.name.replace(/(\\.toy)+$/, '')\n        if (this.fileManager.fileMap[name + '.toy']) {\n          if (!confirm(\"File '\" + name + \".toy' already exists. Want to overwrite?\")) {\n            return\n          }\n        }\n        this.renameDialog.renaming.name = name\n        this.renameDialog.renaming.isNew = false\n        this.cacheFile(this.renameDialog.renaming)\n        this.saveFilesToStorage()\n        bus.$emit('sys:rename.confirm', this.renameDialog.renaming)\n        this.updateStateRenameDialog({\n          show: false,\n          renaming: null,\n          name: ''\n        })\n      },\n      onRenameCancel() {\n        bus.$emit('sys:rename.cancel', this.renameDialog.renaming)\n        this.updateStateRenameDialog({\n          show: false,\n          renaming: null,\n          name: ''\n        })\n      }\n    },\n    created() {\n      bus.$on('sys:compile', this.compileMode)\n      bus.$on('sys:rename', this.renameFile)\n      window.onbeforeunload = () => {\n        if (this.editorNeedSave) {\n          return \"\"\n        }\n      }\n      window.onunload = function () {\n        bus.$emit('sys:editor.save')\n        this.saveFilesToStorage()\n      }\n    },\n    mounted() {\n      bus.$emit('sys:console.log', \"Compiler lauched at \" + new Date().toTimeString())\n    }\n  }\n</script>\n\n<style lang=\"less\" rel=\"stylesheet/less\">\n  @import \"./style/bootstrap.extract.css\";\n  @import \"./style/glyphicon.extract.css\";\n  @import \"./style/style.css\";\n\n  #app {\n    width: 100%;\n    height: 100%;\n\n    #about-mask {\n      .mask-backdrop {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        left: 0;\n        top: 0;\n        background: rgba(0, 0, 0, .4);\n        z-index: 1050;\n      }\n\n      #about-dialog {\n        position: fixed;\n        width: 600px;\n        height: auto;\n        top: 50%;\n        left: 50%;\n        transform: translate3d(-50%, -50%, 0);\n        margin: 0 auto;\n        max-width: 80%;\n        background: rgb(60, 63, 65);\n        color: rgb(187, 187, 187);\n        border-radius: 3px;\n        font-size: 13px;\n        overflow: hidden;\n        box-shadow: 0 0 10px 0 rgba(0, 0, 0, .3);\n        z-index: 5000;\n\n        .dialog-banner {\n          width: 100%;\n          height: 200px;\n          background: #FEDD31;\n          color: #000000;\n          text-align: center;\n          padding: 40px;\n        }\n\n      }\n    }\n    #footer {\n      .footer-text {\n        &.footer-btn {\n          padding: 5px 1em;\n          margin: 0 0 0 1px;\n          &.active {\n            background-color: #2c2e2f;\n          }\n          &:not(.active):hover {\n            background-color: #353739;\n          }\n        }\n      }\n    }\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?3032b598\n **/","<template>\n  <!--ko with: console-->\n  <div class=\"bottom-box resizable\" :style=\"{ height: height + 'px' }\" @click=\"$emit('click')\">\n    <!--<div class=\"resizer horizontal\"></div>-->\n    <resizer type=\"horizontal\" @resizer:begin=\"onResizeBegin\" @resizer:resize=\"onResize\"></resizer>\n    <div class=\"box-header\">\n      <div class=\"box-title\">Output</div>\n      <span class=\"box-caret glyphicon glyphicon-menu-down\" @click=\"$emit('console:close')\"></span>\n    </div>\n    <div class=\"console-container\">\n      <div class=\"console-seal\"></div>\n      <textarea id=\"console\" ref=\"textarea\"></textarea></div>\n  </div>\n  <!--/ko-->\n</template>\n<script>\n  import Resizer from './Resizer.vue'\n  import {mapState} from 'vuex'\n  import bus from '../helpers/EventBus'\n\n\n  import CodeMirror from '../libs/codemirror/lib/codemirror'\n  require('../libs/codemirror/addon/scroll/simplescrollbars.js')\n  require('../libs/console.js')\n\n  function _preoutput(addon, para) {\n    return addon + para.replace(/\\s*\\n/g, \"\\n  \") + \"\\n\";\n  }\n\n  function _lastNLines(str, n) {\n    return str.split(\"\\n\").slice(-n).join(\"\\n\");\n  }\n\n  export default {\n    components: {\n      Resizer\n    },\n    props: {\n      height: {\n        type: Number,\n        twoWay: true\n      }\n    },\n    data() {\n      return {\n        cm: null,\n        oldHeight: 0\n      }\n    },\n    computed: mapState(\n      [\n        'console'\n      ]\n    ),\n    watch: {\n      'console.open'(val) {\n        if (val) {\n          this.cm && this.cm.focus()\n        }\n      }\n    },\n    methods: {\n      onResizeBegin() {\n        this.oldHeight = this.height\n      },\n      onResize(delta) {\n        this.$emit('console:resize', this.oldHeight - delta)\n      },\n      outputWithAddon(addon, str) {\n        if (str) {\n          if (this.cm) {\n            if (str instanceof Object) {\n              str = str.toString();\n            }\n            this.cm.setValue(_lastNLines(this.cm.getValue() + _preoutput(addon, str), 1000));\n          } else {\n            window.console.log(str);\n          }\n        }\n      },\n      log(str) {\n        if (this.cm) {\n          this.cm.setValue(_lastNLines(this.cm.getValue() + _preoutput(\": \", str), 1000));\n        } else {\n          window.console.log(str);\n        }\n      },\n      error(str) {\n        this.outputWithAddon(\"- \", str);\n      },\n      success(str) {\n        this.outputWithAddon(\"+ \", str);\n      },\n      warn(str) {\n        this.outputWithAddon(\"@ \", str);\n      },\n      clear() {\n        this.cm.setValue(\"\");\n      }\n    },\n    created() {\n      bus.$on('sys:console.log', this.log)\n        .$on('sys:console.error', this.error)\n        .$on('sys:console.success', this.success)\n        .$on('sys:console.warn', this.warn)\n        .$on('sys:console.clear', this.clear)\n    },\n    mounted() {\n      let cm = this.cm = CodeMirror.fromTextArea(this.$refs.textarea, {\n        theme: \"monokai-so\",\n        mode: \"console\",\n        readOnly: \"nocursor\",\n        scrollbarStyle: \"overlay\",\n        viewportMargin: Infinity\n      });\n\n      cm.on(\"change\", (cm) => {\n        cm.scrollIntoView(cm.doc.lastLine(), 1);\n      });\n    }\n  }\n</script>\n<style>\n  @import '../libs/codemirror/lib/codemirror.css';\n  @import '../libs/monokai-so.css';\n  @import '../libs/codemirror/addon/scroll/simplescrollbars.css';\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** Console.vue?78e35a6d\n **/","<template>\n  <div class=\"editor-box\" @click=\"$emit('click')\">\n    <div class=\"editor-placeholder\" v-show=\"!editorState.tabs.length\">\n      Choose a file from workspace or <a id=\"cover-open\" @click=\"openNewFile\">create a new file</a>\n    </div>\n    <div class=\"tab-bar\">\n      <div class=\"tab-bar-cover\" v-if=\"editorState.compilee\"><span id=\"compiling-filename\">{{ editorState.compilee.fileName}}</span>\n      </div>\n      <button class=\"tab-new\" @click=\"openNewFile\">&plus;</button>\n      <div class=\"tab-row\">\n        <div class=\"tab-group\">\n          <div class=\"tab-cell\" v-for=\"tab of editorState.tabs\" :class=\"{ active: currentTab == tab }\"\n               @click=\"switchTab(tab)\">\n            <a>\n              <span>{{ tab.file.fileName }}</span>\n              <span class=\"tab-dismiss\" @click.stop=\"closeTab(tab)\">&times;</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"editor-container\">\n      <textarea id=\"editor\" ref=\"textarea\"></textarea>\n    </div>\n  </div>\n</template>\n<script>\n  import File from '../models/File'\n  import EditorTab from '../models/EditorTab'\n  import bus from '../helpers/EventBus'\n\n  import {set} from 'vue'\n\n  import CodeMirror from '../libs/codemirror/lib/codemirror'\n  require('../libs/codemirror/addon/scroll/simplescrollbars.js')\n  require('../libs/toy.js')\n\n  import {mapState, mapGetters, mapActions, mapMutations} from 'vuex'\n\n  import Processor from '../helpers/Processor'\n  import getStorage from '../helpers/storage'\n  const Storage = getStorage(window.localStorage)\n\n  export default {\n    data() {\n      return {\n        cm: null\n      }\n    },\n    computed: {\n      ...mapState({\n        'editorState': 'editor',\n\n        'fileManager': 'fileManager'\n      }),\n      ...mapGetters([\n        'unsavedTabs'\n      ]),\n      tabs() {\n        return this.editorState.tabs\n      },\n      currentTab() {\n        return this.editorState.currentTab\n      }\n    },\n    methods: {\n      ...mapActions([\n        'openFile',\n        'closeTab',\n        'switchTab',\n        'saveFilesToStorage',\n      ]),\n      ...mapMutations([\n        'setCompilee',\n        'updateStateUI'\n      ]),\n      openNewFile() {\n        let newFile = new File()\n        if (newFile) {\n          bus.$emit('sys:rename', newFile)\n          bus.$on('sys:rename.confirm', () => {\n            this.openFile(newFile)\n            bus.$off('sys:rename.confirm')\n          })\n        }\n      },\n      saveAllTabs () {\n        this.unsavedTabs.forEach(tab => {\n          tab.file.content = tab.cachedContent\n        })\n        this.saveFilesToStorage()\n\n        let openedFiles = [];\n        this.editorState.tabs.forEach(tab => {\n          openedFiles.push(tab.file.fileName)\n          if (tab == this.currentTab) {\n            Storage.setItem(\"last-editing\", tab.file.fileName)\n          }\n        })\n        Storage.setItem(\"opened-files\", JSON.stringify(openedFiles));\n      },\n      formatCode() {\n        let code = this.cm.getValue()\n        this.cm.setValue(Processor.preprocesscode(code));\n        for (let i = 0; i < this.cm.doc.lastLine(); i++) {\n          this.cm.indentLine(i, \"smart\");\n        }\n        this.cm.focus();\n      },\n      compile() {\n        let tab = this.currentTab\n        if (tab) {\n          this.saveAllTabs()\n          let file = tab.file\n          if (file.isNew) {\n            return\n          }\n          this.lock()\n          this.setCompilee(file)\n          bus.$emit('sys:compile', true)\n          Processor.compile(file)\n        }\n      },\n      stop() {\n        this.unlock()\n        this.setCompilee(null)\n        bus.$emit('sys:compile', false)\n      },\n      lock () {\n        this.cm.setOption(\"readOnly\", \"nocursor\")\n      },\n      unlock () {\n        this.cm.setOption(\"readOnly\", false)\n      },\n      loadOpenedFiles() {\n        let openedFiles = JSON.parse(Storage.getItem(\"opened-files\") || \"[]\"),\n          lastEditing = Storage.getItem(\"last-editing\");\n        openedFiles.push(lastEditing);\n        openedFiles.forEach(opened => {\n          let file = this.fileManager.fileMap[opened]\n          if (file) {\n            this.openFile(file)\n          }\n        })\n      }\n    },\n    watch: {\n      'editorState.currentTab'(newTab, oldTab) {\n        if (oldTab) {\n          oldTab.cursorPosition = this.cm.doc.getCursor()\n          oldTab.history = this.cm.doc.getHistory()\n          oldTab.cachedContent = this.cm.getValue()\n        }\n        if (newTab) {\n          this.cm.setValue(newTab.cachedContent) // fixme this triggers cursorActivity\n          this.cm.doc.setHistory(newTab.history)\n          this.cm.doc.setCursor(newTab.cursorPosition)\n          this.cm.focus()\n        }\n      }\n    },\n    created() {\n      bus.$on('sys:editor.open', this.openFile)\n      bus.$on('sys:editor.save', this.saveAllTabs)\n      bus.$on('sys:editor.tidy', this.formatCode)\n      bus.$on('sys:editor.compile', this.compile)\n      bus.$on('sys:editor.stop', this.stop)\n      this.loadOpenedFiles()\n    },\n    mounted() {\n      let cm = this.cm = CodeMirror.fromTextArea(this.$refs.textarea, {\n        lineNumbers: true,\n        mode: \"toy\",\n        indentUnit: 4,\n        theme: \"monokai-so\",\n        autoCloseBrackets: true,\n        matchBrackets: true,\n        styleActiveLine: true,\n        showCursorWhenSelecting: true,\n        scrollbarStyle: \"overlay\",\n        selectionPointer: true,\n        styleSelectedText: true\n      })\n      cm.on(\"change\", (cm, change) => {\n        if (this.currentTab) {\n          this.currentTab.cachedContent = cm.getValue()\n        }\n      });\n\n      CodeMirror.commands.save = () => {\n        this.saveAllTabs()\n      };\n\n      cm.on(\"cursorActivity\", (cm) => {\n        if (this.currentTab) {\n          this.currentTab.cursorPosition = cm.doc.getCursor()\n        }\n      });\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** Editor.vue?3c8adaba\n **/","<template>\n  <div id=\"main\" class=\"layout\">\n    <div class=\"upper-box\" :style=\"upperStyleObj\">\n      <div class=\"center-box\">\n        <!--  -->\n        <div class=\"center-box-inner\" :style=\"centerStyleObj\">\n          <parse-tree v-show=\"parseTree.open\" :width=\"parseTreeWidth\"\n                      @parse-tree:resize=\"onParseTreeResize\" @parse-tree:close=\"onParseTreeClose\"\n                      :class=\"{ 'active-box': currentActiveBox == 'parseTree' }\"\n                      @click=\"currentActiveBox = 'parseTree'\"></parse-tree>\n          <editor :style=\"{ width: editorWidth + 'px' }\"\n                  @click=\"currentActiveBox = 'editor'\"></editor>\n        </div>\n      </div>\n      <workspace v-show=\"workspace.open\" :width=\"workspaceWidth\" :style=\"leftStyleObj\"\n                 @workspace:resize=\"onWorkspaceResize\" @workspace:close=\"onWorkspaceClose\"\n                 :class=\"{ 'active-box': currentActiveBox == 'workspace' }\"\n                 @click=\"currentActiveBox = 'workspace'\"></workspace>\n\n      <symbol-table v-show=\"symbolTable.open\" :width=\"symbolTableWidth\" :style=\"rightStyleObj\"\n                    @symbol-table:resize=\"onSymbolTableResize\" @symbol-table:close=\"onSymbolTableClose\"\n                    :class=\"{ 'active-box': currentActiveBox == 'symbolTable' }\"\n                    @click=\"currentActiveBox = 'symbolTable'\"></symbol-table>\n    </div>\n    <console v-show=\"console.open\" :height=\"consoleHeight\"\n             @console:close=\"onConsoleClose\" @console:resize=\"onConsoleResize\"\n             :class=\"{ 'active-box': currentActiveBox == 'console' }\"\n             @click=\"currentActiveBox = 'console'\"></console>\n  </div>\n</template>\n<script>\n  import Workspace from './Workspace.vue'\n  import SymbolTable from './SymbolTable.vue'\n  import ParseTree from './ParseTree.vue'\n  import Editor from './Editor.vue'\n  import Console from './Console.vue'\n\n  import bus from '../helpers/EventBus'\n\n  import {mapState, mapMutations} from 'vuex'\n\n  export default {\n    components: {\n      Workspace,\n      SymbolTable,\n      ParseTree,\n      Editor,\n      Console\n    },\n    data() {\n      return {\n        elHeight: 0,\n        elWidth: 0,\n        storedConsoleHeight: 0,\n        workspaceWidth: 0,\n        symbolTableWidth: 0,\n        currentActiveBox: null\n      }\n    },\n    computed: {\n      ...mapState([\n        'workspace',\n        'console',\n        'symbolTable',\n        'parseTree'\n      ]),\n      consoleHeight() {\n        return this.console.open ? this.console.height : 0\n      },\n      workspaceWidth() {\n        return this.workspace.open ? this.workspace.width : 0\n      },\n      symbolTableWidth() {\n        return this.symbolTable.open ? this.symbolTable.width : 0\n      },\n      parseTreeWidth() {\n        return this.parseTree.open ? this.parseTree.width : 0\n      },\n      upperHeight() {\n        return this.elHeight - this.consoleHeight - 48\n      },\n      editorWidth() {\n        return this.elWidth - this.workspaceWidth - this.symbolTableWidth - this.parseTreeWidth\n      },\n      upperStyleObj() {\n        return {\n          height: this.upperHeight + 'px'\n        }\n      },\n      centerStyleObj() {\n        return {\n          marginLeft: this.workspaceWidth + 'px',\n          marginRight: (this.symbolTableWidth) + 'px'\n        }\n      },\n      leftStyleObj() {\n        return {\n          width: this.workspaceWidth + 'px',\n        }\n      },\n      rightStyleObj() {\n        return {\n          width: this.symbolTableWidth + 'px',\n          marginLeft: (-this.symbolTableWidth) + 'px',\n        }\n      }\n    },\n    methods: {\n      ...mapMutations([\n        'updateStateConsole',\n        'updateStateWorkspace',\n        'updateStateSymbolTable',\n        'updateStateParseTree'\n      ]),\n      onConsoleResize(height) {\n        this.updateStateConsole({\n          height: Math.max(0, Math.min(this.elHeight, height))\n        })\n        if (this.parseTree.open) {\n          bus.$emit('sys:parse-tree.resize')\n        }\n      },\n      onConsoleClose() {\n        this.updateStateConsole({\n          open: false\n        })\n      },\n      onWorkspaceResize(width) {\n        this.updateStateWorkspace({\n          width: Math.max(0, Math.min(this.elWidth - this.symbolTableWidth, width))\n        })\n      },\n      onWorkspaceClose() {\n        this.updateStateWorkspace({\n          open: false\n        })\n      },\n      onSymbolTableResize(width) {\n        this.updateStateSymbolTable({\n          width: Math.max(0, Math.min(this.elWidth - this.workspaceWidth - this.parseTreeWidth, width))\n        })\n      },\n      onSymbolTableClose() {\n        this.updateStateSymbolTable({\n          open: false\n        })\n      },\n      onParseTreeResize(width) {\n        this.updateStateParseTree({\n          width: Math.max(0, Math.min(this.elWidth - this.workspaceWidth - this.symbolTableWidth, width))\n        })\n        bus.$emit('sys:parse-tree.resize')\n      },\n      onParseTreeClose() {\n        this.updateStateParseTree({\n          open: false\n        })\n      },\n    },\n    mounted() {\n      this.elHeight = this.$el.clientHeight\n      this.elWidth = this.$el.clientWidth\n      this.updateStateConsole({\n        height: this.elHeight * 0.3\n      })\n      this.updateStateParseTree({\n        width: this.elWidth - 600\n      })\n    }\n  }\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\">\n\n  #main {\n    position: relative;\n    height: 100%;\n    padding-top: 28px;\n    padding-bottom: 20px;\n  }\n\n  .layout {\n    .active-box {\n      .box-header {\n        background: linear-gradient(#434f60, #414c5b);\n        .box-title {\n          color: #bbbbbb;\n        }\n      }\n      .box-body li.active {\n        background-color: #2f65ca;\n        color: #FFFFFF;\n      }\n\n    }\n    .upper-box {\n      zoom: 1;\n      overflow: hidden;\n\n      .center-box {\n        float: left;\n        width: 100%;\n        margin: 0;\n        .center-box-inner {\n          height: 100%;\n        }\n      }\n      .left-box {\n        float: left;\n        margin-left: -100%;\n        position: relative;\n\n        width: 200px;\n      }\n      .right-box {\n        float: left;\n        position: relative;\n\n        width: 200px;\n        margin-left: -200px;\n      }\n    }\n  }\n\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** Layout.vue?577868f4\n **/","<template>\n  <div class=\"tree-box resizable\" :style=\"{ width: width + 'px' }\" @click=\"$emit('click')\">\n    <resizer type=\"vertical\" @resizer:begin=\"onResizeBegin\" @resizer:resize=\"onResize\"></resizer>\n    <div class=\"box-header\">\n      <div class=\"box-title\">{{ showAssembly ? 'Assembly' : 'Syntax Tree' }}</div>\n      <span class=\"box-caret glyphicon glyphicon-menu-right\" @click=\"$emit('parse-tree:close')\"></span></div>\n    <div class=\"box-body\" v-show=\"!showAssembly\" id=\"tree-pane\" ref=\"boxBody\">\n      <div class=\"placeholder\">Nothing to show</div>\n    </div>\n    <div class=\"box-body\" v-show=\"showAssembly\" id=\"assembly-pane\">\n      <div style=\"float: left;height: 100%;width: 18px;background: rgb(60, 63, 65)\"></div>\n      <textarea id=\"assembly\" ref=\"textarea\"></textarea></div>\n  </div>\n</template>\n<script>\n  import Tree from '../libs/compiler.datav'\n  import bus from '../helpers/EventBus'\n  import Resizer from '../components/Resizer.vue'\n\n  import CodeMirror from '../libs/codemirror/lib/codemirror'\n  require('../libs/codemirror/addon/scroll/simplescrollbars.js')\n  require('../libs/console.js')\n  export default {\n    components: {\n      Resizer\n    },\n    data() {\n      return {\n        oldWidth: 0,\n        pen: null,\n        cm: null,\n        showAssembly: false\n      }\n    },\n    props: {\n      width: Number\n    },\n    methods: {\n      onResizeBegin() {\n        this.oldWidth = this.width\n      },\n      onResize(delta) {\n        this.$emit('parse-tree:resize', this.oldWidth - delta)\n      },\n      resizePen () {\n        this.pen.render({\n          width: this.$refs.boxBody.clientWidth,\n          height: this.$refs.boxBody.clientHeight\n        });\n      },\n      clearPen() {\n        this.pen.canvas.clear();\n      },\n      resetPen() {\n        this.pen.setSource([\n          [\"0\", \"program\", 1, \"\", \"1\", \"0\"],\n        ]);\n      },\n      renderPen(nodes) {\n        this.pen.setSource(nodes)\n        this.pen.render()\n      },\n      assembly(content) {\n          this.cm.setValue(content)\n        this.showAssembly = true\n      }\n    },\n    mounted() {\n      this.pen = new Tree(\"tree-pane\", {\n        radius: 10\n      });\n      bus.$on('sys:parse-tree.render', this.renderPen)\n      bus.$on('sys:parse-tree.resize', this.resizePen)\n      bus.$on('sys:parse-tree.reset', this.resetPen)\n\n      this.cm = CodeMirror.fromTextArea(this.$refs.textarea, {\n        theme: \"monokai-so\",\n        mode: \"console\",\n        readOnly: \"nocursor\",\n        scrollbarStyle: \"overlay\",\n        viewportMargin: Infinity\n      });\n      bus.$on('sys:parse-tree.assembly', this.assembly)\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** ParseTree.vue?4eedf022\n **/","<template>\n  <div class=\"resizer\" :class=\"[type, { resizing: resizing }]\" @mousedown=\"onMouseDown\" @mousemove=\"onMouseMove\" @mouseleave=\"onMouseUp\" @mouseup=\"onMouseUp\"></div>\n</template>\n<script>\n  export default {\n    props: {\n      type: String\n    },\n    data(){\n      return {\n        resizing: false,\n        resizeStart: 0,\n        resizeEnd: 0,\n      }\n    },\n    computed: {\n      resizeDelta() {\n        return this.resizeEnd - this.resizeStart\n      }\n    },\n    methods: {\n      onMouseDown(e) {\n        this.resizing = true\n        this.resizeStart = this.type == 'horizontal' ? e.clientY : e.clientX\n\n        this.$emit('resizer:begin')\n      },\n      onMouseMove(e) {\n        if (this.resizing) {\n          this.resizeEnd = this.type == 'horizontal' ? e.clientY : e.clientX\n          this.$emit('resizer:resize', this.resizeDelta)\n        }\n      },\n      onMouseUp() {\n        this.resizing = false\n        this.$emit('resizer:end')\n      }\n    }\n  }\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\">\n  .resizer {\n    &.resizing {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      bottom: auto;\n      right: auto;\n      z-index: 1051;\n    }\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** Resizer.vue?5e47ddfc\n **/","<template>\n  <!--ko with: symbolTable-->\n  <div class=\"right-box resizable\" :style=\"{ width: width + 'px' }\" @click=\"$emit('click')\">\n    <resizer type=\"vertical\" @resizer:begin=\"onResizeBegin\" @resizer:resize=\"onResize\"></resizer>\n    <div class=\"box-header\">\n      <div class=\"box-title\">Symbol Table</div>\n      <span class=\"box-caret glyphicon glyphicon-menu-right\" @click=\"$emit('symbol-table:close')\"></span>\n    </div>\n    <div class=\"box-body\">\n      <div class=\"placeholder\" v-show=\"symbols.length < 1\">Nothing to show</div>\n      <ul id=\"symbol-list\" class=\"list\">\n        <template v-for=\"symbol of symbols\">\n          <li\n            data-bind=\"attr: {id: attrId}, css: {active: isActive}, event: {click: $parents[0].setActive.bind($data), dblclick: toggle}\">\n                            <span class=\"glyphicon li-caret\"\n                                  data-bind=\"css: {'glyphicon-triangle-right': !isOpen(), 'glyphicon-triangle-bottom': isOpen}, click: toggle\"></span>\n            <span>{{ symbol.name }}</span>\n            <span class=\"extra\" data-bind=\"text: rowText\">type: {{ symbol.type || 'unknown' }}, occurance: {{ symbol.positions.length }}</span>\n          </li><!--ko foreach: positions-->\n          <li class=\"position-row\" v-for=\"(position, $index) of symbol.positions\"\n              data-bind=\"text: rowText, visible: $parents[0].isOpen, css: {active: isActive}, click: $parents[1].setActive.bind($data)\">\n            [{{ $index + 1 }}] line: {{ position.first_row }}, ch: {{ position.first_col }}\n          </li>\n          <!--/ko-->\n        </template>\n      </ul>\n    </div>\n  </div>\n  <!--/ko-->\n</template>\n<script>\n  import Resizer from './Resizer.vue'\n  import {mapState} from 'vuex'\n  export default {\n    components: {\n      Resizer\n    },\n    props: {\n      width: Number\n    },\n    data() {\n      return {\n        oldWidth: 0\n      }\n    },\n    computed: {\n      ...mapState({\n        'symbolTableState': 'symbolTable'\n      }),\n      symbols() {\n        return this.symbolTableState.symbols\n      }\n    },\n    methods: {\n      onResizeBegin() {\n        this.oldWidth = this.width\n      },\n      onResize(delta) {\n        this.$emit('symbol-table:resize', this.oldWidth - delta)\n      }\n    }\n  }\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** SymbolTable.vue?301033ef\n **/","<template>\n  <nav class=\"tool-bar navbar navbar-inverse navbar-fixed-top\" style=\"margin-bottom: 0\">\n    <div class=\"container-fluid\" style=\"padding-right: 15px\">\n      <div class=\"navbar-header\">\n        <div class=\"navbar-brand\">\n          <span class=\"glyphicon glyphicon-console\"></span>\n          Compiler\n        </div>\n      </div>\n      <ul class=\"nav navbar-nav navbar-right\" id=\"editing-btn-group\" v-show=\"ui.mode == 'edit'\"\n          data-bind=\"with: controls\">\n        <li>\n          <button class=\"btn navbar-btn-o\" id=\"btn-save\" :class=\"{ unsaved: editorNeedSave }\" @click=\"save\">\n            <span class=\"glyphicon glyphicon-floppy-disk\"></span> Save\n          </button>\n        </li>\n        <li>\n          <button class=\"btn navbar-btn\" id=\"btn-tidy\" @click=\"tidy\"><span\n            class=\"glyphicon glyphicon-flash\"></span> Tidy\n          </button>\n        </li>\n        <li>\n          <button class=\"btn navbar-btn\" id=\"btn-import\" data-bind=\"click: importFile\"><span\n            class=\"glyphicon glyphicon-import\"></span> Import\n          </button>\n        </li>\n        <li>\n          <button class=\"btn navbar-btn\" id=\"btn-compile\" @click=\"compile\"><span\n            class=\"glyphicon glyphicon-download-alt\"></span> Compile\n          </button>\n        </li>\n      </ul>\n      <ul class=\"nav navbar-nav navbar-right\" id=\"compiling-btn-group\" style=\"margin-right: -15px\"\n          v-show=\"ui.mode == 'compile'\"\n          data-bind=\"with: controls\">\n        <li>\n          <button class=\"btn navbar-btn-o\" id=\"btn-stop\" @click=\"stop\"><span\n            class=\"glyphicon glyphicon-stop\"></span> Stop\n          </button>\n        </li>\n        <li>\n          <button class=\"btn navbar-btn\" id=\"btn-next\" @click=\"next\"><span\n            class=\"glyphicon glyphicon-share-alt\"></span> Next\n          </button>\n        </li>\n        <li>\n          <button class=\"btn navbar-btn\" id=\"btn-ff\" @click=\"ff\"><span\n            class=\"glyphicon glyphicon-fast-forward\"></span> Fast Forward\n          </button>\n        </li>\n      </ul>\n    </div>\n  </nav>\n</template>\n\n<script>\n  import {mapState, mapMutations, mapGetters} from 'vuex'\n  import bus from '../helpers/EventBus'\n  import Processor from '../helpers/Processor'\n  export default {\n    computed: {\n      ...mapState([\n        'ui'\n      ]),\n      ...mapGetters([\n        'editorNeedSave'\n      ])\n    },\n    methods: {\n      ...mapMutations([\n        'updateStateUI'\n      ]),\n      updateUIMode(mode) {\n        this.updateStateUI({\n          mode: mode\n        })\n      },\n      save() {\n        bus.$emit('sys:editor.save')\n      },\n      tidy() {\n        bus.$emit('sys:editor.tidy')\n      },\n      compile() {\n        bus.$emit('sys:editor.compile')\n      },\n      stop() {\n        bus.$emit('sys:editor.stop')\n      },\n      next() {\n        Processor.compileNext()\n      },\n      ff() {\n        Processor.compileFF()\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" rel=\"stylesheet/less\">\n  .tool-bar {\n    height: 28px;\n    min-height: 28px;\n    .navbar-brand {\n      height: 28px;\n      padding: 4px 15px;\n    }\n    .navbar-btn,\n    .navbar-btn-o {\n      margin-top: 3px;\n      margin-bottom: 1px;\n      font-size: 12px;\n      color: rgb(201, 201, 201);\n    }\n\n    .navbar-btn {\n      padding: 3px 12px;\n      margin-right: 1px;\n      border-radius: 0;\n      border-width: 0;\n    }\n    .navbar-btn-o {\n      padding: 1px 12px;\n      border-width: 2px;\n      border-radius: 2px;\n    }\n    #btn-save::after {\n      height: 1px;\n    }\n    #btn-ff, #btn-compile {\n      margin-right: 10px;\n      border-top-right-radius: 2px;\n      border-bottom-right-radius: 2px;\n    }\n    #btn-next, #btn-tidy {\n      border-top-left-radius: 2px;\n      border-bottom-left-radius: 2px;\n    }\n  }\n</style>\n\n\n\n/** WEBPACK FOOTER **\n ** ToolBar.vue?8cfcf9c2\n **/","<template>\n  <div class=\"left-box resizable\" id=\"workspace\" :style=\"{ width: width + 'px' }\" @click=\"$emit('click')\">\n    <resizer type=\"vertical\" @resizer:begin=\"onResizeBegin\" @resizer:resize=\"onResize\"></resizer>\n    <div class=\"box-header\">\n      <div class=\"box-title\">Workspace</div>\n      <span class=\"box-caret glyphicon glyphicon-menu-left\" @click=\"$emit('workspace:close')\"></span></div>\n    <div class=\"box-body\">\n      <div class=\"placeholder\" v-show=\"!files.length\">Nothing to show</div>\n      <ul class=\"list\" id=\"file-list\">\n        <li v-for=\"file of files\" :class=\"{ active: file == selectedFile }\" @click=\"selectedFile = file\" @dblclick=\"openFileInEditor(file)\" data-bind=\"attr: {id: attrId}, css: {active: isActive},\n                        event: {contextmenu: $parents[0].setActive.bind($data)}\">\n          <span class=\"glyphicon glyphicon-file\"></span>\n          <span>{{ file.fileName }}</span>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\n  import Resizer from './Resizer.vue'\n  import {mapGetters} from 'vuex'\n  import bus from '../helpers/EventBus'\n  export default {\n    components: {\n      Resizer\n    },\n    props: {\n      width: Number\n    },\n    data() {\n      return {\n        oldWidth: 0,\n        selectedFile: null\n      }\n    },\n    computed: {\n      ...mapGetters({\n        files: 'fileList'\n      })\n    },\n    methods: {\n      onResizeBegin() {\n        this.oldWidth = this.width\n      },\n      onResize(delta) {\n        this.$emit('workspace:resize', this.oldWidth + delta)\n      },\n      openFileInEditor(file) {\n        bus.$emit('sys:editor.open', file)\n      }\n    }\n  }\n</script>\n<style lang=\"less\" rel=\"stylesheet/less\">\n  #workspace {\n\n  }\n</style>\n\n\n\n\n/** WEBPACK FOOTER **\n ** Workspace.vue?1c1cb15c\n **/","/**\n * Created by Doma on 2016/10/27.\n */\n\nexport const has = (arr, ele) => arr.indexOf(ele) != -1\n\nexport const hasThose = (arr, filterFunc) => arr.filter(filterFunc).length > 0\nexport const remove = (arr, ele) => {\n  let index = arr.indexOf(ele)\n  if (index != -1) {\n    arr.splice(index, 1)\n  }\n}\n\nexport const front = (arr) => arr[0]\n\nexport const rear = arr => {\n  if (arr.length) {\n    return arr[arr.length - 1]\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/ArrayHelper.js\n **/","/**\n * Created by Doma on 15/12/19.\n */\nvar marks = {};\nvar _mark = function (name) {\n    marks[name] = window.performance ? window.performance.now() : (new Date()).getTime();\n  },\n  _measure = function (name) {\n    var now = window.performance ? window.performance.now() : (new Date()).getTime();\n    return now - marks[name];\n  },\n  _test = function (func, repeat, self) {\n    _mark(\"test\");\n    for (var i = 0; i < repeat; i++) {\n      func.apply(self || this, Array.prototype.slice.call(arguments, 3));\n    }\n    var result = _measure(\"test\");\n    _clear(\"test\");\n    return result;\n  },\n  _clear = function (name) {\n    delete marks[name];\n  };\nexport default {\n  mark: _mark,\n  measure: _measure,\n  test: _test,\n  clear: _clear\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/Benchmark.js\n **/","/**\n * Created by Doma on 2016/11/7.\n */\nconst Invalid = undefined\nvar SymbolTable = {\n  new: function () {\n    var symbolTable = {};\n    //var tableD;\n    var tableA, indexA;\n    var count = 0;\n    symbolTable.handle = function (token) {\n      function addSymbol(token) {\n        var symbol = {\n          name:      token.lexeme,\n          type:      undefined,\n          value:     undefined,\n          positions: [token.position]\n        };\n        tableA.push(symbol);\n        indexA[token.lexeme] = count;\n        //tableD[token.lexeme] = symbol;\n        count += 1;\n      }\n      function updateSymbol(token) {\n        //tableD[token.lexeme].positions.push(token.position);\n        tableA[indexA[token.lexeme]].positions.push(token.position);\n      }\n      if (!tableA.hasOwnProperty(indexA[token.lexeme])) {\n        addSymbol(token);\n      } else {\n        updateSymbol(token);\n      }\n    };\n    symbolTable.reset = function () {\n      //tableD = {};\n      tableA = [];\n      indexA = {};\n      count  = 0;\n    };\n    symbolTable.get = function () {\n\n      return tableA.slice();\n    };\n    symbolTable.getD = function () {\n\n      //return tableD;\n    };\n    symbolTable.getLength = function () {\n\n      return count;\n    };\n    return symbolTable;\n  }\n};\nvar Lexer = {\n  new: function () {\n    var rules = [\n      {regExp: /^int$/,                   abstract: 'int',    containValue: 'false'},\n      {regExp: /^real$/,                  abstract: 'real',   containValue: 'false'},\n      {regExp: /^if$/,                    abstract: 'if',     containValue: 'false'},\n      {regExp: /^then$/,                  abstract: 'then',   containValue: 'false'},\n      {regExp: /^else$/,                  abstract: 'else',   containValue: 'false'},\n      {regExp: /^while$/,                 abstract: 'while',  containValue: 'false'},\n      {regExp: /^\\($/,                    abstract: '(',      containValue: 'true'},\n      {regExp: /^\\)$/,                    abstract: ')',      containValue: 'true'},\n      {regExp: /^\\{$/,                    abstract: '{',      containValue: 'true'},\n      {regExp: /^\\}$/,                    abstract: '}',      containValue: 'true'},\n      {regExp: /^,$/,                     abstract: ',',      containValue: 'true'},\n      {regExp: /^;$/,                     abstract: ';',      containValue: 'true'},\n      {regExp: /^\\+$/,                    abstract: '+',      containValue: 'true'},\n      {regExp: /^-$/,                     abstract: '-',      containValue: 'true'},\n      {regExp: /^\\*$/,                    abstract: '*',      containValue: 'true'},\n      {regExp: /^\\/$/,                    abstract: '/',      containValue: 'true'},\n      {regExp: /^[a-zA-Z][a-zA-Z0-9]*$/,  abstract: 'ID',     containValue: 'true'},\n      {regExp: /^<=$/,                    abstract: '<=',     containValue: 'true'},\n      {regExp: /^<$/,                     abstract: '<',      containValue: 'true'},\n      {regExp: /^\\=\\=$/,                  abstract: '==',     containValue: 'true'},\n      {regExp: /^>=$/,                    abstract: '>=',     containValue: 'true'},\n      {regExp: /^>$/,                     abstract: '>',      containValue: 'true'},\n      {regExp: /^!=$/,                    abstract: '!=',     containValue: 'true'},\n      {regExp: /^\\=$/,                    abstract: '=',      containValue: 'true'},\n      {regExp: /^[0-9]*\\.[0-9]+$/,        abstract: 'NUM',    containValue: 'true'},\n      {regExp: /^[0-9]+\\.?$/,             abstract: 'NUM',    containValue: 'true'}\n    ];\n    var Pointer = {\n      new: function () {\n        var pointer = {};\n        var first_row, first_col, last_row, last_col;\n        pointer.reset = function () {\n          first_row = 1;\n          last_row  = 1;\n          first_col = 1;\n          last_col  = 1;\n        };\n        pointer.shift = function (step) {\n\n          last_col += step;\n        };\n        pointer.newLine = function () {\n          last_col = 1;\n          last_row++;\n        };\n        pointer.reduce = function () {\n          first_row = last_row;\n          first_col = last_col;\n        };\n        pointer.get = function () {\n          return {\n            first_row: first_row,\n            last_row:  last_row,\n            first_col: first_col,\n            last_col:  last_col\n          };\n        };\n        return pointer;\n      }\n    };\n    var pointer = Pointer.new();\n    var symbolTable = SymbolTable.new();\n    var lexer = {};\n    var status = ['NORMAL', 'ERROR', 'DONE'];\n    var curStatus;\n    var lexSequence;\n    var errorMsg;\n    var input;\n    var curLexeme;\n    var matched, next, token;\n    var needBlank = false;\n    var lexing = 0;\n    lexer.getErrMsg = function () {\n\n      return errorMsg;\n    };\n    lexer.getStatus = function () {\n\n      return curStatus;\n    };\n    lexer.getSymbolTable = function () {\n\n      return symbolTable.get();\n    };\n    lexer.setInput = function (_input) {\n      lexer.reset();\n      input = _input;\n      curStatus = status[0];\n    };\n    lexer.reset = function () {\n      symbolTable.reset();\n      pointer.reset();\n      errorMsg = \"\";\n      lexSequence = [];\n      curLexeme = \"\";\n      lexing = 0;\n      curStatus = status[2];\n      needBlank = false;\n    };\n    lexer.lexDone = function () {\n\n      return curStatus == status[2];\n    };\n    lexer.lex = function (singleStepping) {\n      function tryMatch (input) {\n        var i;\n        for (i = 0; i < rules.length; i += 1) {\n          if (rules.hasOwnProperty(i)) {\n            if (input.match(rules[i].regExp)) {\n              return {\n                lexeme:       input,\n                abstract:     rules[i].abstract,\n                position:     pointer.get(),\n                containValue: rules[i].containValue\n              };\n            }\n          }\n        }\n        return false;\n      }\n      if (curStatus != status[0]) {\n        return false;\n      }\n      curLexeme = '';\n      while (lexing < input.length) {\n        next = input[lexing];\n        matched = tryMatch(curLexeme + next);\n        if (!matched) {\n          if (tryMatch(curLexeme).abstract == 'NUM' && tryMatch(next).abstract == 'ID') {\n            errorMsg = \"UNDEFINED SYMBOL '\"+curLexeme+next+\"' AT ROW \"+pointer.get().first_row+\", COL \"+pointer.get().first_col;\n            curStatus = status[1];\n            return false;\n          }\n          if (curLexeme=='') {\n            if (next.match(/\\ /) != null)\n              pointer.shift(1);\n            else if (next.match(/\\t/) != null)\n              pointer.shift(4);\n            else if (next.match(/\\n/) != null)\n              pointer.newLine();\n            else {\n              errorMsg = \"UNDEFINED SYMBOL '\"+next+\"' AT ROW \"+pointer.get().first_row+\", COL \"+pointer.get().first_col;\n              curStatus = status[1];\n              return false;\n            }\n          } else {\n            lexing -= 1;\n            token = tryMatch(curLexeme);\n            lexSequence.push(token);\n            if (token.abstract == 'ID')\n              symbolTable.handle(token);\n            if (singleStepping) {\n              pointer.reduce();\n              curLexeme = \"\";\n              lexing += 1;\n              return true;\n            }\n          }\n          pointer.reduce();\n          curLexeme = \"\";\n        } else {\n          curLexeme += next;\n          pointer.shift(1);\n        }\n        lexing += 1;\n      }\n      token = tryMatch(curLexeme);\n      if (token) {\n        lexSequence.push(token);\n        return true;\n      }\n      pointer.reduce();\n      token = {\n        lexeme:    \"$\",\n        abstract:  \"$\",\n        position: pointer.get()\n      };\n      lexSequence.push(token);\n      curStatus = status[2];\n      return true;\n    };\n    lexer.getToken = function () {\n\n      return token;\n    };\n    lexer.getSequence = function () {\n\n      return lexSequence;\n    };\n    lexer.getSequenceByAbstract = function () {\n      var str = \"\";\n      var i;\n      for (i = 0; i < lexSequence.length; i += 1) {\n        str += lexSequence[i].abstract + ' ';\n      }\n      return str;\n    };\n    lexer.getSequenceByLexeme = function () {\n      var str = \"\";\n      var i;\n      for (i = 0; i < lexSequence.length; i += 1) {\n        str += lexSequence[i].lexeme + ' ';\n      }\n      return str;\n    };\n    return lexer;\n  }\n};\nvar Parser = {\n  new: function () {\n    var rules = [\n      {},\n      {interminal: 'program',          product: ['compoundstmt'                                            ]}, //  1\n      {interminal: 'stmt',             product: ['decl'                                                    ]}, //  2\n      {interminal: 'stmt',             product: ['ifstmt'                                                  ]}, //  3\n      {interminal: 'stmt',             product: ['whilestmt'                                               ]}, //  4\n      {interminal: 'stmt',             product: ['assgstmt'                                                ]}, //  5\n      {interminal: 'stmt',             product: ['compoundstmt'                                            ]}, //  6\n      {interminal: 'compoundstmt',     product: ['{', 'stmts', '}'                                         ]}, //  7\n      {interminal: 'stmts',            product: ['stmt', 'stmts'                                           ]}, //  8\n      {interminal: 'stmts',            product: [                                                          ]}, //  9\n      {interminal: 'ifstmt',           product: ['if', '(', 'boolexpr', ')', 'then', 'stmt', 'else', 'stmt']}, //  0\n      {interminal: 'whilestmt',        product: ['while', '(', 'boolexpr', ')', 'stmt'                     ]}, // 11\n      {interminal: 'assgstmt',         product: ['ID', '=', 'arithexpr', ';'                               ]}, // 12\n      {interminal: 'decl',             product: ['type', 'list', ';'                                       ]}, // 13\n      {interminal: 'type',             product: ['int'                                                     ]}, // 14\n      {interminal: 'type',             product: ['real'                                                    ]}, // 15\n      {interminal: 'list',             product: ['ID', 'list1'                                             ]}, // 16\n      {interminal: 'list1',            product: [',', 'list'                                               ]}, // 17\n      {interminal: 'list1',            product: [                                                          ]}, // 18\n      {interminal: 'boolexpr',         product: ['arithexpr', 'boolop', 'arithexpr'                        ]}, // 19\n      {interminal: 'boolop',           product: ['<'                                                       ]}, // 20\n      {interminal: 'boolop',           product: ['>'                                                       ]}, // 21\n      {interminal: 'boolop',           product: ['<='                                                      ]}, // 22\n      {interminal: 'boolop',           product: ['>='                                                      ]}, // 23\n      {interminal: 'boolop',           product: ['=='                                                      ]}, // 24\n      {interminal: 'arithexpr',        product: ['multexpr', 'arithexprprime'                              ]}, // 25\n      {interminal: 'arithexprprime',   product: ['+', 'multexpr', 'arithexprprime'                         ]}, // 26\n      {interminal: 'arithexprprime',   product: ['-', 'multexpr', 'arithexprprime'                         ]}, // 27\n      {interminal: 'arithexprprime',   product: [                                                          ]}, // 28\n      {interminal: 'multexpr',         product: ['simpleexpr', 'multexprprime'                             ]}, // 29\n      {interminal: 'multexprprime',    product: ['*', 'simpleexpr', 'multexprprime'                        ]}, // 30\n      {interminal: 'multexprprime',    product: ['/', 'simpleexpr', 'multexprprime'                        ]}, // 31\n      {interminal: 'multexprprime',    product: [                                                          ]}, // 32\n      {interminal: 'simpleexpr',       product: ['ID'                                                      ]}, // 33\n      {interminal: 'simpleexpr',       product: ['NUM'                                                     ]}, // 34\n      {interminal: 'simpleexpr',       product: ['(', 'arithexpr', ')'                                     ]}  // 35\n    ];\n    var table = {\n      program        : {'{':  1, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      stmt           : {'{':  6, '}':  0, 'if':  3, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  4, 'int':  2, 'real':  2, 'ID':  5, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      compoundstmt   : {'{':  7, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      stmts          : {'{':  8, '}':  9, 'if':  8, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  8, 'int':  8, 'real':  8, 'ID':  8, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      ifstmt         : {'{':  0, '}':  0, 'if': 10, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      whilestmt      : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while': 11, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      assgstmt       : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 12, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      decl           : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int': 13, 'real': 13, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      type           : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int': 14, 'real': 15, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      list           : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 16, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      list1          : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',': 17, ';': 18, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      boolexpr       : {'{':  0, '}':  0, 'if':  0, '(': 19, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 19, 'NUM': 19, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      boolop         : {'{':  0, '}':  0, 'if':  0, '(':  0, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<': 20, '>': 21, '<=': 22, '>=': 23, '==': 24, '$':  0},\n      arithexpr      : {'{':  0, '}':  0, 'if':  0, '(': 25, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 25, 'NUM': 25, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      arithexprprime : {'{':  0, '}':  0, 'if':  0, '(':  0, ')': 28, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';': 28, '+': 26, '-': 27, '*':  0, '/':  0, '=':  0, '<': 28, '>': 28, '<=': 28, '>=': 28, '==': 28, '$':  0},\n      multexpr       : {'{':  0, '}':  0, 'if':  0, '(': 29, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 29, 'NUM': 29, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0},\n      multexprprime  : {'{':  0, '}':  0, 'if':  0, '(':  0, ')': 32, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID':  0, 'NUM':  0, ',':  0, ';': 32, '+': 32, '-': 32, '*': 30, '/': 31, '=':  0, '<': 32, '>': 32, '<=': 32, '>=': 32, '==': 32, '$':  0},\n      simpleexpr     : {'{':  0, '}':  0, 'if':  0, '(': 35, ')':  0, 'then':  0, 'else':  0, 'while':  0, 'int':  0, 'real':  0, 'ID': 33, 'NUM': 34, ',':  0, ';':  0, '+':  0, '-':  0, '*':  0, '/':  0, '=':  0, '<':  0, '>':  0, '<=':  0, '>=':  0, '==':  0, '$':  0}\n    };\n    var Node = {\n      new: function (abstract, fatherNode) {\n        var node = {};\n        var subNodes = [];\n        node.fatherNode = fatherNode;\n        node.abstract = abstract;\n        node.name = Invalid;\n        node.value = Invalid;\n        node.type = Invalid;\n        node.formula = Invalid;\n        node.new = true;\n        node.parsed = false;\n        node.addSubNode = function (sNode) {\n          subNodes.unshift(sNode);\n        };\n        node.getSubNodes = function () {\n          return subNodes.slice();\n        };\n        node.setPosition = function (position) {\n          node.position = position;\n        };\n        node.assign = function (token, formula) {\n          if (token.containValue) {\n            switch (token.abstract) {\n              case 'ID':\n                node.name = token.lexeme;\n                node.type = undefined;\n                node.value = undefined;\n                break;\n              case 'NUM':\n                node.type = undefined;\n                node.value = Number(token.lexeme);\n                break;\n              case 'type':\n                node.value = token.lexeme.toLowerCase();\n                break;\n              default:\n                break;\n            }\n          }\n          node.formula = formula;\n        };\n        node.shiftSubNode = function () {\n          subNodes.shift();\n        };\n        newNodes.push(node);\n        return node;\n      },\n      epsilon: function () {\n        var node      = {};\n        var subNodes  = [];\n        node.abstract = '';\n        node.name     = Invalid;\n        node.value    = Invalid;\n        node.type     = Invalid;\n        node.parsed   = false;\n        node.getSubNodes = function () {\n          return subNodes.slice();\n        }\n        return node;\n      }\n    };\n    var parser = {};\n    var status = ['NORMAL', 'WARNING', 'ERROR', 'DONE'];\n    var curStatus;\n    var movements;\n    var root;\n    var errorMsg;\n    var warningMsgs;\n    var curWarningMsg;\n    var stack, input;\n    var curMovement;\n    var toBuild;\n    var building;\n    var lastPos;\n    var singleSpot;\n    var newNodes = [];\n    var curFormula;\n    var lastStmtsNode;\n    var recovering;\n    var parseErr;\n    var nextT;\n    var next;\n    parser.getStatus = function () {\n\n      return curStatus;\n    };\n    parser.reset = function () {\n      parseErr      = false;\n      stack         = ['$', 'program'];\n      input         = [];\n      movements     = [];\n      errorMsg      = \"\";\n      warningMsgs   = [];\n      curWarningMsg = \"\";\n      newNodes      = [];\n      root          = Node.new('program', Node.new());\n      toBuild       = [root];\n      singleSpot    = 0;\n      curStatus     = status[3];\n      curMovement   = [stack.slice(), input.slice(), {}];\n      recovering    = false;\n    };\n    parser.setInput = function (_input) {\n      parser.reset();\n      input = _input;\n      curStatus = status[0];\n    };\n    parser.pushToken = function (token) {\n      nextT = token;\n      next = nextT.abstract;\n      input.push(token);\n    };\n    parser.parse = function (singleStepping) {\n      function isTerminal(symbol) {\n        var i;\n        for (i = 0; i < rules.length; i += 1) {\n          if (rules[i].interminal == symbol) {\n            return false;\n          }\n        }\n        return true;\n      }\n      function tryParse (stack, input) {\n        var top, next;\n        while(top != '$' && input.length > 0){\n          next = input[0].abstract;\n          top = stack.pop();\n          if (top == next) {\n            input.shift();\n          } else if (isTerminal(top)) {\n            return false;\n          } else if (table[top][next] == 0) {\n            return false;\n          } else if (table[top][next] > 0) {\n            rule = table[top][next];\n            var product = rules[rule].product.slice();\n            while(product.length > 0) {\n              stack.push(product.pop());\n            }\n          }\n        }\n        return input.length == 0;\n      }\n      function cleanNewNodes () {\n        for (var i = 0; i < newNodes.length; i++) {\n          newNodes[i].new = false;\n        }\n        newNodes = [];\n      }\n      if (curStatus != status[0] && curStatus != status[1]) return false;\n\n      curMovement = [stack.slice(), input.slice(), {}];\n      var top = stack.pop(), nextT = input[0], next = nextT.abstract;\n      building = toBuild.pop();\n      while (top != '$' && input.length > 0) {\n        cleanNewNodes();\n        if (top == next && !recovering) {\n          lastPos = nextT.position;\n          building.setPosition(nextT.position);\n          building.parsed = true;\n          building.assign(nextT, curFormula);\n          input.shift();\n        } else if (recovering && top != 'stmts'){\n          curStatus = status[1];\n          curWarningMsg = ['UNEXPECTED', nextT.lexeme, 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col + '.', 'POPPED', 'OUT', '\\'' + top + '\\''].join(' ');\n          curMovement[2] = curWarningMsg;\n          warningMsgs.push(curWarningMsg);\n          building.parsed = true;\n        } else if (recovering && top == 'stmts') {\n          toBuild.push(lastStmtsNode);\n          stack.push('stmts');\n          if (building != lastStmtsNode) {\n            while (lastStmtsNode.getSubNodes().length > 0) {\n              lastStmtsNode.shiftSubNode();\n            }\n          }\n          if (table[top][next] > 0) {\n            recovering = false;\n            curWarningMsg = 'RECOVERY DONE';\n            curMovement[2] = curWarningMsg;\n            warningMsgs.push(curWarningMsg);\n          } else {\n            input.shift();\n            curStatus = status[1];\n            curWarningMsg = 'SKIPPED ' + '\\'' + next + '\\'' + ' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n            curMovement[2] = curWarningMsg;\n            warningMsgs.push(curWarningMsg);\n          }\n        } else if (isTerminal(top)) {\n          recovering = true;\n          curStatus = status[1];\n          curWarningMsg = ['UNEXPECTED', nextT.lexeme, 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col + '.', 'POPPED', 'OUT', '\\'' + top + '\\''].join(' ');\n          curMovement[2] = curWarningMsg;\n          warningMsgs.push(curWarningMsg);\n          building.parsed = true;\n        } else if (table[top][next] == 0) {\n          if (Number(nextT.position.first_row)>Number(lastPos.last_row)) {\n            curStatus = status[1];\n            curWarningMsg = ['EXPECTED', ';', 'AT', 'ROW', lastPos.last_row + ',', 'COL', lastPos.last_col].join(' ');\n            curMovement[2] = curWarningMsg;\n            warningMsgs.push(curWarningMsg);\n            input.unshift({\n              lexeme: ';',\n              abstract: ';',\n              position: lastPos,\n              containValue: true\n            });\n          } else {\n            if (top!='stmts') {\n              recovering = true;\n            }\n            stack.push(top);\n            toBuild.push(building);\n            input.shift();\n            curStatus = status[1];\n            curWarningMsg = 'SKIPPED ' + '\\'' + next + '\\'' + ' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n            curMovement[2] = curWarningMsg;\n            warningMsgs.push(curWarningMsg);\n          }\n        } else if (table[top][next] > 0) {\n          curFormula = table[top][next];\n          var rule = table[top][next];\n          var product = rules[rule].product.slice();\n          var item, newNode;\n          if (product.length == 0) {\n            building.addSubNode(Node.epsilon());\n            building.parsed = true;\n          } else {\n            if (rules[rule].interminal == 'stmts') {\n              lastStmtsNode = building;\n            }\n          }\n          while(product.length > 0) {\n            item = product.pop();\n            stack.push(item);\n            newNode = Node.new(item, building);\n            building.addSubNode(newNode);\n            toBuild.push(newNode);\n          }\n          curMovement[2] = rules[rule];\n        }\n        if (curStatus != status[2]) {\n          movements.push(curMovement);\n        }\n        if (curStatus == status[2] || singleStepping) {\n          singleSpot += 1;\n          return curStatus != status[2];\n        }\n        if (!singleStepping) {\n          curMovement = [stack.slice(), input.slice(), {}];\n          top         = stack.pop();\n          nextT       = input[0];\n          next        = nextT.abstract;\n        }\n      }\n      if (top == next) {\n        input.shift();\n      }\n      if (input.length == 0) {\n        movements.push(curMovement);\n        curStatus = status[3];\n        return true;\n      } else {\n        curStatus = status[2];\n        errorMsg = 'CAME UP WITH UNEXPECTED TERMINAL \\'' + nextT.lexeme + '\\' AT ROW ' + nextT.position.first_row + ', COL ' + nextT.position.first_col;\n        return false;\n      }\n    };\n    parser.parseDone = function () {\n\n      return curStatus == status[3];\n    };\n    parser.needPush = function () {\n\n      return input.length == 0;\n    };\n    parser.getRootS = function () {\n      function filterNode (node, fatherNode) {\n        var nodeS = {};\n        var subNodesS = [];\n        var subNodes = node.getSubNodes();\n        nodeS.abstract = node.abstract;\n        nodeS.name = node.name;\n        nodeS.value = node.value;\n        nodeS.type = node.type;\n        nodeS.subNodes = subNodesS;\n        nodeS.fatherNode = fatherNode;\n        if (node.position != undefined) {\n          nodeS.position = node.position;\n        }\n        var i;\n        for (i = 0; i < subNodes.length; i++) {\n          subNodesS.push(filterNode(subNodes[i], nodeS));\n        }\n        return nodeS;\n      }\n      return filterNode(root, undefined);\n    };\n    parser.getSequentialNodes = function () {\n      function checkParsed (node) {\n        var subNodes = node.getSubNodes();\n        if (subNodes.length > 0) {\n          var allParsed = true;\n          for (var i = 0; i < subNodes.length; i++) {\n            if (!subNodes[i].parsed) {\n              checkParsed(subNodes[i]);\n              if (!subNodes[i].parsed) {\n                allParsed = false;\n              }\n            }\n          }\n          node.parsed = allParsed;\n        }\n      }\n      function generateSequentialNodes () {\n        function digNode(fartherID, node, onParsingBranch) {\n          var thisID = countNode.toString();\n          countNode += 1;\n          if (typeof(node) === typeof(Node.new())) {\n            var sequentialNodes = [];\n            var cur = [thisID, node.abstract, 0, fartherID, onParsingBranch ? '1':'0', node.new ? '1':'0'];\n            var subSqu, subNodes = node.getSubNodes();\n            var countUnparsed = 0;\n            var i, j;\n            for (i = 0; i < subNodes.length; i += 1) {\n              if (!subNodes[i].parsed) {\n                countUnparsed += 1;\n                subSqu = digNode(thisID, subNodes[i], countUnparsed == 1 && onParsingBranch);\n                for (j = 0; j < subSqu.length; j += 1) {\n                  sequentialNodes.push(subSqu[j]);\n                }\n                if (subSqu.length > 0) {\n                  cur[2] += subSqu[0][2] + 1;\n                }\n              }\n            }\n            sequentialNodes.unshift(cur);\n            return sequentialNodes;\n          }\n        }\n        var countNode = 0;\n        return digNode('', root, true);\n      }\n      checkParsed(root);\n      return generateSequentialNodes();\n    };\n    parser.treeChanged = function () {\n\n      return true;\n    };\n    parser.getErrMsg = function () {\n\n      return errorMsg;\n    };\n    parser.getWarningMsg = function () {\n\n      return warningMsgs.join('\\n');\n    };\n    parser.getMovementsF = function () {\n      function padBlank(str, length) {\n        while(str.length < length){\n          str += ' ';\n        }\n        return str;\n      }\n      var arrMovements = [];\n      var length0 = 0, length1 = 0, length2 = 0;\n      var move, thisMove;\n      var sSTACK, sINPUT, sACTION;\n      var i, j;\n      var inputLimit = 22;\n      for (i = 0; i < movements.length; i += 1) {\n        move = movements[i];\n        thisMove = [];\n\n        sSTACK = move[0].join(' ');\n        length0 = Math.max(length0, sSTACK.length);\n        thisMove.push(sSTACK);\n\n        sINPUT = \"| \";\n        for (j = 0; j < move[1].length; j += 1) {\n          sINPUT += move[1][j].lexeme + ' ';\n        }\n        if (sINPUT.indexOf(';') > -1)\n          sINPUT = sINPUT.split(';')[0] + ';';\n        else\n          sINPUT = sINPUT.split(';')[0];\n        if (sINPUT.length > inputLimit) {\n          sINPUT = sINPUT.substring(0, inputLimit) + ' ...';\n        }\n        length1 = Math.max(length1, sINPUT.length);\n        thisMove.push(sINPUT);\n\n        sACTION = \"| \";\n        if (move[2].hasOwnProperty('interminal')) {\n          sACTION += move[2].interminal + ' -> ';\n          if (move[2].product.length > 0)\n            sACTION += move[2].product.join(' ');\n          else\n            sACTION += '';\n          length2 = Math.max(length2, sACTION.length);\n        } else if (typeof(move[2]) == typeof('')) {\n          sACTION += move[2];\n        }\n        thisMove.push(sACTION);\n\n        arrMovements.push(thisMove);\n      }\n      var i;\n      for (i = 0; i < arrMovements.length; i += 1) {\n        arrMovements[i][0] = padBlank(arrMovements[i][0], length0);\n        arrMovements[i][1] = padBlank(arrMovements[i][1], length1);\n        arrMovements[i][2] = padBlank(arrMovements[i][2], length2);\n      }\n      var sMovements = '\\n' + ([padBlank('STACK', length0), padBlank('INPUT', length1), padBlank('ACTION', length2)]).join('    ') + '\\n';\n      var i;\n      for (i = 0; i < arrMovements.length; i += 1) {\n        sMovements += ([arrMovements[i][0], arrMovements[i][1], arrMovements[i][2]]).join('    ') + '\\n';\n      }\n      return sMovements;\n    };\n    parser.getCurMovementF = function () {\n      var sSTACK = curMovement[0].join(' ');\n      var sINPUT = '';\n      var i;\n      for (i = 0; i < curMovement[1].length; i++) {\n        sINPUT += curMovement[1][i].lexeme + ' ';\n      }\n      if (sINPUT.length > 20) {\n        sINPUT = sINPUT.substring(0, 17) + ' ...';\n      }\n      var sACTION = '';\n      if (curMovement[2].hasOwnProperty('interminal')) {\n        sACTION = curMovement[2].interminal + ' -> ';\n        if (curMovement[2].hasOwnProperty('product')) {\n          if (curMovement[2].product.length == 0) {\n            sACTION += '';\n          }\n          for (var i = 0; i < curMovement[2].product.length; i++) {\n            sACTION += curMovement[2].product[i] + ' ';\n          }\n        }\n      } else if (typeof(curMovement[2]) == typeof('')) {\n        sACTION += curMovement[2];\n      }\n      return [sSTACK, sINPUT, sACTION].join('  |  ');\n    };\n    return parser;\n  }\n};\n\nvar Paxer = {\n  new: function () {\n    var paxer  = {};\n    var parser = Parser.new();\n    var lexer  = Lexer.new();\n    var status = ['NORMAL', 'WARNING', 'ERROR', 'DONE'];\n    var curStatus;\n    var errorMsg;\n    var warningMsg;\n    paxer.reset = function () {\n      errorMsg = \"\";\n      warningMsg = \"\";\n      curStatus = status[3];\n      lexer.reset();\n      parser.reset();\n    };\n    paxer.setInput = function (input) {\n      function prepare (input) {\n        var output = \"\";\n        var commenting = false;\n        var count = 0;\n        var c;\n        for (var i = 0; i < input.length; i++) {\n          c = input[i];\n          if (c == '/') count += 1;\n          else count = 0;\n          if (c == '\\n') commenting = false;\n          if (count == 2) commenting = true;\n          if (!commenting) output += c;\n        }\n        return output;\n      }\n      paxer.reset();\n      lexer.setInput(prepare(input));\n      parser.setInput([]);\n      curStatus = status[0];\n    };\n    paxer.go = function() {\n      if (curStatus != status[0] && curStatus != status[1]) return;\n      curStatus = status[0];\n      var singleStepping = true;\n      if (parser.needPush()) {\n        switch (lexer.getStatus()) {\n          case 'DONE':\n            return;\n          case 'ERROR':\n            errorMsg = lexer.getErrMsg();\n            curStatus = status[2];\n            return;\n          case 'NORMAL':\n            lexer.lex(singleStepping);\n            parser.pushToken(lexer.getToken());\n            break;\n          default:\n            console.log('UNEXPECTED LEXER STATUS');\n            curStatus = status[2];\n            return;\n        }\n      }\n      parser.parse(singleStepping);\n      switch (parser.getStatus()) {\n        case 'DONE':\n          break;\n        case 'ERROR':\n          errorMsg = parser.getErrMsg();\n          curStatus = status[2];\n          return;\n        case 'WARNING':\n          warningMsg = parser.getWarningMsg();\n          curStatus = status[1];\n        case 'NORMAL':\n          break;\n        default:\n          console.log('UNEXPECTED PARSER STATUS');\n          curStatus = status[2];\n          break;\n      }\n      if (lexer.lexDone() != parser.parseDone()) {\n        curStatus = status[2];\n      }\n      if (lexer.lexDone() && parser.parseDone()) {\n        curStatus = status[3];\n      }\n    };\n    paxer.getStatus = function () {\n\n      return curStatus;\n    };\n    paxer.getErrMsg = function () {\n\n      return errorMsg;\n    };\n    paxer.getWarningMsg      = parser.getWarningMsg;\n    paxer.getSymbolTable     = lexer.getSymbolTable;\n    paxer.getSequentialNodes = parser.getSequentialNodes;\n    paxer.getMovementsF      = parser.getMovementsF;\n    paxer.getCurMovementF    = parser.getCurMovementF;\n    paxer.getRootS           = parser.getRootS;\n    paxer.getTreeChanged     = parser.getTreeChanged;\n    return paxer;\n  }\n}\nexport default Paxer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/Paxer.js\n **/","/**\n * Created by Doma on 15/12/16.\n */\nfunction SemanticAnalyzer() {\n  var symboltable, nodeStack, _assembly;\n  var _errors;\n\n  var _t = 0,\n    _f = 0,\n    f = function (_F) {\n      return \"f\" + _F;\n    },\n    t = function (_T) {\n      return \"t\" + _T;\n    };\n\n  var _reset = function () {\n      symboltable = null;\n      nodeStack = [];\n      _errors = [];\n      _assembly = [];\n      _t = 0;\n      _f = 0;\n    },\n    _eat = function (tree, st) {\n      _reset();\n      symboltable = st;\n      symboltable.get = function (name) {\n        for (var i = 0; i < symboltable.length; i++) {\n          if (symboltable[i].name == name) {\n            return symboltable[i];\n          }\n        }\n      };\n      _r(tree);\n      if (_f > 0) {\n        _assembly[_assembly.length] = f(_f);\n      }\n    };\n\n\n  function l(type, ad1, ad2, ad3) {\n    var a1 = ad1 === null ? \"\" : ad1,\n      a2 = ad2 === null ? \"\" : ad2,\n      a3 = ad3 === null ? \"\" : ad3;\n    if (type.length == 3) {\n      type += \" \";\n    } else if (type.length == 2) {\n      type += \"  \";\n    }\n    return [\"    \", type, \" \", a1, \", \", a2, \", \", a3].join(\"\");\n  }\n\n\n  function _r(node) {\n    var father = nodeStack.rear(),\n      first, second, boolop;\n    nodeStack.push(node);\n    switch (node.abstract) {\n      case \"program\":\n      {\n        _r(node.subNodes[0]);\n        break;\n      }\n      case \"compoundstmt\":\n      {\n        _r(node.subNodes[1]);\n        break;\n      }\n      case \"stmts\":\n      {\n        _r(node.subNodes[0]);\n        if (node.subNodes[1]) {\n          _r(node.subNodes[1]);\n        }\n        break;\n      }\n      case \"stmt\":\n      {\n        _r(node.subNodes[0]);\n        break;\n      }\n      case \"decl\":\n      {\n        node.value = _r(node.subNodes[0]).value;\n        _r(node.subNodes[1]);\n        break;\n      }\n      case \"type\":\n      {\n        node.value = node.subNodes[0].abstract;\n        break;\n      }\n      case \"list\":\n      {\n        node.value = father.value;\n        _r(node.subNodes[0]);\n        _r(node.subNodes[1]);\n        break;\n      }\n      case \"ID\":\n      {\n        var symbol = symboltable.get(node.name);\n        if (undefined === symbol.occurance) {\n          symbol.occurance = 0;\n        } else {\n          symbol.occurance++;\n        }\n        switch (father.abstract) {\n          case \"list\":\n          {\n            node.type = father.value;\n            if (symbol.type) {\n              _errors.push(new SemanticError(\"Duplicated declaration of '\" + symbol.name + \"'\", symbol.positions[symbol.occurance]));\n            }\n            symbol.type = node.type;\n            break;\n          }\n          default:\n          {\n            if (!symbol.type && 0 === symbol.occurance) {\n              _errors.push(new SemanticError(\"Undeclared identifier '\" + symbol.name + \"'\", symbol.positions[symbol.occurance]));\n            }\n            break;\n          }\n        }\n        break;\n      }\n      case \"list1\":\n      {\n        node.value = father.value;\n        if (node.subNodes[1]) {\n          _r(node.subNodes[1]);\n        }\n        break;\n      }\n      case \"assgstmt\":\n      {\n        node.value = _r(node.subNodes[2]).value;\n        var id = _r(node.subNodes[0]).name;\n        _assembly[_assembly.length] = l(\"mov\", id, null, node.value);\n        break;\n      }\n      case \"arithexpr\":\n      {\n        first = _r(node.subNodes[0]);\n        second = _r(node.subNodes[1]);\n        if (second.type) {\n          switch (second.type) {\n            case \"+\":\n            {\n              node.value = t(_t++);\n              _assembly[_assembly.length] = l(\"add\", node.value, first.value, second.value);\n              break;\n            }\n            case \"-\":\n            {\n              node.value = t(_t++);\n              _assembly[_assembly.length] = l(\"sub\", node.value, first.value, second.value);\n              break;\n            }\n          }\n        } else {\n          node.value = first.value;\n        }\n        break;\n      }\n      case \"multexpr\":\n      {\n        first = _r(node.subNodes[0]);\n        second = _r(node.subNodes[1]);\n        if (second.type) {\n          switch (second.type) {\n            case \"*\":\n            {\n              node.value = t(_t++);\n              _assembly[_assembly.length] = l(\"mul\", node.value, first.value, second.value);\n              break;\n            }\n            case \"/\":\n            {\n              node.value = t(_t++);\n              if (0 === second.value) {\n                _errors.push(new SemanticError(\"Cannot be divided by 0\"));\n                _assembly[_assembly.length] = l(\"*div\", node.value, first.value, second.value);\n              } else {\n                _assembly[_assembly.length] = l(\"div\", node.value, first.value, second.value);\n              }\n              break;\n            }\n          }\n        } else {\n          node.value = first.value;\n        }\n        break;\n      }\n      case \"arithexprprime\":\n      {\n        if (node.subNodes[2]) {\n          node.type = node.subNodes[0].abstract;\n          first = _r(node.subNodes[1]);\n          second = _r(node.subNodes[2]);\n          if (second.type) {\n            switch (second.type) {\n              case \"+\":\n              {\n                node.value = t(_t++);\n                _assembly[_assembly.length] = l(\"add\", node.value, first.value, second.value);\n                break;\n              }\n              case \"-\":\n              {\n                node.value = t(_t++);\n                _assembly[_assembly.length] = l(\"sub\", node.value, first.value, second.value);\n                break;\n              }\n            }\n          } else {\n            node.value = first.value;\n          }\n        }\n        break;\n      }\n      case \"simpleexpr\":\n      {\n        if (node.subNodes[1]) {\n          node.value = _r(node.subNodes[1]).value;\n        } else {\n          var ID_NUM = _r(node.subNodes[0]);\n          switch (ID_NUM.abstract) {\n            case \"ID\":\n            {\n              node.value = ID_NUM.name;\n              break;\n            }\n            case \"NUM\":\n            {\n              node.value = ID_NUM.value;\n              break;\n            }\n          }\n        }\n        break;\n      }\n      case \"multexprprime\":\n      {\n        if (node.subNodes[2]) {\n          node.type = node.subNodes[0].abstract;\n          first = _r(node.subNodes[1]);\n          second = _r(node.subNodes[2]);\n          if (second.type) {\n            switch (second.type) {\n              case \"*\":\n              {\n                node.value = t(_t++);\n                _assembly[_assembly.length] = l(\"mult\", node.value, first.value, second.value);\n                break;\n              }\n              case \"/\":\n              {\n                node.value = t(_t++);\n                if (0 === second.value) {\n                  _errors.push(new SemanticError(\"Cannot be divided by 0\"));\n                  _assembly[_assembly.length] = l(\"*div\", node.value, first.value, second.value);\n                } else {\n                  _assembly[_assembly.length] = l(\"div\", node.value, first.value, second.value);\n                }\n                break;\n              }\n            }\n          } else {\n            node.value = first.value;\n          }\n        }\n        break;\n      }\n      case \"whilestmt\":\n      {\n        var boolexpr = node.subNodes[2],\n          stmt = node.subNodes[4];\n        var startf = _f++;\n        _assembly[_assembly.length] = f(startf);\n        _r(boolexpr);\n        _r(stmt);\n        _assembly[_assembly.length] = l(\"jmp\", null, null, \"f\" + (startf));\n        break;\n      }\n      case \"boolexpr\":\n      {\n        node.value = \"t\" + _t++;\n        boolop = node.subNodes[1];\n        var arithexpr1 = node.subNodes[0],\n          arithexpr2 = node.subNodes[2];\n        first = _r(arithexpr1);\n        second = _r(arithexpr2);\n        switch (_r(boolop).value) {\n          case \"<\":\n          {\n            _assembly[_assembly.length] = l(\"lt\", node.value, first.value, second.value);\n            break;\n          }\n          case \">\":\n          {\n            _assembly[_assembly.length] = l(\"gt\", node.value, first.value, second.value);\n            break;\n          }\n          case \"<=\":\n          {\n            _assembly[_assembly.length] = l(\"le\", node.value, first.value, second.value);\n            break;\n          }\n          case \">=\":\n          {\n            _assembly[_assembly.length] = l(\"ge\", node.value, first.value, second.value);\n            break;\n          }\n          case \"==\":\n          {\n            _assembly[_assembly.length] = l(\"eq\", node.value, first.value, second.value);\n            break;\n          }\n        }\n        _assembly[_assembly.length] = l(\"jmpf\", node.value, null, \"f\" + _f);\n        break;\n      }\n      case \"boolop\":\n      {\n        node.value = node.subNodes[0].abstract;\n        break;\n      }\n      case \"ifstmt\":\n      {\n        boolop = node.subNodes[2];\n        var stmt1 = node.subNodes[5],\n          stmt2 = node.subNodes[7];\n\n        // _assembly[_assembly.length] = f(_f++);\n        _r(boolop);\n        _r(stmt1);\n        _assembly[_assembly.length] = l(\"jmp\", null, null, \"f\" + (_f + 1));\n        _assembly[_assembly.length] = f(_f++);\n        _r(stmt2);\n        break;\n      }\n      default:\n        break;\n    }\n    nodeStack.pop();\n    return node;\n  }\n\n  return {\n    eat: _eat,\n    getErrorMsg: function () {\n      return _errors.join(\"\\n\");\n    },\n    getAssembly: function () {\n      return _assembly.join(\"\\n\");\n    }\n  };\n}\n\nfunction SemanticError(msg, position) {\n  this.msg = msg;\n  this.position = position;\n}\nSemanticError.prototype.toString = function () {\n  var msg = \"Error: \" + this.msg;\n  if (this.position) {\n    msg = [msg, \" at line: \", this.position.first_row, \", ch: \", this.position.first_col].join(\"\");\n  }\n  return msg;\n};\nexport default SemanticAnalyzer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/Semantic.js\n **/","import $ from './datavjs/deps/jquery-1.7.1'\nimport {EventProxy} from './datavjs/deps/eventproxy'\nArray.prototype.map || (Array.prototype.map = function (w, G) {\n  var h, r, t;\n  if (null == this)throw new TypeError(\" this is null or not defined\");\n  var B = Object(this), y = B.length >>> 0;\n  if (\"[object Function]\" != {}.toString.call(w))throw new TypeError(w + \" is not a function\");\n  G && (h = G);\n  r = Array(y);\n  for (t = 0; t < y;) {\n    var P;\n    t in B && (P = B[t], P = w.call(h, P, t, B), r[t] = P);\n    t++\n  }\n  return r\n});\nArray.prototype.reduce || (Array.prototype.reduce = function (w) {\n  var G = 0, h = this.length >> 0, r;\n  if (typeof w !== \"function\")throw new TypeError(\"First argument is not callable\");\n  if (arguments.length < 2) {\n    if (h === 0)throw new TypeError(\"Array length is 0 and no second argument\");\n    r = this[0];\n    G = 1\n  } else r = arguments[1];\n  for (; G < h;) {\n    G in this && (r = w.call(void 0, r, this[G], G, this));\n    ++G\n  }\n  return r\n});\nArray.prototype.forEach || (Array.prototype.forEach = function (w, G) {\n  var h, r;\n  if (this == null)throw new TypeError(\" this is null or not defined\");\n  var t = Object(this), B = t.length >>> 0;\n  if ({}.toString.call(w) != \"[object Function]\")throw new TypeError(w + \" is not a function\");\n  G && (h = G);\n  for (r = 0; r < B;) {\n    var y;\n    if (r in t) {\n      y = t[r];\n      w.call(h, y, r, t)\n    }\n    r++\n  }\n});\nArray.prototype.filter || (Array.prototype.filter = function (w, G) {\n  if (this == null)throw new TypeError;\n  var h = Object(this), r = h.length >>> 0;\n  if (typeof w != \"function\")throw new TypeError;\n  for (var t = [], B = 0; B < r; B++)if (B in h) {\n    var y = h[B];\n    w.call(G, y, B, h) && t.push(y)\n  }\n  return t\n});\nArray.prototype.every || (Array.prototype.every = function (w, G) {\n  if (this == null)throw new TypeError;\n  var h = Object(this), r = h.length >>> 0;\n  if (typeof w != \"function\")throw new TypeError;\n  for (var t = 0; t < r; t++)if (t in h && !w.call(G, h[t], t, h))return false;\n  return true\n});\nvar JSON;\nJSON || (JSON = {});\n(function () {\n  function w(h) {\n    return h < 10 ? \"0\" + h : h\n  }\n\n  function G(h) {\n    t.lastIndex = 0;\n    return t.test(h) ? '\"' + h.replace(t, function (h) {\n      var r = P[h];\n      return typeof r === \"string\" ? r : \"\\\\u\" + (\"0000\" + h.charCodeAt(0).toString(16)).slice(-4)\n    }) + '\"' : '\"' + h + '\"'\n  }\n\n  function h(r, t) {\n    var K, w, W, da, P = B, L, E = t[r];\n    E && (typeof E === \"object\" && typeof E.toJSON === \"function\") && (E = E.toJSON(r));\n    typeof M === \"function\" && (E = M.call(t, r, E));\n    switch (typeof E) {\n      case \"string\":\n        return G(E);\n      case \"number\":\n        return isFinite(E) ? String(E) : \"null\";\n      case \"boolean\":\n      case \"null\":\n        return String(E);\n      case \"object\":\n        if (!E)return \"null\";\n        B = B + y;\n        L = [];\n        if (Object.prototype.toString.apply(E) === \"[object Array]\") {\n          da = E.length;\n          for (K = 0; K < da; K = K + 1)L[K] = h(K, E) || \"null\";\n          W = L.length === 0 ? \"[]\" : B ? \"[\\n\" + B + L.join(\",\\n\" + B) + \"\\n\" + P + \"]\" : \"[\" + L.join(\",\") + \"]\";\n          B = P;\n          return W\n        }\n        if (M && typeof M === \"object\") {\n          da = M.length;\n          for (K = 0; K < da; K = K + 1)if (typeof M[K] === \"string\") {\n            w = M[K];\n            (W = h(w, E)) && L.push(G(w) + (B ? \": \" : \":\") + W)\n          }\n        } else for (w in E)if (Object.prototype.hasOwnProperty.call(E, w)) (W = h(w, E)) && L.push(G(w) + (B ? \": \" : \":\") + W);\n        W = L.length === 0 ? \"{}\" : B ? \"{\\n\" +\n        B + L.join(\",\\n\" + B) + \"\\n\" + P + \"}\" : \"{\" + L.join(\",\") + \"}\";\n        B = P;\n        return W\n    }\n  }\n\n  if (typeof Date.prototype.toJSON !== \"function\") {\n    Date.prototype.toJSON = function () {\n      return isFinite(this.valueOf()) ? this.getUTCFullYear() + \"-\" + w(this.getUTCMonth() + 1) + \"-\" + w(this.getUTCDate()) + \"T\" + w(this.getUTCHours()) + \":\" + w(this.getUTCMinutes()) + \":\" + w(this.getUTCSeconds()) + \"Z\" : null\n    };\n    String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function () {\n      return this.valueOf()\n    }\n  }\n  var r = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n    t = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g, B, y, P = {\n      \"\\b\": \"\\\\b\",\n      \"\\t\": \"\\\\t\",\n      \"\\n\": \"\\\\n\",\n      \"\\f\": \"\\\\f\",\n      \"\\r\": \"\\\\r\",\n      '\"': '\\\\\"',\n      \"\\\\\": \"\\\\\\\\\"\n    }, M;\n  if (typeof JSON.stringify !== \"function\") JSON.stringify = function (r, t, w) {\n    var G;\n    y = B = \"\";\n    if (typeof w === \"number\")for (G = 0; G < w; G = G + 1)y = y + \" \"; else typeof w === \"string\" && (y = w);\n    if ((M = t) && typeof t !== \"function\" && (typeof t !== \"object\" || typeof t.length !== \"number\"))throw Error(\"JSON.stringify\");\n    return h(\"\", {\"\": r})\n  };\n  if (typeof JSON.parse !== \"function\") JSON.parse = function (h, t) {\n    function w(h, r) {\n      var B, y, E = h[r];\n      if (E && typeof E === \"object\")for (B in E)if (Object.prototype.hasOwnProperty.call(E, B)) {\n        y = w(E, B);\n        y !== void 0 ? E[B] = y : delete E[B]\n      }\n      return t.call(h, r, E)\n    }\n\n    var B, h = String(h);\n    r.lastIndex = 0;\n    r.test(h) && (h = h.replace(r, function (h) {\n      return \"\\\\u\" + (\"0000\" + h.charCodeAt(0).toString(16)).slice(-4)\n    }));\n    if (/^[\\],:{}\\s]*$/.test(h.replace(/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g, \"@\").replace(/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\n        \"]\").replace(/(?:^|:|,)(?:\\s*\\[)+/g, \"\"))) {\n      B = eval(\"(\" + h + \")\");\n      return typeof t === \"function\" ? w({\"\": B}, \"\") : B\n    }\n    throw new SyntaxError(\"JSON.parse\");\n  }\n})();\n(function () {\n  function w(a) {\n    for (var c = -1, e = a.length, g = []; ++c < e;)g.push(a[c]);\n    return g\n  }\n\n  function G() {\n    return this\n  }\n\n  function h(a, c, e) {\n    return function () {\n      var g = e.apply(c, arguments);\n      return arguments.length ? a : g\n    }\n  }\n\n  function r(a) {\n    return a != null && !isNaN(a)\n  }\n\n  function t(a) {\n    return a.length\n  }\n\n  function B(a) {\n    return a == null\n  }\n\n  function y(a) {\n    return a.replace(/(^\\s+)|(\\s+$)/g, \"\").replace(/\\s+/g, \" \")\n  }\n\n  function P() {\n  }\n\n  function M(a) {\n    function c() {\n      for (var c = e, g = -1, v = c.length, D; ++g < v;)(D = c[g].on) && D.apply(this, arguments);\n      return a\n    }\n\n    var e =\n      [], g = {};\n    c.on = function (c, l) {\n      var v, D;\n      if (arguments.length < 2)return (v = g[c]) && v.on;\n      if (v = g[c]) {\n        v.on = null;\n        e = e.slice(0, D = e.indexOf(v)).concat(e.slice(D + 1));\n        delete g[c]\n      }\n      l && e.push(g[c] = {on: l});\n      return a\n    };\n    return c\n  }\n\n  function ja(a, c) {\n    return c - (a ? 1 + Math.floor(Math.log(a + Math.pow(10, 1 + Math.floor(Math.log(a) / Math.LN10) - c)) / Math.LN10) : 1)\n  }\n\n  function $(a) {\n    return a + \"\"\n  }\n\n  function K(a) {\n    for (var c = a.lastIndexOf(\".\"), e = c >= 0 ? a.substring(c) : (c = a.length, \"\"), g = []; c > 0;)g.push(a.substring(c = c - 3, c + 3));\n    return g.reverse().join(\",\") + e\n  }\n\n  function aa(a) {\n    return function (c) {\n      return 1 -\n        a(1 - c)\n    }\n  }\n\n  function W(a) {\n    return function (c) {\n      return 0.5 * (c < 0.5 ? a(2 * c) : 2 - a(2 - 2 * c))\n    }\n  }\n\n  function da(a) {\n    return a\n  }\n\n  function Da(a) {\n    return function (c) {\n      return Math.pow(c, a)\n    }\n  }\n\n  function L(a) {\n    return 1 - Math.cos(a * Math.PI / 2)\n  }\n\n  function E(a) {\n    return Math.pow(2, 10 * (a - 1))\n  }\n\n  function ka(a) {\n    return 1 - Math.sqrt(1 - a * a)\n  }\n\n  function Wa(a) {\n    return a < 1 / 2.75 ? 7.5625 * a * a : a < 2 / 2.75 ? 7.5625 * (a = a - 1.5 / 2.75) * a + 0.75 : a < 2.5 / 2.75 ? 7.5625 * (a = a - 2.25 / 2.75) * a + 0.9375 : 7.5625 * (a = a - 2.625 / 2.75) * a + 0.984375\n  }\n\n  function ba() {\n    d3.event.stopPropagation();\n    d3.event.preventDefault()\n  }\n\n  function va(a, c) {\n    c = c - (a = +a) ? 1 / (c - a) : 0;\n    return function (e) {\n      return (e - a) * c\n    }\n  }\n\n  function Xa(a, c) {\n    c = c - (a = +a) ? 1 / (c - a) : 0;\n    return function (e) {\n      return Math.max(0, Math.min(1, (e - a) * c))\n    }\n  }\n\n  function ea(a, c, e) {\n    return new Y(a, c, e)\n  }\n\n  function Y(a, c, e) {\n    this.r = a;\n    this.g = c;\n    this.b = e\n  }\n\n  function fa(a) {\n    return a < 16 ? \"0\" + Math.max(0, a).toString(16) : Math.min(255, a).toString(16)\n  }\n\n  function Ea(a, c, e) {\n    var g = 0, i = 0, l = 0, v, D;\n    if (v = /([a-z]+)\\((.*)\\)/i.exec(a)) {\n      D = v[2].split(\",\");\n      switch (v[1]) {\n        case \"hsl\":\n          return e(parseFloat(D[0]), parseFloat(D[1]) / 100,\n            parseFloat(D[2]) / 100);\n        case \"rgb\":\n          return c(wa(D[0]), wa(D[1]), wa(D[2]))\n      }\n    }\n    if (e = Ya[a])return c(e.r, e.g, e.b);\n    if (a != null && a.charAt(0) === \"#\") {\n      if (a.length === 4) {\n        g = a.charAt(1);\n        g = g + g;\n        i = a.charAt(2);\n        i = i + i;\n        l = a.charAt(3);\n        l = l + l\n      } else if (a.length === 7) {\n        g = a.substring(1, 3);\n        i = a.substring(3, 5);\n        l = a.substring(5, 7)\n      }\n      g = parseInt(g, 16);\n      i = parseInt(i, 16);\n      l = parseInt(l, 16)\n    }\n    return c(g, i, l)\n  }\n\n  function Fa(a, c, e) {\n    var g = Math.min(a = a / 255, c = c / 255, e = e / 255), i = Math.max(a, c, e), l = i - g, v = (i + g) / 2;\n    if (l) {\n      g = v < 0.5 ? l / (i + g) : l / (2 - i - g);\n      a = (a == i ? (c - e) / l + (c <\n        e ? 6 : 0) : c == i ? (e - a) / l + 2 : (a - c) / l + 4) * 60\n    } else g = a = 0;\n    return ga(a, g, v)\n  }\n\n  function wa(a) {\n    var c = parseFloat(a);\n    return a.charAt(a.length - 1) === \"%\" ? Math.round(c * 2.55) : c\n  }\n\n  function ga(a, c, e) {\n    return new J(a, c, e)\n  }\n\n  function J(a, c, e) {\n    this.h = a;\n    this.s = c;\n    this.l = e\n  }\n\n  function ra(a, c, e) {\n    function g(a) {\n      a > 360 ? a = a - 360 : a < 0 && (a = a + 360);\n      return a < 60 ? i + (l - i) * a / 60 : a < 180 ? l : a < 240 ? i + (l - i) * (240 - a) / 60 : i\n    }\n\n    var i, l, a = a % 360;\n    a < 0 && (a = a + 360);\n    c = c < 0 ? 0 : c > 1 ? 1 : c;\n    e = e < 0 ? 0 : e > 1 ? 1 : e;\n    l = e <= 0.5 ? e * (1 + c) : e + c - e * c;\n    i = 2 * e - l;\n    return ea(Math.round(g(a + 120) * 255), Math.round(g(a) *\n      255), Math.round(g(a - 120) * 255))\n  }\n\n  function Q(a) {\n    vb(a, I);\n    return a\n  }\n\n  function la(a) {\n    return function () {\n      return ib(a, this)\n    }\n  }\n\n  function sa(a) {\n    return function () {\n      return Pb(a, this)\n    }\n  }\n\n  function ta(a, c) {\n    function e() {\n      if (c = this.classList)return c.add(a);\n      var c = this.className, e = c.baseVal != null, g = e ? c.baseVal : c;\n      l.lastIndex = 0;\n      if (!l.test(g)) {\n        g = y(g + \" \" + a);\n        e ? c.baseVal = g : this.className = g\n      }\n    }\n\n    function g() {\n      if (c = this.classList)return c.remove(a);\n      var c = this.className, e = c.baseVal != null, g = e ? c.baseVal : c, g = y(g.replace(l, \" \"));\n      e ? c.baseVal =\n        g : this.className = g\n    }\n\n    function i() {\n      (c.apply(this, arguments) ? e : g).call(this)\n    }\n\n    var l = RegExp(\"(^|\\\\s+)\" + d3.requote(a) + \"(\\\\s+|$)\", \"g\");\n    if (arguments.length < 2) {\n      var v = this.node();\n      if (D = v.classList)return D.contains(a);\n      var D = v.className;\n      l.lastIndex = 0;\n      return l.test(D.baseVal != null ? D.baseVal : D)\n    }\n    return this.each(typeof c === \"function\" ? i : c ? e : g)\n  }\n\n  function xa(a) {\n    if (!arguments.length) a = d3.ascending;\n    return function (c, e) {\n      return a(c && c.__data__, e && e.__data__)\n    }\n  }\n\n  function ya(a, c, e) {\n    vb(a, Z);\n    var g = {}, i = d3.dispatch(\"start\", \"end\"),\n      l = oc;\n    a.id = c;\n    a.time = e;\n    a.tween = function (c, e) {\n      if (arguments.length < 2)return g[c];\n      e == null ? delete g[c] : g[c] = e;\n      return a\n    };\n    a.ease = function (c) {\n      if (!arguments.length)return l;\n      l = typeof c === \"function\" ? c : d3.ease.apply(d3, arguments);\n      return a\n    };\n    a.each = function (c, e) {\n      if (arguments.length < 2)return p.call(a, c);\n      i.on(c, e);\n      return a\n    };\n    d3.timer(function (v) {\n      a.each(function (D, b, k) {\n        function f(a) {\n          if (S.active > c)return n();\n          S.active = c;\n          for (var l in g)(l = g[l].call(q, D, b)) && m.push(l);\n          i.start.call(q, D, b);\n          j(a) || d3.timer(j, 0, e);\n          return 1\n        }\n\n        function j(a) {\n          if (S.active !== c)return n();\n          for (var a = (a - C) / p, e = l(a), g = m.length; g > 0;)m[--g].call(q, e);\n          if (a >= 1) {\n            n();\n            Oa = c;\n            i.end.call(q, D, b);\n            Oa = 0;\n            return 1\n          }\n        }\n\n        function n() {\n          --S.count || delete q.__transition__;\n          return 1\n        }\n\n        var m = [], q = this, C = a[k][b].delay, p = a[k][b].duration, S = q.__transition__ || (q.__transition__ = {\n            active: 0,\n            count: 0\n          });\n        ++S.count;\n        C <= v ? f(v) : d3.timer(f, C, e)\n      });\n      return 1\n    }, 0, e);\n    return a\n  }\n\n  function Za(a, c, e) {\n    return e != \"\" && $a\n  }\n\n  function b(a, c) {\n    function e(a, e, g) {\n      a = c.call(this, a, e);\n      return a == null ? g != \"\" && $a : g != a && i(g,\n        a)\n    }\n\n    function g(a, e, g) {\n      return g != c && i(g, c)\n    }\n\n    var i = a == \"transform\" ? d3.interpolateTransform : d3.interpolate;\n    return typeof c === \"function\" ? e : c == null ? Za : (c = c + \"\", g)\n  }\n\n  function p(a) {\n    for (var c = 0, e = this.length; c < e; c++)for (var g = this[c], i = 0, l = g.length; i < l; i++) {\n      var v = g[i];\n      if (v) a.call(v = v.node, v.__data__, i, c)\n    }\n    return this\n  }\n\n  function o() {\n    for (var a, c = Date.now(), e = Ha; e;) {\n      a = c - e.then;\n      if (a >= e.delay) e.flush = e.callback(a);\n      e = e.next\n    }\n    a = ha() - c;\n    if (a > 24) {\n      if (isFinite(a)) {\n        clearTimeout(jb);\n        jb = setTimeout(o, a)\n      }\n      kb = 0\n    } else {\n      kb = 1;\n      Qb(o)\n    }\n  }\n\n  function ha() {\n    for (var a =\n      null, c = Ha, e = Infinity; c;)if (c.flush) c = a ? a.next = c.next : Ha = c.next; else {\n      e = Math.min(e, c.then + c.delay);\n      c = (a = c).next\n    }\n    return e\n  }\n\n  function U(a) {\n    var c = [a.a, a.b], e = [a.c, a.d], g = ma(c), i = c[0] * e[0] + c[1] * e[1], l = -i;\n    e[0] = e[0] + l * c[0];\n    e[1] = e[1] + l * c[1];\n    l = ma(e) || 0;\n    if (c[0] * e[1] < e[0] * c[1]) {\n      c[0] = c[0] * -1;\n      c[1] = c[1] * -1;\n      g = g * -1;\n      i = i * -1\n    }\n    this.rotate = (g ? Math.atan2(c[1], c[0]) : Math.atan2(-e[0], e[1])) * Rb;\n    this.translate = [a.e, a.f];\n    this.scale = [g, l];\n    this.skew = l ? Math.atan2(i, l) * Rb : 0\n  }\n\n  function ma(a) {\n    var c = Math.sqrt(a[0] * a[0] + a[1] * a[1]);\n    if (c) {\n      a[0] =\n        a[0] / c;\n      a[1] = a[1] / c\n    }\n    return c\n  }\n\n  function za(a) {\n    var c = a[0], a = a[a.length - 1];\n    return c < a ? [c, a] : [a, c]\n  }\n\n  function Ia(a) {\n    return a.rangeExtent ? a.rangeExtent() : za(a.range())\n  }\n\n  function Pa(a, c) {\n    var e = 0, g = a.length - 1, i = a[e], l = a[g], v;\n    if (l < i) {\n      v = e;\n      e = g;\n      g = v;\n      v = i;\n      i = l;\n      l = v\n    }\n    if (v = l - i) {\n      c = c(v);\n      a[e] = c.floor(i);\n      a[g] = c.ceil(l)\n    }\n    return a\n  }\n\n  function ab() {\n    return Math\n  }\n\n  function k(a, c, e, g) {\n    function i() {\n      var i = a.length == 2 ? n : C, b = g ? Xa : va;\n      v = i(a, c, b, e);\n      D = i(c, a, b, d3.interpolate);\n      return l\n    }\n\n    function l(a) {\n      return v(a)\n    }\n\n    var v, D;\n    l.invert = function (a) {\n      return D(a)\n    };\n    l.domain = function (c) {\n      if (!arguments.length)return a;\n      a = c.map(Number);\n      return i()\n    };\n    l.range = function (a) {\n      if (!arguments.length)return c;\n      c = a;\n      return i()\n    };\n    l.rangeRound = function (a) {\n      return l.range(a).interpolate(d3.interpolateRound)\n    };\n    l.clamp = function (a) {\n      if (!arguments.length)return g;\n      g = a;\n      return i()\n    };\n    l.interpolate = function (a) {\n      if (!arguments.length)return e;\n      e = a;\n      return i()\n    };\n    l.ticks = function (c) {\n      return d3.range.apply(d3, m(a, c))\n    };\n    l.tickFormat = function (c) {\n      return q(a, c)\n    };\n    l.nice = function () {\n      Pa(a, j);\n      return i()\n    };\n    l.copy = function () {\n      return k(a,\n        c, e, g)\n    };\n    return i()\n  }\n\n  function f(a, c) {\n    return d3.rebind(a, c, \"range\", \"rangeRound\", \"interpolate\", \"clamp\")\n  }\n\n  function j(a) {\n    a = Math.pow(10, Math.round(Math.log(a) / Math.LN10) - 1);\n    return {\n      floor: function (c) {\n        return Math.floor(c / a) * a\n      }, ceil: function (c) {\n        return Math.ceil(c / a) * a\n      }\n    }\n  }\n\n  function m(a, c) {\n    var e = za(a), g = e[1] - e[0], i = Math.pow(10, Math.floor(Math.log(g / c) / Math.LN10)), g = c / g * i;\n    g <= 0.15 ? i = i * 10 : g <= 0.35 ? i = i * 5 : g <= 0.75 && (i = i * 2);\n    e[0] = Math.ceil(e[0] / i) * i;\n    e[1] = Math.floor(e[1] / i) * i + i * 0.5;\n    e[2] = i;\n    return e\n  }\n\n  function q(a, c) {\n    return d3.format(\",.\" +\n      Math.max(0, -Math.floor(Math.log(m(a, c)[2]) / Math.LN10 + 0.01)) + \"f\")\n  }\n\n  function n(a, c, e, g) {\n    var i = e(a[0], a[1]), l = g(c[0], c[1]);\n    return function (a) {\n      return l(i(a))\n    }\n  }\n\n  function C(a, c, e, g) {\n    var i = [], l = [], v = 0, D = a.length - 1;\n    if (a[D] < a[0]) {\n      a = a.slice().reverse();\n      c = c.slice().reverse()\n    }\n    for (; ++v <= D;) {\n      i.push(e(a[v - 1], a[v]));\n      l.push(g(c[v - 1], c[v]))\n    }\n    return function (c) {\n      var e = d3.bisect(a, c, 1, D) - 1;\n      return l[e](i[e](c))\n    }\n  }\n\n  function S(a, c) {\n    function e(e) {\n      return a(c(e))\n    }\n\n    var g = c.pow;\n    e.invert = function (c) {\n      return g(a.invert(c))\n    };\n    e.domain =\n      function (i) {\n        if (!arguments.length)return a.domain().map(g);\n        c = i[0] < 0 ? s : X;\n        g = c.pow;\n        a.domain(i.map(c));\n        return e\n      };\n    e.nice = function () {\n      a.domain(Pa(a.domain(), ab));\n      return e\n    };\n    e.ticks = function () {\n      var e = za(a.domain()), l = [];\n      if (e.every(isFinite)) {\n        var v = Math.floor(e[0]), D = Math.ceil(e[1]), b = g(e[0]), e = g(e[1]);\n        if (c === s)for (l.push(g(v)); v++ < D;)for (var k = 9; k > 0; k--)l.push(g(v) * k); else {\n          for (; v < D; v++)for (k = 1; k < 10; k++)l.push(g(v) * k);\n          l.push(g(v))\n        }\n        for (v = 0; l[v] < b; v++);\n        for (D = l.length; l[D - 1] > e; D--);\n        l = l.slice(v, D)\n      }\n      return l\n    };\n    e.tickFormat =\n      function (a, l) {\n        arguments.length < 2 && (l = pc);\n        if (arguments.length < 1)return l;\n        var v = a / e.ticks().length, D = c === s ? (b = -1E-12, Math.floor) : (b = 1E-12, Math.ceil), b;\n        return function (a) {\n          return a / g(D(c(a) + b)) < v ? l(a) : \"\"\n        }\n      };\n    e.copy = function () {\n      return S(a.copy(), c)\n    };\n    return f(e, a)\n  }\n\n  function X(a) {\n    return Math.log(a < 0 ? 0 : a) / Math.LN10\n  }\n\n  function s(a) {\n    return -Math.log(a > 0 ? 0 : -a) / Math.LN10\n  }\n\n  function u(a, c) {\n    function e(c) {\n      return a(g(c))\n    }\n\n    var g = x(c), i = x(1 / c);\n    e.invert = function (c) {\n      return i(a.invert(c))\n    };\n    e.domain = function (c) {\n      if (!arguments.length)return a.domain().map(i);\n      a.domain(c.map(g));\n      return e\n    };\n    e.ticks = function (a) {\n      var c = e.domain();\n      return d3.range.apply(d3, m(c, a))\n    };\n    e.tickFormat = function (a) {\n      return q(e.domain(), a)\n    };\n    e.nice = function () {\n      return e.domain(Pa(e.domain(), j))\n    };\n    e.exponent = function (a) {\n      if (!arguments.length)return c;\n      var v = e.domain();\n      g = x(c = a);\n      i = x(1 / c);\n      return e.domain(v)\n    };\n    e.copy = function () {\n      return u(a.copy(), c)\n    };\n    return f(e, a)\n  }\n\n  function x(a) {\n    return function (c) {\n      return c < 0 ? -Math.pow(-c, a) : Math.pow(c, a)\n    }\n  }\n\n  function Sb(a, c) {\n    function e(c) {\n      return l[((i[c] || (i[c] = a.push(c))) -\n      1) % l.length]\n    }\n\n    function g(c, e) {\n      return d3.range(a.length).map(function (a) {\n        return c + e * a\n      })\n    }\n\n    var i, l, v;\n    e.domain = function (g) {\n      if (!arguments.length)return a;\n      a = [];\n      i = {};\n      for (var l = -1, v = g.length, b; ++l < v;)if (!i[b = g[l]]) i[b] = a.push(b);\n      return e[c.t](c.x, c.p)\n    };\n    e.range = function (a) {\n      if (!arguments.length)return l;\n      l = a;\n      v = 0;\n      c = {t: \"range\", x: a};\n      return e\n    };\n    e.rangePoints = function (i, b) {\n      arguments.length < 2 && (b = 0);\n      var k = i[0], f = i[1], j = (f - k) / (a.length - 1 + b);\n      l = g(a.length < 2 ? (k + f) / 2 : k + j * b / 2, j);\n      v = 0;\n      c = {t: \"rangePoints\", x: i, p: b};\n      return e\n    };\n    e.rangeBands =\n      function (i, b) {\n        arguments.length < 2 && (b = 0);\n        var k = i[0], f = (i[1] - k) / (a.length + b);\n        l = g(k + f * b, f);\n        v = f * (1 - b);\n        c = {t: \"rangeBands\", x: i, p: b};\n        return e\n      };\n    e.rangeRoundBands = function (i, b) {\n      arguments.length < 2 && (b = 0);\n      var k = i[0], f = i[1], j = Math.floor((f - k) / (a.length + b));\n      l = g(k + Math.round((f - k - (a.length - b) * j) / 2), j);\n      v = Math.round(j * (1 - b));\n      c = {t: \"rangeRoundBands\", x: i, p: b};\n      return e\n    };\n    e.rangeBand = function () {\n      return v\n    };\n    e.rangeExtent = function () {\n      return c.t === \"range\" ? za(c.x) : c.x\n    };\n    e.copy = function () {\n      return Sb(a, c)\n    };\n    return e.domain(a)\n  }\n\n  function z(a,\n             c) {\n    function e() {\n      var e = 0, v = c.length;\n      for (i = []; ++e < v;)i[e - 1] = d3.quantile(a, e / v);\n      return g\n    }\n\n    function g(a) {\n      return isNaN(a = +a) ? NaN : c[d3.bisect(i, a)]\n    }\n\n    var i;\n    g.domain = function (c) {\n      if (!arguments.length)return a;\n      a = c.filter(function (a) {\n        return !isNaN(a)\n      }).sort(d3.ascending);\n      return e()\n    };\n    g.range = function (a) {\n      if (!arguments.length)return c;\n      c = a;\n      return e()\n    };\n    g.quantiles = function () {\n      return i\n    };\n    g.copy = function () {\n      return z(a, c)\n    };\n    return e()\n  }\n\n  function F(a, c, e) {\n    function g(c) {\n      return e[Math.max(0, Math.min(v, Math.floor(l * (c - a))))]\n    }\n\n    function i() {\n      l =\n        e.length / (c - a);\n      v = e.length - 1;\n      return g\n    }\n\n    var l, v;\n    g.domain = function (e) {\n      if (!arguments.length)return [a, c];\n      a = +e[0];\n      c = +e[e.length - 1];\n      return i()\n    };\n    g.range = function (a) {\n      if (!arguments.length)return e;\n      e = a;\n      return i()\n    };\n    g.copy = function () {\n      return F(a, c, e)\n    };\n    return i()\n  }\n\n  function A(a) {\n    return a.innerRadius\n  }\n\n  function H(a) {\n    return a.outerRadius\n  }\n\n  function na(a) {\n    return a.startAngle\n  }\n\n  function R(a) {\n    return a.endAngle\n  }\n\n  function N(a) {\n    function c(c) {\n      return c.length < 1 ? null : \"M\" + l(a(ia(this, c, e, g)), v)\n    }\n\n    var e = Ja, g = V, i = \"linear\", l = wb[i], v = 0.7;\n    c.x = function (a) {\n      if (!arguments.length)return e;\n      e = a;\n      return c\n    };\n    c.y = function (a) {\n      if (!arguments.length)return g;\n      g = a;\n      return c\n    };\n    c.interpolate = function (a) {\n      if (!arguments.length)return i;\n      l = wb[i = a];\n      return c\n    };\n    c.tension = function (a) {\n      if (!arguments.length)return v;\n      v = a;\n      return c\n    };\n    return c\n  }\n\n  function ia(a, c, e, g) {\n    var i = [], l = -1, v = c.length, b = typeof e === \"function\", k = typeof g === \"function\", f;\n    if (b && k)for (; ++l < v;)i.push([e.call(a, f = c[l], l), g.call(a, f, l)]); else if (b)for (; ++l < v;)i.push([e.call(a, c[l], l), g]); else if (k)for (; ++l < v;)i.push([e,\n      g.call(a, c[l], l)]); else for (; ++l < v;)i.push([e, g]);\n    return i\n  }\n\n  function Ja(a) {\n    return a[0]\n  }\n\n  function V(a) {\n    return a[1]\n  }\n\n  function lb(a) {\n    return a < 1E-4 ? Math.round(a * 1E4) / 1E4 : a\n  }\n\n  function Aa(a) {\n    for (var c = 0, e = a.length, g = a[0], i = [lb(g[0]), \",\", lb(g[1])]; ++c < e;)i.push(\"L\", lb((g = a[c])[0]), \",\", lb(g[1]));\n    return i.join(\"\")\n  }\n\n  function xb(a) {\n    for (var c = 0, e = a.length, g = a[0], i = [g[0], \",\", g[1]]; ++c < e;)i.push(\"V\", (g = a[c])[1], \"H\", g[0]);\n    return i.join(\"\")\n  }\n\n  function yb(a) {\n    for (var c = 0, e = a.length, g = a[0], i = [g[0], \",\", g[1]]; ++c < e;)i.push(\"H\",\n      (g = a[c])[0], \"V\", g[1]);\n    return i.join(\"\")\n  }\n\n  function mb(a, c) {\n    if (c.length < 1 || a.length != c.length && a.length != c.length + 2)return Aa(a);\n    var e = a.length != c.length, g = \"\", i = a[0], l = a[1], v = c[0], b = v, k = 1;\n    if (e) {\n      g = g + (\"Q\" + (l[0] - v[0] * 2 / 3) + \",\" + (l[1] - v[1] * 2 / 3) + \",\" + l[0] + \",\" + l[1]);\n      i = a[1];\n      k = 2\n    }\n    if (c.length > 1) {\n      b = c[1];\n      l = a[k];\n      k++;\n      g = g + (\"C\" + (i[0] + v[0]) + \",\" + (i[1] + v[1]) + \",\" + (l[0] - b[0]) + \",\" + (l[1] - b[1]) + \",\" + l[0] + \",\" + l[1]);\n      for (i = 2; i < c.length; i++, k++) {\n        l = a[k];\n        b = c[i];\n        g = g + (\"S\" + (l[0] - b[0]) + \",\" + (l[1] - b[1]) + \",\" + l[0] + \",\" + l[1])\n      }\n    }\n    if (e) {\n      e = a[k];\n      g =\n        g + (\"Q\" + (l[0] + b[0] * 2 / 3) + \",\" + (l[1] + b[1] * 2 / 3) + \",\" + e[0] + \",\" + e[1])\n    }\n    return g\n  }\n\n  function zb(a, c) {\n    for (var e = [], g = (1 - c) / 2, i, l = a[0], b = a[1], k = 1, Ga = a.length; ++k < Ga;) {\n      i = l;\n      l = b;\n      b = a[k];\n      e.push([g * (b[0] - i[0]), g * (b[1] - i[1])])\n    }\n    return e\n  }\n\n  function Tb(a) {\n    if (a.length < 3)return Aa(a);\n    var c = 1, e = a.length, g = a[0], i = g[0], l = g[1], b = [i, i, i, (g = a[1])[0]], k = [l, l, l, g[1]], i = [i, \",\", l];\n    for (bb(i, b, k); ++c < e;) {\n      g = a[c];\n      b.shift();\n      b.push(g[0]);\n      k.shift();\n      k.push(g[1]);\n      bb(i, b, k)\n    }\n    for (c = -1; ++c < 2;) {\n      b.shift();\n      b.push(g[0]);\n      k.shift();\n      k.push(g[1]);\n      bb(i, b, k)\n    }\n    return i.join(\"\")\n  }\n\n  function oa(a, c) {\n    return a[0] * c[0] + a[1] * c[1] + a[2] * c[2] + a[3] * c[3]\n  }\n\n  function bb(a, c, e) {\n    a.push(\"C\", oa(Ub, c), \",\", oa(Ub, e), \",\", oa(Vb, c), \",\", oa(Vb, e), \",\", oa(Qa, c), \",\", oa(Qa, e))\n  }\n\n  function Ab(a, c) {\n    return (c[1] - a[1]) / (c[0] - a[0])\n  }\n\n  function Wb(a) {\n    for (var c, e = -1, g = a.length, i, l; ++e < g;) {\n      c = a[e];\n      i = c[0];\n      l = c[1] + Ka;\n      c[0] = i * Math.cos(l);\n      c[1] = i * Math.sin(l)\n    }\n    return a\n  }\n\n  function Xb(a) {\n    function c(c) {\n      if (c.length < 1)return null;\n      var b = ia(this, c, e, i), c = ia(this, c, e === g ? function (a, c) {\n        return b[c][0]\n      } : g, i === l ? function (a, c) {\n        return b[c][1]\n      } :\n        l);\n      return \"M\" + k(a(c), f) + \"L\" + Ga(a(b.reverse()), f) + \"Z\"\n    }\n\n    var e = Ja, g = Ja, i = 0, l = V, b, k, Ga, f = 0.7;\n    c.x = function (a) {\n      if (!arguments.length)return g;\n      e = g = a;\n      return c\n    };\n    c.x0 = function (a) {\n      if (!arguments.length)return e;\n      e = a;\n      return c\n    };\n    c.x1 = function (a) {\n      if (!arguments.length)return g;\n      g = a;\n      return c\n    };\n    c.y = function (a) {\n      if (!arguments.length)return l;\n      i = l = a;\n      return c\n    };\n    c.y0 = function (a) {\n      if (!arguments.length)return i;\n      i = a;\n      return c\n    };\n    c.y1 = function (a) {\n      if (!arguments.length)return l;\n      l = a;\n      return c\n    };\n    c.interpolate = function (a) {\n      if (!arguments.length)return b;\n      k = wb[b = a];\n      Ga = k.reverse || k;\n      return c\n    };\n    c.tension = function (a) {\n      if (!arguments.length)return f;\n      f = a;\n      return c\n    };\n    return c.interpolate(\"linear\")\n  }\n\n  function Yb(a) {\n    return a.source\n  }\n\n  function Zb(a) {\n    return a.target\n  }\n\n  function qc(a) {\n    return a.radius\n  }\n\n  function $b(a) {\n    return [a.x, a.y]\n  }\n\n  function ac(a, c) {\n    var e = (a.ownerSVGElement || a).createSVGPoint();\n    if (Bb < 0 && (window.scrollX || window.scrollY)) {\n      var g = d3.select(document.body).append(\"svg\").style(\"position\", \"absolute\").style(\"top\", 0).style(\"left\", 0), i = g[0][0].getScreenCTM();\n      Bb = !(i.f ||\n      i.e);\n      g.remove()\n    }\n    if (Bb) {\n      e.x = c.pageX;\n      e.y = c.pageY\n    } else {\n      e.x = c.clientX;\n      e.y = c.clientY\n    }\n    e = e.matrixTransform(a.getScreenCTM().inverse());\n    return [e.x, e.y]\n  }\n\n  function rc() {\n    return 64\n  }\n\n  function sc() {\n    return \"circle\"\n  }\n\n  function bc(a, c) {\n    a.attr(\"transform\", function (a) {\n      return \"translate(\" + c(a) + \",0)\"\n    })\n  }\n\n  function cc(a, c) {\n    a.attr(\"transform\", function (a) {\n      return \"translate(0,\" + c(a) + \")\"\n    })\n  }\n\n  function dc(a, c) {\n    a.select(\".extent\").attr(\"x\", c[0][0]);\n    a.selectAll(\".n,.s,.w,.nw,.sw\").attr(\"x\", c[0][0] - 2);\n    a.selectAll(\".e,.ne,.se\").attr(\"x\", c[1][0] -\n      3);\n    a.selectAll(\".extent,.n,.s\").attr(\"width\", c[1][0] - c[0][0])\n  }\n\n  function ec(a, c) {\n    a.select(\".extent\").attr(\"y\", c[0][1]);\n    a.selectAll(\".n,.e,.w,.nw,.ne\").attr(\"y\", c[0][1] - 3);\n    a.selectAll(\".s,.se,.sw\").attr(\"y\", c[1][1] - 4);\n    a.selectAll(\".extent,.e,.w\").attr(\"height\", c[1][1] - c[0][1])\n  }\n\n  function tc() {\n    if (d3.event.keyCode == 32 && La && !ua) {\n      pa = null;\n      O[0] = O[0] - T[1][0];\n      O[1] = O[1] - T[1][1];\n      ua = 2;\n      ba()\n    }\n  }\n\n  function uc() {\n    if (d3.event.keyCode == 32 && ua == 2) {\n      O[0] = O[0] + T[1][0];\n      O[1] = O[1] + T[1][1];\n      ua = 0;\n      ba()\n    }\n  }\n\n  function Cb() {\n    if (O) {\n      var a = d3.svg.mouse(La),\n        c = d3.select(La);\n      if (!ua)if (d3.event.altKey) {\n        pa || (pa = [(T[0][0] + T[1][0]) / 2, (T[0][1] + T[1][1]) / 2]);\n        O[0] = T[+(a[0] < pa[0])][0];\n        O[1] = T[+(a[1] < pa[1])][1]\n      } else pa = null;\n      if (nb) {\n        fc(a, nb, 0);\n        dc(c, T)\n      }\n      if (ob) {\n        fc(a, ob, 1);\n        ec(c, T)\n      }\n      cb(\"brush\")\n    }\n  }\n\n  function fc(a, c, e) {\n    var g = Ia(c), c = g[0], i = g[1], g = O[e], l = T[1][e] - T[0][e];\n    if (ua) {\n      c = c - g;\n      i = i - (l + g)\n    }\n    a = Math.max(c, Math.min(i, a[e]));\n    if (ua) c = (a = a + g) + l; else {\n      pa && (g = Math.max(c, Math.min(i, 2 * pa[e] - a)));\n      if (g < a) {\n        c = a;\n        a = g\n      } else c = g\n    }\n    T[0][e] = a;\n    T[1][e] = c\n  }\n\n  function vc() {\n    if (O) {\n      Cb();\n      d3.select(La).selectAll(\".resize\").style(\"pointer-events\",\n        Db.empty() ? \"none\" : \"all\");\n      cb(\"brushend\");\n      Db = cb = La = nb = ob = T = ua = Ra = pa = O = null;\n      ba()\n    }\n  }\n\n  function Eb(a) {\n    var c = gc(), e = d3.event, g = d3.event = {type: a};\n    if (c) {\n      g.x = c[0] + Ba[0];\n      g.y = c[1] + Ba[1];\n      g.dx = c[0] - Ma[0];\n      g.dy = c[1] - Ma[1];\n      Na = Na | g.dx | g.dy;\n      Ma = c\n    }\n    try {\n      Fb[a].apply(Ca, pb)\n    } finally {\n      d3.event = e\n    }\n    e.stopPropagation();\n    e.preventDefault()\n  }\n\n  function gc() {\n    var a = Ca.parentNode, c = d3.event.changedTouches;\n    return a && (c ? d3.svg.touches(a, c)[0] : d3.svg.mouse(a))\n  }\n\n  function hc() {\n    if (Ca) {\n      if (!Ca.parentNode)return Gb();\n      Eb(\"drag\");\n      ba()\n    }\n  }\n\n  function Gb() {\n    if (Ca) {\n      Eb(\"dragend\");\n      if (Na) {\n        ba();\n        Na = d3.event.target === Hb\n      }\n      Fb = Hb = Ca = pb = Ba = Ma = null\n    }\n  }\n\n  function wc() {\n    if (Na) {\n      ba();\n      Na = 0\n    }\n  }\n\n  function qb(a) {\n    return [a[0] - ca[0], a[1] - ca[1], ca[2]]\n  }\n\n  function ic() {\n    for (var a = d3.svg.touches(qa), c = -1, e = a.length, g; ++c < e;)db[(g = a[c]).identifier] = qb(g);\n    return a\n  }\n\n  function xc() {\n    var a = d3.svg.touches(qa);\n    switch (a.length) {\n      case 1:\n        a = a[0];\n        Sa(ca[2], a, db[a.identifier]);\n        break;\n      case 2:\n        var c = a[0], e = a[1], a = [(c[0] + e[0]) / 2, (c[1] + e[1]) / 2], c = db[c.identifier], e = db[e.identifier], e = [(c[0] + e[0]) / 2, (c[1] + e[1]) / 2, c[2]];\n        Sa(Math.log(d3.event.scale) /\n          Math.LN2 + c[2], a, e)\n    }\n  }\n\n  function yc() {\n    rb = null;\n    if (eb) {\n      Ta = 1;\n      Sa(ca[2], d3.svg.mouse(qa), eb)\n    }\n  }\n\n  function zc() {\n    if (eb) {\n      if (Ta) {\n        ba();\n        Ta = Ib === d3.event.target\n      }\n      ca = Jb = Kb = Ib = qa = Lb = eb = null\n    }\n  }\n\n  function Ac() {\n    if (Ta) {\n      ba();\n      Ta = 0\n    }\n  }\n\n  function Sa(a, c, e) {\n    function g(a, c, e) {\n      a.domain(a.range().map(function (g) {\n        return a.invert((g - e) * i / l + c)\n      }))\n    }\n\n    var a = Mb(a, 2), i = Math.pow(2, ca[2]), l = Math.pow(2, a), a = Math.pow(2, (ca[2] = a) - e[2]), b = ca[0], k = ca[1], Ga = ca[0] = Mb(c[0] - e[0] * a, 0, l), f = ca[1] = Mb(c[1] - e[1] * a, 1, l), c = d3.event;\n    d3.event = {\n      scale: l, translate: [Ga, f],\n      transform: function (a, c) {\n        a && g(a, b, Ga);\n        c && g(c, k, f)\n      }\n    };\n    try {\n      Kb.apply(qa, Lb)\n    } finally {\n      d3.event = c\n    }\n    c.preventDefault()\n  }\n\n  function Mb(a, c, e) {\n    var g = Jb[c], i = g[0], g = g[1];\n    return arguments.length === 3 ? Math.max(g * (g === Infinity ? -Infinity : 1 / e - 1), Math.min(i === -Infinity ? Infinity : i, a / e)) * e : Math.max(i, Math.min(g, a))\n  }\n\n  if (!Date.now) Date.now = function () {\n    return +new Date\n  };\n  try {\n    document.createElement(\"div\").style.setProperty(\"opacity\", 0, \"\")\n  } catch (Tc) {\n    if (typeof CSSStyleDeclaration !== \"undefined\") {\n      var jc = CSSStyleDeclaration.prototype,\n        Bc = jc.setProperty;\n      jc.setProperty = function (a, c, e) {\n        Bc.call(this, a, c + \"\", e)\n      }\n    }\n  }\n  var d3 = global.d3 = {version: \"2.7.4\"};\n  var fb = function (a) {\n    return Array.prototype.slice.call(a)\n  };\n  try {\n    fb(document.documentElement.childNodes)[0].nodeType\n  } catch (Uc) {\n    fb = w\n  }\n  var vb = [].__proto__ ? function (a, c) {\n    a.__proto__ = c\n  } : function (a, c) {\n    for (var e in c)a[e] = c[e]\n  };\n  d3.functor = function (a) {\n    return typeof a === \"function\" ? a : function () {\n      return a\n    }\n  };\n  d3.rebind = function (a, c) {\n    for (var e = 1, g = arguments.length, i; ++e < g;)a[i = arguments[e]] = h(a, c, c[i]);\n    return a\n  };\n  d3.ascending =\n    function (a, c) {\n      return a < c ? -1 : a > c ? 1 : a >= c ? 0 : NaN\n    };\n  d3.descending = function (a, c) {\n    return c < a ? -1 : c > a ? 1 : c >= a ? 0 : NaN\n  };\n  d3.mean = function (a, c) {\n    var e = a.length, g, i = 0, l = -1, b = 0;\n    if (arguments.length === 1)for (; ++l < e;) {\n      if (r(g = a[l])) i = i + (g - i) / ++b\n    } else for (; ++l < e;)if (r(g = c.call(a, a[l], l))) i = i + (g - i) / ++b;\n    return b ? i : void 0\n  };\n  d3.median = function (a, c) {\n    arguments.length > 1 && (a = a.map(c));\n    a = a.filter(r);\n    return a.length ? d3.quantile(a.sort(d3.ascending), 0.5) : void 0\n  };\n  d3.min = function (a, c) {\n    var e = -1, g = a.length, i, l;\n    if (arguments.length === 1) {\n      for (; ++e <\n             g && ((i = a[e]) == null || i != i);)i = void 0;\n      for (; ++e < g;)if ((l = a[e]) != null && i > l) i = l\n    } else {\n      for (; ++e < g && ((i = c.call(a, a[e], e)) == null || i != i);)i = void 0;\n      for (; ++e < g;)if ((l = c.call(a, a[e], e)) != null && i > l) i = l\n    }\n    return i\n  };\n  d3.max = function (a, c) {\n    var e = -1, g = a.length, i, l;\n    if (arguments.length === 1) {\n      for (; ++e < g && ((i = a[e]) == null || i != i);)i = void 0;\n      for (; ++e < g;)if ((l = a[e]) != null && l > i) i = l\n    } else {\n      for (; ++e < g && ((i = c.call(a, a[e], e)) == null || i != i);)i = void 0;\n      for (; ++e < g;)if ((l = c.call(a, a[e], e)) != null && l > i) i = l\n    }\n    return i\n  };\n  d3.extent = function (a, c) {\n    var e =\n      -1, g = a.length, i, l, b;\n    if (arguments.length === 1) {\n      for (; ++e < g && ((i = b = a[e]) == null || i != i);)i = b = void 0;\n      for (; ++e < g;)if ((l = a[e]) != null) {\n        i > l && (i = l);\n        b < l && (b = l)\n      }\n    } else {\n      for (; ++e < g && ((i = b = c.call(a, a[e], e)) == null || i != i);)i = void 0;\n      for (; ++e < g;)if ((l = c.call(a, a[e], e)) != null) {\n        i > l && (i = l);\n        b < l && (b = l)\n      }\n    }\n    return [i, b]\n  };\n  d3.random = {\n    normal: function (a, c) {\n      arguments.length < 2 && (c = 1);\n      arguments.length < 1 && (a = 0);\n      return function () {\n        var e, g;\n        do {\n          e = Math.random() * 2 - 1;\n          g = Math.random() * 2 - 1;\n          g = e * e + g * g\n        } while (!g || g > 1);\n        return a + c * e * Math.sqrt(-2 * Math.log(g) /\n            g)\n      }\n    }\n  };\n  d3.sum = function (a, c) {\n    var e = 0, g = a.length, i, l = -1;\n    if (arguments.length === 1)for (; ++l < g;) {\n      if (!isNaN(i = +a[l])) e = e + i\n    } else for (; ++l < g;)if (!isNaN(i = +c.call(a, a[l], l))) e = e + i;\n    return e\n  };\n  d3.quantile = function (a, c) {\n    var e = (a.length - 1) * c + 1, g = Math.floor(e), i = a[g - 1];\n    return (e = e - g) ? i + e * (a[g] - i) : i\n  };\n  d3.transpose = function (a) {\n    return d3.zip.apply(d3, a)\n  };\n  d3.zip = function () {\n    if (!(i = arguments.length))return [];\n    for (var a = -1, c = d3.min(arguments, t), e = Array(c); ++a < c;)for (var g = -1, i, l = e[a] = Array(i); ++g < i;)l[g] = arguments[g][a];\n    return e\n  };\n  d3.bisectLeft = function (a, c, e, g) {\n    arguments.length < 3 && (e = 0);\n    if (arguments.length < 4) g = a.length;\n    for (; e < g;) {\n      var i = e + g >> 1;\n      a[i] < c ? e = i + 1 : g = i\n    }\n    return e\n  };\n  d3.bisect = d3.bisectRight = function (a, c, e, g) {\n    arguments.length < 3 && (e = 0);\n    if (arguments.length < 4) g = a.length;\n    for (; e < g;) {\n      var i = e + g >> 1;\n      c < a[i] ? g = i : e = i + 1\n    }\n    return e\n  };\n  d3.first = function (a, c) {\n    var e = 0, g = a.length, i = a[0], l;\n    if (arguments.length === 1) c = d3.ascending;\n    for (; ++e < g;)if (c.call(a, i, l = a[e]) > 0) i = l;\n    return i\n  };\n  d3.last = function (a, c) {\n    var e = 0, g = a.length, i = a[0], l;\n    if (arguments.length ===\n      1) c = d3.ascending;\n    for (; ++e < g;)if (c.call(a, i, l = a[e]) <= 0) i = l;\n    return i\n  };\n  d3.nest = function () {\n    function a(c, i) {\n      if (i >= g.length)return b ? b.call(e, c) : l ? c.sort(l) : c;\n      for (var k = -1, f = c.length, j = g[i++], n, m, q = {}; ++k < f;)(n = j(m = c[k])) in q ? q[n].push(m) : q[n] = [m];\n      for (n in q)q[n] = a(q[n], i);\n      return q\n    }\n\n    function c(a, e) {\n      if (e >= g.length)return a;\n      var l = [], b = i[e++], k;\n      for (k in a)l.push({key: k, values: c(a[k], e)});\n      b && l.sort(function (a, c) {\n        return b(a.key, c.key)\n      });\n      return l\n    }\n\n    var e = {}, g = [], i = [], l, b;\n    e.map = function (c) {\n      return a(c, 0)\n    };\n    e.entries =\n      function (e) {\n        return c(a(e, 0), 0)\n      };\n    e.key = function (a) {\n      g.push(a);\n      return e\n    };\n    e.sortKeys = function (a) {\n      i[g.length - 1] = a;\n      return e\n    };\n    e.sortValues = function (a) {\n      l = a;\n      return e\n    };\n    e.rollup = function (a) {\n      b = a;\n      return e\n    };\n    return e\n  };\n  d3.keys = function (a) {\n    var c = [], e;\n    for (e in a)c.push(e);\n    return c\n  };\n  d3.values = function (a) {\n    var c = [], e;\n    for (e in a)c.push(a[e]);\n    return c\n  };\n  d3.entries = function (a) {\n    var c = [], e;\n    for (e in a)c.push({key: e, value: a[e]});\n    return c\n  };\n  d3.permute = function (a, c) {\n    for (var e = [], g = -1, i = c.length; ++g < i;)e[g] = a[c[g]];\n    return e\n  };\n  d3.merge =\n    function (a) {\n      return Array.prototype.concat.apply([], a)\n    };\n  d3.split = function (a, c) {\n    var e = [], g = [], i, l = -1, b = a.length;\n    for (arguments.length < 2 && (c = B); ++l < b;)if (c.call(g, i = a[l], l)) g = []; else {\n      g.length || e.push(g);\n      g.push(i)\n    }\n    return e\n  };\n  d3.range = function (a, c, e) {\n    if (arguments.length < 3) {\n      e = 1;\n      if (arguments.length < 2) {\n        c = a;\n        a = 0\n      }\n    }\n    if ((c - a) / e == Infinity)throw Error(\"infinite range\");\n    var g = [], i = -1, l;\n    if (e < 0)for (; (l = a + e * ++i) > c;)g.push(l); else for (; (l = a + e * ++i) < c;)g.push(l);\n    return g\n  };\n  d3.requote = function (a) {\n    return a.replace(Cc, \"\\\\$&\")\n  };\n  var Cc = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n  d3.round = function (a, c) {\n    return c ? Math.round(a * (c = Math.pow(10, c))) / c : Math.round(a)\n  };\n  d3.xhr = function (a, c, e) {\n    var g;\n    window.XMLHttpRequest ? g = new XMLHttpRequest : window.ActiveXObject && (g = new ActiveXObject(\"Microsoft.XMLHTTP\"));\n    if (arguments.length < 3) {\n      e = c;\n      c = null\n    } else c && g.overrideMimeType && g.overrideMimeType(c);\n    g.open(\"GET\", a, true);\n    c && g.setRequestHeader(\"Accept\", c);\n    g.onreadystatechange = function () {\n      g.readyState === 4 && e(g.status < 300 ? g : null)\n    };\n    g.send(null)\n  };\n  d3.text = function (a,\n                      c, e) {\n    if (arguments.length < 3) {\n      e = c;\n      c = null\n    }\n    d3.xhr(a, c, function (a) {\n      e(a && a.responseText)\n    })\n  };\n  d3.json = function (a, c) {\n    d3.text(a, \"application/json\", function (a) {\n      c(a ? JSON.parse(a) : null)\n    })\n  };\n  d3.html = function (a, c) {\n    d3.text(a, \"text/html\", function (a) {\n      if (a != null) {\n        var g = document.createRange();\n        g.selectNode(document.body);\n        a = g.createContextualFragment(a)\n      }\n      c(a)\n    })\n  };\n  d3.xml = function (a, c, e) {\n    if (arguments.length < 3) {\n      e = c;\n      c = null\n    }\n    d3.xhr(a, c, function (a) {\n      e(a && a.responseXML)\n    })\n  };\n  var sb = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: \"http://www.w3.org/1999/xhtml\",\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n  d3.ns = {\n    prefix: sb, qualify: function (a) {\n      var c = a.indexOf(\":\");\n      return c < 0 ? a in sb ? {space: sb[a], local: a} : a : {space: sb[a.substring(0, c)], local: a.substring(c + 1)}\n    }\n  };\n  d3.dispatch = function () {\n    for (var a = new P, c = -1, e = arguments.length; ++c < e;)a[arguments[c]] = M(a);\n    return a\n  };\n  P.prototype.on = function (a, c) {\n    var e = a.indexOf(\".\"), g = \"\";\n    if (e > 0) {\n      g = a.substring(e + 1);\n      a = a.substring(0, e)\n    }\n    return arguments.length < 2 ?\n      this[a].on(g) : this[a].on(g, c)\n  };\n  d3.format = function (a) {\n    var a = Dc.exec(a), c = a[1] || \" \", e = a[3] || \"\", g = a[5], i = +a[6], l = a[7], b = a[8], k = a[9], f = 1, j = \"\", n = false;\n    b && (b = +b.substring(1));\n    if (g) {\n      c = \"0\";\n      l && (i = i - Math.floor((i - 1) / 4))\n    }\n    switch (k) {\n      case \"n\":\n        l = true;\n        k = \"g\";\n        break;\n      case \"%\":\n        f = 100;\n        j = \"%\";\n        k = \"f\";\n        break;\n      case \"p\":\n        f = 100;\n        j = \"%\";\n        k = \"r\";\n        break;\n      case \"d\":\n        n = true;\n        b = 0;\n        break;\n      case \"s\":\n        f = -1;\n        k = \"r\"\n    }\n    k == \"r\" && !b && (k = \"g\");\n    k = Ec[k] || $;\n    return function (a) {\n      if (n && a % 1)return \"\";\n      var m = a < 0 && (a = -a) ? \"\\u2212\" : e;\n      if (f < 0) {\n        var q = d3.formatPrefix(a, b), a = a * q.scale;\n        j = q.symbol\n      } else a = a * f;\n      a = k(a, b);\n      if (g) {\n        q = a.length + m.length;\n        q < i && (a = Array(i - q + 1).join(c) + a);\n        l && (a = K(a));\n        a = m + a\n      } else {\n        l && (a = K(a));\n        a = m + a;\n        q = a.length;\n        q < i && (a = Array(i - q + 1).join(c) + a)\n      }\n      return a + j\n    }\n  };\n  var Dc = /(?:([^{])?([<>=^]))?([+\\- ])?(#)?(0)?([0-9]+)?(,)?(\\.[0-9]+)?([a-zA-Z%])?/, Ec = {\n    g: function (a, c) {\n      return a.toPrecision(c)\n    }, e: function (a, c) {\n      return a.toExponential(c)\n    }, f: function (a, c) {\n      return a.toFixed(c)\n    }, r: function (a, c) {\n      return d3.round(a, c = ja(a, c)).toFixed(Math.max(0, Math.min(20, c)))\n    }\n  }, Fc = [\"y\", \"z\", \"a\", \"f\", \"p\",\n    \"n\", \"\\u03bc\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"].map(function (a, c) {\n    return {scale: Math.pow(10, (8 - c) * 3), symbol: a}\n  });\n  d3.formatPrefix = function (a, c) {\n    var e = 0;\n    if (a) {\n      a < 0 && (a = a * -1);\n      c && (a = d3.round(a, ja(a, c)));\n      e = 1 + Math.floor(1E-12 + Math.log(a) / Math.LN10);\n      e = Math.max(-24, Math.min(24, Math.floor((e <= 0 ? e + 1 : e - 1) / 3) * 3))\n    }\n    return Fc[8 + e / 3]\n  };\n  var Gc = Da(2), Hc = Da(3), Ic = {\n    linear: function () {\n      return da\n    }, poly: Da, quad: function () {\n      return Gc\n    }, cubic: function () {\n      return Hc\n    }, sin: function () {\n      return L\n    }, exp: function () {\n      return E\n    }, circle: function () {\n      return ka\n    },\n    elastic: function (a, c) {\n      var e;\n      arguments.length < 2 && (c = 0.45);\n      if (arguments.length < 1) {\n        a = 1;\n        e = c / 4\n      } else e = c / (2 * Math.PI) * Math.asin(1 / a);\n      return function (g) {\n        return 1 + a * Math.pow(2, 10 * -g) * Math.sin((g - e) * 2 * Math.PI / c)\n      }\n    }, back: function (a) {\n      a || (a = 1.70158);\n      return function (c) {\n        return c * c * ((a + 1) * c - a)\n      }\n    }, bounce: function () {\n      return Wa\n    }\n  }, Jc = {\n    \"in\": function (a) {\n      return a\n    }, out: aa, \"in-out\": W, \"out-in\": function (a) {\n      return W(aa(a))\n    }\n  };\n  d3.ease = function (a) {\n    var c = a.indexOf(\"-\"), e = c >= 0 ? a.substring(0, c) : a, c = c >= 0 ? a.substring(c + 1) : \"in\", g = Jc[c](Ic[e].apply(null,\n      Array.prototype.slice.call(arguments, 1)));\n    return function (a) {\n      return a <= 0 ? 0 : a >= 1 ? 1 : g(a)\n    }\n  };\n  d3.event = null;\n  d3.interpolate = function (a, c) {\n    for (var e = d3.interpolators.length, g; --e >= 0 && !(g = d3.interpolators[e](a, c)););\n    return g\n  };\n  d3.interpolateNumber = function (a, c) {\n    c = c - a;\n    return function (e) {\n      return a + c * e\n    }\n  };\n  d3.interpolateRound = function (a, c) {\n    c = c - a;\n    return function (e) {\n      return Math.round(a + c * e)\n    }\n  };\n  d3.interpolateString = function (a, c) {\n    var e, g, i = 0, l = [], b = [], k, f;\n    for (g = tb.lastIndex = 0; e = tb.exec(c); ++g) {\n      e.index && l.push(c.substring(i,\n        e.index));\n      b.push({i: l.length, x: e[0]});\n      l.push(null);\n      i = tb.lastIndex\n    }\n    i < c.length && l.push(c.substring(i));\n    g = 0;\n    for (k = b.length; (e = tb.exec(a)) && g < k; ++g) {\n      f = b[g];\n      if (f.x == e[0]) {\n        if (f.i)if (l[f.i + 1] == null) {\n          l[f.i - 1] = l[f.i - 1] + f.x;\n          l.splice(f.i, 1);\n          for (e = g + 1; e < k; ++e)b[e].i--\n        } else {\n          l[f.i - 1] = l[f.i - 1] + (f.x + l[f.i + 1]);\n          l.splice(f.i, 2);\n          for (e = g + 1; e < k; ++e)b[e].i = b[e].i - 2\n        } else if (l[f.i + 1] == null) l[f.i] = f.x; else {\n          l[f.i] = f.x + l[f.i + 1];\n          l.splice(f.i + 1, 1);\n          for (e = g + 1; e < k; ++e)b[e].i--\n        }\n        b.splice(g, 1);\n        k--;\n        g--\n      } else f.x = d3.interpolateNumber(parseFloat(e[0]),\n        parseFloat(f.x))\n    }\n    for (; g < k;) {\n      f = b.pop();\n      if (l[f.i + 1] == null) l[f.i] = f.x; else {\n        l[f.i] = f.x + l[f.i + 1];\n        l.splice(f.i + 1, 1)\n      }\n      k--\n    }\n    return l.length === 1 ? l[0] == null ? b[0].x : function () {\n      return c\n    } : function (a) {\n      for (g = 0; g < k; ++g)l[(f = b[g]).i] = f.x(a);\n      return l.join(\"\")\n    }\n  };\n  d3.interpolateTransform = function (a, c) {\n    var e = [], g = [], i, l = d3.transform(a), b = d3.transform(c), k = l.translate, f = b.translate, j = l.rotate, n = b.rotate, m = l.skew, q = b.skew, l = l.scale, b = b.scale;\n    if (k[0] != f[0] || k[1] != f[1]) {\n      e.push(\"translate(\", null, \",\", null, \")\");\n      g.push({\n        i: 1, x: d3.interpolateNumber(k[0],\n          f[0])\n      }, {i: 3, x: d3.interpolateNumber(k[1], f[1])})\n    } else f[0] || f[1] ? e.push(\"translate(\" + f + \")\") : e.push(\"\");\n    j != n ? g.push({\n      i: e.push(e.pop() + \"rotate(\", null, \")\") - 2,\n      x: d3.interpolateNumber(j, n)\n    }) : n && e.push(e.pop() + \"rotate(\" + n + \")\");\n    m != q ? g.push({\n      i: e.push(e.pop() + \"skewX(\", null, \")\") - 2,\n      x: d3.interpolateNumber(m, q)\n    }) : q && e.push(e.pop() + \"skewX(\" + q + \")\");\n    if (l[0] != b[0] || l[1] != b[1]) {\n      i = e.push(e.pop() + \"scale(\", null, \",\", null, \")\");\n      g.push({i: i - 4, x: d3.interpolateNumber(l[0], b[0])}, {i: i - 2, x: d3.interpolateNumber(l[1], b[1])})\n    } else(b[0] !=\n    1 || b[1] != 1) && e.push(e.pop() + \"scale(\" + b + \")\");\n    i = g.length;\n    return function (a) {\n      for (var c = -1, l; ++c < i;)e[(l = g[c]).i] = l.x(a);\n      return e.join(\"\")\n    }\n  };\n  d3.interpolateRgb = function (a, c) {\n    var a = d3.rgb(a), c = d3.rgb(c), e = a.r, g = a.g, i = a.b, l = c.r - e, b = c.g - g, k = c.b - i;\n    return function (a) {\n      return \"#\" + fa(Math.round(e + l * a)) + fa(Math.round(g + b * a)) + fa(Math.round(i + k * a))\n    }\n  };\n  d3.interpolateHsl = function (a, c) {\n    var a = d3.hsl(a), c = d3.hsl(c), e = a.h, g = a.s, i = a.l, l = c.h - e, b = c.s - g, k = c.l - i;\n    return function (a) {\n      return ra(e + l * a, g + b * a, i + k * a).toString()\n    }\n  };\n  d3.interpolateArray =\n    function (a, c) {\n      var e = [], g = [], i = a.length, l = c.length, b = Math.min(a.length, c.length), k;\n      for (k = 0; k < b; ++k)e.push(d3.interpolate(a[k], c[k]));\n      for (; k < i; ++k)g[k] = a[k];\n      for (; k < l; ++k)g[k] = c[k];\n      return function (a) {\n        for (k = 0; k < b; ++k)g[k] = e[k](a);\n        return g\n      }\n    };\n  d3.interpolateObject = function (a, c) {\n    var e = {}, g = {}, i;\n    for (i in a)i in c ? e[i] = (i == \"transform\" ? d3.interpolateTransform : d3.interpolate)(a[i], c[i]) : g[i] = a[i];\n    for (i in c)i in a || (g[i] = c[i]);\n    return function (a) {\n      for (i in e)g[i] = e[i](a);\n      return g\n    }\n  };\n  var tb = /[-+]?(?:\\d*\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\n  d3.interpolators = [d3.interpolateObject, function (a, c) {\n    return c instanceof Array && d3.interpolateArray(a, c)\n  }, function (a, c) {\n    return (typeof a === \"string\" || typeof c === \"string\") && d3.interpolateString(a + \"\", c + \"\")\n  }, function (a, c) {\n    return (typeof c === \"string\" ? c in Ya || /^(#|rgb\\(|hsl\\()/.test(c) : c instanceof Y || c instanceof J) && d3.interpolateRgb(a, c)\n  }, function (a, c) {\n    return !isNaN(a = +a) && !isNaN(c = +c) && d3.interpolateNumber(a, c)\n  }];\n  d3.rgb = function (a, c, e) {\n    return arguments.length === 1 ? a instanceof Y ? ea(a.r, a.g, a.b) : Ea(\"\" +\n      a, ea, ra) : ea(~~a, ~~c, ~~e)\n  };\n  Y.prototype.brighter = function (a) {\n    var a = Math.pow(0.7, arguments.length ? a : 1), c = this.r, e = this.g, g = this.b;\n    if (!c && !e && !g)return ea(30, 30, 30);\n    c && c < 30 && (c = 30);\n    e && e < 30 && (e = 30);\n    g && g < 30 && (g = 30);\n    return ea(Math.min(255, Math.floor(c / a)), Math.min(255, Math.floor(e / a)), Math.min(255, Math.floor(g / a)))\n  };\n  Y.prototype.darker = function (a) {\n    a = Math.pow(0.7, arguments.length ? a : 1);\n    return ea(Math.floor(a * this.r), Math.floor(a * this.g), Math.floor(a * this.b))\n  };\n  Y.prototype.hsl = function () {\n    return Fa(this.r, this.g,\n      this.b)\n  };\n  Y.prototype.toString = function () {\n    return \"#\" + fa(this.r) + fa(this.g) + fa(this.b)\n  };\n  var Ya = {\n    aliceblue: \"#f0f8ff\",\n    antiquewhite: \"#faebd7\",\n    aqua: \"#00ffff\",\n    aquamarine: \"#7fffd4\",\n    azure: \"#f0ffff\",\n    beige: \"#f5f5dc\",\n    bisque: \"#ffe4c4\",\n    black: \"#000000\",\n    blanchedalmond: \"#ffebcd\",\n    blue: \"#0000ff\",\n    blueviolet: \"#8a2be2\",\n    brown: \"#a52a2a\",\n    burlywood: \"#deb887\",\n    cadetblue: \"#5f9ea0\",\n    chartreuse: \"#7fff00\",\n    chocolate: \"#d2691e\",\n    coral: \"#ff7f50\",\n    cornflowerblue: \"#6495ed\",\n    cornsilk: \"#fff8dc\",\n    crimson: \"#dc143c\",\n    cyan: \"#00ffff\",\n    darkblue: \"#00008b\",\n    darkcyan: \"#008b8b\",\n    darkgoldenrod: \"#b8860b\",\n    darkgray: \"#a9a9a9\",\n    darkgreen: \"#006400\",\n    darkgrey: \"#a9a9a9\",\n    darkkhaki: \"#bdb76b\",\n    darkmagenta: \"#8b008b\",\n    darkolivegreen: \"#556b2f\",\n    darkorange: \"#ff8c00\",\n    darkorchid: \"#9932cc\",\n    darkred: \"#8b0000\",\n    darksalmon: \"#e9967a\",\n    darkseagreen: \"#8fbc8f\",\n    darkslateblue: \"#483d8b\",\n    darkslategray: \"#2f4f4f\",\n    darkslategrey: \"#2f4f4f\",\n    darkturquoise: \"#00ced1\",\n    darkviolet: \"#9400d3\",\n    deeppink: \"#ff1493\",\n    deepskyblue: \"#00bfff\",\n    dimgray: \"#696969\",\n    dimgrey: \"#696969\",\n    dodgerblue: \"#1e90ff\",\n    firebrick: \"#b22222\",\n    floralwhite: \"#fffaf0\",\n    forestgreen: \"#228b22\",\n    fuchsia: \"#ff00ff\",\n    gainsboro: \"#dcdcdc\",\n    ghostwhite: \"#f8f8ff\",\n    gold: \"#ffd700\",\n    goldenrod: \"#daa520\",\n    gray: \"#808080\",\n    green: \"#008000\",\n    greenyellow: \"#adff2f\",\n    grey: \"#808080\",\n    honeydew: \"#f0fff0\",\n    hotpink: \"#ff69b4\",\n    indianred: \"#cd5c5c\",\n    indigo: \"#4b0082\",\n    ivory: \"#fffff0\",\n    khaki: \"#f0e68c\",\n    lavender: \"#e6e6fa\",\n    lavenderblush: \"#fff0f5\",\n    lawngreen: \"#7cfc00\",\n    lemonchiffon: \"#fffacd\",\n    lightblue: \"#add8e6\",\n    lightcoral: \"#f08080\",\n    lightcyan: \"#e0ffff\",\n    lightgoldenrodyellow: \"#fafad2\",\n    lightgray: \"#d3d3d3\",\n    lightgreen: \"#90ee90\",\n    lightgrey: \"#d3d3d3\",\n    lightpink: \"#ffb6c1\",\n    lightsalmon: \"#ffa07a\",\n    lightseagreen: \"#20b2aa\",\n    lightskyblue: \"#87cefa\",\n    lightslategray: \"#778899\",\n    lightslategrey: \"#778899\",\n    lightsteelblue: \"#b0c4de\",\n    lightyellow: \"#ffffe0\",\n    lime: \"#00ff00\",\n    limegreen: \"#32cd32\",\n    linen: \"#faf0e6\",\n    magenta: \"#ff00ff\",\n    maroon: \"#800000\",\n    mediumaquamarine: \"#66cdaa\",\n    mediumblue: \"#0000cd\",\n    mediumorchid: \"#ba55d3\",\n    mediumpurple: \"#9370db\",\n    mediumseagreen: \"#3cb371\",\n    mediumslateblue: \"#7b68ee\",\n    mediumspringgreen: \"#00fa9a\",\n    mediumturquoise: \"#48d1cc\",\n    mediumvioletred: \"#c71585\",\n    midnightblue: \"#191970\",\n    mintcream: \"#f5fffa\",\n    mistyrose: \"#ffe4e1\",\n    moccasin: \"#ffe4b5\",\n    navajowhite: \"#ffdead\",\n    navy: \"#000080\",\n    oldlace: \"#fdf5e6\",\n    olive: \"#808000\",\n    olivedrab: \"#6b8e23\",\n    orange: \"#ffa500\",\n    orangered: \"#ff4500\",\n    orchid: \"#da70d6\",\n    palegoldenrod: \"#eee8aa\",\n    palegreen: \"#98fb98\",\n    paleturquoise: \"#afeeee\",\n    palevioletred: \"#db7093\",\n    papayawhip: \"#ffefd5\",\n    peachpuff: \"#ffdab9\",\n    peru: \"#cd853f\",\n    pink: \"#ffc0cb\",\n    plum: \"#dda0dd\",\n    powderblue: \"#b0e0e6\",\n    purple: \"#800080\",\n    red: \"#ff0000\",\n    rosybrown: \"#bc8f8f\",\n    royalblue: \"#4169e1\",\n    saddlebrown: \"#8b4513\",\n    salmon: \"#fa8072\",\n    sandybrown: \"#f4a460\",\n    seagreen: \"#2e8b57\",\n    seashell: \"#fff5ee\",\n    sienna: \"#a0522d\",\n    silver: \"#c0c0c0\",\n    skyblue: \"#87ceeb\",\n    slateblue: \"#6a5acd\",\n    slategray: \"#708090\",\n    slategrey: \"#708090\",\n    snow: \"#fffafa\",\n    springgreen: \"#00ff7f\",\n    steelblue: \"#4682b4\",\n    tan: \"#d2b48c\",\n    teal: \"#008080\",\n    thistle: \"#d8bfd8\",\n    tomato: \"#ff6347\",\n    turquoise: \"#40e0d0\",\n    violet: \"#ee82ee\",\n    wheat: \"#f5deb3\",\n    white: \"#ffffff\",\n    whitesmoke: \"#f5f5f5\",\n    yellow: \"#ffff00\",\n    yellowgreen: \"#9acd32\"\n  }, Nb;\n  for (Nb in Ya)Ya[Nb] =\n    Ea(Ya[Nb], ea, ra);\n  d3.hsl = function (a, c, e) {\n    return arguments.length === 1 ? a instanceof J ? ga(a.h, a.s, a.l) : Ea(\"\" + a, Fa, ga) : ga(+a, +c, +e)\n  };\n  J.prototype.brighter = function (a) {\n    a = Math.pow(0.7, arguments.length ? a : 1);\n    return ga(this.h, this.s, this.l / a)\n  };\n  J.prototype.darker = function (a) {\n    a = Math.pow(0.7, arguments.length ? a : 1);\n    return ga(this.h, this.s, a * this.l)\n  };\n  J.prototype.rgb = function () {\n    return ra(this.h, this.s, this.l)\n  };\n  J.prototype.toString = function () {\n    return this.rgb().toString()\n  };\n  var ib = function (a, c) {\n      return c.querySelector(a)\n    },\n    Pb = function (a, c) {\n      return c.querySelectorAll(a)\n    }, Ua = document.documentElement, Kc = Ua.matchesSelector || Ua.webkitMatchesSelector || Ua.mozMatchesSelector || Ua.msMatchesSelector || Ua.oMatchesSelector, kc = function (a, c) {\n      return Kc.call(a, c)\n    };\n  if (typeof Sizzle === \"function\") {\n    ib = function (a, c) {\n      return Sizzle(a, c)[0]\n    };\n    Pb = function (a, c) {\n      return Sizzle.uniqueSort(Sizzle(a, c))\n    };\n    kc = Sizzle.matchesSelector\n  }\n  var I = [];\n  d3.selection = function () {\n    return gb\n  };\n  d3.selection.prototype = I;\n  I.select = function (a) {\n    var c = [], e, g, i, l;\n    typeof a !== \"function\" &&\n    (a = la(a));\n    for (var b = -1, k = this.length; ++b < k;) {\n      c.push(e = []);\n      e.parentNode = (i = this[b]).parentNode;\n      for (var f = -1, j = i.length; ++f < j;)if (l = i[f]) {\n        e.push(g = a.call(l, l.__data__, f));\n        if (g && \"__data__\" in l) g.__data__ = l.__data__\n      } else e.push(null)\n    }\n    return Q(c)\n  };\n  I.selectAll = function (a) {\n    var c = [], e, g;\n    typeof a !== \"function\" && (a = sa(a));\n    for (var i = -1, l = this.length; ++i < l;)for (var b = this[i], k = -1, f = b.length; ++k < f;)if (g = b[k]) {\n      c.push(e = fb(a.call(g, g.__data__, k)));\n      e.parentNode = g\n    }\n    return Q(c)\n  };\n  I.attr = function (a, c) {\n    function e() {\n      this.removeAttribute(a)\n    }\n\n    function g() {\n      this.removeAttributeNS(a.space, a.local)\n    }\n\n    function i() {\n      this.setAttribute(a, c)\n    }\n\n    function l() {\n      this.setAttributeNS(a.space, a.local, c)\n    }\n\n    function b() {\n      var e = c.apply(this, arguments);\n      e == null ? this.removeAttribute(a) : this.setAttribute(a, e)\n    }\n\n    function k() {\n      var e = c.apply(this, arguments);\n      e == null ? this.removeAttributeNS(a.space, a.local) : this.setAttributeNS(a.space, a.local, e)\n    }\n\n    a = d3.ns.qualify(a);\n    if (arguments.length < 2) {\n      var f = this.node();\n      return a.local ? f.getAttributeNS(a.space, a.local) : f.getAttribute(a)\n    }\n    return this.each(c ==\n    null ? a.local ? g : e : typeof c === \"function\" ? a.local ? k : b : a.local ? l : i)\n  };\n  I.classed = function (a, c) {\n    var e = a.split(Lc), g = e.length, i = -1;\n    if (arguments.length > 1) {\n      for (; ++i < g;)ta.call(this, e[i], c);\n      return this\n    }\n    for (; ++i < g;)if (!ta.call(this, e[i]))return false;\n    return true\n  };\n  var Lc = /\\s+/g;\n  I.style = function (a, c, e) {\n    function g() {\n      this.style.removeProperty(a)\n    }\n\n    function i() {\n      this.style.setProperty(a, c, e)\n    }\n\n    function l() {\n      var g = c.apply(this, arguments);\n      g == null ? this.style.removeProperty(a) : this.style.setProperty(a, g, e)\n    }\n\n    arguments.length <\n    3 && (e = \"\");\n    return arguments.length < 2 ? window.getComputedStyle(this.node(), null).getPropertyValue(a) : this.each(c == null ? g : typeof c === \"function\" ? l : i)\n  };\n  I.property = function (a, c) {\n    function e() {\n      delete this[a]\n    }\n\n    function g() {\n      this[a] = c\n    }\n\n    function i() {\n      var e = c.apply(this, arguments);\n      e == null ? delete this[a] : this[a] = e\n    }\n\n    return arguments.length < 2 ? this.node()[a] : this.each(c == null ? e : typeof c === \"function\" ? i : g)\n  };\n  I.text = function (a) {\n    return arguments.length < 1 ? this.node().textContent : this.each(typeof a === \"function\" ? function () {\n      var c =\n        a.apply(this, arguments);\n      this.textContent = c == null ? \"\" : c\n    } : a == null ? function () {\n      this.textContent = \"\"\n    } : function () {\n      this.textContent = a\n    })\n  };\n  I.html = function (a) {\n    return arguments.length < 1 ? this.node().innerHTML : this.each(typeof a === \"function\" ? function () {\n      var c = a.apply(this, arguments);\n      this.innerHTML = c == null ? \"\" : c\n    } : a == null ? function () {\n      this.innerHTML = \"\"\n    } : function () {\n      this.innerHTML = a\n    })\n  };\n  I.append = function (a) {\n    function c() {\n      return this.appendChild(document.createElementNS(this.namespaceURI, a))\n    }\n\n    function e() {\n      var c = document.createElementNS(a.space,\n        a.local);\n      return this.appendChild(c)\n    }\n\n    a = d3.ns.qualify(a);\n    return this.select(a.local ? e : c)\n  };\n  I.insert = function (a, c) {\n    function e() {\n      return this.insertBefore(document.createElementNS(this.namespaceURI, a), ib(c, this))\n    }\n\n    function g() {\n      return this.insertBefore(document.createElementNS(a.space, a.local), ib(c, this))\n    }\n\n    a = d3.ns.qualify(a);\n    return this.select(a.local ? g : e)\n  };\n  I.remove = function () {\n    return this.each(function () {\n      var a = this.parentNode;\n      a && a.removeChild(this)\n    })\n  };\n  I.data = function (a, c) {\n    function e(a, e) {\n      var b, k = a.length,\n        f = e.length, v = Math.min(k, f), j = Math.max(k, f), n = [], m = [], q = [], D, C;\n      if (c) {\n        var v = {}, j = [], p;\n        C = e.length;\n        for (b = -1; ++b < k;) {\n          p = c.call(D = a[b], D.__data__, b);\n          p in v ? q[C++] = D : v[p] = D;\n          j.push(p)\n        }\n        for (b = -1; ++b < f;) {\n          if (D = v[p = c.call(e, C = e[b], b)]) {\n            D.__data__ = C;\n            n[b] = D;\n            m[b] = q[b] = null\n          } else {\n            m[b] = {__data__: C};\n            n[b] = q[b] = null\n          }\n          delete v[p]\n        }\n        for (b = -1; ++b < k;)j[b] in v && (q[b] = a[b])\n      } else {\n        for (b = -1; ++b < v;) {\n          D = a[b];\n          C = e[b];\n          if (D) {\n            D.__data__ = C;\n            n[b] = D;\n            m[b] = q[b] = null\n          } else {\n            m[b] = {__data__: C};\n            n[b] = q[b] = null\n          }\n        }\n        for (; b < f; ++b) {\n          m[b] = {__data__: e[b]};\n          n[b] =\n            q[b] = null\n        }\n        for (; b < j; ++b) {\n          q[b] = a[b];\n          m[b] = n[b] = null\n        }\n      }\n      m.update = n;\n      m.parentNode = n.parentNode = q.parentNode = a.parentNode;\n      g.push(m);\n      i.push(n);\n      l.push(q)\n    }\n\n    var g = [], i = [], l = [], b = -1, k = this.length, f;\n    if (typeof a === \"function\")for (; ++b < k;)e(f = this[b], a.call(f, f.parentNode.__data__, b)); else for (; ++b < k;)e(f = this[b], a);\n    b = Q(i);\n    b.enter = function () {\n      var a = g;\n      vb(a, Va);\n      return a\n    };\n    b.exit = function () {\n      return Q(l)\n    };\n    return b\n  };\n  I.filter = function (a) {\n    var c = [], e, g, i;\n    if (typeof a !== \"function\")var b = a, a = function () {\n      return kc(this, b)\n    };\n    for (var k =\n      0, f = this.length; k < f; k++) {\n      c.push(e = []);\n      e.parentNode = (g = this[k]).parentNode;\n      for (var n = 0, j = g.length; n < j; n++)(i = g[n]) && a.call(i, i.__data__, n) && e.push(i)\n    }\n    return Q(c)\n  };\n  I.map = function (a) {\n    return this.each(function () {\n      this.__data__ = a.apply(this, arguments)\n    })\n  };\n  I.order = function () {\n    for (var a = -1, c = this.length; ++a < c;)for (var e = this[a], g = e.length - 1, i = e[g], b; --g >= 0;)if (b = e[g]) {\n      i && i !== b.nextSibling && i.parentNode.insertBefore(b, i);\n      i = b\n    }\n    return this\n  };\n  I.sort = function (a) {\n    for (var a = xa.apply(this, arguments), c = -1, e = this.length; ++c <\n    e;)this[c].sort(a);\n    return this.order()\n  };\n  I.on = function (a, c, e) {\n    arguments.length < 3 && (e = false);\n    var g = \"__on\" + a, i = a.indexOf(\".\");\n    i > 0 && (a = a.substring(0, i));\n    return arguments.length < 2 ? (i = this.node()[g]) && i._ : this.each(function (i, b) {\n      function k(a) {\n        var e = d3.event;\n        d3.event = a;\n        try {\n          c.call(f, f.__data__, b)\n        } finally {\n          d3.event = e\n        }\n      }\n\n      var f = this;\n      f[g] && f.removeEventListener(a, f[g], e);\n      c && f.addEventListener(a, f[g] = k, e);\n      k._ = c\n    })\n  };\n  I.each = function (a) {\n    for (var c = -1, e = this.length; ++c < e;)for (var g = this[c], i = -1, b = g.length; ++i < b;) {\n      var k =\n        g[i];\n      k && a.call(k, k.__data__, i, c)\n    }\n    return this\n  };\n  I.call = function (a) {\n    a.apply(this, (arguments[0] = this, arguments));\n    return this\n  };\n  I.empty = function () {\n    return !this.node()\n  };\n  I.node = function () {\n    for (var a = 0, c = this.length; a < c; a++)for (var e = this[a], g = 0, i = e.length; g < i; g++) {\n      var b = e[g];\n      if (b)return b\n    }\n    return null\n  };\n  I.transition = function () {\n    for (var a = [], c, e, g = -1, i = this.length; ++g < i;) {\n      a.push(c = []);\n      for (var b = this[g], k = -1, f = b.length; ++k < f;)c.push((e = b[k]) ? {\n        node: e,\n        delay: 0,\n        duration: 250\n      } : null)\n    }\n    return ya(a, Oa || ++Mc, Date.now())\n  };\n  var gb = Q([[document]]);\n  gb[0].parentNode = Ua;\n  d3.select = function (a) {\n    return typeof a === \"string\" ? gb.select(a) : Q([[a]])\n  };\n  d3.selectAll = function (a) {\n    return typeof a === \"string\" ? gb.selectAll(a) : Q([fb(a)])\n  };\n  var Va = [];\n  Va.append = I.append;\n  Va.insert = I.insert;\n  Va.empty = I.empty;\n  Va.node = I.node;\n  Va.select = function (a) {\n    for (var c = [], e, g, b, k, f, n = -1, j = this.length; ++n < j;) {\n      b = (k = this[n]).update;\n      c.push(e = []);\n      e.parentNode = k.parentNode;\n      for (var m = -1, q = k.length; ++m < q;)if (f = k[m]) {\n        e.push(b[m] = g = a.call(k.parentNode, f.__data__, m));\n        g.__data__ =\n          f.__data__\n      } else e.push(null)\n    }\n    return Q(c)\n  };\n  var $a = {}, Z = [], Mc = 0, Oa = 0, oc = d3.ease(\"cubic-in-out\");\n  Z.call = I.call;\n  d3.transition = function () {\n    return gb.transition()\n  };\n  d3.transition.prototype = Z;\n  Z.select = function (a) {\n    var c = [], e, g, b;\n    typeof a !== \"function\" && (a = la(a));\n    for (var k = -1, f = this.length; ++k < f;) {\n      c.push(e = []);\n      for (var n = this[k], j = -1, m = n.length; ++j < m;)if ((b = n[j]) && (g = a.call(b.node, b.node.__data__, j))) {\n        if (\"__data__\" in b.node) g.__data__ = b.node.__data__;\n        e.push({node: g, delay: b.delay, duration: b.duration})\n      } else e.push(null)\n    }\n    return ya(c,\n      this.id, this.time).ease(this.ease())\n  };\n  Z.selectAll = function (a) {\n    var c = [], e, g, b;\n    typeof a !== \"function\" && (a = sa(a));\n    for (var k = -1, f = this.length; ++k < f;)for (var n = this[k], j = -1, m = n.length; ++j < m;)if (b = n[j]) {\n      g = a.call(b.node, b.node.__data__, j);\n      c.push(e = []);\n      for (var q = -1, C = g.length; ++q < C;)e.push({node: g[q], delay: b.delay, duration: b.duration})\n    }\n    return ya(c, this.id, this.time).ease(this.ease())\n  };\n  Z.attr = function (a, c) {\n    return this.attrTween(a, b(a, c))\n  };\n  Z.attrTween = function (a, c) {\n    function e(a, e) {\n      var g = c.call(this, a, e, this.getAttribute(b));\n      return g === $a ? (this.removeAttribute(b), null) : g && function (a) {\n        this.setAttribute(b, g(a))\n      }\n    }\n\n    function g(a, e) {\n      var g = c.call(this, a, e, this.getAttributeNS(b.space, b.local));\n      return g === $a ? (this.removeAttributeNS(b.space, b.local), null) : g && function (a) {\n        this.setAttributeNS(b.space, b.local, g(a))\n      }\n    }\n\n    var b = d3.ns.qualify(a);\n    return this.tween(\"attr.\" + a, b.local ? g : e)\n  };\n  Z.style = function (a, c, e) {\n    arguments.length < 3 && (e = \"\");\n    return this.styleTween(a, b(a, c), e)\n  };\n  Z.styleTween = function (a, c, e) {\n    arguments.length < 3 && (e = \"\");\n    return this.tween(\"style.\" +\n      a, function (g, b) {\n      var k = c.call(this, g, b, window.getComputedStyle(this, null).getPropertyValue(a));\n      return k === $a ? (this.style.removeProperty(a), null) : k && function (c) {\n        this.style.setProperty(a, k(c), e)\n      }\n    })\n  };\n  Z.text = function (a) {\n    return this.tween(\"text\", function (c, e) {\n      this.textContent = typeof a === \"function\" ? a.call(this, c, e) : a\n    })\n  };\n  Z.remove = function () {\n    return this.each(\"end.transition\", function () {\n      var a;\n      !this.__transition__ && (a = this.parentNode) && a.removeChild(this)\n    })\n  };\n  Z.delay = function (a) {\n    var c = this;\n    return c.each(typeof a ===\n    \"function\" ? function (e, g, b) {\n      c[b][g].delay = +a.apply(this, arguments)\n    } : (a = +a, function (e, g, b) {\n      c[b][g].delay = a\n    }))\n  };\n  Z.duration = function (a) {\n    var c = this;\n    return c.each(typeof a === \"function\" ? function (e, g, b) {\n      c[b][g].duration = +a.apply(this, arguments)\n    } : (a = +a, function (e, g, b) {\n      c[b][g].duration = a\n    }))\n  };\n  Z.transition = function () {\n    return this.select(G)\n  };\n  var Ha = null, kb, jb;\n  d3.timer = function (a, c, e) {\n    var g = false, b = Ha;\n    if (arguments.length < 3) {\n      if (arguments.length < 2) c = 0; else if (!isFinite(c))return;\n      e = Date.now()\n    }\n    for (; b;) {\n      if (b.callback ===\n        a) {\n        b.then = e;\n        b.delay = c;\n        g = true;\n        break\n      }\n      b = b.next\n    }\n    g || (Ha = {callback: a, then: e, delay: c, next: Ha});\n    if (!kb) {\n      jb = clearTimeout(jb);\n      kb = 1;\n      Qb(o)\n    }\n  };\n  d3.timer.flush = function () {\n    for (var a, c = Date.now(), e = Ha; e;) {\n      a = c - e.then;\n      if (!e.delay) e.flush = e.callback(a);\n      e = e.next\n    }\n    ha()\n  };\n  var Qb = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) {\n      setTimeout(a, 17)\n    };\n  d3.transform = function (a) {\n    var c = document.createElementNS(d3.ns.prefix.svg,\n      \"g\"), e = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};\n    return (d3.transform = function (a) {\n      c.setAttribute(\"transform\", a);\n      a = c.transform.baseVal.consolidate();\n      return new U(a ? a.matrix : e)\n    })(a)\n  };\n  U.prototype.toString = function () {\n    return \"translate(\" + this.translate + \")rotate(\" + this.rotate + \")skewX(\" + this.skew + \")scale(\" + this.scale + \")\"\n  };\n  var Rb = 180 / Math.PI;\n  d3.scale = {};\n  d3.scale.linear = function () {\n    return k([0, 1], [0, 1], d3.interpolate, false)\n  };\n  d3.scale.log = function () {\n    return S(d3.scale.linear(), X)\n  };\n  var pc = d3.format(\".0e\");\n  X.pow = function (a) {\n    return Math.pow(10,\n      a)\n  };\n  s.pow = function (a) {\n    return -Math.pow(10, -a)\n  };\n  d3.scale.pow = function () {\n    return u(d3.scale.linear(), 1)\n  };\n  d3.scale.sqrt = function () {\n    return d3.scale.pow().exponent(0.5)\n  };\n  d3.scale.ordinal = function () {\n    return Sb([], {t: \"range\", x: []})\n  };\n  d3.scale.category10 = function () {\n    return d3.scale.ordinal().range(Nc)\n  };\n  d3.scale.category20 = function () {\n    return d3.scale.ordinal().range(Oc)\n  };\n  d3.scale.category20b = function () {\n    return d3.scale.ordinal().range(Pc)\n  };\n  d3.scale.category20c = function () {\n    return d3.scale.ordinal().range(Qc)\n  };\n  var Nc =\n    [\"#1f77b4\", \"#ff7f0e\", \"#2ca02c\", \"#d62728\", \"#9467bd\", \"#8c564b\", \"#e377c2\", \"#7f7f7f\", \"#bcbd22\", \"#17becf\"], Oc = [\"#1f77b4\", \"#aec7e8\", \"#ff7f0e\", \"#ffbb78\", \"#2ca02c\", \"#98df8a\", \"#d62728\", \"#ff9896\", \"#9467bd\", \"#c5b0d5\", \"#8c564b\", \"#c49c94\", \"#e377c2\", \"#f7b6d2\", \"#7f7f7f\", \"#c7c7c7\", \"#bcbd22\", \"#dbdb8d\", \"#17becf\", \"#9edae5\"], Pc = [\"#393b79\", \"#5254a3\", \"#6b6ecf\", \"#9c9ede\", \"#637939\", \"#8ca252\", \"#b5cf6b\", \"#cedb9c\", \"#8c6d31\", \"#bd9e39\", \"#e7ba52\", \"#e7cb94\", \"#843c39\", \"#ad494a\", \"#d6616b\", \"#e7969c\", \"#7b4173\", \"#a55194\", \"#ce6dbd\",\n    \"#de9ed6\"], Qc = [\"#3182bd\", \"#6baed6\", \"#9ecae1\", \"#c6dbef\", \"#e6550d\", \"#fd8d3c\", \"#fdae6b\", \"#fdd0a2\", \"#31a354\", \"#74c476\", \"#a1d99b\", \"#c7e9c0\", \"#756bb1\", \"#9e9ac8\", \"#bcbddc\", \"#dadaeb\", \"#636363\", \"#969696\", \"#bdbdbd\", \"#d9d9d9\"];\n  d3.scale.quantile = function () {\n    return z([], [])\n  };\n  d3.scale.quantize = function () {\n    return F(0, 1, [0, 1])\n  };\n  d3.svg = {};\n  d3.svg.arc = function () {\n    function a() {\n      var a = c.apply(this, arguments), k = e.apply(this, arguments), f = g.apply(this, arguments) + Ka, n = b.apply(this, arguments) + Ka, j = (n < f && (j = f, f = n, n = j), n - f), m = j <\n      Math.PI ? \"0\" : \"1\", q = Math.cos(f), f = Math.sin(f), C = Math.cos(n), n = Math.sin(n);\n      return j >= Rc ? a ? \"M0,\" + k + \"A\" + k + \",\" + k + \" 0 1,1 0,\" + -k + \"A\" + k + \",\" + k + \" 0 1,1 0,\" + k + \"M0,\" + a + \"A\" + a + \",\" + a + \" 0 1,0 0,\" + -a + \"A\" + a + \",\" + a + \" 0 1,0 0,\" + a + \"Z\" : \"M0,\" + k + \"A\" + k + \",\" + k + \" 0 1,1 0,\" + -k + \"A\" + k + \",\" + k + \" 0 1,1 0,\" + k + \"Z\" : a ? \"M\" + k * q + \",\" + k * f + \"A\" + k + \",\" + k + \" 0 \" + m + \",1 \" + k * C + \",\" + k * n + \"L\" + a * C + \",\" + a * n + \"A\" + a + \",\" + a + \" 0 \" + m + \",0 \" + a * q + \",\" + a * f + \"Z\" : \"M\" + k * q + \",\" + k * f + \"A\" + k + \",\" + k + \" 0 \" + m + \",1 \" + k * C + \",\" + k * n + \"L0,0Z\"\n    }\n\n    var c = A, e = H, g = na, b = R;\n    a.innerRadius = function (e) {\n      if (!arguments.length)return c;\n      c = d3.functor(e);\n      return a\n    };\n    a.outerRadius = function (c) {\n      if (!arguments.length)return e;\n      e = d3.functor(c);\n      return a\n    };\n    a.startAngle = function (c) {\n      if (!arguments.length)return g;\n      g = d3.functor(c);\n      return a\n    };\n    a.endAngle = function (c) {\n      if (!arguments.length)return b;\n      b = d3.functor(c);\n      return a\n    };\n    a.centroid = function () {\n      var a = (c.apply(this, arguments) + e.apply(this, arguments)) / 2, k = (g.apply(this, arguments) + b.apply(this, arguments)) / 2 + Ka;\n      return [Math.cos(k) * a, Math.sin(k) * a]\n    };\n    return a\n  };\n  var Ka = -Math.PI / 2, Rc = 2 * Math.PI - 1E-6;\n  d3.svg.line = function () {\n    return N(Object)\n  };\n  var wb = {\n    linear: Aa, \"step-before\": xb, \"step-after\": yb, basis: Tb, \"basis-open\": function (a) {\n      if (a.length < 4)return Aa(a);\n      for (var c = [], e = -1, g = a.length, b, k = [0], f = [0]; ++e < 3;) {\n        b = a[e];\n        k.push(b[0]);\n        f.push(b[1])\n      }\n      c.push(oa(Qa, k) + \",\" + oa(Qa, f));\n      for (--e; ++e < g;) {\n        b = a[e];\n        k.shift();\n        k.push(b[0]);\n        f.shift();\n        f.push(b[1]);\n        bb(c, k, f)\n      }\n      return c.join(\"\")\n    }, \"basis-closed\": function (a) {\n      for (var c, e = -1, g = a.length, b = g + 4, k, f = [], n = []; ++e < 4;) {\n        k = a[e % g];\n        f.push(k[0]);\n        n.push(k[1])\n      }\n      c = [oa(Qa, f), \",\", oa(Qa, n)];\n      for (--e; ++e < b;) {\n        k = a[e % g];\n        f.shift();\n        f.push(k[0]);\n        n.shift();\n        n.push(k[1]);\n        bb(c, f, n)\n      }\n      return c.join(\"\")\n    }, bundle: function (a, c) {\n      for (var e = a.length - 1, g = a[0][0], b = a[0][1], k = a[e][0] - g, f = a[e][1] - b, n = -1, j, m; ++n <= e;) {\n        j = a[n];\n        m = n / e;\n        j[0] = c * j[0] + (1 - c) * (g + m * k);\n        j[1] = c * j[1] + (1 - c) * (b + m * f)\n      }\n      return Tb(a)\n    }, cardinal: function (a, c) {\n      return a.length < 3 ? Aa(a) : a[0] + mb(a, zb(a, c))\n    }, \"cardinal-open\": function (a, c) {\n      return a.length < 4 ? Aa(a) : a[1] + mb(a.slice(1, a.length - 1), zb(a, c))\n    }, \"cardinal-closed\": function (a, c) {\n      return a.length < 3 ? Aa(a) : a[0] + mb((a.push(a[0]), a), zb([a[a.length - 2]].concat(a,\n        [a[1]]), c))\n    }, monotone: function (a) {\n      if (a.length < 3) a = Aa(a); else {\n        var c = a[0], e = [], b, k, l, f;\n        b = 0;\n        k = a.length - 1;\n        var n = [];\n        l = a[1];\n        for (f = n[0] = Ab(a[0], l); ++b < k;)n[b] = f + (f = Ab(l, l = a[b + 1]));\n        n[b] = f;\n        for (var j = -1, m = a.length - 1; ++j < m;) {\n          b = Ab(a[j], a[j + 1]);\n          if (Math.abs(b) < 1E-6) n[j] = n[j + 1] = 0; else {\n            k = n[j] / b;\n            l = n[j + 1] / b;\n            f = k * k + l * l;\n            if (f > 9) {\n              f = b * 3 / Math.sqrt(f);\n              n[j] = f * k;\n              n[j + 1] = f * l\n            }\n          }\n        }\n        for (j = -1; ++j <= m;) {\n          f = (a[Math.min(m, j + 1)][0] - a[Math.max(0, j - 1)][0]) / (6 * (1 + n[j] * n[j]));\n          e.push([f || 0, n[j] * f || 0])\n        }\n        a = c + mb(a, e)\n      }\n      return a\n    }\n  }, Ub = [0, 2 / 3, 1 / 3, 0], Vb =\n    [0, 1 / 3, 2 / 3, 0], Qa = [0, 1 / 6, 2 / 3, 1 / 6];\n  d3.svg.line.radial = function () {\n    var a = N(Wb);\n    a.radius = a.x;\n    delete a.x;\n    a.angle = a.y;\n    delete a.y;\n    return a\n  };\n  xb.reverse = yb;\n  yb.reverse = xb;\n  d3.svg.area = function () {\n    return Xb(Object)\n  };\n  d3.svg.area.radial = function () {\n    var a = Xb(Wb);\n    a.radius = a.x;\n    delete a.x;\n    a.innerRadius = a.x0;\n    delete a.x0;\n    a.outerRadius = a.x1;\n    delete a.x1;\n    a.angle = a.y;\n    delete a.y;\n    a.startAngle = a.y0;\n    delete a.y0;\n    a.endAngle = a.y1;\n    delete a.y1;\n    return a\n  };\n  d3.svg.chord = function () {\n    function a(a, k) {\n      var i = c(this, e, a, k), l = c(this, b, a, k);\n      return \"M\" +\n        i.p0 + (\"A\" + i.r + \",\" + i.r + \" 0 \" + +(i.a1 - i.a0 > Math.PI) + \",1 \" + i.p1) + (i.a0 == l.a0 && i.a1 == l.a1 ? \"Q 0,0 \" + i.p0 : \"Q 0,0 \" + l.p0 + (\"A\" + l.r + \",\" + l.r + \" 0 \" + +(l.a1 - l.a0 > Math.PI) + \",1 \" + l.p1) + (\"Q 0,0 \" + i.p0)) + \"Z\"\n    }\n\n    function c(a, c, e, b) {\n      var g = c.call(a, e, b), c = k.call(a, g, b), e = l.call(a, g, b) + Ka, a = f.call(a, g, b) + Ka;\n      return {r: c, a0: e, a1: a, p0: [c * Math.cos(e), c * Math.sin(e)], p1: [c * Math.cos(a), c * Math.sin(a)]}\n    }\n\n    var e = Yb, b = Zb, k = qc, l = na, f = R;\n    a.radius = function (c) {\n      if (!arguments.length)return k;\n      k = d3.functor(c);\n      return a\n    };\n    a.source = function (c) {\n      if (!arguments.length)return e;\n      e = d3.functor(c);\n      return a\n    };\n    a.target = function (c) {\n      if (!arguments.length)return b;\n      b = d3.functor(c);\n      return a\n    };\n    a.startAngle = function (c) {\n      if (!arguments.length)return l;\n      l = d3.functor(c);\n      return a\n    };\n    a.endAngle = function (c) {\n      if (!arguments.length)return f;\n      f = d3.functor(c);\n      return a\n    };\n    return a\n  };\n  d3.svg.diagonal = function () {\n    function a(a, k) {\n      var f = c.call(this, a, k), n = e.call(this, a, k), j = (f.y + n.y) / 2, f = [f, {x: f.x, y: j}, {\n        x: n.x,\n        y: j\n      }, n], f = f.map(b);\n      return \"M\" + f[0] + \"C\" + f[1] + \" \" + f[2] + \" \" + f[3]\n    }\n\n    var c = Yb, e = Zb, b = $b;\n    a.source = function (e) {\n      if (!arguments.length)return c;\n      c = d3.functor(e);\n      return a\n    };\n    a.target = function (c) {\n      if (!arguments.length)return e;\n      e = d3.functor(c);\n      return a\n    };\n    a.projection = function (c) {\n      if (!arguments.length)return b;\n      b = c;\n      return a\n    };\n    return a\n  };\n  d3.svg.diagonal.radial = function () {\n    var a = d3.svg.diagonal(), c = $b, e = a.projection;\n    a.projection = function (a) {\n      var b;\n      if (arguments.length) {\n        var k = c = a;\n        b = e(function () {\n          var a = k.apply(this, arguments), c = a[0], a = a[1] + Ka;\n          return [c * Math.cos(a), c * Math.sin(a)]\n        })\n      } else b = c;\n      return b\n    };\n    return a\n  };\n  d3.svg.mouse = function (a) {\n    return ac(a, d3.event)\n  };\n  var Bb =\n    /WebKit/.test(navigator.userAgent) ? -1 : 0;\n  d3.svg.touches = function (a, c) {\n    if (arguments.length < 2) c = d3.event.touches;\n    return c ? fb(c).map(function (c) {\n      var b = ac(a, c);\n      b.identifier = c.identifier;\n      return b\n    }) : []\n  };\n  d3.svg.symbol = function () {\n    function a(a, b) {\n      return (Ob[c.call(this, a, b)] || Ob.circle)(e.call(this, a, b))\n    }\n\n    var c = sc, e = rc;\n    a.type = function (e) {\n      if (!arguments.length)return c;\n      c = d3.functor(e);\n      return a\n    };\n    a.size = function (c) {\n      if (!arguments.length)return e;\n      e = d3.functor(c);\n      return a\n    };\n    return a\n  };\n  var Ob = {\n    circle: function (a) {\n      a = Math.sqrt(a /\n        Math.PI);\n      return \"M0,\" + a + \"A\" + a + \",\" + a + \" 0 1,1 0,\" + -a + \"A\" + a + \",\" + a + \" 0 1,1 0,\" + a + \"Z\"\n    }, cross: function (a) {\n      a = Math.sqrt(a / 5) / 2;\n      return \"M\" + -3 * a + \",\" + -a + \"H\" + -a + \"V\" + -3 * a + \"H\" + a + \"V\" + -a + \"H\" + 3 * a + \"V\" + a + \"H\" + a + \"V\" + 3 * a + \"H\" + -a + \"V\" + a + \"H\" + -3 * a + \"Z\"\n    }, diamond: function (a) {\n      var a = Math.sqrt(a / (2 * lc)), c = a * lc;\n      return \"M0,\" + -a + \"L\" + c + \",0 0,\" + a + \" \" + -c + \",0Z\"\n    }, square: function (a) {\n      a = Math.sqrt(a) / 2;\n      return \"M\" + -a + \",\" + -a + \"L\" + a + \",\" + -a + \" \" + a + \",\" + a + \" \" + -a + \",\" + a + \"Z\"\n    }, \"triangle-down\": function (a) {\n      var a = Math.sqrt(a / ub), c = a * ub / 2;\n      return \"M0,\" + c + \"L\" + a + \",\" + -c + \" \" + -a + \",\" + -c + \"Z\"\n    }, \"triangle-up\": function (a) {\n      var a = Math.sqrt(a / ub), c = a * ub / 2;\n      return \"M0,\" + -c + \"L\" + a + \",\" + c + \" \" + -a + \",\" + c + \"Z\"\n    }\n  };\n  d3.svg.symbolTypes = d3.keys(Ob);\n  var ub = Math.sqrt(3), lc = Math.tan(30 * Math.PI / 180);\n  d3.svg.axis = function () {\n    function a(a) {\n      a.each(function (q, C, p) {\n        var S = d3.select(this), z = a.delay ? function (c) {\n          var e = Oa;\n          try {\n            Oa = a.id;\n            return c.transition().delay(a[p][C].delay).duration(a[p][C].duration).ease(a.ease())\n          } finally {\n            Oa = e\n          }\n        } : Object, o = c.ticks ? c.ticks.apply(c, n) : c.domain(), q = j == null ? c.tickFormat ? c.tickFormat.apply(c,\n          n) : String : j, x = m, X = [];\n        if (x && o.length > 1) {\n          for (var s = za(c.domain()), X, A = -1, V = o.length, F = (o[1] - o[0]) / ++x, H, h; ++A < V;)for (H = x; --H > 0;)(h = +o[A] - H * F) >= s[0] && X.push(h);\n          --A;\n          for (H = 0; ++H < x && (h = +o[A] + H * F) < s[1];)X.push(h)\n        }\n        s = S.selectAll(\".minor\").data(X, String);\n        h = s.enter().insert(\"line\", \"g\").attr(\"class\", \"tick minor\").style(\"opacity\", 1E-6);\n        x = z(s.exit()).style(\"opacity\", 1E-6).remove();\n        s = z(s).style(\"opacity\", 1);\n        A = S.selectAll(\"g\").data(o, String);\n        o = A.enter().insert(\"g\", \"path\").style(\"opacity\", 1E-6);\n        X = z(A.exit()).style(\"opacity\",\n          1E-6).remove();\n        var A = z(A).style(\"opacity\", 1), u, V = Ia(c), S = S.selectAll(\".domain\").data([0]);\n        S.enter().append(\"path\").attr(\"class\", \"domain\");\n        var z = z(S), N = c.copy(), S = this.__chart__ || N;\n        this.__chart__ = N;\n        o.append(\"line\").attr(\"class\", \"tick\");\n        o.append(\"text\");\n        A.select(\"text\").text(q);\n        switch (e) {\n          case \"bottom\":\n            u = bc;\n            h.attr(\"y2\", k);\n            s.attr(\"x2\", 0).attr(\"y2\", k);\n            o.select(\"line\").attr(\"y2\", b);\n            o.select(\"text\").attr(\"y\", Math.max(b, 0) + f);\n            A.select(\"line\").attr(\"x2\", 0).attr(\"y2\", b);\n            A.select(\"text\").attr(\"x\", 0).attr(\"y\",\n              Math.max(b, 0) + f).attr(\"dy\", \".71em\").attr(\"text-anchor\", \"middle\");\n            z.attr(\"d\", \"M\" + V[0] + \",\" + l + \"V0H\" + V[1] + \"V\" + l);\n            break;\n          case \"top\":\n            u = bc;\n            h.attr(\"y2\", -k);\n            s.attr(\"x2\", 0).attr(\"y2\", -k);\n            o.select(\"line\").attr(\"y2\", -b);\n            o.select(\"text\").attr(\"y\", -(Math.max(b, 0) + f));\n            A.select(\"line\").attr(\"x2\", 0).attr(\"y2\", -b);\n            A.select(\"text\").attr(\"x\", 0).attr(\"y\", -(Math.max(b, 0) + f)).attr(\"dy\", \"0em\").attr(\"text-anchor\", \"middle\");\n            z.attr(\"d\", \"M\" + V[0] + \",\" + -l + \"V0H\" + V[1] + \"V\" + -l);\n            break;\n          case \"left\":\n            u = cc;\n            h.attr(\"x2\", -k);\n            s.attr(\"x2\", -k).attr(\"y2\",\n              0);\n            o.select(\"line\").attr(\"x2\", -b);\n            o.select(\"text\").attr(\"x\", -(Math.max(b, 0) + f));\n            A.select(\"line\").attr(\"x2\", -b).attr(\"y2\", 0);\n            A.select(\"text\").attr(\"x\", -(Math.max(b, 0) + f)).attr(\"y\", 0).attr(\"dy\", \".32em\").attr(\"text-anchor\", \"end\");\n            z.attr(\"d\", \"M\" + -l + \",\" + V[0] + \"H0V\" + V[1] + \"H\" + -l);\n            break;\n          case \"right\":\n            u = cc;\n            h.attr(\"x2\", k);\n            s.attr(\"x2\", k).attr(\"y2\", 0);\n            o.select(\"line\").attr(\"x2\", b);\n            o.select(\"text\").attr(\"x\", Math.max(b, 0) + f);\n            A.select(\"line\").attr(\"x2\", b).attr(\"y2\", 0);\n            A.select(\"text\").attr(\"x\", Math.max(b, 0) + f).attr(\"y\",\n              0).attr(\"dy\", \".32em\").attr(\"text-anchor\", \"start\");\n            z.attr(\"d\", \"M\" + l + \",\" + V[0] + \"H0V\" + V[1] + \"H\" + l)\n        }\n        if (c.ticks) {\n          o.call(u, S);\n          A.call(u, N);\n          X.call(u, N);\n          h.call(u, S);\n          s.call(u, N);\n          x.call(u, N)\n        } else {\n          var ia = N.rangeBand() / 2, q = function (a) {\n            return N(a) + ia\n          };\n          o.call(u, q);\n          A.call(u, q)\n        }\n      })\n    }\n\n    var c = d3.scale.linear(), e = \"bottom\", b = 6, k = 6, l = 6, f = 3, n = [10], j, m = 0;\n    a.scale = function (e) {\n      if (!arguments.length)return c;\n      c = e;\n      return a\n    };\n    a.orient = function (c) {\n      if (!arguments.length)return e;\n      e = c;\n      return a\n    };\n    a.ticks = function () {\n      if (!arguments.length)return n;\n      n = arguments;\n      return a\n    };\n    a.tickFormat = function (c) {\n      if (!arguments.length)return j;\n      j = c;\n      return a\n    };\n    a.tickSize = function (c, e, f) {\n      if (!arguments.length)return b;\n      var n = arguments.length - 1;\n      b = +c;\n      k = n > 1 ? +e : b;\n      l = n > 0 ? +arguments[n] : b;\n      return a\n    };\n    a.tickPadding = function (c) {\n      if (!arguments.length)return f;\n      f = +c;\n      return a\n    };\n    a.tickSubdivide = function (c) {\n      if (!arguments.length)return m;\n      m = +c;\n      return a\n    };\n    return a\n  };\n  d3.svg.brush = function () {\n    function a(e) {\n      var n = b && k ? [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"] : b ? [\"e\", \"w\"] : k ? [\"n\", \"s\"] : [];\n      e.each(function () {\n        var e =\n          d3.select(this).on(\"mousedown.brush\", c), j = e.selectAll(\".background\").data([0]), m = e.selectAll(\".extent\").data([0]), q = e.selectAll(\".resize\").data(n, String);\n        j.enter().append(\"rect\").attr(\"class\", \"background\").style(\"visibility\", \"hidden\").style(\"pointer-events\", \"all\").style(\"cursor\", \"crosshair\");\n        m.enter().append(\"rect\").attr(\"class\", \"extent\").style(\"cursor\", \"move\");\n        q.enter().append(\"rect\").attr(\"class\", function (a) {\n          return \"resize \" + a\n        }).attr(\"width\", 6).attr(\"height\", 6).style(\"visibility\", \"hidden\").style(\"cursor\",\n          function (a) {\n            return Sc[a]\n          });\n        q.style(\"pointer-events\", a.empty() ? \"none\" : \"all\");\n        q.exit().remove();\n        if (b) {\n          m = Ia(b);\n          j.attr(\"x\", m[0]).attr(\"width\", m[1] - m[0]);\n          dc(e, f)\n        }\n        if (k) {\n          m = Ia(k);\n          j.attr(\"y\", m[0]).attr(\"height\", m[1] - m[0]);\n          ec(e, f)\n        }\n      })\n    }\n\n    function c() {\n      var c = d3.select(d3.event.target);\n      Db = a;\n      La = this;\n      T = f;\n      O = d3.svg.mouse(La);\n      if (ua = c.classed(\"extent\")) {\n        O[0] = f[0][0] - O[0];\n        O[1] = f[0][1] - O[1]\n      } else if (c.classed(\"resize\")) {\n        Ra = d3.event.target.__data__;\n        O[0] = f[+/w$/.test(Ra)][0];\n        O[1] = f[+/^n/.test(Ra)][1]\n      } else d3.event.altKey && (pa =\n        O.slice());\n      nb = !/^(n|s)$/.test(Ra) && b;\n      ob = !/^(e|w)$/.test(Ra) && k;\n      var n = this, j = arguments;\n      cb = function (c) {\n        var b = d3.event;\n        try {\n          d3.event = {type: c, target: a};\n          e[c].apply(n, j)\n        } finally {\n          d3.event = b\n        }\n      };\n      cb(\"brushstart\");\n      Cb();\n      ba()\n    }\n\n    var e = d3.dispatch(\"brushstart\", \"brush\", \"brushend\"), b, k, f = [[0, 0], [0, 0]];\n    a.x = function (c) {\n      if (!arguments.length)return b;\n      b = c;\n      return a\n    };\n    a.y = function (c) {\n      if (!arguments.length)return k;\n      k = c;\n      return a\n    };\n    a.extent = function (c) {\n      var e, n, j, m, q;\n      if (!arguments.length) {\n        if (b) {\n          e = f[0][0];\n          n = f[1][0];\n          if (b.invert) {\n            e = b.invert(e);\n            n = b.invert(n)\n          }\n          if (n < e) {\n            q = e;\n            e = n;\n            n = q\n          }\n        }\n        if (k) {\n          j = f[0][1];\n          m = f[1][1];\n          if (k.invert) {\n            j = k.invert(j);\n            m = k.invert(m)\n          }\n          if (m < j) {\n            q = j;\n            j = m;\n            m = q\n          }\n        }\n        return b && k ? [[e, j], [n, m]] : b ? [e, n] : k && [j, m]\n      }\n      if (b) {\n        e = c[0];\n        n = c[1];\n        if (k) {\n          e = e[0];\n          n = n[0]\n        }\n        if (b.invert) {\n          e = b(e);\n          n = b(n)\n        }\n        if (n < e) {\n          q = e;\n          e = n;\n          n = q\n        }\n        f[0][0] = e;\n        f[1][0] = n\n      }\n      if (k) {\n        j = c[0];\n        m = c[1];\n        if (b) {\n          j = j[1];\n          m = m[1]\n        }\n        if (k.invert) {\n          j = k(j);\n          m = k(m)\n        }\n        if (m < j) {\n          q = j;\n          j = m;\n          m = q\n        }\n        f[0][1] = j;\n        f[1][1] = m\n      }\n      return a\n    };\n    a.clear = function () {\n      f[0][0] = f[0][1] = f[1][0] = f[1][1] = 0;\n      return a\n    };\n    a.empty = function () {\n      return b && f[0][0] === f[1][0] ||\n        k && f[0][1] === f[1][1]\n    };\n    d3.select(window).on(\"mousemove.brush\", Cb).on(\"mouseup.brush\", vc).on(\"keydown.brush\", tc).on(\"keyup.brush\", uc);\n    return d3.rebind(a, e, \"on\")\n  };\n  var Db, cb, La, nb, ob, T, ua, Ra, pa, O, Sc = {\n    n: \"ns-resize\",\n    e: \"ew-resize\",\n    s: \"ns-resize\",\n    w: \"ew-resize\",\n    nw: \"nwse-resize\",\n    ne: \"nesw-resize\",\n    se: \"nwse-resize\",\n    sw: \"nesw-resize\"\n  };\n  d3.behavior = {};\n  d3.behavior.drag = function () {\n    function a() {\n      this.on(\"mousedown.drag\", e).on(\"touchstart.drag\", e);\n      d3.select(window).on(\"mousemove.drag\", hc).on(\"touchmove.drag\", hc).on(\"mouseup.drag\",\n        Gb, true).on(\"touchend.drag\", Gb, true).on(\"click.drag\", wc, true)\n    }\n\n    function c() {\n      Fb = b;\n      Hb = d3.event.target;\n      Ca = this;\n      pb = arguments;\n      Ma = gc();\n      if (k) {\n        Ba = k.apply(Ca, pb);\n        Ba = [Ba.x - Ma[0], Ba.y - Ma[1]]\n      } else Ba = [0, 0];\n      Na = 0\n    }\n\n    function e() {\n      c.apply(this, arguments);\n      Eb(\"dragstart\")\n    }\n\n    var b = d3.dispatch(\"drag\", \"dragstart\", \"dragend\"), k = null;\n    a.origin = function (c) {\n      if (!arguments.length)return k;\n      k = c;\n      return a\n    };\n    return d3.rebind(a, b, \"on\")\n  };\n  var Fb, Hb, Ca, pb, Ba, Ma, Na;\n  d3.behavior.zoom = function () {\n    function a() {\n      this.on(\"mousedown.zoom\", e).on(\"mousewheel.zoom\",\n        b).on(\"DOMMouseScroll.zoom\", b).on(\"dblclick.zoom\", k).on(\"touchstart.zoom\", f);\n      d3.select(window).on(\"mousemove.zoom\", yc).on(\"mouseup.zoom\", zc).on(\"touchmove.zoom\", xc).on(\"touchend.zoom\", ic).on(\"click.zoom\", Ac, true)\n    }\n\n    function c() {\n      ca = n;\n      Jb = m;\n      Kb = j.zoom;\n      Ib = d3.event.target;\n      qa = this;\n      Lb = arguments\n    }\n\n    function e() {\n      c.apply(this, arguments);\n      eb = qb(d3.svg.mouse(qa));\n      Ta = 0;\n      d3.event.preventDefault();\n      window.focus()\n    }\n\n    function b() {\n      c.apply(this, arguments);\n      rb || (rb = qb(d3.svg.mouse(qa)));\n      if (!hb) hb = d3.select(\"body\").append(\"div\").style(\"visibility\",\n        \"hidden\").style(\"top\", 0).style(\"height\", 0).style(\"width\", 0).style(\"overflow-y\", \"scroll\").append(\"div\").style(\"height\", \"2000px\").node().parentNode;\n      var a = d3.event, e;\n      try {\n        hb.scrollTop = 1E3;\n        hb.dispatchEvent(a);\n        e = 1E3 - hb.scrollTop\n      } catch (k) {\n        e = a.wheelDelta || -a.detail * 5\n      }\n      Sa(e * 0.005 + n[2], d3.svg.mouse(qa), rb)\n    }\n\n    function k() {\n      c.apply(this, arguments);\n      var a = d3.svg.mouse(qa);\n      Sa(d3.event.shiftKey ? Math.ceil(n[2] - 1) : Math.floor(n[2] + 1), a, qb(a))\n    }\n\n    function f() {\n      c.apply(this, arguments);\n      var a = ic(), e, b = Date.now();\n      a.length === 1 &&\n      b - mc < 300 && Sa(1 + Math.floor(n[2]), e = a[0], db[e.identifier]);\n      mc = b\n    }\n\n    var n = [0, 0, 0], j = d3.dispatch(\"zoom\"), m = nc;\n    a.extent = function (c) {\n      if (!arguments.length)return m;\n      m = c == null ? nc : c;\n      return a\n    };\n    return d3.rebind(a, j, \"on\")\n  };\n  var hb, eb, rb, db = {}, mc = 0, ca, Jb, Kb, Ib, qa, Lb, Ta, nc = [[-Infinity, Infinity], [-Infinity, Infinity], [-Infinity, Infinity]]\n})();\n(function () {\n  function w(b) {\n    var f = b.source, b = b.target, j;\n    var m = b;\n    if (f === m) j = f; else {\n      j = G(f);\n      for (var m = G(m), q = j.pop(), n = m.pop(), C = null; q === n;) {\n        C = q;\n        q = j.pop();\n        n = m.pop()\n      }\n      j = C\n    }\n    for (m = [f]; f !== j;) {\n      f = f.parent;\n      m.push(f)\n    }\n    for (f = m.length; b !== j;) {\n      m.splice(f, 0, b);\n      b = b.parent\n    }\n    return m\n  }\n\n  function G(b) {\n    for (var f = [], j = b.parent; j != null;) {\n      f.push(b);\n      b = j;\n      j = j.parent\n    }\n    f.push(b);\n    return f\n  }\n\n  function h(b) {\n    b.fixed = b.fixed | 2\n  }\n\n  function r(b) {\n    if (b !== ma) b.fixed = b.fixed & 1\n  }\n\n  function t() {\n    B();\n    ma.fixed = ma.fixed & 1;\n    U = ma = null\n  }\n\n  function B() {\n    ma.px = d3.event.x;\n    ma.py = d3.event.y;\n    U.resume()\n  }\n\n  function y(b, f, j) {\n    var m = 0, q = 0;\n    b.charge = 0;\n    if (!b.leaf)for (var n = b.nodes, C = n.length, p = -1, o; ++p < C;) {\n      o = n[p];\n      if (o != null) {\n        y(o, f, j);\n        b.charge = b.charge + o.charge;\n        m = m + o.charge * o.cx;\n        q = q + o.charge * o.cy\n      }\n    }\n    if (b.point) {\n      if (!b.leaf) {\n        b.point.x = b.point.x + (Math.random() - 0.5);\n        b.point.y = b.point.y + (Math.random() - 0.5)\n      }\n      f = f * j[b.point.index];\n      b.charge = b.charge + (b.pointCharge = f);\n      m = m + f * b.point.x;\n      q = q + f * b.point.y\n    }\n    b.cx = m / b.charge;\n    b.cy = q / b.charge\n  }\n\n  function P() {\n    return 20\n  }\n\n  function M() {\n    return 1\n  }\n\n  function ja(b) {\n    return b.x\n  }\n\n  function $(b) {\n    return b.y\n  }\n\n  function K(b, f, j) {\n    b.y0 = f;\n    b.y = j\n  }\n\n  function aa(b) {\n    for (var f = 1, j = 0, m = b[0][1], q, n = b.length; f < n; ++f)if ((q = b[f][1]) > m) {\n      j = f;\n      m = q\n    }\n    return j\n  }\n\n  function W(b) {\n    return b.reduce(da, 0)\n  }\n\n  function da(b, f) {\n    return b + f[1]\n  }\n\n  function Da(b, f) {\n    return L(b, Math.ceil(Math.log(f.length) / Math.LN2 + 1))\n  }\n\n  function L(b, f) {\n    for (var j = -1, m = +b[0], q = (b[1] - m) / f, n = []; ++j <= f;)n[j] = q * j + m;\n    return n\n  }\n\n  function E(b) {\n    return [d3.min(b), d3.max(b)]\n  }\n\n  function ka(b, f) {\n    d3.rebind(b, f, \"sort\", \"children\", \"value\");\n    b.links = Xa;\n    b.nodes = function (f) {\n      ab =\n        true;\n      return (b.nodes = b)(f)\n    };\n    return b\n  }\n\n  function Wa(b) {\n    return b.children\n  }\n\n  function ba(b) {\n    return b.value\n  }\n\n  function va(b, f) {\n    return f.value - b.value\n  }\n\n  function Xa(b) {\n    return d3.merge(b.map(function (b) {\n      return (b.children || []).map(function (k) {\n        return {source: b, target: k}\n      })\n    }))\n  }\n\n  function ea(b, f) {\n    return b.value - f.value\n  }\n\n  function Y(b, f) {\n    var j = b._pack_next;\n    b._pack_next = f;\n    f._pack_prev = b;\n    f._pack_next = j;\n    j._pack_prev = f\n  }\n\n  function fa(b, f) {\n    var j = f.x - b.x, m = f.y - b.y, q = b.r + f.r;\n    return q * q - j * j - m * m > 0.001\n  }\n\n  function Ea(b) {\n    b._pack_next = b._pack_prev =\n      b\n  }\n\n  function Fa(b) {\n    delete b._pack_next;\n    delete b._pack_prev\n  }\n\n  function wa(b) {\n    var f = b.children;\n    if (f && f.length) {\n      f.forEach(wa);\n      var j = function (b) {\n        m = Math.min(b.x - b.r, m);\n        q = Math.max(b.x + b.r, q);\n        n = Math.min(b.y - b.r, n);\n        C = Math.max(b.y + b.r, C)\n      }, m = Infinity, q = -Infinity, n = Infinity, C = -Infinity, p = f.length, o, s, u, x, h;\n      f.forEach(Ea);\n      o = f[0];\n      o.x = -o.r;\n      o.y = 0;\n      j(o);\n      if (p > 1) {\n        s = f[1];\n        s.x = s.r;\n        s.y = 0;\n        j(s);\n        if (p > 2) {\n          u = f[2];\n          J(o, s, u);\n          j(u);\n          Y(o, u);\n          o._pack_prev = u;\n          Y(u, s);\n          s = o._pack_next;\n          for (var z = 3; z < p; z++) {\n            J(o, s, u = f[z]);\n            var F = 0, A = 1, H = 1;\n            for (x = s._pack_next; x !==\n            s; x = x._pack_next, A++)if (fa(x, u)) {\n              F = 1;\n              break\n            }\n            if (F == 1)for (h = o._pack_prev; h !== x._pack_prev; h = h._pack_prev, H++)if (fa(h, u))break;\n            if (F) {\n              if (A < H || A == H && s.r < o.r) {\n                u = o;\n                x = s = x;\n                u._pack_next = x;\n                x._pack_prev = u\n              } else {\n                x = o = h;\n                u = s;\n                x._pack_next = u;\n                u._pack_prev = x\n              }\n              z--\n            } else {\n              Y(o, u);\n              s = u;\n              j(u)\n            }\n          }\n        }\n      }\n      j = (m + q) / 2;\n      o = (n + C) / 2;\n      for (z = s = 0; z < p; z++) {\n        h = f[z];\n        h.x = h.x - j;\n        h.y = h.y - o;\n        s = Math.max(s, h.r + Math.sqrt(h.x * h.x + h.y * h.y))\n      }\n      f.forEach(Fa);\n      b.r = s\n    } else b.r = Math.sqrt(b.value)\n  }\n\n  function ga(b, f, j, m) {\n    var q = b.children;\n    b.x = f = f + m * b.x;\n    b.y = j = j + m * b.y;\n    b.r = b.r * m;\n    if (q)for (var b =\n      -1, n = q.length; ++b < n;)ga(q[b], f, j, m)\n  }\n\n  function J(b, f, j) {\n    var m = b.r + j.r, q = f.x - b.x, n = f.y - b.y;\n    if (m && (q || n)) {\n      var C = f.r + j.r, f = Math.sqrt(q * q + n * n), p = Math.max(-1, Math.min(1, (m * m + f * f - C * C) / (2 * m * f))), C = Math.acos(p), f = p * (m = m / f), m = Math.sin(C) * m;\n      j.x = b.x + f * q + m * n;\n      j.y = b.y + f * n - m * q\n    } else {\n      j.x = b.x + m;\n      j.y = b.y\n    }\n  }\n\n  function ra(b) {\n    var f = b.children;\n    return f && f.length ? ra(f[0]) : b\n  }\n\n  function Q(b) {\n    var f = b.children, j;\n    return f && (j = f.length) ? Q(f[j - 1]) : b\n  }\n\n  function la(b, f) {\n    return b.parent == f.parent ? 1 : 2\n  }\n\n  function sa(b) {\n    var f = b.children;\n    return f &&\n    f.length ? f[0] : b._tree.thread\n  }\n\n  function ta(b) {\n    var f = b.children, j;\n    return f && (j = f.length) ? f[j - 1] : b._tree.thread\n  }\n\n  function xa(b, f) {\n    var j = b.children;\n    if (j && (q = j.length))for (var m, q, n = -1; ++n < q;)if (f(m = xa(j[n], f), b) > 0) b = m;\n    return b\n  }\n\n  function ya(b, f) {\n    return b.x - f.x\n  }\n\n  function Za(b, f) {\n    return f.x - b.x\n  }\n\n  function b(b, f) {\n    return b.depth - f.depth\n  }\n\n  function p(b, f) {\n    function j(b, k) {\n      var n = b.children;\n      if (n && (s = n.length))for (var p, o = null, h = -1, s; ++h < s;) {\n        p = n[h];\n        j(p, o);\n        o = p\n      }\n      f(b, k)\n    }\n\n    j(b, null)\n  }\n\n  function o(b) {\n    return {x: b.x, y: b.y, dx: b.dx, dy: b.dy}\n  }\n\n  function ha(b, f) {\n    var j = b.x + f[3], m = b.y + f[0], q = b.dx - f[1] - f[3], n = b.dy - f[0] - f[2];\n    if (q < 0) {\n      j = j + q / 2;\n      q = 0\n    }\n    if (n < 0) {\n      m = m + n / 2;\n      n = 0\n    }\n    return {x: j, y: m, dx: q, dy: n}\n  }\n\n  d3.layout = {};\n  d3.layout.bundle = function () {\n    return function (b) {\n      for (var f = [], j = -1, m = b.length; ++j < m;)f.push(w(b[j]));\n      return f\n    }\n  };\n  d3.layout.chord = function () {\n    function b() {\n      var k = {}, j = [], z = d3.range(p), F = [], A, H, na, R, N;\n      m = [];\n      q = [];\n      A = 0;\n      for (R = -1; ++R < p;) {\n        H = 0;\n        for (N = -1; ++N < p;)H = H + n[R][N];\n        j.push(H);\n        F.push(d3.range(p));\n        A = A + H\n      }\n      h && z.sort(function (b, f) {\n        return h(j[b], j[f])\n      });\n      s && F.forEach(function (b,\n                               f) {\n        b.sort(function (b, k) {\n          return s(n[f][b], n[f][k])\n        })\n      });\n      A = (2 * Math.PI - o * p) / A;\n      H = 0;\n      for (R = -1; ++R < p;) {\n        na = H;\n        for (N = -1; ++N < p;) {\n          var ia = z[R], Ja = F[ia][N], V = n[ia][Ja], r = H, t = H = H + V * A;\n          k[ia + \"-\" + Ja] = {index: ia, subindex: Ja, startAngle: r, endAngle: t, value: V}\n        }\n        q.push({index: ia, startAngle: na, endAngle: H, value: (H - na) / A});\n        H = H + o\n      }\n      for (R = -1; ++R < p;)for (N = R - 1; ++N < p;) {\n        z = k[R + \"-\" + N];\n        F = k[N + \"-\" + R];\n        if (z.value || F.value) m.push(z.value < F.value ? {source: F, target: z} : {source: z, target: F})\n      }\n      u && f()\n    }\n\n    function f() {\n      m.sort(function (b, f) {\n        return u((b.source.value +\n          b.target.value) / 2, (f.source.value + f.target.value) / 2)\n      })\n    }\n\n    var j = {}, m, q, n, p, o = 0, h, s, u;\n    j.matrix = function (b) {\n      if (!arguments.length)return n;\n      p = (n = b) && n.length;\n      m = q = null;\n      return j\n    };\n    j.padding = function (b) {\n      if (!arguments.length)return o;\n      o = b;\n      m = q = null;\n      return j\n    };\n    j.sortGroups = function (b) {\n      if (!arguments.length)return h;\n      h = b;\n      m = q = null;\n      return j\n    };\n    j.sortSubgroups = function (b) {\n      if (!arguments.length)return s;\n      s = b;\n      m = null;\n      return j\n    };\n    j.sortChords = function (b) {\n      if (!arguments.length)return u;\n      u = b;\n      m && f();\n      return j\n    };\n    j.chords = function () {\n      m ||\n      b();\n      return m\n    };\n    j.groups = function () {\n      q || b();\n      return q\n    };\n    return j\n  };\n  d3.layout.force = function () {\n    function b(f) {\n      return function (b, k, n, j) {\n        if (b.point !== f) {\n          var n = b.cx - f.x, m = b.cy - f.y, q = 1 / Math.sqrt(n * n + m * m);\n          if ((j - k) * q < z) {\n            k = b.charge * q * q;\n            f.px = f.px - n * k;\n            f.py = f.py - m * k;\n            return true\n          }\n          if (b.point && isFinite(q)) {\n            k = b.pointCharge * q * q;\n            f.px = f.px - n * k;\n            f.py = f.py - m * k\n          }\n        }\n        return !b.charge\n      }\n    }\n\n    function f() {\n      var f = F.length, j = A.length, m, p, C, z, h, s, u;\n      for (m = 0; m < j; ++m) {\n        p = A[m];\n        C = p.source;\n        z = p.target;\n        s = z.x - C.x;\n        u = z.y - C.y;\n        if (h = s * s + u * u) {\n          h = o * na[m] * ((h = Math.sqrt(h)) -\n            H[m]) / h;\n          s = s * h;\n          u = u * h;\n          z.x = z.x - s * (h = C.weight / (z.weight + C.weight));\n          z.y = z.y - u * h;\n          C.x = C.x + s * (h = 1 - h);\n          C.y = C.y + u * h\n        }\n      }\n      if (h = o * w) {\n        s = n[0] / 2;\n        u = n[1] / 2;\n        m = -1;\n        if (h)for (; ++m < f;) {\n          p = F[m];\n          p.x = p.x + (s - p.x) * h;\n          p.y = p.y + (u - p.y) * h\n        }\n      }\n      if (x) {\n        y(j = d3.geom.quadtree(F), o, R);\n        for (m = -1; ++m < f;)(p = F[m]).fixed || j.visit(b(p))\n      }\n      for (m = -1; ++m < f;) {\n        p = F[m];\n        if (p.fixed) {\n          p.x = p.px;\n          p.y = p.py\n        } else {\n          p.x = p.x - (p.px - (p.px = p.x)) * X;\n          p.y = p.y - (p.py - (p.py = p.y)) * X\n        }\n      }\n      q.tick({type: \"tick\", alpha: o});\n      return (o = o * 0.99) < 0.005\n    }\n\n    function j(b) {\n      h(ma = b);\n      U = m\n    }\n\n    var m = {}, q = d3.dispatch(\"tick\"),\n      n = [1, 1], p, o, X = 0.9, s = P, u = M, x = -30, w = 0.1, z = 0.8, F = [], A = [], H, na, R;\n    m.nodes = function (b) {\n      if (!arguments.length)return F;\n      F = b;\n      return m\n    };\n    m.links = function (b) {\n      if (!arguments.length)return A;\n      A = b;\n      return m\n    };\n    m.size = function (b) {\n      if (!arguments.length)return n;\n      n = b;\n      return m\n    };\n    m.linkDistance = function (b) {\n      if (!arguments.length)return s;\n      s = d3.functor(b);\n      return m\n    };\n    m.distance = m.linkDistance;\n    m.linkStrength = function (b) {\n      if (!arguments.length)return u;\n      u = d3.functor(b);\n      return m\n    };\n    m.friction = function (b) {\n      if (!arguments.length)return X;\n      X = b;\n      return m\n    };\n    m.charge = function (b) {\n      if (!arguments.length)return x;\n      x = typeof b === \"function\" ? b : +b;\n      return m\n    };\n    m.gravity = function (b) {\n      if (!arguments.length)return w;\n      w = b;\n      return m\n    };\n    m.theta = function (b) {\n      if (!arguments.length)return z;\n      z = b;\n      return m\n    };\n    m.start = function () {\n      function b(n, m) {\n        var p;\n        if (!C) {\n          C = [];\n          for (k = 0; k < j; ++k)C[k] = [];\n          for (k = 0; k < q; ++k) {\n            p = A[k];\n            C[p.source.index].push(p.target);\n            C[p.target.index].push(p.source)\n          }\n        }\n        p = C[f];\n        for (var o = -1, h = p.length, z; ++o < h;)if (!isNaN(z = p[o][n]))return z;\n        return Math.random() * m\n      }\n\n      var f, k, j =\n        F.length, q = A.length, p = n[0], o = n[1], C, h;\n      for (f = 0; f < j; ++f) {\n        (h = F[f]).index = f;\n        h.weight = 0\n      }\n      H = [];\n      na = [];\n      for (f = 0; f < q; ++f) {\n        h = A[f];\n        if (typeof h.source == \"number\") h.source = F[h.source];\n        if (typeof h.target == \"number\") h.target = F[h.target];\n        H[f] = s.call(this, h, f);\n        na[f] = u.call(this, h, f);\n        ++h.source.weight;\n        ++h.target.weight\n      }\n      for (f = 0; f < j; ++f) {\n        h = F[f];\n        if (isNaN(h.x)) h.x = b(\"x\", p);\n        if (isNaN(h.y)) h.y = b(\"y\", o);\n        if (isNaN(h.px)) h.px = h.x;\n        if (isNaN(h.py)) h.py = h.y\n      }\n      R = [];\n      if (typeof x === \"function\")for (f = 0; f < j; ++f)R[f] = +x.call(this, F[f], f); else for (f =\n                                                                                                    0; f < j; ++f)R[f] = x;\n      return m.resume()\n    };\n    m.resume = function () {\n      o = 0.1;\n      d3.timer(f);\n      return m\n    };\n    m.stop = function () {\n      o = 0;\n      return m\n    };\n    m.drag = function () {\n      p || (p = d3.behavior.drag().origin(Object).on(\"dragstart\", j).on(\"drag\", B).on(\"dragend\", t));\n      this.on(\"mouseover.force\", h).on(\"mouseout.force\", r).call(p)\n    };\n    return d3.rebind(m, q, \"on\")\n  };\n  var U, ma;\n  d3.layout.partition = function () {\n    function b(f, j, m, q) {\n      var p = f.children;\n      f.x = j;\n      f.y = f.depth * q;\n      f.dx = m;\n      f.dy = q;\n      if (p && (h = p.length))for (var o = -1, h, r, m = f.value ? m / f.value : 0; ++o < h;) {\n        b(r = p[o], j, f =\n          r.value * m, q);\n        j = j + f\n      }\n    }\n\n    function f(b) {\n      var b = b.children, k = 0;\n      if (b && (m = b.length))for (var j = -1, m; ++j < m;)k = Math.max(k, f(b[j]));\n      return 1 + k\n    }\n\n    function j(j, p) {\n      var o = m.call(this, j, p);\n      b(o[0], 0, q[0], q[1] / f(o[0]));\n      return o\n    }\n\n    var m = d3.layout.hierarchy(), q = [1, 1];\n    j.size = function (b) {\n      if (!arguments.length)return q;\n      q = b;\n      return j\n    };\n    return ka(j, m)\n  };\n  d3.layout.pie = function () {\n    function b(n, o) {\n      var h = n.map(function (j, n) {\n        return +f.call(b, j, n)\n      }), r = +(typeof m === \"function\" ? m.apply(this, arguments) : m), s = ((typeof p === \"function\" ? p.apply(this,\n          arguments) : p) - m) / d3.sum(h), u = d3.range(n.length);\n      j != null && u.sort(j === za ? function (b, f) {\n        return h[f] - h[b]\n      } : function (b, f) {\n        return j(n[b], n[f])\n      });\n      var x = [];\n      u.forEach(function (b) {\n        x[b] = {data: n[b], value: d = h[b], startAngle: r, endAngle: r = r + d * s}\n      });\n      return x\n    }\n\n    var f = Number, j = za, m = 0, p = 2 * Math.PI;\n    b.value = function (j) {\n      if (!arguments.length)return f;\n      f = j;\n      return b\n    };\n    b.sort = function (f) {\n      if (!arguments.length)return j;\n      j = f;\n      return b\n    };\n    b.startAngle = function (f) {\n      if (!arguments.length)return m;\n      m = f;\n      return b\n    };\n    b.endAngle = function (f) {\n      if (!arguments.length)return p;\n      p = f;\n      return b\n    };\n    return b\n  };\n  var za = {};\n  d3.layout.stack = function () {\n    function b(h, r) {\n      var s = h.map(function (j, m) {\n        return f.call(b, j, m)\n      }), u = s.map(function (f) {\n        return f.map(function (f, j) {\n          return [n.call(b, f, j), o.call(b, f, j)]\n        })\n      }), x = j.call(b, u, r), s = d3.permute(s, x), u = d3.permute(u, x), x = m.call(b, u, r), t = s.length, z = s[0].length, F, A, H;\n      for (A = 0; A < z; ++A) {\n        p.call(b, s[0][A], H = x[A], u[0][A][1]);\n        for (F = 1; F < t; ++F)p.call(b, s[F][A], H = H + u[F - 1][A][1], u[F][A][1])\n      }\n      return h\n    }\n\n    var f = Object, j = Ia[\"default\"], m = Pa.zero, p = K, n = ja, o = $;\n    b.values = function (j) {\n      if (!arguments.length)return f;\n      f = j;\n      return b\n    };\n    b.order = function (f) {\n      if (!arguments.length)return j;\n      j = typeof f === \"function\" ? f : Ia[f];\n      return b\n    };\n    b.offset = function (f) {\n      if (!arguments.length)return m;\n      m = typeof f === \"function\" ? f : Pa[f];\n      return b\n    };\n    b.x = function (f) {\n      if (!arguments.length)return n;\n      n = f;\n      return b\n    };\n    b.y = function (f) {\n      if (!arguments.length)return o;\n      o = f;\n      return b\n    };\n    b.out = function (f) {\n      if (!arguments.length)return p;\n      p = f;\n      return b\n    };\n    return b\n  };\n  var Ia = {\n    \"inside-out\": function (b) {\n      for (var f = b.length, j, m = b.map(aa), p = b.map(W), n = d3.range(f).sort(function (b, f) {\n        return m[b] -\n          m[f]\n      }), o = 0, h = 0, r = [], s = [], b = 0; b < f; ++b) {\n        j = n[b];\n        if (o < h) {\n          o = o + p[j];\n          r.push(j)\n        } else {\n          h = h + p[j];\n          s.push(j)\n        }\n      }\n      return s.reverse().concat(r)\n    }, reverse: function (b) {\n      return d3.range(b.length).reverse()\n    }, \"default\": function (b) {\n      return d3.range(b.length)\n    }\n  }, Pa = {\n    silhouette: function (b) {\n      var f = b.length, j = b[0].length, m = [], p = 0, n, o, h, r = [];\n      for (o = 0; o < j; ++o) {\n        for (h = n = 0; n < f; n++)h = h + b[n][o][1];\n        h > p && (p = h);\n        m.push(h)\n      }\n      for (o = 0; o < j; ++o)r[o] = (p - m[o]) / 2;\n      return r\n    }, wiggle: function (b) {\n      var f = b.length, j = b[0], m = j.length, p, n, o, h, r, s, u, x, t, z = [];\n      z[0] =\n        x = t = 0;\n      for (n = 1; n < m; ++n) {\n        for (h = p = 0; p < f; ++p)h = h + b[p][n][1];\n        r = p = 0;\n        for (u = j[n][0] - j[n - 1][0]; p < f; ++p) {\n          o = 0;\n          for (s = (b[p][n][1] - b[p][n - 1][1]) / (2 * u); o < p; ++o)s = s + (b[o][n][1] - b[o][n - 1][1]) / u;\n          r = r + s * b[p][n][1]\n        }\n        z[n] = x = x - (h ? r / h * u : 0);\n        x < t && (t = x)\n      }\n      for (n = 0; n < m; ++n)z[n] = z[n] - t;\n      return z\n    }, expand: function (b) {\n      var f = b.length, j = b[0].length, m = 1 / f, p, n, o, h = [];\n      for (n = 0; n < j; ++n) {\n        for (o = p = 0; p < f; p++)o = o + b[p][n][1];\n        if (o)for (p = 0; p < f; p++)b[p][n][1] = b[p][n][1] / o; else for (p = 0; p < f; p++)b[p][n][1] = m\n      }\n      for (n = 0; n < j; ++n)h[n] = 0;\n      return h\n    }, zero: function (b) {\n      for (var f =\n        -1, b = b[0].length, j = []; ++f < b;)j[f] = 0;\n      return j\n    }\n  };\n  d3.layout.histogram = function () {\n    function b(k, o) {\n      for (var h = [], r = k.map(j, this), s = m.call(this, r, o), u = p.call(this, s, r, o), x, o = -1, t = r.length, z = u.length - 1, F = f ? 1 : 1 / t; ++o < z;) {\n        x = h[o] = [];\n        x.dx = u[o + 1] - (x.x = u[o]);\n        x.y = 0\n      }\n      for (o = -1; ++o < t;) {\n        x = r[o];\n        if (x >= s[0] && x <= s[1]) {\n          x = h[d3.bisect(u, x, 1, z) - 1];\n          x.y = x.y + F;\n          x.push(k[o])\n        }\n      }\n      return h\n    }\n\n    var f = true, j = Number, m = E, p = Da;\n    b.value = function (f) {\n      if (!arguments.length)return j;\n      j = f;\n      return b\n    };\n    b.range = function (f) {\n      if (!arguments.length)return m;\n      m = d3.functor(f);\n      return b\n    };\n    b.bins = function (f) {\n      if (!arguments.length)return p;\n      p = typeof f === \"number\" ? function (b) {\n        return L(b, f)\n      } : d3.functor(f);\n      return b\n    };\n    b.frequency = function (j) {\n      if (!arguments.length)return f;\n      f = !!j;\n      return b\n    };\n    return b\n  };\n  d3.layout.hierarchy = function () {\n    function b(f, h, r) {\n      var s = o.call(j, f, h), u = ab ? f : {data: f};\n      u.depth = h;\n      r.push(u);\n      if (s && (x = s.length)) {\n        for (var f = -1, x, t = u.children = [], z = 0, h = h + 1; ++f < x;) {\n          d = b(s[f], h, r);\n          d.parent = u;\n          t.push(d);\n          z = z + d.value\n        }\n        p && t.sort(p);\n        if (n) u.value = z\n      } else if (n) u.value = +n.call(j, f, h) || 0;\n      return u\n    }\n\n    function f(b, k) {\n      var p = b.children, m = 0;\n      if (p && (h = p.length))for (var o = -1, h, q = k + 1; ++o < h;)m = m + f(p[o], q); else n && (m = +n.call(j, ab ? b : b.data, k) || 0);\n      if (n) b.value = m;\n      return m\n    }\n\n    function j(f) {\n      var j = [];\n      b(f, 0, j);\n      return j\n    }\n\n    var p = va, o = Wa, n = ba;\n    j.sort = function (b) {\n      if (!arguments.length)return p;\n      p = b;\n      return j\n    };\n    j.children = function (b) {\n      if (!arguments.length)return o;\n      o = b;\n      return j\n    };\n    j.value = function (b) {\n      if (!arguments.length)return n;\n      n = b;\n      return j\n    };\n    j.revalue = function (b) {\n      f(b, 0);\n      return b\n    };\n    return j\n  };\n  var ab = false;\n  d3.layout.pack = function () {\n    function b(k,\n               p) {\n      var n = f.call(this, k, p), o = n[0];\n      o.x = 0;\n      o.y = 0;\n      wa(o);\n      var h = j[0], r = j[1], s = 1 / Math.max(2 * o.r / h, 2 * o.r / r);\n      ga(o, h / 2, r / 2, s);\n      return n\n    }\n\n    var f = d3.layout.hierarchy().sort(ea), j = [1, 1];\n    b.size = function (f) {\n      if (!arguments.length)return j;\n      j = f;\n      return b\n    };\n    return ka(b, f)\n  };\n  d3.layout.cluster = function () {\n    function b(k, n) {\n      var o = f.call(this, k, n), h = o[0], r, s = 0;\n      p(h, function (b) {\n        var f = b.children;\n        if (f && f.length) {\n          b.x = f.reduce(function (b, f) {\n              return b + f.x\n            }, 0) / f.length;\n          b.y = 1 + d3.max(f, function (b) {\n              return b.y\n            })\n        } else {\n          b.x = r ? s = s + j(b, r) : 0;\n          b.y = 0;\n          r = b\n        }\n      });\n      var u = ra(h), x = Q(h), t = u.x - j(u, x) / 2, z = x.x + j(x, u) / 2;\n      p(h, function (b) {\n        b.x = (b.x - t) / (z - t) * m[0];\n        b.y = (1 - (h.y ? b.y / h.y : 1)) * m[1]\n      });\n      return o\n    }\n\n    var f = d3.layout.hierarchy().sort(null).value(null), j = la, m = [1, 1];\n    b.separation = function (f) {\n      if (!arguments.length)return j;\n      j = f;\n      return b\n    };\n    b.size = function (f) {\n      if (!arguments.length)return m;\n      m = f;\n      return b\n    };\n    return ka(b, f)\n  };\n  d3.layout.tree = function () {\n    function k(k, n) {\n      function o(b, f) {\n        var k = b.children, p = b._tree;\n        if (k && (m = k.length)) {\n          for (var m, n = k[0], h, q = n, z, s = -1; ++s < m;) {\n            z = k[s];\n            o(z,\n              h);\n            var A = z;\n            if (h) {\n              for (var r = A, u = A, x = A.parent.children[0], t = r._tree.mod, F = u._tree.mod, w = h._tree.mod, B = x._tree.mod, U = void 0; h = ta(h), r = sa(r), h && r;) {\n                x = sa(x);\n                u = ta(u);\n                u._tree.ancestor = A;\n                U = h._tree.prelim + w - r._tree.prelim - t + j(h, r);\n                if (U > 0) {\n                  var ha = h._tree.ancestor.parent == A.parent ? h._tree.ancestor : q, y = A, E = U, ha = ha._tree, y = y._tree, G = E / (y.number - ha.number);\n                  ha.change = ha.change + G;\n                  y.change = y.change - G;\n                  y.shift = y.shift + E;\n                  y.prelim = y.prelim + E;\n                  y.mod = y.mod + E;\n                  t = t + U;\n                  F = F + U\n                }\n                w = w + h._tree.mod;\n                t = t + r._tree.mod;\n                B = B + x._tree.mod;\n                F =\n                  F + u._tree.mod\n              }\n              if (h && !ta(u)) {\n                u._tree.thread = h;\n                u._tree.mod = u._tree.mod + (w - F)\n              }\n              if (r && !sa(x)) {\n                x._tree.thread = r;\n                x._tree.mod = x._tree.mod + (t - B);\n                q = A\n              }\n            }\n            h = z\n          }\n          m = k = 0;\n          s = b.children;\n          for (A = s.length; --A >= 0;) {\n            q = s[A]._tree;\n            q.prelim = q.prelim + k;\n            q.mod = q.mod + k;\n            k = k + (q.shift + (m = m + q.change))\n          }\n          n = 0.5 * (n._tree.prelim + z._tree.prelim);\n          if (f) {\n            p.prelim = f._tree.prelim + j(b, f);\n            p.mod = p.prelim - n\n          } else p.prelim = n\n        } else if (f) p.prelim = f._tree.prelim + j(b, f)\n      }\n\n      function h(b, f) {\n        b.x = b._tree.prelim + f;\n        var k = b.children;\n        if (k && (p = k.length))for (var j = -1, p,\n                                       f = f + b._tree.mod; ++j < p;)h(k[j], f)\n      }\n\n      var r = f.call(this, k, n), s = r[0];\n      p(s, function (b, f) {\n        b._tree = {ancestor: b, prelim: 0, mod: 0, change: 0, shift: 0, number: f ? f._tree.number + 1 : 0}\n      });\n      o(s);\n      h(s, -s._tree.prelim);\n      var u = xa(s, Za), x = xa(s, ya), t = xa(s, b), z = u.x - j(u, x) / 2, F = x.x + j(x, u) / 2, A = t.depth || 1;\n      p(s, function (b) {\n        b.x = (b.x - z) / (F - z) * m[0];\n        b.y = b.depth / A * m[1];\n        delete b._tree\n      });\n      return r\n    }\n\n    var f = d3.layout.hierarchy().sort(null).value(null), j = la, m = [1, 1];\n    k.separation = function (b) {\n      if (!arguments.length)return j;\n      j = b;\n      return k\n    };\n    k.size = function (b) {\n      if (!arguments.length)return m;\n      m = b;\n      return k\n    };\n    return ka(k, f)\n  };\n  d3.layout.treemap = function () {\n    function b(f, k) {\n      for (var j = -1, p = f.length, m, n; ++j < p;) {\n        n = (m = f[j]).value * (k < 0 ? 0 : k);\n        m.area = isNaN(n) || n <= 0 ? 0 : n\n      }\n    }\n\n    function f(j) {\n      var n = j.children;\n      if (n && n.length) {\n        var h = s(j), o = [], q = n.slice(), r = Infinity, u = Math.min(h.dx, h.dy);\n        b(q, h.dx * h.dy / j.value);\n        for (o.area = 0; (j = q.length) > 0;) {\n          o.push(j = q[j - 1]);\n          o.area = o.area + j.area;\n          for (var j = u, t = o.area, x = void 0, w = 0, U = Infinity, B = -1, C = o.length; ++B < C;)if (x = o[B].area) {\n            x < U && (U = x);\n            x > w && (w = x)\n          }\n          t = t * t;\n          j = j * j;\n          if ((j = t ? Math.max(j *\n              w * y / t, t / (j * U * y)) : Infinity) <= r) {\n            q.pop();\n            r = j\n          } else {\n            o.area = o.area - o.pop().area;\n            p(o, u, h, false);\n            u = Math.min(h.dx, h.dy);\n            o.length = o.area = 0;\n            r = Infinity\n          }\n        }\n        if (o.length) {\n          p(o, u, h, true);\n          o.length = o.area = 0\n        }\n        n.forEach(f)\n      }\n    }\n\n    function j(f) {\n      var n = f.children;\n      if (n && n.length) {\n        var h = s(f), o = n.slice(), q = [];\n        b(o, h.dx * h.dy / f.value);\n        for (q.area = 0; f = o.pop();) {\n          q.push(f);\n          q.area = q.area + f.area;\n          if (f.z != null) {\n            p(q, f.z ? h.dx : h.dy, h, !o.length);\n            q.length = q.area = 0\n          }\n        }\n        n.forEach(j)\n      }\n    }\n\n    function p(b, f, j, k) {\n      var m = -1, n = b.length, h = j.x, o = j.y, q = f ? r(b.area / f) :\n        0, s;\n      if (f == j.dx) {\n        if (k || q > j.dy) q = j.dy;\n        for (; ++m < n;) {\n          s = b[m];\n          s.x = h;\n          s.y = o;\n          s.dy = q;\n          h = h + (s.dx = Math.min(j.x + j.dx - h, q ? r(s.area / q) : 0))\n        }\n        s.z = true;\n        s.dx = s.dx + (j.x + j.dx - h);\n        j.y = j.y + q;\n        j.dy = j.dy - q\n      } else {\n        if (k || q > j.dx) q = j.dx;\n        for (; ++m < n;) {\n          s = b[m];\n          s.x = h;\n          s.y = o;\n          s.dx = q;\n          o = o + (s.dy = Math.min(j.y + j.dy - o, q ? r(s.area / q) : 0))\n        }\n        s.z = false;\n        s.dy = s.dy + (j.y + j.dy - o);\n        j.x = j.x + q;\n        j.dx = j.dx - q\n      }\n    }\n\n    function h(p) {\n      var p = x || n(p), m = p[0];\n      m.x = 0;\n      m.y = 0;\n      m.dx = t[0];\n      m.dy = t[1];\n      x && n.revalue(m);\n      b([m], m.dx * m.dy / m.value);\n      (x ? j : f)(m);\n      u && (x = p);\n      return p\n    }\n\n    var n = d3.layout.hierarchy(),\n      r = Math.round, t = [1, 1], w = null, s = o, u = false, x, y = 0.5 * (1 + Math.sqrt(5));\n    h.size = function (b) {\n      if (!arguments.length)return t;\n      t = b;\n      return h\n    };\n    h.padding = function (b) {\n      function f(j) {\n        var k = b.call(h, j, j.depth);\n        return k == null ? o(j) : ha(j, typeof k === \"number\" ? [k, k, k, k] : k)\n      }\n\n      function j(f) {\n        return ha(f, b)\n      }\n\n      if (!arguments.length)return w;\n      var k;\n      s = (w = b) == null ? o : (k = typeof b) === \"function\" ? f : k === \"number\" ? (b = [b, b, b, b], j) : j;\n      return h\n    };\n    h.round = function (b) {\n      if (!arguments.length)return r != Number;\n      r = b ? Math.round : Number;\n      return h\n    };\n    h.sticky = function (b) {\n      if (!arguments.length)return u;\n      u = b;\n      x = null;\n      return h\n    };\n    h.ratio = function (b) {\n      if (!arguments.length)return y;\n      y = b;\n      return h\n    };\n    return ka(h, n)\n  }\n})();\n(function () {\n  function w(h) {\n    return h.map(G).join(\",\")\n  }\n\n  function G(h) {\n    return /[\",\\n]/.test(h) ? '\"' + h.replace(/\\\"/g, '\"\"') + '\"' : h\n  }\n\n  d3.csv = function (h, r) {\n    d3.text(h, \"text/csv\", function (h) {\n      r(h && d3.csv.parse(h))\n    })\n  };\n  d3.csv.parse = function (h) {\n    var r;\n    return d3.csv.parseRows(h, function (h, w) {\n      if (w) {\n        for (var y = {}, G = -1, M = r.length; ++G < M;)y[r[G]] = h[G];\n        return y\n      }\n      r = h;\n      return null\n    })\n  };\n  d3.csv.parseRows = function (h, r) {\n    function t() {\n      if (M.lastIndex >= h.length)return y;\n      if (K) {\n        K = false;\n        return w\n      }\n      var r = M.lastIndex;\n      if (h.charCodeAt(r) === 34) {\n        for (var t =\n          r; t++ < h.length;)if (h.charCodeAt(t) === 34) {\n          if (h.charCodeAt(t + 1) !== 34)break;\n          t++\n        }\n        M.lastIndex = t + 2;\n        var G = h.charCodeAt(t + 1);\n        if (G === 13) {\n          K = true;\n          h.charCodeAt(t + 2) === 10 && M.lastIndex++\n        } else G === 10 && (K = true);\n        return h.substring(r + 1, t).replace(/\"\"/g, '\"')\n      }\n      if (t = M.exec(h)) {\n        K = t[0].charCodeAt(0) !== 44;\n        return h.substring(r, t.index)\n      }\n      M.lastIndex = h.length;\n      return h.substring(r)\n    }\n\n    var w = {}, y = {}, G = [], M = /\\r\\n|[,\\r\\n]/g, ja = 0, $, K;\n    for (M.lastIndex = 0; ($ = t()) !== y;) {\n      for (var aa = []; $ !== w && $ !== y;) {\n        aa.push($);\n        $ = t()\n      }\n      (!r || (aa = r(aa, ja++))) &&\n      G.push(aa)\n    }\n    return G\n  };\n  d3.csv.format = function (h) {\n    return h.map(w).join(\"\\n\")\n  }\n})();\n(function () {\n  function w(b, p, h, r) {\n    for (var t, w = 0, y = p.length, B = h.length; w < y;) {\n      if (r >= B)return -1;\n      t = p.charCodeAt(w++);\n      if (t == 37) {\n        t = Xa[p.charAt(w++)];\n        if (!t || (r = t(b, h, r)) < 0)return -1\n      } else if (t != h.charCodeAt(r++))return -1\n    }\n    return r\n  }\n\n  function G(b, p, h) {\n    J.lastIndex = 0;\n    return (p = J.exec(p.substring(h, h + 2))) ? (b.setDate(+p[0]), h + p[0].length) : -1\n  }\n\n  function h(b, p, h) {\n    J.lastIndex = 0;\n    return (p = J.exec(p.substring(h, h + 2))) ? (b.setHours(+p[0]), h + p[0].length) : -1\n  }\n\n  function r(b, p) {\n    return ~~((p - b) / 864E5 - (p.getTimezoneOffset() - b.getTimezoneOffset()) /\n    1440)\n  }\n\n  function t() {\n    this._ = new Date(Date.UTC.apply(this, arguments))\n  }\n\n  function B(b) {\n    return b.toISOString()\n  }\n\n  function y(b, p, h) {\n    return function (r, t, w) {\n      var y = b(r), B = [];\n      y < r && p(y);\n      if (w > 1)for (; y < t;) {\n        r = new Date(+y);\n        h(r) % w || B.push(r);\n        p(y)\n      } else for (; y < t;) {\n        B.push(new Date(+y));\n        p(y)\n      }\n      return B\n    }\n  }\n\n  function P(b) {\n    b.setTime(b.getTime() + 6E4)\n  }\n\n  function M(b) {\n    b.setTime(b.getTime() + 36E5)\n  }\n\n  function ja(b, p, h) {\n    function r(p) {\n      return b(p)\n    }\n\n    r.invert = function (p) {\n      return $(b.invert(p))\n    };\n    r.domain = function (p) {\n      if (!arguments.length)return b.domain().map($);\n      b.domain(p);\n      return r\n    };\n    r.ticks = function (h, o) {\n      var t, w = r.domain();\n      t = w[0];\n      w = w[w.length - 1];\n      t = t < w ? [t, w] : [w, t];\n      if (typeof h !== \"function\") {\n        var w = (t[1] - t[0]) / h, y = d3.bisect(la, w);\n        if (y == la.length)return p.year(t, h);\n        if (!y)return b.ticks(h).map($);\n        Math.log(w / la[y - 1]) < Math.log(la[y] / w) && --y;\n        h = p[y];\n        o = h[1];\n        h = h[0]\n      }\n      return h(t[0], new Date(+t[1] + 1), o)\n    };\n    r.tickFormat = function () {\n      return h\n    };\n    r.copy = function () {\n      return ja(b.copy(), p, h)\n    };\n    return d3.rebind(r, b, \"range\", \"rangeRound\", \"interpolate\", \"clamp\")\n  }\n\n  function $(b) {\n    return new Date(b)\n  }\n\n  function K(b) {\n    return function (p) {\n      for (var h = b.length - 1, r = b[h]; !r[1](p);)r = b[--h];\n      return r[0](p)\n    }\n  }\n\n  function aa(b) {\n    var p = new Date(b, 0, 1);\n    p.setFullYear(b);\n    return p\n  }\n\n  function W(b) {\n    var p = b.getFullYear(), h = aa(p), r = aa(p + 1);\n    return p + (b - h) / (r - h)\n  }\n\n  function da(b) {\n    var h = new Date(Date.UTC(b, 0, 1));\n    h.setUTCFullYear(b);\n    return h\n  }\n\n  function Da(b) {\n    var h = b.getUTCFullYear(), o = da(h), r = da(h + 1);\n    return h + (b - o) / (r - o)\n  }\n\n  d3.time = {};\n  var L = Date;\n  d3.time.format = function (b) {\n    function h(p) {\n      for (var r = [], t = -1, w = 0, y, B; ++t < o;)if (b.charCodeAt(t) ==\n        37) {\n        r.push(b.substring(w, t), (B = va[y = b.charAt(++t)]) ? B(p) : y);\n        w = t + 1\n      }\n      r.push(b.substring(w, t));\n      return r.join(\"\")\n    }\n\n    var o = b.length;\n    h.parse = function (h) {\n      var p = new L(1900, 0, 1);\n      if (w(p, b, h, 0) != h.length)return null;\n      if (p.hour12) {\n        h = p.getHours() % 12;\n        p.setHours(p.hour12pm ? h + 12 : h)\n      }\n      delete p.hour12;\n      delete p.hour12pm;\n      return p\n    };\n    h.toString = function () {\n      return b\n    };\n    return h\n  };\n  var E = d3.format(\"02d\"), ka = d3.format(\"03d\"), Wa = d3.format(\"04d\"), ba = d3.format(\"2d\"), va = {\n      a: function (b) {\n        return fa[b.getDay()].substring(0, 3)\n      }, A: function (b) {\n        return fa[b.getDay()]\n      },\n      b: function (b) {\n        return ga[b.getMonth()].substring(0, 3)\n      }, B: function (b) {\n        return ga[b.getMonth()]\n      }, c: d3.time.format(\"%a %b %e %H:%M:%S %Y\"), d: function (b) {\n        return E(b.getDate())\n      }, e: function (b) {\n        return ba(b.getDate())\n      }, H: function (b) {\n        return E(b.getHours())\n      }, I: function (b) {\n        return E(b.getHours() % 12 || 12)\n      }, j: function (b) {\n        return ka(1 + r(new L(b.getFullYear(), 0, 1), b))\n      }, L: function (b) {\n        return ka(b.getMilliseconds())\n      }, m: function (b) {\n        return E(b.getMonth() + 1)\n      }, M: function (b) {\n        return E(b.getMinutes())\n      }, p: function (b) {\n        return b.getHours() >=\n        12 ? \"PM\" : \"AM\"\n      }, S: function (b) {\n        return E(b.getSeconds())\n      }, U: function (b) {\n        var h = new L(b.getFullYear(), 0, 1);\n        return E(~~((r(h, b) + h.getDay()) / 7))\n      }, w: function (b) {\n        return b.getDay()\n      }, W: function (b) {\n        var h = new L(b.getFullYear(), 0, 1);\n        return E(~~((r(h, b) + (h.getDay() + 6) % 7) / 7))\n      }, x: d3.time.format(\"%m/%d/%y\"), X: d3.time.format(\"%H:%M:%S\"), y: function (b) {\n        return E(b.getFullYear() % 100)\n      }, Y: function (b) {\n        return Wa(b.getFullYear() % 1E4)\n      }, Z: function (b) {\n        var h = b.getTimezoneOffset(), b = h > 0 ? \"-\" : \"+\", o = ~~(Math.abs(h) / 60), h = Math.abs(h) %\n          60;\n        return b + E(o) + E(h)\n      }, \"%\": function () {\n        return \"%\"\n      }\n    }, Xa = {\n      a: function (b, h, o) {\n        return h.substring(o, o = o + 3).toLowerCase() in ea ? o : -1\n      }, A: function (b, h, o) {\n        Y.lastIndex = 0;\n        return (b = Y.exec(h.substring(o, o + 10))) ? o + b[0].length : -1\n      }, b: function (b, h, o) {\n        h = Ea[h.substring(o, o = o + 3).toLowerCase()];\n        return h == null ? -1 : (b.setMonth(h), o)\n      }, B: function (b, h, o) {\n        Fa.lastIndex = 0;\n        return (h = Fa.exec(h.substring(o, o + 12))) ? (b.setMonth(wa[h[0].toLowerCase()]), o + h[0].length) : -1\n      }, c: function (b, h, o) {\n        return w(b, va.c.toString(), h, o)\n      }, d: G, e: G, H: h, I: function (b,\n                                        p, o) {\n        b.hour12 = true;\n        return h(b, p, o)\n      }, L: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h = J.exec(h.substring(o, o + 3))) ? (b.setMilliseconds(+h[0]), o + h[0].length) : -1\n      }, m: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h = J.exec(h.substring(o, o + 2))) ? (b.setMonth(h[0] - 1), o + h[0].length) : -1\n      }, M: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h = J.exec(h.substring(o, o + 2))) ? (b.setMinutes(+h[0]), o + h[0].length) : -1\n      }, p: function (b, h, o) {\n        h = ra[h.substring(o, o = o + 2).toLowerCase()];\n        return h == null ? -1 : (b.hour12pm = h, o)\n      }, S: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h =\n          J.exec(h.substring(o, o + 2))) ? (b.setSeconds(+h[0]), o + h[0].length) : -1\n      }, x: function (b, h, o) {\n        return w(b, va.x.toString(), h, o)\n      }, X: function (b, h, o) {\n        return w(b, va.X.toString(), h, o)\n      }, y: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h = J.exec(h.substring(o, o + 2))) ? (b.setFullYear(~~((new Date).getFullYear() / 1E3) * 1E3 + +h[0]), o + h[0].length) : -1\n      }, Y: function (b, h, o) {\n        J.lastIndex = 0;\n        return (h = J.exec(h.substring(o, o + 4))) ? (b.setFullYear(h[0]), o + h[0].length) : -1\n      }\n    }, ea = {\n      sun: 3,\n      mon: 3,\n      tue: 3,\n      wed: 3,\n      thu: 3,\n      fri: 3,\n      sat: 3\n    }, Y = /^(?:Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday)/ig,\n    fa = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"], Ea = {\n      jan: 0,\n      feb: 1,\n      mar: 2,\n      apr: 3,\n      may: 4,\n      jun: 5,\n      jul: 6,\n      aug: 7,\n      sep: 8,\n      oct: 9,\n      nov: 10,\n      dec: 11\n    }, Fa = /^(?:January|February|March|April|May|June|July|August|September|October|November|December)/ig, wa = {\n      january: 0,\n      february: 1,\n      march: 2,\n      april: 3,\n      may: 4,\n      june: 5,\n      july: 6,\n      august: 7,\n      september: 8,\n      october: 9,\n      november: 10,\n      december: 11\n    }, ga = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"], J = /\\s*\\d+/, ra = {\n      am: 0,\n      pm: 1\n    };\n  d3.time.format.utc = function (b) {\n    function h(b) {\n      try {\n        L = t;\n        var p = new L;\n        p._ = b;\n        return o(p)\n      } finally {\n        L = Date\n      }\n    }\n\n    var o = d3.time.format(b);\n    h.parse = function (b) {\n      try {\n        L = t;\n        var h = o.parse(b);\n        return h && h._\n      } finally {\n        L = Date\n      }\n    };\n    h.toString = o.toString;\n    return h\n  };\n  t.prototype = {\n    getDate: function () {\n      return this._.getUTCDate()\n    }, getDay: function () {\n      return this._.getUTCDay()\n    }, getFullYear: function () {\n      return this._.getUTCFullYear()\n    }, getHours: function () {\n      return this._.getUTCHours()\n    }, getMilliseconds: function () {\n      return this._.getUTCMilliseconds()\n    },\n    getMinutes: function () {\n      return this._.getUTCMinutes()\n    }, getMonth: function () {\n      return this._.getUTCMonth()\n    }, getSeconds: function () {\n      return this._.getUTCSeconds()\n    }, getTimezoneOffset: function () {\n      return 0\n    }, valueOf: function () {\n      return this._.getTime()\n    }, setDate: function (b) {\n      this._.setUTCDate(b)\n    }, setDay: function (b) {\n      this._.setUTCDay(b)\n    }, setFullYear: function (b) {\n      this._.setUTCFullYear(b)\n    }, setHours: function (b) {\n      this._.setUTCHours(b)\n    }, setMilliseconds: function (b) {\n      this._.setUTCMilliseconds(b)\n    }, setMinutes: function (b) {\n      this._.setUTCMinutes(b)\n    },\n    setMonth: function (b) {\n      this._.setUTCMonth(b)\n    }, setSeconds: function (b) {\n      this._.setUTCSeconds(b)\n    }\n  };\n  var Q = d3.time.format.utc(\"%Y-%m-%dT%H:%M:%S.%LZ\");\n  d3.time.format.iso = Date.prototype.toISOString ? B : Q;\n  B.parse = function (b) {\n    return new Date(b)\n  };\n  B.toString = Q.toString;\n  d3.time.second = function (b) {\n    return new Date(~~(b / 1E3) * 1E3)\n  };\n  d3.time.second.utc = d3.time.second;\n  d3.time.seconds = y(d3.time.second, function (b) {\n    b.setTime(b.getTime() + 1E3)\n  }, function (b) {\n    return b.getSeconds()\n  });\n  d3.time.seconds.utc = d3.time.seconds;\n  d3.time.minute =\n    function (b) {\n      return new Date(~~(b / 6E4) * 6E4)\n    };\n  d3.time.minute.utc = d3.time.minute;\n  d3.time.minutes = y(d3.time.minute, P, function (b) {\n    return b.getMinutes()\n  });\n  d3.time.minutes.utc = y(d3.time.minute, P, function (b) {\n    return b.getUTCMinutes()\n  });\n  d3.time.hour = function (b) {\n    var h = b.getTimezoneOffset() / 60;\n    return new Date((~~(b / 36E5 - h) + h) * 36E5)\n  };\n  d3.time.hour.utc = function (b) {\n    return new Date(~~(b / 36E5) * 36E5)\n  };\n  d3.time.hours = y(d3.time.hour, M, function (b) {\n    return b.getHours()\n  });\n  d3.time.hours.utc = y(d3.time.hour.utc, M, function (b) {\n    return b.getUTCHours()\n  });\n  d3.time.day = function (b) {\n    return new Date(b.getFullYear(), b.getMonth(), b.getDate())\n  };\n  d3.time.day.utc = function (b) {\n    return new Date(~~(b / 864E5) * 864E5)\n  };\n  d3.time.days = y(d3.time.day, function (b) {\n    b.setDate(b.getDate() + 1)\n  }, function (b) {\n    return b.getDate() - 1\n  });\n  d3.time.days.utc = y(d3.time.day.utc, function (b) {\n    b.setUTCDate(b.getUTCDate() + 1)\n  }, function (b) {\n    return b.getUTCDate() - 1\n  });\n  d3.time.week = function (b) {\n    (b = d3.time.day(b)).setDate(b.getDate() - b.getDay());\n    return b\n  };\n  d3.time.week.utc = function (b) {\n    (b = d3.time.day.utc(b)).setUTCDate(b.getUTCDate() -\n      b.getUTCDay());\n    return b\n  };\n  d3.time.weeks = y(d3.time.week, function (b) {\n    b.setDate(b.getDate() + 7)\n  }, function (b) {\n    return ~~((b - new Date(b.getFullYear(), 0, 1)) / 6048E5)\n  });\n  d3.time.weeks.utc = y(d3.time.week.utc, function (b) {\n    b.setUTCDate(b.getUTCDate() + 7)\n  }, function (b) {\n    return ~~((b - Date.UTC(b.getUTCFullYear(), 0, 1)) / 6048E5)\n  });\n  d3.time.month = function (b) {\n    return new Date(b.getFullYear(), b.getMonth(), 1)\n  };\n  d3.time.month.utc = function (b) {\n    return new Date(Date.UTC(b.getUTCFullYear(), b.getUTCMonth(), 1))\n  };\n  d3.time.months = y(d3.time.month,\n    function (b) {\n      b.setMonth(b.getMonth() + 1)\n    }, function (b) {\n      return b.getMonth()\n    });\n  d3.time.months.utc = y(d3.time.month.utc, function (b) {\n    b.setUTCMonth(b.getUTCMonth() + 1)\n  }, function (b) {\n    return b.getUTCMonth()\n  });\n  d3.time.year = function (b) {\n    return new Date(b.getFullYear(), 0, 1)\n  };\n  d3.time.year.utc = function (b) {\n    return new Date(Date.UTC(b.getUTCFullYear(), 0, 1))\n  };\n  d3.time.years = y(d3.time.year, function (b) {\n    b.setFullYear(b.getFullYear() + 1)\n  }, function (b) {\n    return b.getFullYear()\n  });\n  d3.time.years.utc = y(d3.time.year.utc, function (b) {\n    b.setUTCFullYear(b.getUTCFullYear() +\n      1)\n  }, function (b) {\n    return b.getUTCFullYear()\n  });\n  var la = [1E3, 5E3, 15E3, 3E4, 6E4, 3E5, 9E5, 18E5, 36E5, 108E5, 216E5, 432E5, 864E5, 1728E5, 6048E5, 2592E6, 7776E6, 31536E6], sa = [[d3.time.seconds, 1], [d3.time.seconds, 5], [d3.time.seconds, 15], [d3.time.seconds, 30], [d3.time.minutes, 1], [d3.time.minutes, 5], [d3.time.minutes, 15], [d3.time.minutes, 30], [d3.time.hours, 1], [d3.time.hours, 3], [d3.time.hours, 6], [d3.time.hours, 12], [d3.time.days, 1], [d3.time.days, 2], [d3.time.weeks, 1], [d3.time.months, 1], [d3.time.months, 3], [d3.time.years, 1]],\n    Q = [[d3.time.format(\"%Y\"), function () {\n      return true\n    }], [d3.time.format(\"%B\"), function (b) {\n      return b.getMonth()\n    }], [d3.time.format(\"%b %d\"), function (b) {\n      return b.getDate() != 1\n    }], [d3.time.format(\"%a %d\"), function (b) {\n      return b.getDay() && b.getDate() != 1\n    }], [d3.time.format(\"%I %p\"), function (b) {\n      return b.getHours()\n    }], [d3.time.format(\"%I:%M\"), function (b) {\n      return b.getMinutes()\n    }], [d3.time.format(\":%S\"), function (b) {\n      return b.getSeconds()\n    }], [d3.time.format(\".%L\"), function (b) {\n      return b.getMilliseconds()\n    }]], ta = d3.scale.linear(),\n    xa = K(Q);\n  sa.year = function (b, h) {\n    return ta.domain(b.map(W)).ticks(h).map(aa)\n  };\n  d3.time.scale = function () {\n    return ja(d3.scale.linear(), sa, xa)\n  };\n  var ya = [[d3.time.seconds.utc, 1], [d3.time.seconds.utc, 5], [d3.time.seconds.utc, 15], [d3.time.seconds.utc, 30], [d3.time.minutes.utc, 1], [d3.time.minutes.utc, 5], [d3.time.minutes.utc, 15], [d3.time.minutes.utc, 30], [d3.time.hours.utc, 1], [d3.time.hours.utc, 3], [d3.time.hours.utc, 6], [d3.time.hours.utc, 12], [d3.time.days.utc, 1], [d3.time.days.utc, 2], [d3.time.weeks.utc, 1], [d3.time.months.utc,\n    1], [d3.time.months.utc, 3], [d3.time.years.utc, 1]], Q = [[d3.time.format.utc(\"%Y\"), function () {\n    return true\n  }], [d3.time.format.utc(\"%B\"), function (b) {\n    return b.getUTCMonth()\n  }], [d3.time.format.utc(\"%b %d\"), function (b) {\n    return b.getUTCDate() != 1\n  }], [d3.time.format.utc(\"%a %d\"), function (b) {\n    return b.getUTCDay() && b.getUTCDate() != 1\n  }], [d3.time.format.utc(\"%I %p\"), function (b) {\n    return b.getUTCHours()\n  }], [d3.time.format.utc(\"%I:%M\"), function (b) {\n    return b.getUTCMinutes()\n  }], [d3.time.format.utc(\":%S\"), function (b) {\n    return b.getUTCSeconds()\n  }],\n    [d3.time.format.utc(\".%L\"), function (b) {\n      return b.getUTCMilliseconds()\n    }]], Za = K(Q);\n  ya.year = function (b, h) {\n    return ta.domain(b.map(Da)).ticks(h).map(da)\n  };\n  d3.time.scale.utc = function () {\n    return ja(d3.scale.linear(), ya, Za)\n  }\n})();\n\n\n(function () {\n  d3.csv = function (url, callback) {\n    d3.text(url, \"text/csv\", function (text) {\n      callback(text && d3.csv.parse(text));\n    });\n  };\n  d3.csv.parse = function (text) {\n    var header;\n    return d3.csv.parseRows(text, function (row, i) {\n      if (i) {\n        var o = {}, j = -1, m = header.length;\n        while (++j < m) o[header[j]] = row[j];\n        return o;\n      } else {\n        header = row;\n        return null;\n      }\n    });\n  };\n\n  d3.csv.parseRows = function (text, f) {\n    var EOL = {}, // sentinel value for end-of-line\n      EOF = {}, // sentinel value for end-of-file\n      rows = [], // output rows\n      re = /\\r\\n|[,\\r\\n]/g, // field separator regex\n      n = 0, // the current line number\n      t, // the current token\n      eol; // is the current token followed by EOL?\n\n    re.lastIndex = 0; // work-around bug in FF 3.6\n\n    /** @private Returns the next token. */\n    function token() {\n      if (re.lastIndex >= text.length) return EOF; // special case: end of file\n      if (eol) {\n        eol = false;\n        return EOL;\n      } // special case: end of line\n\n      // special case: quotes\n      var j = re.lastIndex;\n      if (text.charCodeAt(j) === 34) {\n        var i = j;\n        while (i++ < text.length) {\n          if (text.charCodeAt(i) === 34) {\n            if (text.charCodeAt(i + 1) !== 34) break;\n            i++;\n          }\n        }\n        re.lastIndex = i + 2;\n        var c = text.charCodeAt(i + 1);\n        if (c === 13) {\n          eol = true;\n          if (text.charCodeAt(i + 2) === 10) re.lastIndex++;\n        } else if (c === 10) {\n          eol = true;\n        }\n        return text.substring(j + 1, i).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // common case\n      var m = re.exec(text);\n      if (m) {\n        eol = m[0].charCodeAt(0) !== 44;\n        return text.substring(j, m.index);\n      }\n      re.lastIndex = text.length;\n      return text.substring(j);\n    }\n\n    while ((t = token()) !== EOF) {\n      var a = [];\n      while ((t !== EOL) && (t !== EOF)) {\n        a.push(t);\n        t = token();\n      }\n      if (f && !(a = f(a, n++))) continue;\n      rows.push(a);\n    }\n\n    return rows;\n  };\n  d3.csv.format = function (rows) {\n    return rows.map(d3_csv_formatRow).join(\"\\n\");\n  };\n\n  function d3_csv_formatRow(row) {\n    return row.map(d3_csv_formatValue).join(\",\");\n  }\n\n  function d3_csv_formatValue(text) {\n    return /[\",\\n]/.test(text)\n      ? \"\\\"\" + text.replace(/\\\"/g, \"\\\"\\\"\") + \"\\\"\"\n      : text;\n  }\n})();\n\n(function () {\n  function ea(a) {\n    var b = a.source, a = a.target, c;\n    var e = a;\n    if (b === e) c = b; else {\n      c = O(b);\n      for (var e = O(e), f = c.pop(), h = e.pop(), g = null; f === h;)g = f, f = c.pop(), h = e.pop();\n      c = g\n    }\n    for (e = [b]; b !== c;)b = b.parent, e.push(b);\n    for (b = e.length; a !== c;)e.splice(b, 0, a), a = a.parent;\n    return e\n  }\n\n  function O(a) {\n    for (var b = [], c = a.parent; null != c;)b.push(a), a = c, c = c.parent;\n    b.push(a);\n    return b\n  }\n\n  function P(a) {\n    a.fixed |= 2\n  }\n\n  function fa(a) {\n    a !== s && (a.fixed &= 1)\n  }\n\n  function ga() {\n    Q();\n    s.fixed &= 1;\n    D = s = null\n  }\n\n  function Q() {\n    s.px = d3.event.x;\n    s.py = d3.event.y;\n    D.resume()\n  }\n\n  function R(a, b, c) {\n    var e = 0, f = 0;\n    a.charge = 0;\n    if (!a.leaf)for (var h = a.nodes, g = h.length, i = -1, k; ++i < g;)k = h[i], null != k && (R(k, b, c), a.charge += k.charge, e += k.charge * k.cx, f += k.charge * k.cy);\n    a.point && (a.leaf || (a.point.x += Math.random() - 0.5, a.point.y += Math.random() - 0.5), b *= c[a.point.index], a.charge += a.pointCharge = b, e += b * a.point.x, f += b * a.point.y);\n    a.cx = e / a.charge;\n    a.cy = f / a.charge\n  }\n\n  function ha() {\n    return 20\n  }\n\n  function ia() {\n    return 1\n  }\n\n  function ja(a) {\n    return a.x\n  }\n\n  function ka(a) {\n    return a.y\n  }\n\n  function la(a, b, c) {\n    a.y0 = b;\n    a.y = c\n  }\n\n  function ma(a) {\n    for (var b = 1, c = 0, e = a[0][1], f, h = a.length; b < h; ++b)if ((f = a[b][1]) > e) c = b, e = f;\n    return c\n  }\n\n  function na(a) {\n    return a.reduce(oa, 0)\n  }\n\n  function oa(a, b) {\n    return a + b[1]\n  }\n\n  function pa(a, b) {\n    return S(a, Math.ceil(Math.log(b.length) / Math.LN2 + 1))\n  }\n\n  function S(a, b) {\n    for (var c = -1, e = +a[0], f = (a[1] - e) / b, h = []; ++c <= b;)h[c] = f * c + e;\n    return h\n  }\n\n  function qa(a) {\n    return [d3.min(a), d3.max(a)]\n  }\n\n  function u(a, b) {\n    d3.rebind(a, b, \"sort\", \"children\", \"value\");\n    a.links = ra;\n    a.nodes = function (b) {\n      J = !0;\n      return (a.nodes = a)(b)\n    };\n    return a\n  }\n\n  function sa(a) {\n    return a.children\n  }\n\n  function ta(a) {\n    return a.value\n  }\n\n  function ua(a, b) {\n    return b.value - a.value\n  }\n\n  function ra(a) {\n    return d3.merge(a.map(function (a) {\n      return (a.children || []).map(function (c) {\n        return {source: a, target: c}\n      })\n    }))\n  }\n\n  function va(a, b) {\n    return a.value - b.value\n  }\n\n  function K(a, b) {\n    var c = a._pack_next;\n    a._pack_next = b;\n    b._pack_prev = a;\n    b._pack_next = c;\n    c._pack_prev = b\n  }\n\n  function T(a, b) {\n    a._pack_next = b;\n    b._pack_prev = a\n  }\n\n  function U(a, b) {\n    var c = b.x - a.x, e = b.y - a.y, f = a.r + b.r;\n    return 0.001 < f * f - c * c - e * e\n  }\n\n  function wa(a) {\n    function b(a) {\n      c = Math.min(a.x - a.r, c);\n      e = Math.max(a.x + a.r, e);\n      f = Math.min(a.y - a.r, f);\n      h = Math.max(a.y + a.r, h)\n    }\n\n    var c = Infinity, e = -Infinity, f = Infinity, h = -Infinity, g = a.length, i, k, l, j, m;\n    a.forEach(xa);\n    i = a[0];\n    i.x = -i.r;\n    i.y = 0;\n    b(i);\n    if (1 < g && (k = a[1], k.x = k.r, k.y = 0, b(k), 2 < g)) {\n      l = a[2];\n      V(i, k, l);\n      b(l);\n      K(i, l);\n      i._pack_prev = l;\n      K(l, k);\n      k = i._pack_next;\n      for (var n = 3; n < g; n++) {\n        V(i, k, l = a[n]);\n        var o = 0, p = 1, q = 1;\n        for (j = k._pack_next; j !== k; j = j._pack_next, p++)if (U(j, l)) {\n          o = 1;\n          break\n        }\n        if (1 == o)for (m = i._pack_prev; m !== j._pack_prev && !U(m, l); m = m._pack_prev, q++);\n        o ? (p < q || p == q && k.r < i.r ? T(i, k = j) : T(i = m, k), n--) : (K(i, l), k = l, b(l))\n      }\n    }\n    i = (c + e) / 2;\n    k = (f + h) / 2;\n    for (n = l = 0; n < g; n++)j = a[n], j.x -= i, j.y -= k, l = Math.max(l, j.r + Math.sqrt(j.x * j.x + j.y * j.y));\n    a.forEach(ya);\n    return l\n  }\n\n  function xa(a) {\n    a._pack_next = a._pack_prev = a\n  }\n\n  function ya(a) {\n    delete a._pack_next;\n    delete a._pack_prev\n  }\n\n  function W(a) {\n    var b = a.children;\n    b && b.length ? (b.forEach(W), a.r = wa(b)) : a.r = Math.sqrt(a.value)\n  }\n\n  function X(a, b, c, e) {\n    var f = a.children;\n    a.x = b += e * a.x;\n    a.y = c += e * a.y;\n    a.r *= e;\n    if (f)for (var a = -1, h = f.length; ++a < h;)X(f[a], b, c, e)\n  }\n\n  function V(a, b, c) {\n    var e = a.r + c.r, f = b.x - a.x, h = b.y - a.y;\n    if (e && (f || h)) {\n      var g = b.r + c.r, b = Math.sqrt(f * f + h * h), i = Math.max(-1, Math.min(1, (e * e + b * b - g * g) / (2 * e * b))), g = Math.acos(i), b = i * (e /= b), e = Math.sin(g) * e;\n      c.x = a.x + b * f + e * h;\n      c.y = a.y + b * h - e * f\n    } else c.x = a.x + e, c.y = a.y\n  }\n\n  function za(a) {\n    return 1 + d3.max(a, function (a) {\n        return a.y\n      })\n  }\n\n  function Aa(a) {\n    return a.reduce(function (a, c) {\n        return a + c.x\n      }, 0) / a.length\n  }\n\n  function Y(a) {\n    var b = a.children;\n    return b && b.length ? Y(b[0]) : a\n  }\n\n  function Z(a) {\n    var b = a.children, c;\n    return b && (c = b.length) ? Z(b[c - 1]) : a\n  }\n\n  function $(a, b) {\n    return a.parent == b.parent ? 1 : 2\n  }\n\n  function L(a) {\n    var b = a.children;\n    return b && b.length ? b[0] : a._tree.thread\n  }\n\n  function M(a) {\n    var b = a.children, c;\n    return b && (c = b.length) ? b[c - 1] : a._tree.thread\n  }\n\n  function v(a, b) {\n    var c = a.children;\n    if (c && (f = c.length))for (var e, f, h = -1; ++h < f;)if (0 < b(e = v(c[h], b), a)) a = e;\n    return a\n  }\n\n  function Ba(a, b) {\n    return a.x - b.x\n  }\n\n  function Ca(a, b) {\n    return b.x - a.x\n  }\n\n  function Da(a, b) {\n    return a.depth - b.depth\n  }\n\n  function B(a, b) {\n    function c(a, f) {\n      var h = a.children;\n      if (h && (l = h.length))for (var g, i = null, k = -1, l; ++k < l;)g = h[k], c(g, i), i = g;\n      b(a, f)\n    }\n\n    c(a, null)\n  }\n\n  function N(a) {\n    return {x: a.x, y: a.y, dx: a.dx, dy: a.dy}\n  }\n\n  function aa(a, b) {\n    var c = a.x + b[3], e = a.y + b[0], f = a.dx - b[1] - b[3], h = a.dy - b[0] - b[2];\n    0 > f && (c += f / 2, f = 0);\n    0 > h && (e += h / 2, h = 0);\n    return {x: c, y: e, dx: f, dy: h}\n  }\n\n  d3.layout = {};\n  d3.layout.bundle = function () {\n    return function (a) {\n      for (var b = [], c = -1, e = a.length; ++c < e;)b.push(ea(a[c]));\n      return b\n    }\n  };\n  d3.layout.chord = function () {\n    function a() {\n      var a = {}, c = [], o = d3.range(g), p = [], q, r, C, t, x;\n      e = [];\n      f = [];\n      q = 0;\n      for (t = -1; ++t < g;) {\n        r = 0;\n        for (x = -1; ++x < g;)r += h[t][x];\n        c.push(r);\n        p.push(d3.range(g));\n        q += r\n      }\n      k && o.sort(function (a, b) {\n        return k(c[a], c[b])\n      });\n      l && p.forEach(function (a, b) {\n        a.sort(function (a, c) {\n          return l(h[b][a], h[b][c])\n        })\n      });\n      q = (2 * Math.PI - i * g) / q;\n      r = 0;\n      for (t = -1; ++t < g;) {\n        C = r;\n        for (x = -1; ++x < g;) {\n          var F = o[t], A = p[F][x], E = h[F][A], Ea = r, Fa = r += E * q;\n          a[F + \"-\" + A] = {index: F, subindex: A, startAngle: Ea, endAngle: Fa, value: E}\n        }\n        f.push({index: F, startAngle: C, endAngle: r, value: (r - C) / q});\n        r += i\n      }\n      for (t = -1; ++t < g;)for (x = t - 1; ++x < g;)if (o = a[t + \"-\" + x], p = a[x + \"-\" + t], o.value || p.value) e.push(o.value < p.value ? {\n        source: p,\n        target: o\n      } : {source: o, target: p});\n      j && b()\n    }\n\n    function b() {\n      e.sort(function (a, b) {\n        return j((a.source.value + a.target.value) / 2, (b.source.value + b.target.value) / 2)\n      })\n    }\n\n    var c = {}, e, f, h, g, i = 0, k, l, j;\n    c.matrix = function (a) {\n      if (!arguments.length)return h;\n      g = (h = a) && h.length;\n      e = f = null;\n      return c\n    };\n    c.padding = function (a) {\n      if (!arguments.length)return i;\n      i = a;\n      e = f = null;\n      return c\n    };\n    c.sortGroups = function (a) {\n      if (!arguments.length)return k;\n      k = a;\n      e = f = null;\n      return c\n    };\n    c.sortSubgroups = function (a) {\n      if (!arguments.length)return l;\n      l = a;\n      e = null;\n      return c\n    };\n    c.sortChords = function (a) {\n      if (!arguments.length)return j;\n      j = a;\n      e && b();\n      return c\n    };\n    c.chords = function () {\n      e || a();\n      return e\n    };\n    c.groups = function () {\n      f || a();\n      return f\n    };\n    return c\n  };\n  d3.layout.force = function () {\n    function a(a) {\n      return function (b, c, h, e) {\n        if (b.point !== a) {\n          var h = b.cx - a.x, f = b.cy - a.y, g = 1 / Math.sqrt(h * h + f * f);\n          if ((e - c) * g < o)return c = b.charge * g * g, a.px -= h * c, a.py -= f * c, !0;\n          b.point && isFinite(g) && (c = b.pointCharge * g * g, a.px -= h * c, a.py -= f * c)\n        }\n        return !b.charge\n      }\n    }\n\n    function b() {\n      var b = p.length, c = q.length, e, g, o, l, j, y, z;\n      for (e = 0; e < c; ++e)if (g = q[e], o = g.source, l = g.target, y = l.x - o.x, z = l.y - o.y, j = y * y + z * z) j = i * C[e] * ((j = Math.sqrt(j)) - r[e]) / j, y *= j, z *= j, l.x -= y * (j = o.weight / (l.weight + o.weight)), l.y -= z * j, o.x += y * (j = 1 - j), o.y += z * j;\n      if (j = i * n)if (y = h[0] / 2, z = h[1] / 2, e = -1, j)for (; ++e < b;)g = p[e], g.x += (y - g.x) * j, g.y += (z - g.y) * j;\n      if (m) {\n        R(c = d3.geom.quadtree(p), i, t);\n        for (e = -1; ++e < b;)(g = p[e]).fixed || c.visit(a(g))\n      }\n      for (e = -1; ++e < b;)g = p[e], g.fixed ? (g.x = g.px, g.y = g.py) : (g.x -= (g.px - (g.px = g.x)) * k, g.y -= (g.py - (g.py = g.y)) * k);\n      f.tick({type: \"tick\", alpha: i});\n      return 0.005 > (i *= 0.99)\n    }\n\n    function c(a) {\n      P(s = a);\n      D = e\n    }\n\n    var e = {}, f = d3.dispatch(\"tick\"), h = [1, 1], g, i, k = 0.9, l = ha, j = ia, m = -30, n = 0.1, o = 0.8, p = [], q = [], r, C, t;\n    e.nodes = function (a) {\n      if (!arguments.length)return p;\n      p = a;\n      return e\n    };\n    e.links = function (a) {\n      if (!arguments.length)return q;\n      q = a;\n      return e\n    };\n    e.size = function (a) {\n      if (!arguments.length)return h;\n      h = a;\n      return e\n    };\n    e.linkDistance = function (a) {\n      if (!arguments.length)return l;\n      l = d3.functor(a);\n      return e\n    };\n    e.distance = e.linkDistance;\n    e.linkStrength = function (a) {\n      if (!arguments.length)return j;\n      j = d3.functor(a);\n      return e\n    };\n    e.friction = function (a) {\n      if (!arguments.length)return k;\n      k = a;\n      return e\n    };\n    e.charge = function (a) {\n      if (!arguments.length)return m;\n      m = \"function\" === typeof a ? a : +a;\n      return e\n    };\n    e.gravity = function (a) {\n      if (!arguments.length)return n;\n      n = a;\n      return e\n    };\n    e.theta = function (a) {\n      if (!arguments.length)return o;\n      o = a;\n      return e\n    };\n    e.start = function () {\n      function a(e, h) {\n        var i;\n        if (!k) {\n          k = [];\n          for (c = 0; c < g; ++c)k[c] = [];\n          for (c = 0; c < f; ++c)i = q[c], k[i.source.index].push(i.target), k[i.target.index].push(i.source)\n        }\n        i = k[b];\n        for (var o = -1, j = i.length, l; ++o < j;)if (!isNaN(l = i[o][e]))return l;\n        return Math.random() * h\n      }\n\n      var b, c, g = p.length, f = q.length, i = h[0], o = h[1], k, n;\n      for (b = 0; b < g; ++b)(n = p[b]).index = b, n.weight = 0;\n      r = [];\n      C = [];\n      for (b = 0; b < f; ++b)n = q[b], \"number\" == typeof n.source && (n.source = p[n.source]), \"number\" == typeof n.target && (n.target = p[n.target]), r[b] = l.call(this, n, b), C[b] = j.call(this, n, b), ++n.source.weight, ++n.target.weight;\n      for (b = 0; b < g; ++b)if (n = p[b], isNaN(n.x) && (n.x = a(\"x\", i)), isNaN(n.y) && (n.y = a(\"y\", o)), isNaN(n.px) && (n.px = n.x), isNaN(n.py)) n.py = n.y;\n      t = [];\n      if (\"function\" === typeof m)for (b = 0; b < g; ++b)t[b] = +m.call(this, p[b], b); else for (b = 0; b < g; ++b)t[b] = m;\n      return e.resume()\n    };\n    e.resume = function () {\n      i = 0.1;\n      d3.timer(b);\n      return e\n    };\n    e.stop = function () {\n      i = 0;\n      return e\n    };\n    e.drag = function () {\n      g || (g = d3.behavior.drag().origin(Object).on(\"dragstart\", c).on(\"drag\", Q).on(\"dragend\", ga));\n      this.on(\"mouseover.force\", P).on(\"mouseout.force\", fa).call(g)\n    };\n    return d3.rebind(e, f, \"on\")\n  };\n  var D, s;\n  d3.layout.partition = function () {\n    function a(b, c, e, f) {\n      var l = b.children;\n      b.x = c;\n      b.y = b.depth * f;\n      b.dx = e;\n      b.dy = f;\n      if (l && (m = l.length))for (var j = -1, m, n, e = b.value ? e / b.value : 0; ++j < m;)a(n = l[j], c, b = n.value * e, f), c += b\n    }\n\n    function b(a) {\n      var a = a.children, c = 0;\n      if (a && (f = a.length))for (var e = -1, f; ++e < f;)c = Math.max(c, b(a[e]));\n      return 1 + c\n    }\n\n    function c(c, g) {\n      var i = e.call(this, c, g);\n      a(i[0], 0, f[0], f[1] / b(i[0]));\n      return i\n    }\n\n    var e = d3.layout.hierarchy(), f = [1, 1];\n    c.size = function (a) {\n      if (!arguments.length)return f;\n      f = a;\n      return c\n    };\n    return u(c, e)\n  };\n  d3.layout.pie = function () {\n    function a(h, g) {\n      var i = h.map(function (c, e) {\n        return +b.call(a, c, e)\n      }), k = +(\"function\" === typeof e ? e.apply(this, arguments) : e), l = ((\"function\" === typeof f ? f.apply(this, arguments) : f) - e) / d3.sum(i), j = d3.range(h.length);\n      null != c && j.sort(c === ba ? function (a, b) {\n        return i[b] - i[a]\n      } : function (a, b) {\n        return c(h[a], h[b])\n      });\n      var m = [];\n      j.forEach(function (a) {\n        m[a] = {data: h[a], value: d = i[a], startAngle: k, endAngle: k += d * l}\n      });\n      return m\n    }\n\n    var b = Number, c = ba, e = 0, f = 2 * Math.PI;\n    a.value = function (c) {\n      if (!arguments.length)return b;\n      b = c;\n      return a\n    };\n    a.sort = function (b) {\n      if (!arguments.length)return c;\n      c = b;\n      return a\n    };\n    a.startAngle = function (b) {\n      if (!arguments.length)return e;\n      e = b;\n      return a\n    };\n    a.endAngle = function (b) {\n      if (!arguments.length)return f;\n      f = b;\n      return a\n    };\n    return a\n  };\n  var ba = {};\n  d3.layout.stack = function () {\n    function a(i, k) {\n      var l = i.map(function (c, e) {\n        return b.call(a, c, e)\n      }), j = l.map(function (b) {\n        return b.map(function (b, c) {\n          return [h.call(a, b, c), g.call(a, b, c)]\n        })\n      }), m = c.call(a, j, k), l = d3.permute(l, m), j = d3.permute(j, m), m = e.call(a, j, k), n = l.length, o = l[0].length, p, q, r;\n      for (q = 0; q < o; ++q) {\n        f.call(a, l[0][q], r = m[q], j[0][q][1]);\n        for (p = 1; p < n; ++p)f.call(a, l[p][q], r += j[p - 1][q][1], j[p][q][1])\n      }\n      return i\n    }\n\n    var b = Object, c = ca[\"default\"], e = da.zero, f = la, h = ja, g = ka;\n    a.values = function (c) {\n      if (!arguments.length)return b;\n      b = c;\n      return a\n    };\n    a.order = function (b) {\n      if (!arguments.length)return c;\n      c = \"function\" === typeof b ? b : ca[b];\n      return a\n    };\n    a.offset = function (b) {\n      if (!arguments.length)return e;\n      e = \"function\" === typeof b ? b : da[b];\n      return a\n    };\n    a.x = function (b) {\n      if (!arguments.length)return h;\n      h = b;\n      return a\n    };\n    a.y = function (b) {\n      if (!arguments.length)return g;\n      g = b;\n      return a\n    };\n    a.out = function (b) {\n      if (!arguments.length)return f;\n      f = b;\n      return a\n    };\n    return a\n  };\n  var ca = {\n    \"inside-out\": function (a) {\n      for (var b = a.length, c, e = a.map(ma), f = a.map(na), h = d3.range(b).sort(function (a, b) {\n        return e[a] - e[b]\n      }), g = 0, i = 0, k = [], l = [], a = 0; a < b; ++a)c = h[a], g < i ? (g += f[c], k.push(c)) : (i += f[c], l.push(c));\n      return l.reverse().concat(k)\n    }, reverse: function (a) {\n      return d3.range(a.length).reverse()\n    }, \"default\": function (a) {\n      return d3.range(a.length)\n    }\n  }, da = {\n    silhouette: function (a) {\n      var b = a.length, c = a[0].length, e = [], f = 0, h, g, i, k = [];\n      for (g = 0; g < c; ++g) {\n        for (i = h = 0; h < b; h++)i += a[h][g][1];\n        i > f && (f = i);\n        e.push(i)\n      }\n      for (g = 0; g < c; ++g)k[g] = (f - e[g]) / 2;\n      return k\n    }, wiggle: function (a) {\n      var b = a.length, c = a[0], e = c.length, f, h, g, i, k, l, j, m, n, o = [];\n      o[0] = m = n = 0;\n      for (h = 1; h < e; ++h) {\n        for (i = f = 0; f < b; ++f)i += a[f][h][1];\n        k = f = 0;\n        for (j = c[h][0] - c[h - 1][0]; f < b; ++f) {\n          g = 0;\n          for (l = (a[f][h][1] - a[f][h - 1][1]) / (2 * j); g < f; ++g)l += (a[g][h][1] - a[g][h - 1][1]) / j;\n          k += l * a[f][h][1]\n        }\n        o[h] = m -= i ? k / i * j : 0;\n        m < n && (n = m)\n      }\n      for (h = 0; h < e; ++h)o[h] -= n;\n      return o\n    }, expand: function (a) {\n      var b = a.length, c = a[0].length, e = 1 / b, f, h, g, i = [];\n      for (h = 0; h < c; ++h) {\n        for (g = f = 0; f < b; f++)g += a[f][h][1];\n        if (g)for (f = 0; f < b; f++)a[f][h][1] /= g; else for (f = 0; f < b; f++)a[f][h][1] = e\n      }\n      for (h = 0; h < c; ++h)i[h] = 0;\n      return i\n    }, zero: function (a) {\n      for (var b = -1, a = a[0].length, c = []; ++b < a;)c[b] = 0;\n      return c\n    }\n  };\n  d3.layout.histogram = function () {\n    function a(a, g) {\n      for (var i = [], k = a.map(c, this), l = e.call(this, k, g), j = f.call(this, l, k, g), m, g = -1, n = k.length, o = j.length - 1, p = b ? 1 : 1 / n; ++g < o;)m = i[g] = [], m.dx = j[g + 1] - (m.x = j[g]), m.y = 0;\n      for (g = -1; ++g < n;)m = k[g], m >= l[0] && m <= l[1] && (m = i[d3.bisect(j, m, 1, o) - 1], m.y += p, m.push(a[g]));\n      return i\n    }\n\n    var b = !0, c = Number, e = qa, f = pa;\n    a.value = function (b) {\n      if (!arguments.length)return c;\n      c = b;\n      return a\n    };\n    a.range = function (b) {\n      if (!arguments.length)return e;\n      e = d3.functor(b);\n      return a\n    };\n    a.bins = function (b) {\n      if (!arguments.length)return f;\n      f = \"number\" === typeof b ? function (a) {\n        return S(a, b)\n      } : d3.functor(b);\n      return a\n    };\n    a.frequency = function (c) {\n      if (!arguments.length)return b;\n      b = !!c;\n      return a\n    };\n    return a\n  };\n  d3.layout.hierarchy = function () {\n    function a(b, i, k) {\n      var l = f.call(c, b, i), j = J ? b : {data: b};\n      j.depth = i;\n      k.push(j);\n      if (l && (m = l.length)) {\n        for (var b = -1, m, n = j.children = [], o = 0, i = i + 1; ++b < m;)global.d = a(l[b], i, k), d.parent = j, n.push(d), o += d.value;\n        e && n.sort(e);\n        h && (j.value = o)\n      } else h && (j.value = +h.call(c, b, i) || 0);\n      return j\n    }\n\n    function b(a, e) {\n      var f = a.children, l = 0;\n      if (f && (m = f.length))for (var j = -1, m, n = e + 1; ++j < m;)l += b(f[j], n); else h && (l = +h.call(c, J ? a : a.data, e) || 0);\n      h && (a.value = l);\n      return l\n    }\n\n    function c(b) {\n      var c = [];\n      a(b, 0, c);\n      return c\n    }\n\n    var e = ua, f = sa, h = ta;\n    c.sort = function (a) {\n      if (!arguments.length)return e;\n      e = a;\n      return c\n    };\n    c.children = function (a) {\n      if (!arguments.length)return f;\n      f = a;\n      return c\n    };\n    c.value = function (a) {\n      if (!arguments.length)return h;\n      h = a;\n      return c\n    };\n    c.revalue = function (a) {\n      b(a, 0);\n      return a\n    };\n    return c\n  };\n  var J = !1;\n  d3.layout.pack = function () {\n    function a(a, f) {\n      var h = b.call(this, a, f), g = h[0];\n      g.x = 0;\n      g.y = 0;\n      W(g);\n      var i = c[0], k = c[1], l = 1 / Math.max(2 * g.r / i, 2 * g.r / k);\n      X(g, i / 2, k / 2, l);\n      return h\n    }\n\n    var b = d3.layout.hierarchy().sort(va), c = [1, 1];\n    a.size = function (b) {\n      if (!arguments.length)return c;\n      c = b;\n      return a\n    };\n    return u(a, b)\n  };\n  d3.layout.cluster = function () {\n    function a(a, h) {\n      var g = b.call(this, a, h), i = g[0], k, l = 0;\n      B(i, function (a) {\n        var b = a.children;\n        b && b.length ? (a.x = Aa(b), a.y = za(b)) : (a.x = k ? l += c(a, k) : 0, a.y = 0, k = a)\n      });\n      var j = Y(i), m = Z(i), n = j.x - c(j, m) / 2, o = m.x + c(m, j) / 2;\n      B(i, function (a) {\n        a.x = (a.x - n) / (o - n) * e[0];\n        a.y = (1 - (i.y ? a.y / i.y : 1)) * e[1]\n      });\n      return g\n    }\n\n    var b = d3.layout.hierarchy().sort(null).value(null), c = $, e = [1, 1];\n    a.separation = function (b) {\n      if (!arguments.length)return c;\n      c = b;\n      return a\n    };\n    a.size = function (b) {\n      if (!arguments.length)return e;\n      e = b;\n      return a\n    };\n    return u(a, b)\n  };\n  d3.layout.tree = function () {\n    function a(a, h) {\n      function g(a, b) {\n        var e = a.children, f = a._tree;\n        if (e && (h = e.length)) {\n          for (var h, i = e[0], o, l = i, j, k = -1; ++k < h;) {\n            j = e[k];\n            g(j, o);\n            var q = j;\n            if (o) {\n              for (var p = q, n = q, m = q.parent.children[0], s = p._tree.mod, u = n._tree.mod, v = o._tree.mod, B = m._tree.mod, G = void 0; o = M(o), p = L(p), o && p;) {\n                m = L(m);\n                n = M(n);\n                n._tree.ancestor = q;\n                G = o._tree.prelim + v - p._tree.prelim - s + c(o, p);\n                if (0 < G) {\n                  var H = o._tree.ancestor.parent == q.parent ? o._tree.ancestor : l, w = q, I = G, H = H._tree, w = w._tree, D = I / (w.number - H.number);\n                  H.change += D;\n                  w.change -= D;\n                  w.shift += I;\n                  w.prelim += I;\n                  w.mod += I;\n                  s += G;\n                  u += G\n                }\n                v += o._tree.mod;\n                s += p._tree.mod;\n                B += m._tree.mod;\n                u += n._tree.mod\n              }\n              o && !M(n) && (n._tree.thread = o, n._tree.mod += v - u);\n              p && !L(m) && (m._tree.thread = p, m._tree.mod += s - B, l = q)\n            }\n            o = j\n          }\n          h = e = 0;\n          k = a.children;\n          for (q = k.length; 0 <= --q;)l = k[q]._tree, l.prelim += e, l.mod += e, e += l.shift + (h += l.change);\n          i = 0.5 * (i._tree.prelim + j._tree.prelim);\n          b ? (f.prelim = b._tree.prelim + c(a, b), f.mod = f.prelim - i) : f.prelim = i\n        } else b && (f.prelim = b._tree.prelim + c(a, b))\n      }\n\n      function i(a, b) {\n        a.x = a._tree.prelim + b;\n        var c = a.children;\n        if (c && (f = c.length))for (var e = -1, f, b = b + a._tree.mod; ++e < f;)i(c[e], b)\n      }\n\n      var k = b.call(this, a, h), l = k[0];\n      B(l, function (a, b) {\n        a._tree = {ancestor: a, prelim: 0, mod: 0, change: 0, shift: 0, number: b ? b._tree.number + 1 : 0}\n      });\n      g(l);\n      i(l, -l._tree.prelim);\n      var j = v(l, Ca), m = v(l, Ba), n = v(l, Da), o = j.x - c(j, m) / 2, p = m.x + c(m, j) / 2, q = n.depth || 1;\n      B(l, function (a) {\n        a.x = (a.x - o) / (p - o) * e[0];\n        a.y = a.depth / q * e[1];\n        delete a._tree\n      });\n      return k\n    }\n\n    var b = d3.layout.hierarchy().sort(null).value(null), c = $, e = [1, 1];\n    a.separation = function (b) {\n      if (!arguments.length)return c;\n      c = b;\n      return a\n    };\n    a.size = function (b) {\n      if (!arguments.length)return e;\n      e = b;\n      return a\n    };\n    return u(a, b)\n  };\n  d3.layout.treemap = function () {\n    function a(a, b) {\n      for (var c = -1, e = a.length, f, g; ++c < e;)g = (f = a[c]).value * (0 > b ? 0 : b), f.area = isNaN(g) || 0 >= g ? 0 : g\n    }\n\n    function b(c) {\n      var f = c.children;\n      if (f && f.length) {\n        var g = l(c), h = [], i = f.slice(), j = Infinity, k = Math.min(g.dx, g.dy);\n        a(i, g.dx * g.dy / c.value);\n        for (h.area = 0; 0 < (c = i.length);) {\n          h.push(c = i[c - 1]);\n          h.area += c.area;\n          for (var c = k, m = h.area, A = void 0, E = 0, s = Infinity, u = -1, v = h.length; ++u < v;)if (A = h[u].area) A < s && (s = A), A > E && (E = A);\n          m *= m;\n          c *= c;\n          (c = m ? Math.max(c * E * n / m, m / (c * s * n)) : Infinity) <= j ? (i.pop(), j = c) : (h.area -= h.pop().area, e(h, k, g, !1), k = Math.min(g.dx, g.dy), h.length = h.area = 0, j = Infinity)\n        }\n        h.length && (e(h, k, g, !0), h.length = h.area = 0);\n        f.forEach(b)\n      }\n    }\n\n    function c(b) {\n      var f = b.children;\n      if (f && f.length) {\n        var g = l(b), h = f.slice(), i = [];\n        a(h, g.dx * g.dy / b.value);\n        for (i.area = 0; b = h.pop();)i.push(b), i.area += b.area, null != b.z && (e(i, b.z ? g.dx : g.dy, g, !h.length), i.length = i.area = 0);\n        f.forEach(c)\n      }\n    }\n\n    function e(a, b, c, e) {\n      var f = -1, h = a.length, i = c.x, l = c.y, j = b ? g(a.area / b) : 0, k;\n      if (b == c.dx) {\n        if (e || j > c.dy) j = c.dy;\n        for (; ++f < h;)k = a[f], k.x = i, k.y = l, k.dy = j, i += k.dx = Math.min(c.x + c.dx - i, j ? g(k.area / j) : 0);\n        k.z = !0;\n        k.dx += c.x + c.dx - i;\n        c.y += j;\n        c.dy -= j\n      } else {\n        if (e || j > c.dx) j = c.dx;\n        for (; ++f < h;)k = a[f], k.x = i, k.y = l, k.dx = j, l += k.dy = Math.min(c.y + c.dy - l, j ? g(k.area / j) : 0);\n        k.z = !1;\n        k.dy += c.y + c.dy - l;\n        c.x += j;\n        c.dx -= j\n      }\n    }\n\n    function f(e) {\n      var e = m || h(e), f = e[0];\n      f.x = 0;\n      f.y = 0;\n      f.dx = i[0];\n      f.dy = i[1];\n      m && h.revalue(f);\n      a([f], f.dx * f.dy / f.value);\n      (m ? c : b)(f);\n      j && (m = e);\n      return e\n    }\n\n    var h = d3.layout.hierarchy(), g = Math.round, i = [1, 1], k = null, l = N, j = !1, m, n = 0.5 * (1 + Math.sqrt(5));\n    f.size = function (a) {\n      if (!arguments.length)return i;\n      i = a;\n      return f\n    };\n    f.padding = function (a) {\n      function b(c) {\n        var e = a.call(f, c, c.depth);\n        return null == e ? N(c) : aa(c, \"number\" === typeof e ? [e, e, e, e] : e)\n      }\n\n      function c(b) {\n        return aa(b, a)\n      }\n\n      if (!arguments.length)return k;\n      var e;\n      l = null == (k = a) ? N : \"function\" === (e = typeof a) ? b : \"number\" === e ? (a = [a, a, a, a], c) : c;\n      return f\n    };\n    f.round = function (a) {\n      if (!arguments.length)return g != Number;\n      g = a ? Math.round : Number;\n      return f\n    };\n    f.sticky = function (a) {\n      if (!arguments.length)return j;\n      j = a;\n      m = null;\n      return f\n    };\n    f.ratio = function (a) {\n      if (!arguments.length)return n;\n      n = a;\n      return f\n    };\n    return u(f, h)\n  }\n})();\n\n\n//  \\\\\n//  Raphal 2.1.0 - JavaScript Vector Library                           \\\\\n//  \\\\\n//  Copyright  2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)     \\\\\n//  Copyright  2008-2012 Sencha Labs (http://sencha.com)               \\\\\n//  \\\\\n//  Licensed under the MIT (http://raphaeljs.com/license.html) license. \\\\\n//  \\\\\n\n//  \\\\\n//  Eve 0.3.4 - JavaScript Events Library                                                 \\\\\n//  \\\\\n//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)           \\\\\n//  Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.  \\\\\n//  \\\\\n\n(function (glob) {\n  var version = \"0.3.4\",\n    has = \"hasOwnProperty\",\n    separator = /[\\.\\/]/,\n    wildcard = \"*\",\n    fun = function () {\n    },\n    numsort = function (a, b) {\n      return a - b;\n    },\n    current_event,\n    stop,\n    events = {n: {}},\n\n    eve = function (name, scope) {\n      var e = events,\n        oldstop = stop,\n        args = Array.prototype.slice.call(arguments, 2),\n        listeners = eve.listeners(name),\n        z = 0,\n        f = false,\n        l,\n        indexed = [],\n        queue = {},\n        out = [],\n        ce = current_event,\n        errors = [];\n      current_event = name;\n      stop = 0;\n      for (var i = 0, ii = listeners.length; i < ii; i++) if (\"zIndex\" in listeners[i]) {\n        indexed.push(listeners[i].zIndex);\n        if (listeners[i].zIndex < 0) {\n          queue[listeners[i].zIndex] = listeners[i];\n        }\n      }\n      indexed.sort(numsort);\n      while (indexed[z] < 0) {\n        l = queue[indexed[z++]];\n        out.push(l.apply(scope, args));\n        if (stop) {\n          stop = oldstop;\n          return out;\n        }\n      }\n      for (i = 0; i < ii; i++) {\n        l = listeners[i];\n        if (\"zIndex\" in l) {\n          if (l.zIndex == indexed[z]) {\n            out.push(l.apply(scope, args));\n            if (stop) {\n              break;\n            }\n            do {\n              z++;\n              l = queue[indexed[z]];\n              l && out.push(l.apply(scope, args));\n              if (stop) {\n                break;\n              }\n            } while (l)\n          } else {\n            queue[l.zIndex] = l;\n          }\n        } else {\n          out.push(l.apply(scope, args));\n          if (stop) {\n            break;\n          }\n        }\n      }\n      stop = oldstop;\n      current_event = ce;\n      return out.length ? out : null;\n    };\n\n  eve.listeners = function (name) {\n    var names = name.split(separator),\n      e = events,\n      item,\n      items,\n      k,\n      i,\n      ii,\n      j,\n      jj,\n      nes,\n      es = [e],\n      out = [];\n    for (i = 0, ii = names.length; i < ii; i++) {\n      nes = [];\n      for (j = 0, jj = es.length; j < jj; j++) {\n        e = es[j].n;\n        items = [e[names[i]], e[wildcard]];\n        k = 2;\n        while (k--) {\n          item = items[k];\n          if (item) {\n            nes.push(item);\n            out = out.concat(item.f || []);\n          }\n        }\n      }\n      es = nes;\n    }\n    return out;\n  };\n\n\n  eve.on = function (name, f) {\n    var names = name.split(separator),\n      e = events;\n    for (var i = 0, ii = names.length; i < ii; i++) {\n      e = e.n;\n      !e[names[i]] && (e[names[i]] = {n: {}});\n      e = e[names[i]];\n    }\n    e.f = e.f || [];\n    for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n      return fun;\n    }\n    e.f.push(f);\n    return function (zIndex) {\n      if (+zIndex == +zIndex) {\n        f.zIndex = +zIndex;\n      }\n    };\n  };\n\n  eve.stop = function () {\n    stop = 1;\n  };\n\n  eve.nt = function (subname) {\n    if (subname) {\n      return new RegExp(\"(?:\\\\.|\\\\/|^)\" + subname + \"(?:\\\\.|\\\\/|$)\").test(current_event);\n    }\n    return current_event;\n  };\n\n\n  eve.off = eve.unbind = function (name, f) {\n    var names = name.split(separator),\n      e,\n      key,\n      splice,\n      i, ii, j, jj,\n      cur = [events];\n    for (i = 0, ii = names.length; i < ii; i++) {\n      for (j = 0; j < cur.length; j += splice.length - 2) {\n        splice = [j, 1];\n        e = cur[j].n;\n        if (names[i] != wildcard) {\n          if (e[names[i]]) {\n            splice.push(e[names[i]]);\n          }\n        } else {\n          for (key in e) if (e[has](key)) {\n            splice.push(e[key]);\n          }\n        }\n        cur.splice.apply(cur, splice);\n      }\n    }\n    for (i = 0, ii = cur.length; i < ii; i++) {\n      e = cur[i];\n      while (e.n) {\n        if (f) {\n          if (e.f) {\n            for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n              e.f.splice(j, 1);\n              break;\n            }\n            !e.f.length && delete e.f;\n          }\n          for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n            var funcs = e.n[key].f;\n            for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n              funcs.splice(j, 1);\n              break;\n            }\n            !funcs.length && delete e.n[key].f;\n          }\n        } else {\n          delete e.f;\n          for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n            delete e.n[key].f;\n          }\n        }\n        e = e.n;\n      }\n    }\n  };\n\n  eve.once = function (name, f) {\n    var f2 = function () {\n      var res = f.apply(this, arguments);\n      eve.unbind(name, f2);\n      return res;\n    };\n    return eve.on(name, f2);\n  };\n\n  eve.version = version;\n  eve.toString = function () {\n    return \"You are running Eve \" + version;\n  };\n  (glob.eve = eve);\n})(global);\n\n\n//  \\\\\n//  \"Raphal 2.1.0\" - JavaScript Vector Library                          \\\\\n//  \\\\\n//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\\\\n//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\\\\n//  Licensed under the MIT (http://raphaeljs.com/license.html) license.  \\\\\n//  \\\\\n(function () {\n\n  function R(first) {\n    if (R.is(first, \"function\")) {\n      return loaded ? first() : eve.on(\"raphael.DOMload\", first);\n    } else if (R.is(first, array)) {\n      return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\n    } else {\n      var args = Array.prototype.slice.call(arguments, 0);\n      if (R.is(args[args.length - 1], \"function\")) {\n        var f = args.pop();\n        return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on(\"raphael.DOMload\", function () {\n          f.call(R._engine.create[apply](R, args));\n        });\n      } else {\n        return R._engine.create[apply](R, arguments);\n      }\n    }\n  }\n\n  R.version = \"2.1.0\";\n  R.eve = eve;\n  var loaded,\n    separator = /[, ]+/,\n    elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},\n    formatrg = /\\{(\\d+)\\}/g,\n    proto = \"prototype\",\n    has = \"hasOwnProperty\",\n    g = {\n      doc: document,\n      win: window\n    },\n    oldRaphael = {\n      was: Object.prototype[has].call(g.win, \"Raphael\"),\n      is: g.win.Raphael\n    },\n    Paper = function () {\n\n\n      this.ca = this.customAttributes = {};\n    },\n    paperproto,\n    appendChild = \"appendChild\",\n    apply = \"apply\",\n    concat = \"concat\",\n    supportsTouch = \"createTouch\" in g.doc,\n    E = \"\",\n    S = \" \",\n    Str = String,\n    split = \"split\",\n    events = \"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel\"[split](S),\n    touchMap = {\n      mousedown: \"touchstart\",\n      mousemove: \"touchmove\",\n      mouseup: \"touchend\"\n    },\n    lowerCase = Str.prototype.toLowerCase,\n    math = Math,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    pow = math.pow,\n    PI = math.PI,\n    nu = \"number\",\n    string = \"string\",\n    array = \"array\",\n    toString = \"toString\",\n    fillString = \"fill\",\n    objectToString = Object.prototype.toString,\n    paper = {},\n    push = \"push\",\n    ISURL = R._ISURL = /^url\\(['\"]?([^\\)]+?)['\"]?\\)$/i,\n    colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,\n    isnan = {\"NaN\": 1, \"Infinity\": 1, \"-Infinity\": 1},\n    bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n    round = math.round,\n    setAttribute = \"setAttribute\",\n    toFloat = parseFloat,\n    toInt = parseInt,\n    upperCase = Str.prototype.toUpperCase,\n    availableAttrs = R._availableAttrs = {\n      \"arrow-end\": \"none\",\n      \"arrow-start\": \"none\",\n      blur: 0,\n      \"clip-rect\": \"0 0 1e9 1e9\",\n      cursor: \"default\",\n      cx: 0,\n      cy: 0,\n      fill: \"#fff\",\n      \"fill-opacity\": 1,\n      font: '10px \"Arial\"',\n      \"font-family\": '\"Arial\"',\n      \"font-size\": \"10\",\n      \"font-style\": \"normal\",\n      \"font-weight\": 400,\n      gradient: 0,\n      height: 0,\n      href: \"http://raphaeljs.com/\",\n      \"letter-spacing\": 0,\n      opacity: 1,\n      path: \"M0,0\",\n      r: 0,\n      rx: 0,\n      ry: 0,\n      src: \"\",\n      stroke: \"#000\",\n      \"stroke-dasharray\": \"\",\n      \"stroke-linecap\": \"butt\",\n      \"stroke-linejoin\": \"butt\",\n      \"stroke-miterlimit\": 0,\n      \"stroke-opacity\": 1,\n      \"stroke-width\": 1,\n      target: \"_blank\",\n      \"text-anchor\": \"middle\",\n      title: \"Raphael\",\n      transform: \"\",\n      width: 0,\n      x: 0,\n      y: 0\n    },\n    availableAnimAttrs = R._availableAnimAttrs = {\n      blur: nu,\n      \"clip-rect\": \"csv\",\n      cx: nu,\n      cy: nu,\n      fill: \"colour\",\n      \"fill-opacity\": nu,\n      \"font-size\": nu,\n      height: nu,\n      opacity: nu,\n      path: \"path\",\n      r: nu,\n      rx: nu,\n      ry: nu,\n      stroke: \"colour\",\n      \"stroke-opacity\": nu,\n      \"stroke-width\": nu,\n      transform: \"transform\",\n      width: nu,\n      x: nu,\n      y: nu\n    },\n    whitespace = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]/g,\n    commaSpaces = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,\n    hsrg = {hs: 1, rg: 1},\n    p2s = /,?([achlmqrstvxz]),?/gi,\n    pathCommand = /([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n    tCommand = /([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n    pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,\n    radial_gradient = R._radial_gradient = /^r(?:\\(([^,]+?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*([^\\)]+?)\\))?/,\n    eldata = {},\n    sortByKey = function (a, b) {\n      return a.key - b.key;\n    },\n    sortByNumber = function (a, b) {\n      return toFloat(a) - toFloat(b);\n    },\n    fun = function () {\n    },\n    pipe = function (x) {\n      return x;\n    },\n    rectPath = R._rectPath = function (x, y, w, h, r) {\n      if (r) {\n        return [[\"M\", x + r, y], [\"l\", w - r * 2, 0], [\"a\", r, r, 0, 0, 1, r, r], [\"l\", 0, h - r * 2], [\"a\", r, r, 0, 0, 1, -r, r], [\"l\", r * 2 - w, 0], [\"a\", r, r, 0, 0, 1, -r, -r], [\"l\", 0, r * 2 - h], [\"a\", r, r, 0, 0, 1, r, -r], [\"z\"]];\n      }\n      return [[\"M\", x, y], [\"l\", w, 0], [\"l\", 0, h], [\"l\", -w, 0], [\"z\"]];\n    },\n    ellipsePath = function (x, y, rx, ry) {\n      if (ry == null) {\n        ry = rx;\n      }\n      return [[\"M\", x, y], [\"m\", 0, -ry], [\"a\", rx, ry, 0, 1, 1, 0, 2 * ry], [\"a\", rx, ry, 0, 1, 1, 0, -2 * ry], [\"z\"]];\n    },\n    getPath = R._getPath = {\n      path: function (el) {\n        return el.attr(\"path\");\n      },\n      circle: function (el) {\n        var a = el.attrs;\n        return ellipsePath(a.cx, a.cy, a.r);\n      },\n      ellipse: function (el) {\n        var a = el.attrs;\n        return ellipsePath(a.cx, a.cy, a.rx, a.ry);\n      },\n      rect: function (el) {\n        var a = el.attrs;\n        return rectPath(a.x, a.y, a.width, a.height, a.r);\n      },\n      image: function (el) {\n        var a = el.attrs;\n        return rectPath(a.x, a.y, a.width, a.height);\n      },\n      text: function (el) {\n        var bbox = el._getBBox();\n        return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n      }\n    },\n\n    mapPath = R.mapPath = function (path, matrix) {\n      if (!matrix) {\n        return path;\n      }\n      var x, y, i, j, ii, jj, pathi;\n      path = path2curve(path);\n      for (i = 0, ii = path.length; i < ii; i++) {\n        pathi = path[i];\n        for (j = 1, jj = pathi.length; j < jj; j += 2) {\n          x = matrix.x(pathi[j], pathi[j + 1]);\n          y = matrix.y(pathi[j], pathi[j + 1]);\n          pathi[j] = x;\n          pathi[j + 1] = y;\n        }\n      }\n      return path;\n    };\n\n  R._g = g;\n\n  R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature(\"http://www.w3.org/TR/SVG11/feature#BasicStructure\", \"1.1\") ? \"SVG\" : \"VML\");\n  if (R.type == \"VML\") {\n    var d = g.doc.createElement(\"div\"),\n      b;\n    d.innerHTML = '<v:shape adj=\"1\"/>';\n    b = d.firstChild;\n    b.style.behavior = \"url(#default#VML)\";\n    if (!(b && typeof b.adj == \"object\")) {\n      return (R.type = E);\n    }\n    d = null;\n  }\n\n\n  R.svg = !(R.vml = R.type == \"VML\");\n  R._Paper = Paper;\n\n  R.fn = paperproto = Paper.prototype = R.prototype;\n  R._id = 0;\n  R._oid = 0;\n\n  R.is = function (o, type) {\n    type = lowerCase.call(type);\n    if (type == \"finite\") {\n      return !isnan[has](+o);\n    }\n    if (type == \"array\") {\n      return o instanceof Array;\n    }\n    return (type == \"null\" && o === null) ||\n      (type == typeof o && o !== null) ||\n      (type == \"object\" && o === Object(o)) ||\n      (type == \"array\" && Array.isArray && Array.isArray(o)) ||\n      objectToString.call(o).slice(8, -1).toLowerCase() == type;\n  };\n\n  function clone(obj) {\n    if (Object(obj) !== obj) {\n      return obj;\n    }\n    var res = new obj.constructor;\n    for (var key in obj) if (obj[has](key)) {\n      res[key] = clone(obj[key]);\n    }\n    return res;\n  }\n\n  R.angle = function (x1, y1, x2, y2, x3, y3) {\n    if (x3 == null) {\n      var x = x1 - x2,\n        y = y1 - y2;\n      if (!x && !y) {\n        return 0;\n      }\n      return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n    } else {\n      return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\n    }\n  };\n\n  R.rad = function (deg) {\n    return deg % 360 * PI / 180;\n  };\n\n  R.deg = function (rad) {\n    return rad * 180 / PI % 360;\n  };\n\n  R.snapTo = function (values, value, tolerance) {\n    tolerance = R.is(tolerance, \"finite\") ? tolerance : 10;\n    if (R.is(values, array)) {\n      var i = values.length;\n      while (i--) if (abs(values[i] - value) <= tolerance) {\n        return values[i];\n      }\n    } else {\n      values = +values;\n      var rem = value % values;\n      if (rem < tolerance) {\n        return value - rem;\n      }\n      if (rem > values - tolerance) {\n        return value - rem + values;\n      }\n    }\n    return value;\n  };\n\n\n  var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {\n    return function () {\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(uuidRegEx, uuidReplacer).toUpperCase();\n    };\n  })(/[xy]/g, function (c) {\n    var r = math.random() * 16 | 0,\n      v = c == \"x\" ? r : (r & 3 | 8);\n    return v.toString(16);\n  });\n\n\n  R.setWindow = function (newwin) {\n    eve(\"raphael.setWindow\", R, g.win, newwin);\n    g.win = newwin;\n    g.doc = g.win.document;\n    if (R._engine.initWin) {\n      R._engine.initWin(g.win);\n    }\n  };\n  var toHex = function (color) {\n      if (R.vml) {\n        // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\n        var trim = /^\\s+|\\s+$/g;\n        var bod;\n        try {\n          var docum = new ActiveXObject(\"htmlfile\");\n          docum.write(\"<body>\");\n          docum.close();\n          bod = docum.body;\n        } catch (e) {\n          bod = createPopup().document.body;\n        }\n        var range = bod.createTextRange();\n        toHex = cacher(function (color) {\n          try {\n            bod.style.color = Str(color).replace(trim, E);\n            var value = range.queryCommandValue(\"ForeColor\");\n            value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\n            return \"#\" + (\"000000\" + value.toString(16)).slice(-6);\n          } catch (e) {\n            return \"none\";\n          }\n        });\n      } else {\n        var i = g.doc.createElement(\"i\");\n        i.title = \"Rapha\\xebl Colour Picker\";\n        i.style.display = \"none\";\n        g.doc.body.appendChild(i);\n        toHex = cacher(function (color) {\n          i.style.color = color;\n          return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue(\"color\");\n        });\n      }\n      return toHex(color);\n    },\n    hsbtoString = function () {\n      return \"hsb(\" + [this.h, this.s, this.b] + \")\";\n    },\n    hsltoString = function () {\n      return \"hsl(\" + [this.h, this.s, this.l] + \")\";\n    },\n    rgbtoString = function () {\n      return this.hex;\n    },\n    prepareRGB = function (r, g, b) {\n      if (g == null && R.is(r, \"object\") && \"r\" in r && \"g\" in r && \"b\" in r) {\n        b = r.b;\n        g = r.g;\n        r = r.r;\n      }\n      if (g == null && R.is(r, string)) {\n        var clr = R.getRGB(r);\n        r = clr.r;\n        g = clr.g;\n        b = clr.b;\n      }\n      if (r > 1 || g > 1 || b > 1) {\n        r /= 255;\n        g /= 255;\n        b /= 255;\n      }\n\n      return [r, g, b];\n    },\n    packageRGB = function (r, g, b, o) {\n      r *= 255;\n      g *= 255;\n      b *= 255;\n      var rgb = {\n        r: r,\n        g: g,\n        b: b,\n        hex: R.rgb(r, g, b),\n        toString: rgbtoString\n      };\n      R.is(o, \"finite\") && (rgb.opacity = o);\n      return rgb;\n    };\n\n\n  R.color = function (clr) {\n    var rgb;\n    if (R.is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"b\" in clr) {\n      rgb = R.hsb2rgb(clr);\n      clr.r = rgb.r;\n      clr.g = rgb.g;\n      clr.b = rgb.b;\n      clr.hex = rgb.hex;\n    } else if (R.is(clr, \"object\") && \"h\" in clr && \"s\" in clr && \"l\" in clr) {\n      rgb = R.hsl2rgb(clr);\n      clr.r = rgb.r;\n      clr.g = rgb.g;\n      clr.b = rgb.b;\n      clr.hex = rgb.hex;\n    } else {\n      if (R.is(clr, \"string\")) {\n        clr = R.getRGB(clr);\n      }\n      if (R.is(clr, \"object\") && \"r\" in clr && \"g\" in clr && \"b\" in clr) {\n        rgb = R.rgb2hsl(clr);\n        clr.h = rgb.h;\n        clr.s = rgb.s;\n        clr.l = rgb.l;\n        rgb = R.rgb2hsb(clr);\n        clr.v = rgb.b;\n      } else {\n        clr = {hex: \"none\"};\n        clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n      }\n    }\n    clr.toString = rgbtoString;\n    return clr;\n  };\n\n  R.hsb2rgb = function (h, s, v, o) {\n    if (this.is(h, \"object\") && \"h\" in h && \"s\" in h && \"b\" in h) {\n      v = h.b;\n      s = h.s;\n      h = h.h;\n      o = h.o;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = v * s;\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = v - C;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n  };\n\n  R.hsl2rgb = function (h, s, l, o) {\n    if (this.is(h, \"object\") && \"h\" in h && \"s\" in h && \"l\" in h) {\n      l = h.l;\n      s = h.s;\n      h = h.h;\n    }\n    if (h > 1 || s > 1 || l > 1) {\n      h /= 360;\n      s /= 100;\n      l /= 100;\n    }\n    h *= 360;\n    var R, G, B, X, C;\n    h = (h % 360) / 60;\n    C = 2 * s * (l < .5 ? l : 1 - l);\n    X = C * (1 - abs(h % 2 - 1));\n    R = G = B = l - C / 2;\n\n    h = ~~h;\n    R += [C, X, 0, 0, X, C][h];\n    G += [X, C, C, X, 0, 0][h];\n    B += [0, 0, X, C, C, X][h];\n    return packageRGB(R, G, B, o);\n  };\n\n  R.rgb2hsb = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, V, C;\n    V = mmax(r, g, b);\n    C = V - mmin(r, g, b);\n    H = (C == 0 ? null :\n        V == r ? (g - b) / C :\n          V == g ? (b - r) / C + 2 :\n          (r - g) / C + 4\n    );\n    H = ((H + 360) % 6) * 60 / 360;\n    S = C == 0 ? 0 : C / V;\n    return {h: H, s: S, b: V, toString: hsbtoString};\n  };\n\n  R.rgb2hsl = function (r, g, b) {\n    b = prepareRGB(r, g, b);\n    r = b[0];\n    g = b[1];\n    b = b[2];\n\n    var H, S, L, M, m, C;\n    M = mmax(r, g, b);\n    m = mmin(r, g, b);\n    C = M - m;\n    H = (C == 0 ? null :\n      M == r ? (g - b) / C :\n        M == g ? (b - r) / C + 2 :\n        (r - g) / C + 4);\n    H = ((H + 360) % 6) * 60 / 360;\n    L = (M + m) / 2;\n    S = (C == 0 ? 0 :\n      L < .5 ? C / (2 * L) :\n      C / (2 - 2 * L));\n    return {h: H, s: S, l: L, toString: hsltoString};\n  };\n  R._path2string = function () {\n    return this.join(\",\").replace(p2s, \"$1\");\n  };\n  function repush(array, item) {\n    for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n      return array.push(array.splice(i, 1)[0]);\n    }\n  }\n\n  function cacher(f, scope, postprocessor) {\n    function newf() {\n      var arg = Array.prototype.slice.call(arguments, 0),\n        args = arg.join(\"\\u2400\"),\n        cache = newf.cache = newf.cache || {},\n        count = newf.count = newf.count || [];\n      if (cache[has](args)) {\n        repush(count, args);\n        return postprocessor ? postprocessor(cache[args]) : cache[args];\n      }\n      count.length >= 1e3 && delete cache[count.shift()];\n      count.push(args);\n      cache[args] = f[apply](scope, arg);\n      return postprocessor ? postprocessor(cache[args]) : cache[args];\n    }\n\n    return newf;\n  }\n\n  var preload = R._preload = function (src, f) {\n    var img = g.doc.createElement(\"img\");\n    img.style.cssText = \"position:absolute;left:-9999em;top:-9999em\";\n    img.onload = function () {\n      f.call(this);\n      this.onload = null;\n      g.doc.body.removeChild(this);\n    };\n    img.onerror = function () {\n      g.doc.body.removeChild(this);\n    };\n    g.doc.body.appendChild(img);\n    img.src = src;\n  };\n\n  function clrToString() {\n    return this.hex;\n  }\n\n\n  R.getRGB = cacher(function (colour) {\n    if (!colour || !!((colour = Str(colour)).indexOf(\"-\") + 1)) {\n      return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: clrToString};\n    }\n    if (colour == \"none\") {\n      return {r: -1, g: -1, b: -1, hex: \"none\", toString: clrToString};\n    }\n    !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == \"#\") && (colour = toHex(colour));\n    var res,\n      red,\n      green,\n      blue,\n      opacity,\n      t,\n      values,\n      rgb = colour.match(colourRegExp);\n    if (rgb) {\n      if (rgb[2]) {\n        blue = toInt(rgb[2].substring(5), 16);\n        green = toInt(rgb[2].substring(3, 5), 16);\n        red = toInt(rgb[2].substring(1, 3), 16);\n      }\n      if (rgb[3]) {\n        blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n        green = toInt((t = rgb[3].charAt(2)) + t, 16);\n        red = toInt((t = rgb[3].charAt(1)) + t, 16);\n      }\n      if (rgb[4]) {\n        values = rgb[4][split](commaSpaces);\n        red = toFloat(values[0]);\n        values[0].slice(-1) == \"%\" && (red *= 2.55);\n        green = toFloat(values[1]);\n        values[1].slice(-1) == \"%\" && (green *= 2.55);\n        blue = toFloat(values[2]);\n        values[2].slice(-1) == \"%\" && (blue *= 2.55);\n        rgb[1].toLowerCase().slice(0, 4) == \"rgba\" && (opacity = toFloat(values[3]));\n        values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n      }\n      if (rgb[5]) {\n        values = rgb[5][split](commaSpaces);\n        red = toFloat(values[0]);\n        values[0].slice(-1) == \"%\" && (red *= 2.55);\n        green = toFloat(values[1]);\n        values[1].slice(-1) == \"%\" && (green *= 2.55);\n        blue = toFloat(values[2]);\n        values[2].slice(-1) == \"%\" && (blue *= 2.55);\n        (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n        rgb[1].toLowerCase().slice(0, 4) == \"hsba\" && (opacity = toFloat(values[3]));\n        values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        return R.hsb2rgb(red, green, blue, opacity);\n      }\n      if (rgb[6]) {\n        values = rgb[6][split](commaSpaces);\n        red = toFloat(values[0]);\n        values[0].slice(-1) == \"%\" && (red *= 2.55);\n        green = toFloat(values[1]);\n        values[1].slice(-1) == \"%\" && (green *= 2.55);\n        blue = toFloat(values[2]);\n        values[2].slice(-1) == \"%\" && (blue *= 2.55);\n        (values[0].slice(-3) == \"deg\" || values[0].slice(-1) == \"\\xb0\") && (red /= 360);\n        rgb[1].toLowerCase().slice(0, 4) == \"hsla\" && (opacity = toFloat(values[3]));\n        values[3] && values[3].slice(-1) == \"%\" && (opacity /= 100);\n        return R.hsl2rgb(red, green, blue, opacity);\n      }\n      rgb = {r: red, g: green, b: blue, toString: clrToString};\n      rgb.hex = \"#\" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n      R.is(opacity, \"finite\") && (rgb.opacity = opacity);\n      return rgb;\n    }\n    return {r: -1, g: -1, b: -1, hex: \"none\", error: 1, toString: clrToString};\n  }, R);\n\n  R.hsb = cacher(function (h, s, b) {\n    return R.hsb2rgb(h, s, b).hex;\n  });\n\n  R.hsl = cacher(function (h, s, l) {\n    return R.hsl2rgb(h, s, l).hex;\n  });\n\n  R.rgb = cacher(function (r, g, b) {\n    return \"#\" + (16777216 | b | (g << 8) | (r << 16)).toString(16).slice(1);\n  });\n\n  R.getColor = function (value) {\n    var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},\n      rgb = this.hsb2rgb(start.h, start.s, start.b);\n    start.h += .075;\n    if (start.h > 1) {\n      start.h = 0;\n      start.s -= .2;\n      start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});\n    }\n    return rgb.hex;\n  };\n\n  R.getColor.reset = function () {\n    delete this.start;\n  };\n\n  // http://schepers.cc/getting-to-the-point\n  function catmullRom2bezier(crp, z) {\n    var d = [];\n    for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n      var p = [\n        {x: +crp[i - 2], y: +crp[i - 1]},\n        {x: +crp[i], y: +crp[i + 1]},\n        {x: +crp[i + 2], y: +crp[i + 3]},\n        {x: +crp[i + 4], y: +crp[i + 5]}\n      ];\n      if (z) {\n        if (!i) {\n          p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n        } else if (iLen - 4 == i) {\n          p[3] = {x: +crp[0], y: +crp[1]};\n        } else if (iLen - 2 == i) {\n          p[2] = {x: +crp[0], y: +crp[1]};\n          p[3] = {x: +crp[2], y: +crp[3]};\n        }\n      } else {\n        if (iLen - 4 == i) {\n          p[3] = p[2];\n        } else if (!i) {\n          p[0] = {x: +crp[i], y: +crp[i + 1]};\n        }\n      }\n      d.push([\"C\",\n        (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n        (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n        (p[1].x + 6 * p[2].x - p[3].x) / 6,\n        (p[1].y + 6 * p[2].y - p[3].y) / 6,\n        p[2].x,\n        p[2].y\n      ]);\n    }\n\n    return d;\n  }\n\n  R.parsePathString = function (pathString) {\n    if (!pathString) {\n      return null;\n    }\n    var pth = paths(pathString);\n    if (pth.arr) {\n      return pathClone(pth.arr);\n    }\n\n    var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},\n      data = [];\n    if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\n      data = pathClone(pathString);\n    }\n    if (!data.length) {\n      Str(pathString).replace(pathCommand, function (a, b, c) {\n        var params = [],\n          name = b.toLowerCase();\n        c.replace(pathValues, function (a, b) {\n          b && params.push(+b);\n        });\n        if (name == \"m\" && params.length > 2) {\n          data.push([b][concat](params.splice(0, 2)));\n          name = \"l\";\n          b = b == \"m\" ? \"l\" : \"L\";\n        }\n        if (name == \"r\") {\n          data.push([b][concat](params));\n        } else while (params.length >= paramCounts[name]) {\n          data.push([b][concat](params.splice(0, paramCounts[name])));\n          if (!paramCounts[name]) {\n            break;\n          }\n        }\n      });\n    }\n    data.toString = R._path2string;\n    pth.arr = pathClone(data);\n    return data;\n  };\n\n  R.parseTransformString = cacher(function (TString) {\n    if (!TString) {\n      return null;\n    }\n    var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n      data = [];\n    if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\n      data = pathClone(TString);\n    }\n    if (!data.length) {\n      Str(TString).replace(tCommand, function (a, b, c) {\n        var params = [],\n          name = lowerCase.call(b);\n        c.replace(pathValues, function (a, b) {\n          b && params.push(+b);\n        });\n        data.push([b][concat](params));\n      });\n    }\n    data.toString = R._path2string;\n    return data;\n  });\n  // PATHS\n  var paths = function (ps) {\n    var p = paths.ps = paths.ps || {};\n    if (p[ps]) {\n      p[ps].sleep = 100;\n    } else {\n      p[ps] = {\n        sleep: 100\n      };\n    }\n    setTimeout(function () {\n      for (var key in p) if (p[has](key) && key != ps) {\n        p[key].sleep--;\n        !p[key].sleep && delete p[key];\n      }\n    });\n    return p[ps];\n  };\n\n  R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n    var t1 = 1 - t,\n      t13 = pow(t1, 3),\n      t12 = pow(t1, 2),\n      t2 = t * t,\n      t3 = t2 * t,\n      x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n      y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n      mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n      my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n      nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n      ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n      ax = t1 * p1x + t * c1x,\n      ay = t1 * p1y + t * c1y,\n      cx = t1 * c2x + t * p2x,\n      cy = t1 * c2y + t * p2y,\n      alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n    (mx > nx || my < ny) && (alpha += 180);\n    return {\n      x: x,\n      y: y,\n      m: {x: mx, y: my},\n      n: {x: nx, y: ny},\n      start: {x: ax, y: ay},\n      end: {x: cx, y: cy},\n      alpha: alpha\n    };\n  };\n\n  R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n    if (!R.is(p1x, \"array\")) {\n      p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n    }\n    var bbox = curveDim.apply(null, p1x);\n    return {\n      x: bbox.min.x,\n      y: bbox.min.y,\n      x2: bbox.max.x,\n      y2: bbox.max.y,\n      width: bbox.max.x - bbox.min.x,\n      height: bbox.max.y - bbox.min.y\n    };\n  };\n\n  R.isPointInsideBBox = function (bbox, x, y) {\n    return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\n  };\n\n  R.isBBoxIntersect = function (bbox1, bbox2) {\n    var i = R.isPointInsideBBox;\n    return i(bbox2, bbox1.x, bbox1.y)\n      || i(bbox2, bbox1.x2, bbox1.y)\n      || i(bbox2, bbox1.x, bbox1.y2)\n      || i(bbox2, bbox1.x2, bbox1.y2)\n      || i(bbox1, bbox2.x, bbox2.y)\n      || i(bbox1, bbox2.x2, bbox2.y)\n      || i(bbox1, bbox2.x, bbox2.y2)\n      || i(bbox1, bbox2.x2, bbox2.y2)\n      || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n      && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n  };\n  function base3(t, p1, p2, p3, p4) {\n    var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n      t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n    return t * t2 - 3 * p1 + 3 * p2;\n  }\n\n  function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n    if (z == null) {\n      z = 1;\n    }\n    z = z > 1 ? 1 : z < 0 ? 0 : z;\n    var z2 = z / 2,\n      n = 12,\n      Tvalues = [-0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041, 0.9041, -0.9816, 0.9816],\n      Cvalues = [0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069, 0.0472, 0.0472],\n      sum = 0;\n    for (var i = 0; i < n; i++) {\n      var ct = z2 * Tvalues[i] + z2,\n        xbase = base3(ct, x1, x2, x3, x4),\n        ybase = base3(ct, y1, y2, y3, y4),\n        comb = xbase * xbase + ybase * ybase;\n      sum += Cvalues[i] * math.sqrt(comb);\n    }\n    return z2 * sum;\n  }\n\n  function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n    if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n      return;\n    }\n    var t = 1,\n      step = t / 2,\n      t2 = t - step,\n      l,\n      e = .01;\n    l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n    while (abs(l - ll) > e) {\n      step /= 2;\n      t2 += (l < ll ? 1 : -1) * step;\n      l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n    }\n    return t2;\n  }\n\n  function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n    if (\n      mmax(x1, x2) < mmin(x3, x4) ||\n      mmin(x1, x2) > mmax(x3, x4) ||\n      mmax(y1, y2) < mmin(y3, y4) ||\n      mmin(y1, y2) > mmax(y3, y4)\n    ) {\n      return;\n    }\n    var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n      ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n      denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n    if (!denominator) {\n      return;\n    }\n    var px = nx / denominator,\n      py = ny / denominator,\n      px2 = +px.toFixed(2),\n      py2 = +py.toFixed(2);\n    if (\n      px2 < +mmin(x1, x2).toFixed(2) ||\n      px2 > +mmax(x1, x2).toFixed(2) ||\n      px2 < +mmin(x3, x4).toFixed(2) ||\n      px2 > +mmax(x3, x4).toFixed(2) ||\n      py2 < +mmin(y1, y2).toFixed(2) ||\n      py2 > +mmax(y1, y2).toFixed(2) ||\n      py2 < +mmin(y3, y4).toFixed(2) ||\n      py2 > +mmax(y3, y4).toFixed(2)\n    ) {\n      return;\n    }\n    return {x: px, y: py};\n  }\n\n  function inter(bez1, bez2) {\n    return interHelper(bez1, bez2);\n  }\n\n  function interCount(bez1, bez2) {\n    return interHelper(bez1, bez2, 1);\n  }\n\n  function interHelper(bez1, bez2, justCount) {\n    var bbox1 = R.bezierBBox(bez1),\n      bbox2 = R.bezierBBox(bez2);\n    if (!R.isBBoxIntersect(bbox1, bbox2)) {\n      return justCount ? 0 : [];\n    }\n    var l1 = bezlen.apply(0, bez1),\n      l2 = bezlen.apply(0, bez2),\n      n1 = ~~(l1 / 5),\n      n2 = ~~(l2 / 5),\n      dots1 = [],\n      dots2 = [],\n      xy = {},\n      res = justCount ? 0 : [];\n    for (var i = 0; i < n1 + 1; i++) {\n      var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\n      dots1.push({x: p.x, y: p.y, t: i / n1});\n    }\n    for (i = 0; i < n2 + 1; i++) {\n      p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\n      dots2.push({x: p.x, y: p.y, t: i / n2});\n    }\n    for (i = 0; i < n1; i++) {\n      for (var j = 0; j < n2; j++) {\n        var di = dots1[i],\n          di1 = dots1[i + 1],\n          dj = dots2[j],\n          dj1 = dots2[j + 1],\n          ci = abs(di1.x - di.x) < .001 ? \"y\" : \"x\",\n          cj = abs(dj1.x - dj.x) < .001 ? \"y\" : \"x\",\n          is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n        if (is) {\n          if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n            continue;\n          }\n          xy[is.x.toFixed(4)] = is.y.toFixed(4);\n          var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n            t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n          if (t1 >= 0 && t1 <= 1 && t2 >= 0 && t2 <= 1) {\n            if (justCount) {\n              res++;\n            } else {\n              res.push({\n                x: is.x,\n                y: is.y,\n                t1: t1,\n                t2: t2\n              });\n            }\n          }\n        }\n      }\n    }\n    return res;\n  }\n\n  R.pathIntersection = function (path1, path2) {\n    return interPathHelper(path1, path2);\n  };\n  R.pathIntersectionNumber = function (path1, path2) {\n    return interPathHelper(path1, path2, 1);\n  };\n  function interPathHelper(path1, path2, justCount) {\n    path1 = R._path2curve(path1);\n    path2 = R._path2curve(path2);\n    var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n      res = justCount ? 0 : [];\n    for (var i = 0, ii = path1.length; i < ii; i++) {\n      var pi = path1[i];\n      if (pi[0] == \"M\") {\n        x1 = x1m = pi[1];\n        y1 = y1m = pi[2];\n      } else {\n        if (pi[0] == \"C\") {\n          bez1 = [x1, y1].concat(pi.slice(1));\n          x1 = bez1[6];\n          y1 = bez1[7];\n        } else {\n          bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n          x1 = x1m;\n          y1 = y1m;\n        }\n        for (var j = 0, jj = path2.length; j < jj; j++) {\n          var pj = path2[j];\n          if (pj[0] == \"M\") {\n            x2 = x2m = pj[1];\n            y2 = y2m = pj[2];\n          } else {\n            if (pj[0] == \"C\") {\n              bez2 = [x2, y2].concat(pj.slice(1));\n              x2 = bez2[6];\n              y2 = bez2[7];\n            } else {\n              bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n              x2 = x2m;\n              y2 = y2m;\n            }\n            var intr = interHelper(bez1, bez2, justCount);\n            if (justCount) {\n              res += intr;\n            } else {\n              for (var k = 0, kk = intr.length; k < kk; k++) {\n                intr[k].segment1 = i;\n                intr[k].segment2 = j;\n                intr[k].bez1 = bez1;\n                intr[k].bez2 = bez2;\n              }\n              res = res.concat(intr);\n            }\n          }\n        }\n      }\n    }\n    return res;\n  }\n\n  R.isPointInsidePath = function (path, x, y) {\n    var bbox = R.pathBBox(path);\n    return R.isPointInsideBBox(bbox, x, y) &&\n      interPathHelper(path, [[\"M\", x, y], [\"H\", bbox.x2 + 10]], 1) % 2 == 1;\n  };\n  R._removedFactory = function (methodname) {\n    return function () {\n      eve(\"raphael.log\", null, \"Rapha\\xebl: you are calling to method \\u201c\" + methodname + \"\\u201d of removed object\", methodname);\n    };\n  };\n\n  var pathDimensions = R.pathBBox = function (path) {\n      var pth = paths(path);\n      if (pth.bbox) {\n        return pth.bbox;\n      }\n      if (!path) {\n        return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};\n      }\n      path = path2curve(path);\n      var x = 0,\n        y = 0,\n        X = [],\n        Y = [],\n        p;\n      for (var i = 0, ii = path.length; i < ii; i++) {\n        p = path[i];\n        if (p[0] == \"M\") {\n          x = p[1];\n          y = p[2];\n          X.push(x);\n          Y.push(y);\n        } else {\n          var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n          X = X[concat](dim.min.x, dim.max.x);\n          Y = Y[concat](dim.min.y, dim.max.y);\n          x = p[5];\n          y = p[6];\n        }\n      }\n      var xmin = mmin[apply](0, X),\n        ymin = mmin[apply](0, Y),\n        xmax = mmax[apply](0, X),\n        ymax = mmax[apply](0, Y),\n        bb = {\n          x: xmin,\n          y: ymin,\n          x2: xmax,\n          y2: ymax,\n          width: xmax - xmin,\n          height: ymax - ymin\n        };\n      pth.bbox = clone(bb);\n      return bb;\n    },\n    pathClone = function (pathArray) {\n      var res = clone(pathArray);\n      res.toString = R._path2string;\n      return res;\n    },\n    pathToRelative = R._pathToRelative = function (pathArray) {\n      var pth = paths(pathArray);\n      if (pth.rel) {\n        return pathClone(pth.rel);\n      }\n      if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n        pathArray = R.parsePathString(pathArray);\n      }\n      var res = [],\n        x = 0,\n        y = 0,\n        mx = 0,\n        my = 0,\n        start = 0;\n      if (pathArray[0][0] == \"M\") {\n        x = pathArray[0][1];\n        y = pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res.push([\"M\", x, y]);\n      }\n      for (var i = start, ii = pathArray.length; i < ii; i++) {\n        var r = res[i] = [],\n          pa = pathArray[i];\n        if (pa[0] != lowerCase.call(pa[0])) {\n          r[0] = lowerCase.call(pa[0]);\n          switch (r[0]) {\n            case \"a\":\n              r[1] = pa[1];\n              r[2] = pa[2];\n              r[3] = pa[3];\n              r[4] = pa[4];\n              r[5] = pa[5];\n              r[6] = +(pa[6] - x).toFixed(3);\n              r[7] = +(pa[7] - y).toFixed(3);\n              break;\n            case \"v\":\n              r[1] = +(pa[1] - y).toFixed(3);\n              break;\n            case \"m\":\n              mx = pa[1];\n              my = pa[2];\n            default:\n              for (var j = 1, jj = pa.length; j < jj; j++) {\n                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n              }\n          }\n        } else {\n          r = res[i] = [];\n          if (pa[0] == \"m\") {\n            mx = pa[1] + x;\n            my = pa[2] + y;\n          }\n          for (var k = 0, kk = pa.length; k < kk; k++) {\n            res[i][k] = pa[k];\n          }\n        }\n        var len = res[i].length;\n        switch (res[i][0]) {\n          case \"z\":\n            x = mx;\n            y = my;\n            break;\n          case \"h\":\n            x += +res[i][len - 1];\n            break;\n          case \"v\":\n            y += +res[i][len - 1];\n            break;\n          default:\n            x += +res[i][len - 2];\n            y += +res[i][len - 1];\n        }\n      }\n      res.toString = R._path2string;\n      pth.rel = pathClone(res);\n      return res;\n    },\n    pathToAbsolute = R._pathToAbsolute = function (pathArray) {\n      var pth = paths(pathArray);\n      if (pth.abs) {\n        return pathClone(pth.abs);\n      }\n      if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n        pathArray = R.parsePathString(pathArray);\n      }\n      if (!pathArray || !pathArray.length) {\n        return [[\"M\", 0, 0]];\n      }\n      var res = [],\n        x = 0,\n        y = 0,\n        mx = 0,\n        my = 0,\n        start = 0;\n      if (pathArray[0][0] == \"M\") {\n        x = +pathArray[0][1];\n        y = +pathArray[0][2];\n        mx = x;\n        my = y;\n        start++;\n        res[0] = [\"M\", x, y];\n      }\n      var crz = pathArray.length == 3 && pathArray[0][0] == \"M\" && pathArray[1][0].toUpperCase() == \"R\" && pathArray[2][0].toUpperCase() == \"Z\";\n      for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n        res.push(r = []);\n        pa = pathArray[i];\n        if (pa[0] != upperCase.call(pa[0])) {\n          r[0] = upperCase.call(pa[0]);\n          switch (r[0]) {\n            case \"A\":\n              r[1] = pa[1];\n              r[2] = pa[2];\n              r[3] = pa[3];\n              r[4] = pa[4];\n              r[5] = pa[5];\n              r[6] = +(pa[6] + x);\n              r[7] = +(pa[7] + y);\n              break;\n            case \"V\":\n              r[1] = +pa[1] + y;\n              break;\n            case \"H\":\n              r[1] = +pa[1] + x;\n              break;\n            case \"R\":\n              var dots = [x, y][concat](pa.slice(1));\n              for (var j = 2, jj = dots.length; j < jj; j++) {\n                dots[j] = +dots[j] + x;\n                dots[++j] = +dots[j] + y;\n              }\n              res.pop();\n              res = res[concat](catmullRom2bezier(dots, crz));\n              break;\n            case \"M\":\n              mx = +pa[1] + x;\n              my = +pa[2] + y;\n            default:\n              for (j = 1, jj = pa.length; j < jj; j++) {\n                r[j] = +pa[j] + ((j % 2) ? x : y);\n              }\n          }\n        } else if (pa[0] == \"R\") {\n          dots = [x, y][concat](pa.slice(1));\n          res.pop();\n          res = res[concat](catmullRom2bezier(dots, crz));\n          r = [\"R\"][concat](pa.slice(-2));\n        } else {\n          for (var k = 0, kk = pa.length; k < kk; k++) {\n            r[k] = pa[k];\n          }\n        }\n        switch (r[0]) {\n          case \"Z\":\n            x = mx;\n            y = my;\n            break;\n          case \"H\":\n            x = r[1];\n            break;\n          case \"V\":\n            y = r[1];\n            break;\n          case \"M\":\n            mx = r[r.length - 2];\n            my = r[r.length - 1];\n          default:\n            x = r[r.length - 2];\n            y = r[r.length - 1];\n        }\n      }\n      res.toString = R._path2string;\n      pth.abs = pathClone(res);\n      return res;\n    },\n    l2c = function (x1, y1, x2, y2) {\n      return [x1, y1, x2, y2, x2, y2];\n    },\n    q2c = function (x1, y1, ax, ay, x2, y2) {\n      var _13 = 1 / 3,\n        _23 = 2 / 3;\n      return [\n        _13 * x1 + _23 * ax,\n        _13 * y1 + _23 * ay,\n        _13 * x2 + _23 * ax,\n        _13 * y2 + _23 * ay,\n        x2,\n        y2\n      ];\n    },\n    a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n      // for more information of where this math came from visit:\n      // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n      var _120 = PI * 120 / 180,\n        rad = PI / 180 * (+angle || 0),\n        res = [],\n        xy,\n        rotate = cacher(function (x, y, rad) {\n          var X = x * math.cos(rad) - y * math.sin(rad),\n            Y = x * math.sin(rad) + y * math.cos(rad);\n          return {x: X, y: Y};\n        });\n      if (!recursive) {\n        xy = rotate(x1, y1, -rad);\n        x1 = xy.x;\n        y1 = xy.y;\n        xy = rotate(x2, y2, -rad);\n        x2 = xy.x;\n        y2 = xy.y;\n        var cos = math.cos(PI / 180 * angle),\n          sin = math.sin(PI / 180 * angle),\n          x = (x1 - x2) / 2,\n          y = (y1 - y2) / 2;\n        var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n        if (h > 1) {\n          h = math.sqrt(h);\n          rx = h * rx;\n          ry = h * ry;\n        }\n        var rx2 = rx * rx,\n          ry2 = ry * ry,\n          k = (large_arc_flag == sweep_flag ? -1 : 1) *\n            math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n          cx = k * rx * y / ry + (x1 + x2) / 2,\n          cy = k * -ry * x / rx + (y1 + y2) / 2,\n          f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n          f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n        f1 = x1 < cx ? PI - f1 : f1;\n        f2 = x2 < cx ? PI - f2 : f2;\n        f1 < 0 && (f1 = PI * 2 + f1);\n        f2 < 0 && (f2 = PI * 2 + f2);\n        if (sweep_flag && f1 > f2) {\n          f1 = f1 - PI * 2;\n        }\n        if (!sweep_flag && f2 > f1) {\n          f2 = f2 - PI * 2;\n        }\n      } else {\n        f1 = recursive[0];\n        f2 = recursive[1];\n        cx = recursive[2];\n        cy = recursive[3];\n      }\n      var df = f2 - f1;\n      if (abs(df) > _120) {\n        var f2old = f2,\n          x2old = x2,\n          y2old = y2;\n        f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n        x2 = cx + rx * math.cos(f2);\n        y2 = cy + ry * math.sin(f2);\n        res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n      }\n      df = f2 - f1;\n      var c1 = math.cos(f1),\n        s1 = math.sin(f1),\n        c2 = math.cos(f2),\n        s2 = math.sin(f2),\n        t = math.tan(df / 4),\n        hx = 4 / 3 * rx * t,\n        hy = 4 / 3 * ry * t,\n        m1 = [x1, y1],\n        m2 = [x1 + hx * s1, y1 - hy * c1],\n        m3 = [x2 + hx * s2, y2 - hy * c2],\n        m4 = [x2, y2];\n      m2[0] = 2 * m1[0] - m2[0];\n      m2[1] = 2 * m1[1] - m2[1];\n      if (recursive) {\n        return [m2, m3, m4][concat](res);\n      } else {\n        res = [m2, m3, m4][concat](res).join()[split](\",\");\n        var newres = [];\n        for (var i = 0, ii = res.length; i < ii; i++) {\n          newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n        }\n        return newres;\n      }\n    },\n    findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n      var t1 = 1 - t;\n      return {\n        x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n        y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n      };\n    },\n    curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n      var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\n        b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\n        c = p1x - c1x,\n        t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,\n        t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,\n        y = [p1y, p2y],\n        x = [p1x, p2x],\n        dot;\n      abs(t1) > \"1e12\" && (t1 = .5);\n      abs(t2) > \"1e12\" && (t2 = .5);\n      if (t1 > 0 && t1 < 1) {\n        dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n        x.push(dot.x);\n        y.push(dot.y);\n      }\n      if (t2 > 0 && t2 < 1) {\n        dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n        x.push(dot.x);\n        y.push(dot.y);\n      }\n      a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\n      b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\n      c = p1y - c1y;\n      t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;\n      t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;\n      abs(t1) > \"1e12\" && (t1 = .5);\n      abs(t2) > \"1e12\" && (t2 = .5);\n      if (t1 > 0 && t1 < 1) {\n        dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n        x.push(dot.x);\n        y.push(dot.y);\n      }\n      if (t2 > 0 && t2 < 1) {\n        dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n        x.push(dot.x);\n        y.push(dot.y);\n      }\n      return {\n        min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},\n        max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}\n      };\n    }),\n    path2curve = R._path2curve = cacher(function (path, path2) {\n      var pth = !path2 && paths(path);\n      if (!path2 && pth.curve) {\n        return pathClone(pth.curve);\n      }\n      var p = pathToAbsolute(path),\n        p2 = path2 && pathToAbsolute(path2),\n        attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n        attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n        processPath = function (path, d) {\n          var nx, ny;\n          if (!path) {\n            return [\"C\", d.x, d.y, d.x, d.y, d.x, d.y];\n          }\n          !(path[0] in {T: 1, Q: 1}) && (d.qx = d.qy = null);\n          switch (path[0]) {\n            case \"M\":\n              d.X = path[1];\n              d.Y = path[2];\n              break;\n            case \"A\":\n              path = [\"C\"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\n              break;\n            case \"S\":\n              nx = d.x + (d.x - (d.bx || d.x));\n              ny = d.y + (d.y - (d.by || d.y));\n              path = [\"C\", nx, ny][concat](path.slice(1));\n              break;\n            case \"T\":\n              d.qx = d.x + (d.x - (d.qx || d.x));\n              d.qy = d.y + (d.y - (d.qy || d.y));\n              path = [\"C\"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n              break;\n            case \"Q\":\n              d.qx = path[1];\n              d.qy = path[2];\n              path = [\"C\"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n              break;\n            case \"L\":\n              path = [\"C\"][concat](l2c(d.x, d.y, path[1], path[2]));\n              break;\n            case \"H\":\n              path = [\"C\"][concat](l2c(d.x, d.y, path[1], d.y));\n              break;\n            case \"V\":\n              path = [\"C\"][concat](l2c(d.x, d.y, d.x, path[1]));\n              break;\n            case \"Z\":\n              path = [\"C\"][concat](l2c(d.x, d.y, d.X, d.Y));\n              break;\n          }\n          return path;\n        },\n        fixArc = function (pp, i) {\n          if (pp[i].length > 7) {\n            pp[i].shift();\n            var pi = pp[i];\n            while (pi.length) {\n              pp.splice(i++, 0, [\"C\"][concat](pi.splice(0, 6)));\n            }\n            pp.splice(i, 1);\n            ii = mmax(p.length, p2 && p2.length || 0);\n          }\n        },\n        fixM = function (path1, path2, a1, a2, i) {\n          if (path1 && path2 && path1[i][0] == \"M\" && path2[i][0] != \"M\") {\n            path2.splice(i, 0, [\"M\", a2.x, a2.y]);\n            a1.bx = 0;\n            a1.by = 0;\n            a1.x = path1[i][1];\n            a1.y = path1[i][2];\n            ii = mmax(p.length, p2 && p2.length || 0);\n          }\n        };\n      for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n        p[i] = processPath(p[i], attrs);\n        fixArc(p, i);\n        p2 && (p2[i] = processPath(p2[i], attrs2));\n        p2 && fixArc(p2, i);\n        fixM(p, p2, attrs, attrs2, i);\n        fixM(p2, p, attrs2, attrs, i);\n        var seg = p[i],\n          seg2 = p2 && p2[i],\n          seglen = seg.length,\n          seg2len = p2 && seg2.length;\n        attrs.x = seg[seglen - 2];\n        attrs.y = seg[seglen - 1];\n        attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n        attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n        attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n        attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n        attrs2.x = p2 && seg2[seg2len - 2];\n        attrs2.y = p2 && seg2[seg2len - 1];\n      }\n      if (!p2) {\n        pth.curve = pathClone(p);\n      }\n      return p2 ? [p, p2] : p;\n    }, null, pathClone),\n    parseDots = R._parseDots = cacher(function (gradient) {\n      var dots = [];\n      for (var i = 0, ii = gradient.length; i < ii; i++) {\n        var dot = {},\n          par = gradient[i].match(/^([^:]*):?([\\d\\.]*)/);\n        dot.color = R.getRGB(par[1]);\n        if (dot.color.error) {\n          return null;\n        }\n        dot.color = dot.color.hex;\n        par[2] && (dot.offset = par[2] + \"%\");\n        dots.push(dot);\n      }\n      for (i = 1, ii = dots.length - 1; i < ii; i++) {\n        if (!dots[i].offset) {\n          var start = toFloat(dots[i - 1].offset || 0),\n            end = 0;\n          for (var j = i + 1; j < ii; j++) {\n            if (dots[j].offset) {\n              end = dots[j].offset;\n              break;\n            }\n          }\n          if (!end) {\n            end = 100;\n            j = ii;\n          }\n          end = toFloat(end);\n          var d = (end - start) / (j - i + 1);\n          for (; i < j; i++) {\n            start += d;\n            dots[i].offset = start + \"%\";\n          }\n        }\n      }\n      return dots;\n    }),\n    tear = R._tear = function (el, paper) {\n      el == paper.top && (paper.top = el.prev);\n      el == paper.bottom && (paper.bottom = el.next);\n      el.next && (el.next.prev = el.prev);\n      el.prev && (el.prev.next = el.next);\n    },\n    tofront = R._tofront = function (el, paper) {\n      if (paper.top === el) {\n        return;\n      }\n      tear(el, paper);\n      el.next = null;\n      el.prev = paper.top;\n      paper.top.next = el;\n      paper.top = el;\n    },\n    toback = R._toback = function (el, paper) {\n      if (paper.bottom === el) {\n        return;\n      }\n      tear(el, paper);\n      el.next = paper.bottom;\n      el.prev = null;\n      paper.bottom.prev = el;\n      paper.bottom = el;\n    },\n    insertafter = R._insertafter = function (el, el2, paper) {\n      tear(el, paper);\n      el2 == paper.top && (paper.top = el);\n      el2.next && (el2.next.prev = el);\n      el.next = el2.next;\n      el.prev = el2;\n      el2.next = el;\n    },\n    insertbefore = R._insertbefore = function (el, el2, paper) {\n      tear(el, paper);\n      el2 == paper.bottom && (paper.bottom = el);\n      el2.prev && (el2.prev.next = el);\n      el.prev = el2.prev;\n      el2.prev = el;\n      el.next = el2;\n    },\n\n    toMatrix = R.toMatrix = function (path, transform) {\n      var bb = pathDimensions(path),\n        el = {\n          _: {\n            transform: E\n          },\n          getBBox: function () {\n            return bb;\n          }\n        };\n      extractTransform(el, transform);\n      return el.matrix;\n    },\n\n    transformPath = R.transformPath = function (path, transform) {\n      return mapPath(path, toMatrix(path, transform));\n    },\n    extractTransform = R._extractTransform = function (el, tstr) {\n      if (tstr == null) {\n        return el._.transform;\n      }\n      tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n      var tdata = R.parseTransformString(tstr),\n        deg = 0,\n        dx = 0,\n        dy = 0,\n        sx = 1,\n        sy = 1,\n        _ = el._,\n        m = new Matrix;\n      _.transform = tdata || [];\n      if (tdata) {\n        for (var i = 0, ii = tdata.length; i < ii; i++) {\n          var t = tdata[i],\n            tlen = t.length,\n            command = Str(t[0]).toLowerCase(),\n            absolute = t[0] != command,\n            inver = absolute ? m.invert() : 0,\n            x1,\n            y1,\n            x2,\n            y2,\n            bb;\n          if (command == \"t\" && tlen == 3) {\n            if (absolute) {\n              x1 = inver.x(0, 0);\n              y1 = inver.y(0, 0);\n              x2 = inver.x(t[1], t[2]);\n              y2 = inver.y(t[1], t[2]);\n              m.translate(x2 - x1, y2 - y1);\n            } else {\n              m.translate(t[1], t[2]);\n            }\n          } else if (command == \"r\") {\n            if (tlen == 2) {\n              bb = bb || el.getBBox(1);\n              m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n              deg += t[1];\n            } else if (tlen == 4) {\n              if (absolute) {\n                x2 = inver.x(t[2], t[3]);\n                y2 = inver.y(t[2], t[3]);\n                m.rotate(t[1], x2, y2);\n              } else {\n                m.rotate(t[1], t[2], t[3]);\n              }\n              deg += t[1];\n            }\n          } else if (command == \"s\") {\n            if (tlen == 2 || tlen == 3) {\n              bb = bb || el.getBBox(1);\n              m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n              sx *= t[1];\n              sy *= t[tlen - 1];\n            } else if (tlen == 5) {\n              if (absolute) {\n                x2 = inver.x(t[3], t[4]);\n                y2 = inver.y(t[3], t[4]);\n                m.scale(t[1], t[2], x2, y2);\n              } else {\n                m.scale(t[1], t[2], t[3], t[4]);\n              }\n              sx *= t[1];\n              sy *= t[2];\n            }\n          } else if (command == \"m\" && tlen == 7) {\n            m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n          }\n          _.dirtyT = 1;\n          el.matrix = m;\n        }\n      }\n\n\n      el.matrix = m;\n\n      _.sx = sx;\n      _.sy = sy;\n      _.deg = deg;\n      _.dx = dx = m.e;\n      _.dy = dy = m.f;\n\n      if (sx == 1 && sy == 1 && !deg && _.bbox) {\n        _.bbox.x += +dx;\n        _.bbox.y += +dy;\n      } else {\n        _.dirtyT = 1;\n      }\n    },\n    getEmpty = function (item) {\n      var l = item[0];\n      switch (l.toLowerCase()) {\n        case \"t\":\n          return [l, 0, 0];\n        case \"m\":\n          return [l, 1, 0, 0, 1, 0, 0];\n        case \"r\":\n          if (item.length == 4) {\n            return [l, 0, item[2], item[3]];\n          } else {\n            return [l, 0];\n          }\n        case \"s\":\n          if (item.length == 5) {\n            return [l, 1, 1, item[3], item[4]];\n          } else if (item.length == 3) {\n            return [l, 1, 1];\n          } else {\n            return [l, 1];\n          }\n      }\n    },\n    equaliseTransform = R._equaliseTransform = function (t1, t2) {\n      t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n      t1 = R.parseTransformString(t1) || [];\n      t2 = R.parseTransformString(t2) || [];\n      var maxlength = mmax(t1.length, t2.length),\n        from = [],\n        to = [],\n        i = 0, j, jj,\n        tt1, tt2;\n      for (; i < maxlength; i++) {\n        tt1 = t1[i] || getEmpty(t2[i]);\n        tt2 = t2[i] || getEmpty(tt1);\n        if ((tt1[0] != tt2[0]) ||\n          (tt1[0].toLowerCase() == \"r\" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n          (tt1[0].toLowerCase() == \"s\" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n        ) {\n          return;\n        }\n        from[i] = [];\n        to[i] = [];\n        for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\n          j in tt1 && (from[i][j] = tt1[j]);\n          j in tt2 && (to[i][j] = tt2[j]);\n        }\n      }\n      return {\n        from: from,\n        to: to\n      };\n    };\n  R._getContainer = function (x, y, w, h) {\n    var container;\n    container = h == null && !R.is(x, \"object\") ? g.doc.getElementById(x) : x;\n    if (container == null) {\n      return;\n    }\n    if (container.tagName) {\n      if (y == null) {\n        return {\n          container: container,\n          width: container.style.pixelWidth || container.offsetWidth,\n          height: container.style.pixelHeight || container.offsetHeight\n        };\n      } else {\n        return {\n          container: container,\n          width: y,\n          height: w\n        };\n      }\n    }\n    return {\n      container: 1,\n      x: x,\n      y: y,\n      width: w,\n      height: h\n    };\n  };\n\n  R.pathToRelative = pathToRelative;\n  R._engine = {};\n\n  R.path2curve = path2curve;\n\n  R.matrix = function (a, b, c, d, e, f) {\n    return new Matrix(a, b, c, d, e, f);\n  };\n  function Matrix(a, b, c, d, e, f) {\n    if (a != null) {\n      this.a = +a;\n      this.b = +b;\n      this.c = +c;\n      this.d = +d;\n      this.e = +e;\n      this.f = +f;\n    } else {\n      this.a = 1;\n      this.b = 0;\n      this.c = 0;\n      this.d = 1;\n      this.e = 0;\n      this.f = 0;\n    }\n  }\n\n  (function (matrixproto) {\n\n    matrixproto.add = function (a, b, c, d, e, f) {\n      var out = [[], [], []],\n        m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n        matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n        x, y, z, res;\n\n      if (a && a instanceof Matrix) {\n        matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n      }\n\n      for (x = 0; x < 3; x++) {\n        for (y = 0; y < 3; y++) {\n          res = 0;\n          for (z = 0; z < 3; z++) {\n            res += m[x][z] * matrix[z][y];\n          }\n          out[x][y] = res;\n        }\n      }\n      this.a = out[0][0];\n      this.b = out[1][0];\n      this.c = out[0][1];\n      this.d = out[1][1];\n      this.e = out[0][2];\n      this.f = out[1][2];\n    };\n\n    matrixproto.invert = function () {\n      var me = this,\n        x = me.a * me.d - me.b * me.c;\n      return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n    };\n\n    matrixproto.clone = function () {\n      return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n    };\n\n    matrixproto.translate = function (x, y) {\n      this.add(1, 0, 0, 1, x, y);\n    };\n\n    matrixproto.scale = function (x, y, cx, cy) {\n      y == null && (y = x);\n      (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n      this.add(x, 0, 0, y, 0, 0);\n      (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n    };\n\n    matrixproto.rotate = function (a, x, y) {\n      a = R.rad(a);\n      x = x || 0;\n      y = y || 0;\n      var cos = +math.cos(a).toFixed(9),\n        sin = +math.sin(a).toFixed(9);\n      this.add(cos, sin, -sin, cos, x, y);\n      this.add(1, 0, 0, 1, -x, -y);\n    };\n\n    matrixproto.x = function (x, y) {\n      return x * this.a + y * this.c + this.e;\n    };\n\n    matrixproto.y = function (x, y) {\n      return x * this.b + y * this.d + this.f;\n    };\n    matrixproto.get = function (i) {\n      return +this[Str.fromCharCode(97 + i)].toFixed(4);\n    };\n    matrixproto.toString = function () {\n      return R.svg ?\n      \"matrix(\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + \")\" :\n        [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\n    };\n    matrixproto.toFilter = function () {\n      return \"progid:DXImageTransform.Microsoft.Matrix(M11=\" + this.get(0) +\n        \", M12=\" + this.get(2) + \", M21=\" + this.get(1) + \", M22=\" + this.get(3) +\n        \", Dx=\" + this.get(4) + \", Dy=\" + this.get(5) + \", sizingmethod='auto expand')\";\n    };\n    matrixproto.offset = function () {\n      return [this.e.toFixed(4), this.f.toFixed(4)];\n    };\n    function norm(a) {\n      return a[0] * a[0] + a[1] * a[1];\n    }\n\n    function normalize(a) {\n      var mag = math.sqrt(norm(a));\n      a[0] && (a[0] /= mag);\n      a[1] && (a[1] /= mag);\n    }\n\n    matrixproto.split = function () {\n      var out = {};\n      // translation\n      out.dx = this.e;\n      out.dy = this.f;\n\n      // scale and shear\n      var row = [[this.a, this.c], [this.b, this.d]];\n      out.scalex = math.sqrt(norm(row[0]));\n      normalize(row[0]);\n\n      out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n      row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n      out.scaley = math.sqrt(norm(row[1]));\n      normalize(row[1]);\n      out.shear /= out.scaley;\n\n      // rotation\n      var sin = -row[0][1],\n        cos = row[1][1];\n      if (cos < 0) {\n        out.rotate = R.deg(math.acos(cos));\n        if (sin < 0) {\n          out.rotate = 360 - out.rotate;\n        }\n      } else {\n        out.rotate = R.deg(math.asin(sin));\n      }\n\n      out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n      out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n      out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n      return out;\n    };\n\n    matrixproto.toTransformString = function (shorter) {\n      var s = shorter || this[split]();\n      if (s.isSimple) {\n        s.scalex = +s.scalex.toFixed(4);\n        s.scaley = +s.scaley.toFixed(4);\n        s.rotate = +s.rotate.toFixed(4);\n        return (s.dx || s.dy ? \"t\" + [s.dx, s.dy] : E) +\n          (s.scalex != 1 || s.scaley != 1 ? \"s\" + [s.scalex, s.scaley, 0, 0] : E) +\n          (s.rotate ? \"r\" + [s.rotate, 0, 0] : E);\n      } else {\n        return \"m\" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n      }\n    };\n  })(Matrix.prototype);\n\n  // WebKit rendering bug workaround method\n  var version = navigator.userAgent.match(/Version\\/(.*?)\\s/) || navigator.userAgent.match(/Chrome\\/(\\d+)/);\n  if ((navigator.vendor == \"Apple Computer, Inc.\") && (version && version[1] < 4 || navigator.platform.slice(0, 2) == \"iP\") ||\n    (navigator.vendor == \"Google Inc.\" && version && version[1] < 8)) {\n\n    paperproto.safari = function () {\n      var rect = this.rect(-99, -99, this.width + 99, this.height + 99).attr({stroke: \"none\"});\n      setTimeout(function () {\n        rect.remove();\n      });\n    };\n  } else {\n    paperproto.safari = fun;\n  }\n\n  var preventDefault = function () {\n      this.returnValue = false;\n    },\n    preventTouch = function () {\n      return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n      this.cancelBubble = true;\n    },\n    stopTouch = function () {\n      return this.originalEvent.stopPropagation();\n    },\n    addEvent = (function () {\n      if (g.doc.addEventListener) {\n        return function (obj, type, fn, element) {\n          var realName = supportsTouch && touchMap[type] ? touchMap[type] : type,\n            f = function (e) {\n              var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                x = e.clientX + scrollX,\n                y = e.clientY + scrollY;\n              if (supportsTouch && touchMap[has](type)) {\n                for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                  if (e.targetTouches[i].target == obj) {\n                    var olde = e;\n                    e = e.targetTouches[i];\n                    e.originalEvent = olde;\n                    e.preventDefault = preventTouch;\n                    e.stopPropagation = stopTouch;\n                    break;\n                  }\n                }\n              }\n              return fn.call(element, e, x, y);\n            };\n          obj.addEventListener(realName, f, false);\n          return function () {\n            obj.removeEventListener(realName, f, false);\n            return true;\n          };\n        };\n      } else if (g.doc.attachEvent) {\n        return function (obj, type, fn, element) {\n          var f = function (e) {\n            e = e || g.win.event;\n            var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n              scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n              x = e.clientX + scrollX,\n              y = e.clientY + scrollY;\n            e.preventDefault = e.preventDefault || preventDefault;\n            e.stopPropagation = e.stopPropagation || stopPropagation;\n            return fn.call(element, e, x, y);\n          };\n          obj.attachEvent(\"on\" + type, f);\n          var detacher = function () {\n            obj.detachEvent(\"on\" + type, f);\n            return true;\n          };\n          return detacher;\n        };\n      }\n    })(),\n    drag = [],\n    dragMove = function (e) {\n      var x = e.clientX,\n        y = e.clientY,\n        scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n        dragi,\n        j = drag.length;\n      while (j--) {\n        dragi = drag[j];\n        if (supportsTouch) {\n          var i = e.touches.length,\n            touch;\n          while (i--) {\n            touch = e.touches[i];\n            if (touch.identifier == dragi.el._drag.id) {\n              x = touch.clientX;\n              y = touch.clientY;\n              (e.originalEvent ? e.originalEvent : e).preventDefault();\n              break;\n            }\n          }\n        } else {\n          e.preventDefault();\n        }\n        var node = dragi.el.node,\n          o,\n          next = node.nextSibling,\n          parent = node.parentNode,\n          display = node.style.display;\n        g.win.opera && parent.removeChild(node);\n        node.style.display = \"none\";\n        o = dragi.el.paper.getElementByPoint(x, y);\n        node.style.display = display;\n        g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n        o && eve(\"raphael.drag.over.\" + dragi.el.id, dragi.el, o);\n        x += scrollX;\n        y += scrollY;\n        eve(\"raphael.drag.move.\" + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n      }\n    },\n    dragUp = function (e) {\n      R.unmousemove(dragMove).unmouseup(dragUp);\n      var i = drag.length,\n        dragi;\n      while (i--) {\n        dragi = drag[i];\n        dragi.el._drag = {};\n        eve(\"raphael.drag.end.\" + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n      }\n      drag = [];\n    },\n\n    elproto = R.el = {};\n\n\n  for (var i = events.length; i--;) {\n    (function (eventName) {\n      R[eventName] = elproto[eventName] = function (fn, scope) {\n        if (R.is(fn, \"function\")) {\n          this.events = this.events || [];\n          this.events.push({\n            name: eventName,\n            f: fn,\n            unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)\n          });\n        }\n        return this;\n      };\n      R[\"un\" + eventName] = elproto[\"un\" + eventName] = function (fn) {\n        var events = this.events || [],\n          l = events.length;\n        while (l--) if (events[l].name == eventName && events[l].f == fn) {\n          events[l].unbind();\n          events.splice(l, 1);\n          !events.length && delete this.events;\n          return this;\n        }\n        return this;\n      };\n    })(events[i]);\n  }\n\n\n  elproto.data = function (key, value) {\n    var data = eldata[this.id] = eldata[this.id] || {};\n    if (arguments.length == 1) {\n      if (R.is(key, \"object\")) {\n        for (var i in key) if (key[has](i)) {\n          this.data(i, key[i]);\n        }\n        return this;\n      }\n      eve(\"raphael.data.get.\" + this.id, this, data[key], key);\n      return data[key];\n    }\n    data[key] = value;\n    eve(\"raphael.data.set.\" + this.id, this, value, key);\n    return this;\n  };\n\n  elproto.removeData = function (key) {\n    if (key == null) {\n      eldata[this.id] = {};\n    } else {\n      eldata[this.id] && delete eldata[this.id][key];\n    }\n    return this;\n  };\n\n  elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n    return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n  };\n\n  elproto.unhover = function (f_in, f_out) {\n    return this.unmouseover(f_in).unmouseout(f_out);\n  };\n  var draggable = [];\n\n  elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n    function start(e) {\n      (e.originalEvent || e).preventDefault();\n      var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n      this._drag.x = e.clientX + scrollX;\n      this._drag.y = e.clientY + scrollY;\n      this._drag.id = e.identifier;\n      !drag.length && R.mousemove(dragMove).mouseup(dragUp);\n      drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n      onstart && eve.on(\"raphael.drag.start.\" + this.id, onstart);\n      onmove && eve.on(\"raphael.drag.move.\" + this.id, onmove);\n      onend && eve.on(\"raphael.drag.end.\" + this.id, onend);\n      eve(\"raphael.drag.start.\" + this.id, start_scope || move_scope || this, e.clientX + scrollX, e.clientY + scrollY, e);\n    }\n\n    this._drag = {};\n    draggable.push({el: this, start: start});\n    this.mousedown(start);\n    return this;\n  };\n\n  elproto.onDragOver = function (f) {\n    f ? eve.on(\"raphael.drag.over.\" + this.id, f) : eve.unbind(\"raphael.drag.over.\" + this.id);\n  };\n\n  elproto.undrag = function () {\n    var i = draggable.length;\n    while (i--) if (draggable[i].el == this) {\n      this.unmousedown(draggable[i].start);\n      draggable.splice(i, 1);\n      eve.unbind(\"raphael.drag.*.\" + this.id);\n    }\n    !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n  };\n\n  paperproto.circle = function (x, y, r) {\n    var out = R._engine.circle(this, x || 0, y || 0, r || 0);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.rect = function (x, y, w, h, r) {\n    var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.ellipse = function (x, y, rx, ry) {\n    var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.path = function (pathString) {\n    pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);\n    var out = R._engine.path(R.format[apply](R, arguments), this);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.image = function (src, x, y, w, h) {\n    var out = R._engine.image(this, src || \"about:blank\", x || 0, y || 0, w || 0, h || 0);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.text = function (x, y, text) {\n    var out = R._engine.text(this, x || 0, y || 0, Str(text));\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.set = function (itemsArray) {\n    !R.is(itemsArray, \"array\") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));\n    var out = new Set(itemsArray);\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  paperproto.setStart = function (set) {\n    this.__set__ = set || this.set();\n  };\n\n  paperproto.setFinish = function (set) {\n    var out = this.__set__;\n    delete this.__set__;\n    return out;\n  };\n\n  paperproto.setSize = function (width, height) {\n    return R._engine.setSize.call(this, width, height);\n  };\n\n  paperproto.setViewBox = function (x, y, w, h, fit) {\n    return R._engine.setViewBox.call(this, x, y, w, h, fit);\n  };\n\n\n  paperproto.top = paperproto.bottom = null;\n\n  paperproto.raphael = R;\n  var getOffset = function (elem) {\n    var box = elem.getBoundingClientRect(),\n      doc = elem.ownerDocument,\n      body = doc.body,\n      docElem = doc.documentElement,\n      clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n      top = box.top + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n      left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n    return {\n      y: top,\n      x: left\n    };\n  };\n\n  paperproto.getElementByPoint = function (x, y) {\n    var paper = this,\n      svg = paper.canvas,\n      target = g.doc.elementFromPoint(x, y);\n    if (g.win.opera && target.tagName == \"svg\") {\n      var so = getOffset(svg),\n        sr = svg.createSVGRect();\n      sr.x = x - so.x;\n      sr.y = y - so.y;\n      sr.width = sr.height = 1;\n      var hits = svg.getIntersectionList(sr, null);\n      if (hits.length) {\n        target = hits[hits.length - 1];\n      }\n    }\n    if (!target) {\n      return null;\n    }\n    while (target.parentNode && target != svg.parentNode && !target.raphael) {\n      target = target.parentNode;\n    }\n    target == paper.canvas.parentNode && (target = svg);\n    target = target && target.raphael ? paper.getById(target.raphaelid) : null;\n    return target;\n  };\n\n  paperproto.getById = function (id) {\n    var bot = this.bottom;\n    while (bot) {\n      if (bot.id == id) {\n        return bot;\n      }\n      bot = bot.next;\n    }\n    return null;\n  };\n\n  paperproto.forEach = function (callback, thisArg) {\n    var bot = this.bottom;\n    while (bot) {\n      if (callback.call(thisArg, bot) === false) {\n        return this;\n      }\n      bot = bot.next;\n    }\n    return this;\n  };\n\n  paperproto.getElementsByPoint = function (x, y) {\n    var set = this.set();\n    this.forEach(function (el) {\n      if (el.isPointInside(x, y)) {\n        set.push(el);\n      }\n    });\n    return set;\n  };\n  function x_y() {\n    return this.x + S + this.y;\n  }\n\n  function x_y_w_h() {\n    return this.x + S + this.y + S + this.width + \" \\xd7 \" + this.height;\n  }\n\n  elproto.isPointInside = function (x, y) {\n    var rp = this.realPath = this.realPath || getPath[this.type](this);\n    return R.isPointInsidePath(rp, x, y);\n  };\n\n  elproto.getBBox = function (isWithoutTransform) {\n    if (this.removed) {\n      return {};\n    }\n    var _ = this._;\n    if (isWithoutTransform) {\n      if (_.dirty || !_.bboxwt) {\n        this.realPath = getPath[this.type](this);\n        _.bboxwt = pathDimensions(this.realPath);\n        _.bboxwt.toString = x_y_w_h;\n        _.dirty = 0;\n      }\n      return _.bboxwt;\n    }\n    if (_.dirty || _.dirtyT || !_.bbox) {\n      if (_.dirty || !this.realPath) {\n        _.bboxwt = 0;\n        this.realPath = getPath[this.type](this);\n      }\n      _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\n      _.bbox.toString = x_y_w_h;\n      _.dirty = _.dirtyT = 0;\n    }\n    return _.bbox;\n  };\n\n  elproto.clone = function () {\n    if (this.removed) {\n      return null;\n    }\n    var out = this.paper[this.type]().attr(this.attr());\n    this.__set__ && this.__set__.push(out);\n    return out;\n  };\n\n  elproto.glow = function (glow) {\n    if (this.type == \"text\") {\n      return null;\n    }\n    glow = glow || {};\n    var s = {\n        width: (glow.width || 10) + (+this.attr(\"stroke-width\") || 1),\n        fill: glow.fill || false,\n        opacity: glow.opacity || .5,\n        offsetx: glow.offsetx || 0,\n        offsety: glow.offsety || 0,\n        color: glow.color || \"#000\"\n      },\n      c = s.width / 2,\n      r = this.paper,\n      out = r.set(),\n      path = this.realPath || getPath[this.type](this);\n    path = this.matrix ? mapPath(path, this.matrix) : path;\n    for (var i = 1; i < c + 1; i++) {\n      out.push(r.path(path).attr({\n        stroke: s.color,\n        fill: s.fill ? s.color : \"none\",\n        \"stroke-linejoin\": \"round\",\n        \"stroke-linecap\": \"round\",\n        \"stroke-width\": +(s.width / c * i).toFixed(3),\n        opacity: +(s.opacity / c).toFixed(3)\n      }));\n    }\n    return out.insertBefore(this).translate(s.offsetx, s.offsety);\n  };\n  var curveslengths = {},\n    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n      if (length == null) {\n        return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n      } else {\n        return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n      }\n    },\n    getLengthFactory = function (istotal, subpath) {\n      return function (path, length, onlystart) {\n        path = path2curve(path);\n        var x, y, p, l, sp = \"\", subpaths = {}, point,\n          len = 0;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n          p = path[i];\n          if (p[0] == \"M\") {\n            x = +p[1];\n            y = +p[2];\n          } else {\n            l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n            if (len + l > length) {\n              if (subpath && !subpaths.start) {\n                point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                sp += [\"C\" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\n                if (onlystart) {\n                  return sp;\n                }\n                subpaths.start = sp;\n                sp = [\"M\" + point.x, point.y + \"C\" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\n                len += l;\n                x = +p[5];\n                y = +p[6];\n                continue;\n              }\n              if (!istotal && !subpath) {\n                point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                return {x: point.x, y: point.y, alpha: point.alpha};\n              }\n            }\n            len += l;\n            x = +p[5];\n            y = +p[6];\n          }\n          sp += p.shift() + p;\n        }\n        subpaths.end = sp;\n        point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n        point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});\n        return point;\n      };\n    };\n  var getTotalLength = getLengthFactory(1),\n    getPointAtLength = getLengthFactory(),\n    getSubpathsAtLength = getLengthFactory(0, 1);\n\n  R.getTotalLength = getTotalLength;\n\n  R.getPointAtLength = getPointAtLength;\n\n  R.getSubpath = function (path, from, to) {\n    if (this.getTotalLength(path) - to < 1e-6) {\n      return getSubpathsAtLength(path, from).end;\n    }\n    var a = getSubpathsAtLength(path, to, 1);\n    return from ? getSubpathsAtLength(a, from).end : a;\n  };\n\n  elproto.getTotalLength = function () {\n    if (this.type != \"path\") {\n      return;\n    }\n    if (this.node.getTotalLength) {\n      return this.node.getTotalLength();\n    }\n    return getTotalLength(this.attrs.path);\n  };\n\n  elproto.getPointAtLength = function (length) {\n    if (this.type != \"path\") {\n      return;\n    }\n    return getPointAtLength(this.attrs.path, length);\n  };\n\n  elproto.getSubpath = function (from, to) {\n    if (this.type != \"path\") {\n      return;\n    }\n    return R.getSubpath(this.attrs.path, from, to);\n  };\n\n  var ef = R.easing_formulas = {\n    linear: function (n) {\n      return n;\n    },\n    \"<\": function (n) {\n      return pow(n, 1.7);\n    },\n    \">\": function (n) {\n      return pow(n, .48);\n    },\n    \"<>\": function (n) {\n      var q = .48 - n / 1.04,\n        Q = math.sqrt(.1734 + q * q),\n        x = Q - q,\n        X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n        y = -Q - q,\n        Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n        t = X + Y + .5;\n      return (1 - t) * 3 * t * t + t * t * t;\n    },\n    backIn: function (n) {\n      var s = 1.70158;\n      return n * n * ((s + 1) * n - s);\n    },\n    backOut: function (n) {\n      n = n - 1;\n      var s = 1.70158;\n      return n * n * ((s + 1) * n + s) + 1;\n    },\n    elastic: function (n) {\n      if (n == !!n) {\n        return n;\n      }\n      return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;\n    },\n    bounce: function (n) {\n      var s = 7.5625,\n        p = 2.75,\n        l;\n      if (n < (1 / p)) {\n        l = s * n * n;\n      } else {\n        if (n < (2 / p)) {\n          n -= (1.5 / p);\n          l = s * n * n + .75;\n        } else {\n          if (n < (2.5 / p)) {\n            n -= (2.25 / p);\n            l = s * n * n + .9375;\n          } else {\n            n -= (2.625 / p);\n            l = s * n * n + .984375;\n          }\n        }\n      }\n      return l;\n    }\n  };\n  ef.easeIn = ef[\"ease-in\"] = ef[\"<\"];\n  ef.easeOut = ef[\"ease-out\"] = ef[\">\"];\n  ef.easeInOut = ef[\"ease-in-out\"] = ef[\"<>\"];\n  ef[\"back-in\"] = ef.backIn;\n  ef[\"back-out\"] = ef.backOut;\n\n  var animationElements = [],\n    requestAnimFrame = window.requestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.oRequestAnimationFrame ||\n      window.msRequestAnimationFrame ||\n      function (callback) {\n        setTimeout(callback, 16);\n      },\n    animation = function () {\n      var Now = +new Date,\n        l = 0;\n      for (; l < animationElements.length; l++) {\n        var e = animationElements[l];\n\n        if (e.el.removed || e.paused) {\n          continue;\n        }\n        var time = Now - e.start,\n          ms = e.ms,\n          easing = e.easing,\n          from = e.from,\n          diff = e.diff,\n          to = e.to,\n          t = e.t,\n          that = e.el,\n          set = {},\n          now,\n          init = {},\n          key;\n        if (e.initstatus) {\n          time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\n          e.status = e.initstatus;\n          delete e.initstatus;\n          e.stop && animationElements.splice(l--, 1);\n        } else {\n          e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\n        }\n        if (time < 0) {\n          continue;\n        }\n        if (time < ms) {\n          var pos = easing(time / ms);\n          for (var attr in from) if (from[has](attr)) {\n            switch (availableAnimAttrs[attr]) {\n              case nu:\n                now = +from[attr] + pos * ms * diff[attr];\n                break;\n              case \"colour\":\n                now = \"rgb(\" + [\n                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),\n                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),\n                    upto255(round(from[attr].b + pos * ms * diff[attr].b))\n                  ].join(\",\") + \")\";\n                break;\n              case \"path\":\n                now = [];\n                for (var i = 0, ii = from[attr].length; i < ii; i++) {\n                  now[i] = [from[attr][i][0]];\n                  for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                    now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];\n                  }\n                  now[i] = now[i].join(S);\n                }\n                now = now.join(S);\n                break;\n              case \"transform\":\n                if (diff[attr].real) {\n                  now = [];\n                  for (i = 0, ii = from[attr].length; i < ii; i++) {\n                    now[i] = [from[attr][i][0]];\n                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                      now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\n                    }\n                  }\n                } else {\n                  var get = function (i) {\n                    return +from[attr][i] + pos * ms * diff[attr][i];\n                  };\n                  // now = [[\"r\", get(2), 0, 0], [\"t\", get(3), get(4)], [\"s\", get(0), get(1), 0, 0]];\n                  now = [[\"m\", get(0), get(1), get(2), get(3), get(4), get(5)]];\n                }\n                break;\n              case \"csv\":\n                if (attr == \"clip-rect\") {\n                  now = [];\n                  i = 4;\n                  while (i--) {\n                    now[i] = +from[attr][i] + pos * ms * diff[attr][i];\n                  }\n                }\n                break;\n              default:\n                var from2 = [][concat](from[attr]);\n                now = [];\n                i = that.paper.customAttributes[attr].length;\n                while (i--) {\n                  now[i] = +from2[i] + pos * ms * diff[attr][i];\n                }\n                break;\n            }\n            set[attr] = now;\n          }\n          that.attr(set);\n          (function (id, that, anim) {\n            setTimeout(function () {\n              eve(\"raphael.anim.frame.\" + id, that, anim);\n            });\n          })(that.id, that, e.anim);\n        } else {\n          (function (f, el, a) {\n            setTimeout(function () {\n              eve(\"raphael.anim.frame.\" + el.id, el, a);\n              eve(\"raphael.anim.finish.\" + el.id, el, a);\n              R.is(f, \"function\") && f.call(el);\n            });\n          })(e.callback, that, e.anim);\n\n          that.attr(to);\n          animationElements.splice(l--, 1);\n          if (e.repeat > 1 && !e.next) {\n            for (key in to) if (to[has](key)) {\n              init[key] = e.totalOrigin[key];\n            }\n            e.el.attr(init);\n            runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\n          }\n\n          if (e.next && !e.stop) {\n            runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\n          }\n\n        }\n      }\n      R.svg && that && that.paper && that.paper.safari();\n      animationElements.length && requestAnimFrame(animation);\n    },\n    upto255 = function (color) {\n      return color > 255 ? 255 : color < 0 ? 0 : color;\n    };\n\n  elproto.animateWith = function (el, anim, params, ms, easing, callback) {\n    var element = this;\n    if (element.removed) {\n      callback && callback.call(element);\n      return element;\n    }\n    var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\n      x, y;\n    runAnimation(a, element, a.percents[0], null, element.attr());\n    for (var i = 0, ii = animationElements.length; i < ii; i++) {\n      if (animationElements[i].anim == anim && animationElements[i].el == el) {\n        animationElements[ii - 1].start = animationElements[i].start;\n        break;\n      }\n    }\n    return element;\n    //\n    //\n    // var a = params ? R.animation(params, ms, easing, callback) : anim,\n    //     status = element.status(anim);\n    // return this.animate(a).status(a, status * anim.ms / a.ms);\n  };\n  function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n    var cx = 3 * p1x,\n      bx = 3 * (p2x - p1x) - cx,\n      ax = 1 - cx - bx,\n      cy = 3 * p1y,\n      by = 3 * (p2y - p1y) - cy,\n      ay = 1 - cy - by;\n\n    function sampleCurveX(t) {\n      return ((ax * t + bx) * t + cx) * t;\n    }\n\n    function solve(x, epsilon) {\n      var t = solveCurveX(x, epsilon);\n      return ((ay * t + by) * t + cy) * t;\n    }\n\n    function solveCurveX(x, epsilon) {\n      var t0, t1, t2, x2, d2, i;\n      for (t2 = x, i = 0; i < 8; i++) {\n        x2 = sampleCurveX(t2) - x;\n        if (abs(x2) < epsilon) {\n          return t2;\n        }\n        d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\n        if (abs(d2) < 1e-6) {\n          break;\n        }\n        t2 = t2 - x2 / d2;\n      }\n      t0 = 0;\n      t1 = 1;\n      t2 = x;\n      if (t2 < t0) {\n        return t0;\n      }\n      if (t2 > t1) {\n        return t1;\n      }\n      while (t0 < t1) {\n        x2 = sampleCurveX(t2);\n        if (abs(x2 - x) < epsilon) {\n          return t2;\n        }\n        if (x > x2) {\n          t0 = t2;\n        } else {\n          t1 = t2;\n        }\n        t2 = (t1 - t0) / 2 + t0;\n      }\n      return t2;\n    }\n\n    return solve(t, 1 / (200 * duration));\n  }\n\n  elproto.onAnimation = function (f) {\n    f ? eve.on(\"raphael.anim.frame.\" + this.id, f) : eve.unbind(\"raphael.anim.frame.\" + this.id);\n    return this;\n  };\n  function Animation(anim, ms) {\n    var percents = [],\n      newAnim = {};\n    this.ms = ms;\n    this.times = 1;\n    if (anim) {\n      for (var attr in anim) if (anim[has](attr)) {\n        newAnim[toFloat(attr)] = anim[attr];\n        percents.push(toFloat(attr));\n      }\n      percents.sort(sortByNumber);\n    }\n    this.anim = newAnim;\n    this.top = percents[percents.length - 1];\n    this.percents = percents;\n  }\n\n  Animation.prototype.delay = function (delay) {\n    var a = new Animation(this.anim, this.ms);\n    a.times = this.times;\n    a.del = +delay || 0;\n    return a;\n  };\n\n  Animation.prototype.repeat = function (times) {\n    var a = new Animation(this.anim, this.ms);\n    a.del = this.del;\n    a.times = math.floor(mmax(times, 0)) || 1;\n    return a;\n  };\n  function runAnimation(anim, element, percent, status, totalOrigin, times) {\n    percent = toFloat(percent);\n    var params,\n      isInAnim,\n      isInAnimSet,\n      percents = [],\n      next,\n      prev,\n      timestamp,\n      ms = anim.ms,\n      from = {},\n      to = {},\n      diff = {};\n    if (status) {\n      for (i = 0, ii = animationElements.length; i < ii; i++) {\n        var e = animationElements[i];\n        if (e.el.id == element.id && e.anim == anim) {\n          if (e.percent != percent) {\n            animationElements.splice(i, 1);\n            isInAnimSet = 1;\n          } else {\n            isInAnim = e;\n          }\n          element.attr(e.totalOrigin);\n          break;\n        }\n      }\n    } else {\n      status = +to; // NaN\n    }\n    for (var i = 0, ii = anim.percents.length; i < ii; i++) {\n      if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\n        percent = anim.percents[i];\n        prev = anim.percents[i - 1] || 0;\n        ms = ms / anim.top * (percent - prev);\n        next = anim.percents[i + 1];\n        params = anim.anim[percent];\n        break;\n      } else if (status) {\n        element.attr(anim.anim[anim.percents[i]]);\n      }\n    }\n    if (!params) {\n      return;\n    }\n    if (!isInAnim) {\n      for (var attr in params) if (params[has](attr)) {\n        if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {\n          from[attr] = element.attr(attr);\n          (from[attr] == null) && (from[attr] = availableAttrs[attr]);\n          to[attr] = params[attr];\n          switch (availableAnimAttrs[attr]) {\n            case nu:\n              diff[attr] = (to[attr] - from[attr]) / ms;\n              break;\n            case \"colour\":\n              from[attr] = R.getRGB(from[attr]);\n              var toColour = R.getRGB(to[attr]);\n              diff[attr] = {\n                r: (toColour.r - from[attr].r) / ms,\n                g: (toColour.g - from[attr].g) / ms,\n                b: (toColour.b - from[attr].b) / ms\n              };\n              break;\n            case \"path\":\n              var pathes = path2curve(from[attr], to[attr]),\n                toPath = pathes[1];\n              from[attr] = pathes[0];\n              diff[attr] = [];\n              for (i = 0, ii = from[attr].length; i < ii; i++) {\n                diff[attr][i] = [0];\n                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                  diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\n                }\n              }\n              break;\n            case \"transform\":\n              var _ = element._,\n                eq = equaliseTransform(_[attr], to[attr]);\n              if (eq) {\n                from[attr] = eq.from;\n                to[attr] = eq.to;\n                diff[attr] = [];\n                diff[attr].real = true;\n                for (i = 0, ii = from[attr].length; i < ii; i++) {\n                  diff[attr][i] = [from[attr][i][0]];\n                  for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                    diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\n                  }\n                }\n              } else {\n                var m = (element.matrix || new Matrix),\n                  to2 = {\n                    _: {transform: _.transform},\n                    getBBox: function () {\n                      return element.getBBox(1);\n                    }\n                  };\n                from[attr] = [\n                  m.a,\n                  m.b,\n                  m.c,\n                  m.d,\n                  m.e,\n                  m.f\n                ];\n                extractTransform(to2, to[attr]);\n                to[attr] = to2._.transform;\n                diff[attr] = [\n                  (to2.matrix.a - m.a) / ms,\n                  (to2.matrix.b - m.b) / ms,\n                  (to2.matrix.c - m.c) / ms,\n                  (to2.matrix.d - m.d) / ms,\n                  (to2.matrix.e - m.e) / ms,\n                  (to2.matrix.f - m.f) / ms\n                ];\n                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\n                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\n                // extractTransform(to2, to[attr]);\n                // diff[attr] = [\n                //     (to2._.sx - _.sx) / ms,\n                //     (to2._.sy - _.sy) / ms,\n                //     (to2._.deg - _.deg) / ms,\n                //     (to2._.dx - _.dx) / ms,\n                //     (to2._.dy - _.dy) / ms\n                // ];\n              }\n              break;\n            case \"csv\":\n              var values = Str(params[attr])[split](separator),\n                from2 = Str(from[attr])[split](separator);\n              if (attr == \"clip-rect\") {\n                from[attr] = from2;\n                diff[attr] = [];\n                i = from2.length;\n                while (i--) {\n                  diff[attr][i] = (values[i] - from[attr][i]) / ms;\n                }\n              }\n              to[attr] = values;\n              break;\n            default:\n              values = [][concat](params[attr]);\n              from2 = [][concat](from[attr]);\n              diff[attr] = [];\n              i = element.paper.customAttributes[attr].length;\n              while (i--) {\n                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;\n              }\n              break;\n          }\n        }\n      }\n      var easing = params.easing,\n        easyeasy = R.easing_formulas[easing];\n      if (!easyeasy) {\n        easyeasy = Str(easing).match(bezierrg);\n        if (easyeasy && easyeasy.length == 5) {\n          var curve = easyeasy;\n          easyeasy = function (t) {\n            return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\n          };\n        } else {\n          easyeasy = pipe;\n        }\n      }\n      timestamp = params.start || anim.start || +new Date;\n      e = {\n        anim: anim,\n        percent: percent,\n        timestamp: timestamp,\n        start: timestamp + (anim.del || 0),\n        status: 0,\n        initstatus: status || 0,\n        stop: false,\n        ms: ms,\n        easing: easyeasy,\n        from: from,\n        diff: diff,\n        to: to,\n        el: element,\n        callback: params.callback,\n        prev: prev,\n        next: next,\n        repeat: times || anim.times,\n        origin: element.attr(),\n        totalOrigin: totalOrigin\n      };\n      animationElements.push(e);\n      if (status && !isInAnim && !isInAnimSet) {\n        e.stop = true;\n        e.start = new Date - ms * status;\n        if (animationElements.length == 1) {\n          return animation();\n        }\n      }\n      if (isInAnimSet) {\n        e.start = new Date - e.ms * status;\n      }\n      animationElements.length == 1 && requestAnimFrame(animation);\n    } else {\n      isInAnim.initstatus = status;\n      isInAnim.start = new Date - isInAnim.ms * status;\n    }\n    eve(\"raphael.anim.start.\" + element.id, element, anim);\n  }\n\n  R.animation = function (params, ms, easing, callback) {\n    if (params instanceof Animation) {\n      return params;\n    }\n    if (R.is(easing, \"function\") || !easing) {\n      callback = callback || easing || null;\n      easing = null;\n    }\n    params = Object(params);\n    ms = +ms || 0;\n    var p = {},\n      json,\n      attr;\n    for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + \"%\" != attr) {\n      json = true;\n      p[attr] = params[attr];\n    }\n    if (!json) {\n      return new Animation(params, ms);\n    } else {\n      easing && (p.easing = easing);\n      callback && (p.callback = callback);\n      return new Animation({100: p}, ms);\n    }\n  };\n\n  elproto.animate = function (params, ms, easing, callback) {\n    var element = this;\n    if (element.removed) {\n      callback && callback.call(element);\n      return element;\n    }\n    var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\n    runAnimation(anim, element, anim.percents[0], null, element.attr());\n    return element;\n  };\n\n  elproto.setTime = function (anim, value) {\n    if (anim && value != null) {\n      this.status(anim, mmin(value, anim.ms) / anim.ms);\n    }\n    return this;\n  };\n\n  elproto.status = function (anim, value) {\n    var out = [],\n      i = 0,\n      len,\n      e;\n    if (value != null) {\n      runAnimation(anim, this, -1, mmin(value, 1));\n      return this;\n    } else {\n      len = animationElements.length;\n      for (; i < len; i++) {\n        e = animationElements[i];\n        if (e.el.id == this.id && (!anim || e.anim == anim)) {\n          if (anim) {\n            return e.status;\n          }\n          out.push({\n            anim: e.anim,\n            status: e.status\n          });\n        }\n      }\n      if (anim) {\n        return 0;\n      }\n      return out;\n    }\n  };\n\n  elproto.pause = function (anim) {\n    for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n      if (eve(\"raphael.anim.pause.\" + this.id, this, animationElements[i].anim) !== false) {\n        animationElements[i].paused = true;\n      }\n    }\n    return this;\n  };\n\n  elproto.resume = function (anim) {\n    for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n      var e = animationElements[i];\n      if (eve(\"raphael.anim.resume.\" + this.id, this, e.anim) !== false) {\n        delete e.paused;\n        this.status(e.anim, e.status);\n      }\n    }\n    return this;\n  };\n\n  elproto.stop = function (anim) {\n    for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n      if (eve(\"raphael.anim.stop.\" + this.id, this, animationElements[i].anim) !== false) {\n        animationElements.splice(i--, 1);\n      }\n    }\n    return this;\n  };\n  function stopAnimation(paper) {\n    for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {\n      animationElements.splice(i--, 1);\n    }\n  }\n\n  eve.on(\"raphael.remove\", stopAnimation);\n  eve.on(\"raphael.clear\", stopAnimation);\n  elproto.toString = function () {\n    return \"Rapha\\xebl\\u2019s object\";\n  };\n\n  // Set\n  var Set = function (items) {\n      this.items = [];\n      this.length = 0;\n      this.type = \"set\";\n      if (items) {\n        for (var i = 0, ii = items.length; i < ii; i++) {\n          if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\n            this[this.items.length] = this.items[this.items.length] = items[i];\n            this.length++;\n          }\n        }\n      }\n    },\n    setproto = Set.prototype;\n\n  setproto.push = function () {\n    var item,\n      len;\n    for (var i = 0, ii = arguments.length; i < ii; i++) {\n      item = arguments[i];\n      if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\n        len = this.items.length;\n        this[len] = this.items[len] = item;\n        this.length++;\n      }\n    }\n    return this;\n  };\n\n  setproto.pop = function () {\n    this.length && delete this[this.length--];\n    return this.items.pop();\n  };\n\n  setproto.forEach = function (callback, thisArg) {\n    for (var i = 0, ii = this.items.length; i < ii; i++) {\n      if (callback.call(thisArg, this.items[i], i) === false) {\n        return this;\n      }\n    }\n    return this;\n  };\n  for (var method in elproto) if (elproto[has](method)) {\n    setproto[method] = (function (methodname) {\n      return function () {\n        var arg = arguments;\n        return this.forEach(function (el) {\n          el[methodname][apply](el, arg);\n        });\n      };\n    })(method);\n  }\n  setproto.attr = function (name, value) {\n    if (name && R.is(name, array) && R.is(name[0], \"object\")) {\n      for (var j = 0, jj = name.length; j < jj; j++) {\n        this.items[j].attr(name[j]);\n      }\n    } else {\n      for (var i = 0, ii = this.items.length; i < ii; i++) {\n        this.items[i].attr(name, value);\n      }\n    }\n    return this;\n  };\n\n  setproto.clear = function () {\n    while (this.length) {\n      this.pop();\n    }\n  };\n\n  setproto.splice = function (index, count, insertion) {\n    index = index < 0 ? mmax(this.length + index, 0) : index;\n    count = mmax(0, mmin(this.length - index, count));\n    var tail = [],\n      todel = [],\n      args = [],\n      i;\n    for (i = 2; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    for (i = 0; i < count; i++) {\n      todel.push(this[index + i]);\n    }\n    for (; i < this.length - index; i++) {\n      tail.push(this[index + i]);\n    }\n    var arglen = args.length;\n    for (i = 0; i < arglen + tail.length; i++) {\n      this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n    }\n    i = this.items.length = this.length -= count - arglen;\n    while (this[i]) {\n      delete this[i++];\n    }\n    return new Set(todel);\n  };\n\n  setproto.exclude = function (el) {\n    for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n      this.splice(i, 1);\n      return true;\n    }\n  };\n  setproto.animate = function (params, ms, easing, callback) {\n    (R.is(easing, \"function\") || !easing) && (callback = easing || null);\n    var len = this.items.length,\n      i = len,\n      item,\n      set = this,\n      collector;\n    if (!len) {\n      return this;\n    }\n    callback && (collector = function () {\n      !--len && callback.call(set);\n    });\n    easing = R.is(easing, string) ? easing : collector;\n    var anim = R.animation(params, ms, easing, collector);\n    item = this.items[--i].animate(anim);\n    while (i--) {\n      this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\n    }\n    return this;\n  };\n  setproto.insertAfter = function (el) {\n    var i = this.items.length;\n    while (i--) {\n      this.items[i].insertAfter(el);\n    }\n    return this;\n  };\n  setproto.getBBox = function () {\n    var x = [],\n      y = [],\n      x2 = [],\n      y2 = [];\n    for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n      var box = this.items[i].getBBox();\n      x.push(box.x);\n      y.push(box.y);\n      x2.push(box.x + box.width);\n      y2.push(box.y + box.height);\n    }\n    x = mmin[apply](0, x);\n    y = mmin[apply](0, y);\n    x2 = mmax[apply](0, x2);\n    y2 = mmax[apply](0, y2);\n    return {\n      x: x,\n      y: y,\n      x2: x2,\n      y2: y2,\n      width: x2 - x,\n      height: y2 - y\n    };\n  };\n  setproto.clone = function (s) {\n    s = new Set;\n    for (var i = 0, ii = this.items.length; i < ii; i++) {\n      s.push(this.items[i].clone());\n    }\n    return s;\n  };\n  setproto.toString = function () {\n    return \"Rapha\\xebl\\u2018s set\";\n  };\n\n\n  R.registerFont = function (font) {\n    if (!font.face) {\n      return font;\n    }\n    this.fonts = this.fonts || {};\n    var fontcopy = {\n        w: font.w,\n        face: {},\n        glyphs: {}\n      },\n      family = font.face[\"font-family\"];\n    for (var prop in font.face) if (font.face[has](prop)) {\n      fontcopy.face[prop] = font.face[prop];\n    }\n    if (this.fonts[family]) {\n      this.fonts[family].push(fontcopy);\n    } else {\n      this.fonts[family] = [fontcopy];\n    }\n    if (!font.svg) {\n      fontcopy.face[\"units-per-em\"] = toInt(font.face[\"units-per-em\"], 10);\n      for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {\n        var path = font.glyphs[glyph];\n        fontcopy.glyphs[glyph] = {\n          w: path.w,\n          k: {},\n          d: path.d && \"M\" + path.d.replace(/[mlcxtrv]/g, function (command) {\n            return {l: \"L\", c: \"C\", x: \"z\", t: \"m\", r: \"l\", v: \"c\"}[command] || \"M\";\n          }) + \"z\"\n        };\n        if (path.k) {\n          for (var k in path.k) if (path[has](k)) {\n            fontcopy.glyphs[glyph].k[k] = path.k[k];\n          }\n        }\n      }\n    }\n    return font;\n  };\n\n  paperproto.getFont = function (family, weight, style, stretch) {\n    stretch = stretch || \"normal\";\n    style = style || \"normal\";\n    weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;\n    if (!R.fonts) {\n      return;\n    }\n    var font = R.fonts[family];\n    if (!font) {\n      var name = new RegExp(\"(^|\\\\s)\" + family.replace(/[^\\w\\d\\s+!~.:_-]/g, E) + \"(\\\\s|$)\", \"i\");\n      for (var fontName in R.fonts) if (R.fonts[has](fontName)) {\n        if (name.test(fontName)) {\n          font = R.fonts[fontName];\n          break;\n        }\n      }\n    }\n    var thefont;\n    if (font) {\n      for (var i = 0, ii = font.length; i < ii; i++) {\n        thefont = font[i];\n        if (thefont.face[\"font-weight\"] == weight && (thefont.face[\"font-style\"] == style || !thefont.face[\"font-style\"]) && thefont.face[\"font-stretch\"] == stretch) {\n          break;\n        }\n      }\n    }\n    return thefont;\n  };\n\n  paperproto.print = function (x, y, string, font, size, origin, letter_spacing) {\n    origin = origin || \"middle\"; // baseline|middle\n    letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);\n    var letters = Str(string)[split](E),\n      shift = 0,\n      notfirst = 0,\n      path = E,\n      scale;\n    R.is(font, string) && (font = this.getFont(font));\n    if (font) {\n      scale = (size || 16) / font.face[\"units-per-em\"];\n      var bb = font.face.bbox[split](separator),\n        top = +bb[0],\n        lineHeight = bb[3] - bb[1],\n        shifty = 0,\n        height = +bb[1] + (origin == \"baseline\" ? lineHeight + (+font.face.descent) : lineHeight / 2);\n      for (var i = 0, ii = letters.length; i < ii; i++) {\n        if (letters[i] == \"\\n\") {\n          shift = 0;\n          curr = 0;\n          notfirst = 0;\n          shifty += lineHeight;\n        } else {\n          var prev = notfirst && font.glyphs[letters[i - 1]] || {},\n            curr = font.glyphs[letters[i]];\n          shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;\n          notfirst = 1;\n        }\n        if (curr && curr.d) {\n          path += R.transformPath(curr.d, [\"t\", shift * scale, shifty * scale, \"s\", scale, scale, top, height, \"t\", (x - top) / scale, (y - height) / scale]);\n        }\n      }\n    }\n    return this.path(path).attr({\n      fill: \"#000\",\n      stroke: \"none\"\n    });\n  };\n\n\n  paperproto.add = function (json) {\n    if (R.is(json, \"array\")) {\n      var res = this.set(),\n        i = 0,\n        ii = json.length,\n        j;\n      for (; i < ii; i++) {\n        j = json[i] || {};\n        elements[has](j.type) && res.push(this[j.type]().attr(j));\n      }\n    }\n    return res;\n  };\n\n\n  R.format = function (token, params) {\n    var args = R.is(params, array) ? [0][concat](params) : arguments;\n    token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {\n      return args[++i] == null ? E : args[i];\n    }));\n    return token || E;\n  };\n\n  R.fullfill = (function () {\n    var tokenRegex = /\\{([^\\}]+)\\}/g,\n      objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[('|\")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or [\"xxxxx\"] to run over object properties\n      replacer = function (all, key, obj) {\n        var res = obj;\n        key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n          name = name || quotedName;\n          if (res) {\n            if (name in res) {\n              res = res[name];\n            }\n            typeof res == \"function\" && isFunc && (res = res());\n          }\n        });\n        res = (res == null || res == obj ? all : res) + \"\";\n        return res;\n      };\n    return function (str, obj) {\n      return String(str).replace(tokenRegex, function (all, key) {\n        return replacer(all, key, obj);\n      });\n    };\n  })();\n\n  R.ninja = function () {\n    // oldRaphael.was ? (g.win.Raphael = oldRaphael.is) : delete Raphael;\n    return R;\n  };\n\n  R.st = setproto;\n  // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\n  (function (doc, loaded, f) {\n    if (doc.readyState == null && doc.addEventListener) {\n      doc.addEventListener(loaded, f = function () {\n        doc.removeEventListener(loaded, f, false);\n        doc.readyState = \"complete\";\n      }, false);\n      doc.readyState = \"loading\";\n    }\n    function isLoaded() {\n      (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve(\"raphael.DOMload\");\n    }\n\n    isLoaded();\n  })(document, \"DOMContentLoaded\");\n\n  oldRaphael.was ? (g.win.Raphael = R) : (global.Raphael = R);\n\n  eve.on(\"raphael.DOMload\", function () {\n    loaded = true;\n  });\n})();\n\n\n//  \\\\\n//  Raphal - JavaScript Vector Library                                  \\\\\n//  \\\\\n//  SVG Module                                                           \\\\\n//  \\\\\n//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\\\\n//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\\\\n//  Licensed under the MIT (http://raphaeljs.com/license.html) license.  \\\\\n//  \\\\\nwindow.Raphael.svg && function (R) {\n  var has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    toInt = parseInt,\n    math = Math,\n    mmax = math.max,\n    abs = math.abs,\n    pow = math.pow,\n    separator = /[, ]+/,\n    eve = R.eve,\n    E = \"\",\n    S = \" \";\n  var xlink = \"http://www.w3.org/1999/xlink\",\n    markers = {\n      block: \"M5,0 0,2.5 5,5z\",\n      classic: \"M5,0 0,2.5 5,5 3.5,3 3.5,2z\",\n      diamond: \"M2.5,0 5,2.5 2.5,5 0,2.5z\",\n      open: \"M6,1 1,3.5 6,6\",\n      oval: \"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z\"\n    },\n    markerCounter = {};\n  R.toString = function () {\n    return \"Your browser supports SVG.\\nYou are running Rapha\\xebl \" + this.version;\n  };\n  var $ = function (el, attr) {\n      if (attr) {\n        if (typeof el == \"string\") {\n          el = $(el);\n        }\n        for (var key in attr) if (attr[has](key)) {\n          if (key.substring(0, 6) == \"xlink:\") {\n            el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));\n          } else {\n            el.setAttribute(key, Str(attr[key]));\n          }\n        }\n      } else {\n        el = R._g.doc.createElementNS(\"http://www.w3.org/2000/svg\", el);\n        el.style && (el.style.webkitTapHighlightColor = \"rgba(0,0,0,0)\");\n      }\n      return el;\n    },\n    addGradientFill = function (element, gradient) {\n      var type = \"linear\",\n        id = element.id + gradient,\n        fx = .5, fy = .5,\n        o = element.node,\n        SVG = element.paper,\n        s = o.style,\n        el = R._g.doc.getElementById(id);\n      if (!el) {\n        gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {\n          type = \"radial\";\n          if (_fx && _fy) {\n            fx = toFloat(_fx);\n            fy = toFloat(_fy);\n            var dir = ((fy > .5) * 2 - 1);\n            pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&\n            (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&\n            fy != .5 &&\n            (fy = fy.toFixed(5) - 1e-5 * dir);\n          }\n          return E;\n        });\n        gradient = gradient.split(/\\s*\\-\\s*/);\n        if (type == \"linear\") {\n          var angle = gradient.shift();\n          angle = -toFloat(angle);\n          if (isNaN(angle)) {\n            return null;\n          }\n          var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],\n            max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\n          vector[2] *= max;\n          vector[3] *= max;\n          if (vector[2] < 0) {\n            vector[0] = -vector[2];\n            vector[2] = 0;\n          }\n          if (vector[3] < 0) {\n            vector[1] = -vector[3];\n            vector[3] = 0;\n          }\n        }\n        var dots = R._parseDots(gradient);\n        if (!dots) {\n          return null;\n        }\n        id = id.replace(/[\\(\\)\\s,\\xb0#]/g, \"_\");\n\n        if (element.gradient && id != element.gradient.id) {\n          SVG.defs.removeChild(element.gradient);\n          delete element.gradient;\n        }\n\n        if (!element.gradient) {\n          el = $(type + \"Gradient\", {id: id});\n          element.gradient = el;\n          $(el, type == \"radial\" ? {\n            fx: fx,\n            fy: fy\n          } : {\n            x1: vector[0],\n            y1: vector[1],\n            x2: vector[2],\n            y2: vector[3],\n            gradientTransform: element.matrix.invert()\n          });\n          SVG.defs.appendChild(el);\n          for (var i = 0, ii = dots.length; i < ii; i++) {\n            el.appendChild($(\"stop\", {\n              offset: dots[i].offset ? dots[i].offset : i ? \"100%\" : \"0%\",\n              \"stop-color\": dots[i].color || \"#fff\"\n            }));\n          }\n        }\n      }\n      $(o, {\n        fill: \"url(#\" + id + \")\",\n        opacity: 1,\n        \"fill-opacity\": 1\n      });\n      s.fill = E;\n      s.opacity = 1;\n      s.fillOpacity = 1;\n      return 1;\n    },\n    updatePosition = function (o) {\n      var bbox = o.getBBox(1);\n      $(o.pattern, {patternTransform: o.matrix.invert() + \" translate(\" + bbox.x + \",\" + bbox.y + \")\"});\n    },\n    addArrow = function (o, value, isEnd) {\n      if (o.type == \"path\") {\n        var values = Str(value).toLowerCase().split(\"-\"),\n          p = o.paper,\n          se = isEnd ? \"end\" : \"start\",\n          node = o.node,\n          attrs = o.attrs,\n          stroke = attrs[\"stroke-width\"],\n          i = values.length,\n          type = \"classic\",\n          from,\n          to,\n          dx,\n          refX,\n          attr,\n          w = 3,\n          h = 3,\n          t = 5;\n        while (i--) {\n          switch (values[i]) {\n            case \"block\":\n            case \"classic\":\n            case \"oval\":\n            case \"diamond\":\n            case \"open\":\n            case \"none\":\n              type = values[i];\n              break;\n            case \"wide\":\n              h = 5;\n              break;\n            case \"narrow\":\n              h = 2;\n              break;\n            case \"long\":\n              w = 5;\n              break;\n            case \"short\":\n              w = 2;\n              break;\n          }\n        }\n        if (type == \"open\") {\n          w += 2;\n          h += 2;\n          t += 2;\n          dx = 1;\n          refX = isEnd ? 4 : 1;\n          attr = {\n            fill: \"none\",\n            stroke: attrs.stroke\n          };\n        } else {\n          refX = dx = w / 2;\n          attr = {\n            fill: attrs.stroke,\n            stroke: \"none\"\n          };\n        }\n        if (o._.arrows) {\n          if (isEnd) {\n            o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\n            o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\n          } else {\n            o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\n            o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\n          }\n        } else {\n          o._.arrows = {};\n        }\n        if (type != \"none\") {\n          var pathId = \"raphael-marker-\" + type,\n            markerId = \"raphael-marker-\" + se + type + w + h;\n          if (!R._g.doc.getElementById(pathId)) {\n            p.defs.appendChild($($(\"path\"), {\n              \"stroke-linecap\": \"round\",\n              d: markers[type],\n              id: pathId\n            }));\n            markerCounter[pathId] = 1;\n          } else {\n            markerCounter[pathId]++;\n          }\n          var marker = R._g.doc.getElementById(markerId),\n            use;\n          if (!marker) {\n            marker = $($(\"marker\"), {\n              id: markerId,\n              markerHeight: h,\n              markerWidth: w,\n              orient: \"auto\",\n              refX: refX,\n              refY: h / 2\n            });\n            use = $($(\"use\"), {\n              \"xlink:href\": \"#\" + pathId,\n              transform: (isEnd ? \"rotate(180 \" + w / 2 + \" \" + h / 2 + \") \" : E) + \"scale(\" + w / t + \",\" + h / t + \")\",\n              \"stroke-width\": (1 / ((w / t + h / t) / 2)).toFixed(4)\n            });\n            marker.appendChild(use);\n            p.defs.appendChild(marker);\n            markerCounter[markerId] = 1;\n          } else {\n            markerCounter[markerId]++;\n            use = marker.getElementsByTagName(\"use\")[0];\n          }\n          $(use, attr);\n          var delta = dx * (type != \"diamond\" && type != \"oval\");\n          if (isEnd) {\n            from = o._.arrows.startdx * stroke || 0;\n            to = R.getTotalLength(attrs.path) - delta * stroke;\n          } else {\n            from = delta * stroke;\n            to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n          }\n          attr = {};\n          attr[\"marker-\" + se] = \"url(#\" + markerId + \")\";\n          if (to || from) {\n            attr.d = Raphael.getSubpath(attrs.path, from, to);\n          }\n          $(node, attr);\n          o._.arrows[se + \"Path\"] = pathId;\n          o._.arrows[se + \"Marker\"] = markerId;\n          o._.arrows[se + \"dx\"] = delta;\n          o._.arrows[se + \"Type\"] = type;\n          o._.arrows[se + \"String\"] = value;\n        } else {\n          if (isEnd) {\n            from = o._.arrows.startdx * stroke || 0;\n            to = R.getTotalLength(attrs.path) - from;\n          } else {\n            from = 0;\n            to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n          }\n          o._.arrows[se + \"Path\"] && $(node, {d: Raphael.getSubpath(attrs.path, from, to)});\n          delete o._.arrows[se + \"Path\"];\n          delete o._.arrows[se + \"Marker\"];\n          delete o._.arrows[se + \"dx\"];\n          delete o._.arrows[se + \"Type\"];\n          delete o._.arrows[se + \"String\"];\n        }\n        for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {\n          var item = R._g.doc.getElementById(attr);\n          item && item.parentNode.removeChild(item);\n        }\n      }\n    },\n    dasharray = {\n      \"\": [0],\n      \"none\": [0],\n      \"-\": [3, 1],\n      \".\": [1, 1],\n      \"-.\": [3, 1, 1, 1],\n      \"-..\": [3, 1, 1, 1, 1, 1],\n      \". \": [1, 3],\n      \"- \": [4, 3],\n      \"--\": [8, 3],\n      \"- .\": [4, 3, 1, 3],\n      \"--.\": [8, 3, 1, 3],\n      \"--..\": [8, 3, 1, 3, 1, 3]\n    },\n    addDashes = function (o, value, params) {\n      value = dasharray[Str(value).toLowerCase()];\n      if (value) {\n        var width = o.attrs[\"stroke-width\"] || \"1\",\n          butt = {round: width, square: width, butt: 0}[o.attrs[\"stroke-linecap\"] || params[\"stroke-linecap\"]] || 0,\n          dashes = [],\n          i = value.length;\n        while (i--) {\n          dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;\n        }\n        $(o.node, {\"stroke-dasharray\": dashes.join(\",\")});\n      }\n    },\n    setFillAndStroke = function (o, params) {\n      var node = o.node,\n        attrs = o.attrs,\n        vis = node.style.visibility;\n      node.style.visibility = \"hidden\";\n      for (var att in params) {\n        if (params[has](att)) {\n          if (!R._availableAttrs[has](att)) {\n            continue;\n          }\n          var value = params[att];\n          attrs[att] = value;\n          switch (att) {\n            case \"blur\":\n              o.blur(value);\n              break;\n            case \"href\":\n            case \"title\":\n            case \"target\":\n              var pn = node.parentNode;\n              if (pn.tagName.toLowerCase() != \"a\") {\n                var hl = $(\"a\");\n                pn.insertBefore(hl, node);\n                hl.appendChild(node);\n                pn = hl;\n              }\n              if (att == \"target\") {\n                pn.setAttributeNS(xlink, \"show\", value == \"blank\" ? \"new\" : value);\n              } else {\n                pn.setAttributeNS(xlink, att, value);\n              }\n              break;\n            case \"cursor\":\n              node.style.cursor = value;\n              break;\n            case \"transform\":\n              o.transform(value);\n              break;\n            case \"arrow-start\":\n              addArrow(o, value);\n              break;\n            case \"arrow-end\":\n              addArrow(o, value, 1);\n              break;\n            case \"clip-rect\":\n              var rect = Str(value).split(separator);\n              if (rect.length == 4) {\n                o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\n                var el = $(\"clipPath\"),\n                  rc = $(\"rect\");\n                el.id = R.createUUID();\n                $(rc, {\n                  x: rect[0],\n                  y: rect[1],\n                  width: rect[2],\n                  height: rect[3]\n                });\n                el.appendChild(rc);\n                o.paper.defs.appendChild(el);\n                $(node, {\"clip-path\": \"url(#\" + el.id + \")\"});\n                o.clip = rc;\n              }\n              if (!value) {\n                var path = node.getAttribute(\"clip-path\");\n                if (path) {\n                  var clip = R._g.doc.getElementById(path.replace(/(^url\\(#|\\)$)/g, E));\n                  clip && clip.parentNode.removeChild(clip);\n                  $(node, {\"clip-path\": E});\n                  delete o.clip;\n                }\n              }\n              break;\n            case \"path\":\n              if (o.type == \"path\") {\n                $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : \"M0,0\"});\n                o._.dirty = 1;\n                if (o._.arrows) {\n                  \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                  \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                }\n              }\n              break;\n            case \"width\":\n              node.setAttribute(att, value);\n              o._.dirty = 1;\n              if (attrs.fx) {\n                att = \"x\";\n                value = attrs.x;\n              } else {\n                break;\n              }\n            case \"x\":\n              if (attrs.fx) {\n                value = -attrs.x - (attrs.width || 0);\n              }\n            case \"rx\":\n              if (att == \"rx\" && o.type == \"rect\") {\n                break;\n              }\n            case \"cx\":\n              node.setAttribute(att, value);\n              o.pattern && updatePosition(o);\n              o._.dirty = 1;\n              break;\n            case \"height\":\n              node.setAttribute(att, value);\n              o._.dirty = 1;\n              if (attrs.fy) {\n                att = \"y\";\n                value = attrs.y;\n              } else {\n                break;\n              }\n            case \"y\":\n              if (attrs.fy) {\n                value = -attrs.y - (attrs.height || 0);\n              }\n            case \"ry\":\n              if (att == \"ry\" && o.type == \"rect\") {\n                break;\n              }\n            case \"cy\":\n              node.setAttribute(att, value);\n              o.pattern && updatePosition(o);\n              o._.dirty = 1;\n              break;\n            case \"r\":\n              if (o.type == \"rect\") {\n                $(node, {rx: value, ry: value});\n              } else {\n                node.setAttribute(att, value);\n              }\n              o._.dirty = 1;\n              break;\n            case \"src\":\n              if (o.type == \"image\") {\n                node.setAttributeNS(xlink, \"href\", value);\n              }\n              break;\n            case \"stroke-width\":\n              if (o._.sx != 1 || o._.sy != 1) {\n                value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\n              }\n              if (o.paper._vbSize) {\n                value *= o.paper._vbSize;\n              }\n              node.setAttribute(att, value);\n              if (attrs[\"stroke-dasharray\"]) {\n                addDashes(o, attrs[\"stroke-dasharray\"], params);\n              }\n              if (o._.arrows) {\n                \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n              }\n              break;\n            case \"stroke-dasharray\":\n              addDashes(o, value, params);\n              break;\n            case \"fill\":\n              var isURL = Str(value).match(R._ISURL);\n              if (isURL) {\n                el = $(\"pattern\");\n                var ig = $(\"image\");\n                el.id = R.createUUID();\n                $(el, {x: 0, y: 0, patternUnits: \"userSpaceOnUse\", height: 1, width: 1});\n                $(ig, {x: 0, y: 0, \"xlink:href\": isURL[1]});\n                el.appendChild(ig);\n\n                (function (el) {\n                  R._preload(isURL[1], function () {\n                    var w = this.offsetWidth,\n                      h = this.offsetHeight;\n                    $(el, {width: w, height: h});\n                    $(ig, {width: w, height: h});\n                    o.paper.safari();\n                  });\n                })(el);\n                o.paper.defs.appendChild(el);\n                $(node, {fill: \"url(#\" + el.id + \")\"});\n                o.pattern = el;\n                o.pattern && updatePosition(o);\n                break;\n              }\n              var clr = R.getRGB(value);\n              if (!clr.error) {\n                delete params.gradient;\n                delete attrs.gradient;\n                !R.is(attrs.opacity, \"undefined\") &&\n                R.is(params.opacity, \"undefined\") &&\n                $(node, {opacity: attrs.opacity});\n                !R.is(attrs[\"fill-opacity\"], \"undefined\") &&\n                R.is(params[\"fill-opacity\"], \"undefined\") &&\n                $(node, {\"fill-opacity\": attrs[\"fill-opacity\"]});\n              } else if ((o.type == \"circle\" || o.type == \"ellipse\" || Str(value).charAt() != \"r\") && addGradientFill(o, value)) {\n                if (\"opacity\" in attrs || \"fill-opacity\" in attrs) {\n                  var gradient = R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g, E));\n                  if (gradient) {\n                    var stops = gradient.getElementsByTagName(\"stop\");\n                    $(stops[stops.length - 1], {\"stop-opacity\": (\"opacity\" in attrs ? attrs.opacity : 1) * (\"fill-opacity\" in attrs ? attrs[\"fill-opacity\"] : 1)});\n                  }\n                }\n                attrs.gradient = value;\n                attrs.fill = \"none\";\n                break;\n              }\n              clr[has](\"opacity\") && $(node, {\"fill-opacity\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n            case \"stroke\":\n              clr = R.getRGB(value);\n              node.setAttribute(att, clr.hex);\n              att == \"stroke\" && clr[has](\"opacity\") && $(node, {\"stroke-opacity\": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n              if (att == \"stroke\" && o._.arrows) {\n                \"startString\" in o._.arrows && addArrow(o, o._.arrows.startString);\n                \"endString\" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n              }\n              break;\n            case \"gradient\":\n              (o.type == \"circle\" || o.type == \"ellipse\" || Str(value).charAt() != \"r\") && addGradientFill(o, value);\n              break;\n            case \"opacity\":\n              if (attrs.gradient && !attrs[has](\"stroke-opacity\")) {\n                $(node, {\"stroke-opacity\": value > 1 ? value / 100 : value});\n              }\n            // fall\n            case \"fill-opacity\":\n              if (attrs.gradient) {\n                gradient = R._g.doc.getElementById(node.getAttribute(\"fill\").replace(/^url\\(#|\\)$/g, E));\n                if (gradient) {\n                  stops = gradient.getElementsByTagName(\"stop\");\n                  $(stops[stops.length - 1], {\"stop-opacity\": value});\n                }\n                break;\n              }\n            default:\n              att == \"font-size\" && (value = toInt(value, 10) + \"px\");\n              var cssrule = att.replace(/(\\-.)/g, function (w) {\n                return w.substring(1).toUpperCase();\n              });\n              node.style[cssrule] = value;\n              o._.dirty = 1;\n              node.setAttribute(att, value);\n              break;\n          }\n        }\n      }\n\n      tuneText(o, params);\n      node.style.visibility = vis;\n    },\n    leading = 1.2,\n    tuneText = function (el, params) {\n      if (el.type != \"text\" || !(params[has](\"text\") || params[has](\"font\") || params[has](\"font-size\") || params[has](\"x\") || params[has](\"y\"))) {\n        return;\n      }\n      var a = el.attrs,\n        node = el.node,\n        fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue(\"font-size\"), 10) : 10;\n\n      if (params[has](\"text\")) {\n        a.text = params.text;\n        while (node.firstChild) {\n          node.removeChild(node.firstChild);\n        }\n        var texts = Str(params.text).split(\"\\n\"),\n          tspans = [],\n          tspan;\n        for (var i = 0, ii = texts.length; i < ii; i++) {\n          tspan = $(\"tspan\");\n          i && $(tspan, {dy: fontSize * leading, x: a.x});\n          tspan.appendChild(R._g.doc.createTextNode(texts[i]));\n          node.appendChild(tspan);\n          tspans[i] = tspan;\n        }\n      } else {\n        tspans = node.getElementsByTagName(\"tspan\");\n        for (i = 0, ii = tspans.length; i < ii; i++) if (i) {\n          $(tspans[i], {dy: fontSize * leading, x: a.x});\n        } else {\n          $(tspans[0], {dy: 0});\n        }\n      }\n      $(node, {x: a.x, y: a.y});\n      el._.dirty = 1;\n      var bb = el._getBBox(),\n        dif = a.y - (bb.y + bb.height / 2);\n      dif && R.is(dif, \"finite\") && $(tspans[0], {dy: dif});\n    },\n    Element = function (node, svg) {\n      var X = 0,\n        Y = 0;\n\n      this[0] = this.node = node;\n\n      node.raphael = true;\n\n      this.id = R._oid++;\n      node.raphaelid = this.id;\n      this.matrix = R.matrix();\n      this.realPath = null;\n\n      this.paper = svg;\n      this.attrs = this.attrs || {};\n      this._ = {\n        transform: [],\n        sx: 1,\n        sy: 1,\n        deg: 0,\n        dx: 0,\n        dy: 0,\n        dirty: 1\n      };\n      !svg.bottom && (svg.bottom = this);\n\n      this.prev = svg.top;\n      svg.top && (svg.top.next = this);\n      svg.top = this;\n\n      this.next = null;\n    },\n    elproto = R.el;\n\n  Element.prototype = elproto;\n  elproto.constructor = Element;\n\n  R._engine.path = function (pathString, SVG) {\n    var el = $(\"path\");\n    SVG.canvas && SVG.canvas.appendChild(el);\n    var p = new Element(el, SVG);\n    p.type = \"path\";\n    setFillAndStroke(p, {\n      fill: \"none\",\n      stroke: \"#000\",\n      path: pathString\n    });\n    return p;\n  };\n\n  elproto.rotate = function (deg, cx, cy) {\n    if (this.removed) {\n      return this;\n    }\n    deg = Str(deg).split(separator);\n    if (deg.length - 1) {\n      cx = toFloat(deg[1]);\n      cy = toFloat(deg[2]);\n    }\n    deg = toFloat(deg[0]);\n    (cy == null) && (cx = cy);\n    if (cx == null || cy == null) {\n      var bbox = this.getBBox(1);\n      cx = bbox.x + bbox.width / 2;\n      cy = bbox.y + bbox.height / 2;\n    }\n    this.transform(this._.transform.concat([[\"r\", deg, cx, cy]]));\n    return this;\n  };\n\n  elproto.scale = function (sx, sy, cx, cy) {\n    if (this.removed) {\n      return this;\n    }\n    sx = Str(sx).split(separator);\n    if (sx.length - 1) {\n      sy = toFloat(sx[1]);\n      cx = toFloat(sx[2]);\n      cy = toFloat(sx[3]);\n    }\n    sx = toFloat(sx[0]);\n    (sy == null) && (sy = sx);\n    (cy == null) && (cx = cy);\n    if (cx == null || cy == null) {\n      var bbox = this.getBBox(1);\n    }\n    cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n    cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n    this.transform(this._.transform.concat([[\"s\", sx, sy, cx, cy]]));\n    return this;\n  };\n\n  elproto.translate = function (dx, dy) {\n    if (this.removed) {\n      return this;\n    }\n    dx = Str(dx).split(separator);\n    if (dx.length - 1) {\n      dy = toFloat(dx[1]);\n    }\n    dx = toFloat(dx[0]) || 0;\n    dy = +dy || 0;\n    this.transform(this._.transform.concat([[\"t\", dx, dy]]));\n    return this;\n  };\n\n  elproto.transform = function (tstr) {\n    var _ = this._;\n    if (tstr == null) {\n      return _.transform;\n    }\n    R._extractTransform(this, tstr);\n\n    this.clip && $(this.clip, {transform: this.matrix.invert()});\n    this.pattern && updatePosition(this);\n    this.node && $(this.node, {transform: this.matrix});\n\n    if (_.sx != 1 || _.sy != 1) {\n      var sw = this.attrs[has](\"stroke-width\") ? this.attrs[\"stroke-width\"] : 1;\n      this.attr({\"stroke-width\": sw});\n    }\n\n    return this;\n  };\n\n  elproto.hide = function () {\n    !this.removed && this.paper.safari(this.node.style.display = \"none\");\n    return this;\n  };\n\n  elproto.show = function () {\n    !this.removed && this.paper.safari(this.node.style.display = \"\");\n    return this;\n  };\n\n  elproto.remove = function () {\n    if (this.removed || !this.node.parentNode) {\n      return;\n    }\n    var paper = this.paper;\n    paper.__set__ && paper.__set__.exclude(this);\n    eve.unbind(\"raphael.*.*.\" + this.id);\n    if (this.gradient) {\n      paper.defs.removeChild(this.gradient);\n    }\n    R._tear(this, paper);\n    if (this.node.parentNode.tagName.toLowerCase() == \"a\") {\n      this.node.parentNode.parentNode.removeChild(this.node.parentNode);\n    } else {\n      this.node.parentNode.removeChild(this.node);\n    }\n    for (var i in this) {\n      this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n    }\n    this.removed = true;\n  };\n  elproto._getBBox = function () {\n    if (this.node.style.display == \"none\") {\n      this.show();\n      var hide = true;\n    }\n    var bbox = {};\n    try {\n      bbox = this.node.getBBox();\n    } catch (e) {\n      // Firefox 3.0.x plays badly here\n    } finally {\n      bbox = bbox || {};\n    }\n    hide && this.hide();\n    return bbox;\n  };\n\n  elproto.attr = function (name, value) {\n    if (this.removed) {\n      return this;\n    }\n    if (name == null) {\n      var res = {};\n      for (var a in this.attrs) if (this.attrs[has](a)) {\n        res[a] = this.attrs[a];\n      }\n      res.gradient && res.fill == \"none\" && (res.fill = res.gradient) && delete res.gradient;\n      res.transform = this._.transform;\n      return res;\n    }\n    if (value == null && R.is(name, \"string\")) {\n      if (name == \"fill\" && this.attrs.fill == \"none\" && this.attrs.gradient) {\n        return this.attrs.gradient;\n      }\n      if (name == \"transform\") {\n        return this._.transform;\n      }\n      var names = name.split(separator),\n        out = {};\n      for (var i = 0, ii = names.length; i < ii; i++) {\n        name = names[i];\n        if (name in this.attrs) {\n          out[name] = this.attrs[name];\n        } else if (R.is(this.paper.customAttributes[name], \"function\")) {\n          out[name] = this.paper.customAttributes[name].def;\n        } else {\n          out[name] = R._availableAttrs[name];\n        }\n      }\n      return ii - 1 ? out : out[names[0]];\n    }\n    if (value == null && R.is(name, \"array\")) {\n      out = {};\n      for (i = 0, ii = name.length; i < ii; i++) {\n        out[name[i]] = this.attr(name[i]);\n      }\n      return out;\n    }\n    if (value != null) {\n      var params = {};\n      params[name] = value;\n    } else if (name != null && R.is(name, \"object\")) {\n      params = name;\n    }\n    for (var key in params) {\n      eve(\"raphael.attr.\" + key + \".\" + this.id, this, params[key]);\n    }\n    for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \"function\")) {\n      var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n      this.attrs[key] = params[key];\n      for (var subkey in par) if (par[has](subkey)) {\n        params[subkey] = par[subkey];\n      }\n    }\n    setFillAndStroke(this, params);\n    return this;\n  };\n\n  elproto.toFront = function () {\n    if (this.removed) {\n      return this;\n    }\n    if (this.node.parentNode.tagName.toLowerCase() == \"a\") {\n      this.node.parentNode.parentNode.appendChild(this.node.parentNode);\n    } else {\n      this.node.parentNode.appendChild(this.node);\n    }\n    var svg = this.paper;\n    svg.top != this && R._tofront(this, svg);\n    return this;\n  };\n\n  elproto.toBack = function () {\n    if (this.removed) {\n      return this;\n    }\n    var parent = this.node.parentNode;\n    if (parent.tagName.toLowerCase() == \"a\") {\n      parent.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild);\n    } else if (parent.firstChild != this.node) {\n      parent.insertBefore(this.node, this.node.parentNode.firstChild);\n    }\n    R._toback(this, this.paper);\n    var svg = this.paper;\n    return this;\n  };\n\n  elproto.insertAfter = function (element) {\n    if (this.removed) {\n      return this;\n    }\n    var node = element.node || element[element.length - 1].node;\n    if (node.nextSibling) {\n      node.parentNode.insertBefore(this.node, node.nextSibling);\n    } else {\n      node.parentNode.appendChild(this.node);\n    }\n    R._insertafter(this, element, this.paper);\n    return this;\n  };\n\n  elproto.insertBefore = function (element) {\n    if (this.removed) {\n      return this;\n    }\n    var node = element.node || element[0].node;\n    node.parentNode.insertBefore(this.node, node);\n    R._insertbefore(this, element, this.paper);\n    return this;\n  };\n  elproto.blur = function (size) {\n    // Experimental. No Safari support. Use it on your own risk.\n    var t = this;\n    if (+size !== 0) {\n      var fltr = $(\"filter\"),\n        blur = $(\"feGaussianBlur\");\n      t.attrs.blur = size;\n      fltr.id = R.createUUID();\n      $(blur, {stdDeviation: +size || 1.5});\n      fltr.appendChild(blur);\n      t.paper.defs.appendChild(fltr);\n      t._blur = fltr;\n      $(t.node, {filter: \"url(#\" + fltr.id + \")\"});\n    } else {\n      if (t._blur) {\n        t._blur.parentNode.removeChild(t._blur);\n        delete t._blur;\n        delete t.attrs.blur;\n      }\n      t.node.removeAttribute(\"filter\");\n    }\n  };\n  R._engine.circle = function (svg, x, y, r) {\n    var el = $(\"circle\");\n    svg.canvas && svg.canvas.appendChild(el);\n    var res = new Element(el, svg);\n    res.attrs = {cx: x, cy: y, r: r, fill: \"none\", stroke: \"#000\"};\n    res.type = \"circle\";\n    $(el, res.attrs);\n    return res;\n  };\n  R._engine.rect = function (svg, x, y, w, h, r) {\n    var el = $(\"rect\");\n    svg.canvas && svg.canvas.appendChild(el);\n    var res = new Element(el, svg);\n    res.attrs = {x: x, y: y, width: w, height: h, r: r || 0, rx: r || 0, ry: r || 0, fill: \"none\", stroke: \"#000\"};\n    res.type = \"rect\";\n    $(el, res.attrs);\n    return res;\n  };\n  R._engine.ellipse = function (svg, x, y, rx, ry) {\n    var el = $(\"ellipse\");\n    svg.canvas && svg.canvas.appendChild(el);\n    var res = new Element(el, svg);\n    res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: \"none\", stroke: \"#000\"};\n    res.type = \"ellipse\";\n    $(el, res.attrs);\n    return res;\n  };\n  R._engine.image = function (svg, src, x, y, w, h) {\n    var el = $(\"image\");\n    $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: \"none\"});\n    el.setAttributeNS(xlink, \"href\", src);\n    svg.canvas && svg.canvas.appendChild(el);\n    var res = new Element(el, svg);\n    res.attrs = {x: x, y: y, width: w, height: h, src: src};\n    res.type = \"image\";\n    return res;\n  };\n  R._engine.text = function (svg, x, y, text) {\n    var el = $(\"text\");\n    svg.canvas && svg.canvas.appendChild(el);\n    var res = new Element(el, svg);\n    res.attrs = {\n      x: x,\n      y: y,\n      \"text-anchor\": \"middle\",\n      text: text,\n      font: R._availableAttrs.font,\n      stroke: \"none\",\n      fill: \"#000\"\n    };\n    res.type = \"text\";\n    setFillAndStroke(res, res.attrs);\n    return res;\n  };\n  R._engine.setSize = function (width, height) {\n    this.width = width || this.width;\n    this.height = height || this.height;\n    this.canvas.setAttribute(\"width\", this.width);\n    this.canvas.setAttribute(\"height\", this.height);\n    if (this._viewBox) {\n      this.setViewBox.apply(this, this._viewBox);\n    }\n    return this;\n  };\n  R._engine.create = function () {\n    var con = R._getContainer.apply(0, arguments),\n      container = con && con.container,\n      x = con.x,\n      y = con.y,\n      width = con.width,\n      height = con.height;\n    if (!container) {\n      throw new Error(\"SVG container not found.\");\n    }\n    var cnvs = $(\"svg\"),\n      css = \"overflow:hidden;\",\n      isFloating;\n    x = x || 0;\n    y = y || 0;\n    width = width || 512;\n    height = height || 342;\n    $(cnvs, {\n      height: height,\n      version: 1.1,\n      width: width,\n      xmlns: \"http://www.w3.org/2000/svg\"\n    });\n    if (container == 1) {\n      cnvs.style.cssText = css + \"position:absolute;left:\" + x + \"px;top:\" + y + \"px\";\n      R._g.doc.body.appendChild(cnvs);\n      isFloating = 1;\n    } else {\n      cnvs.style.cssText = css + \"position:relative\";\n      if (container.firstChild) {\n        container.insertBefore(cnvs, container.firstChild);\n      } else {\n        container.appendChild(cnvs);\n      }\n    }\n    container = new R._Paper;\n    container.width = width;\n    container.height = height;\n    container.canvas = cnvs;\n    container.clear();\n    container._left = container._top = 0;\n    isFloating && (container.renderfix = function () {\n    });\n    container.renderfix();\n    return container;\n  };\n  R._engine.setViewBox = function (x, y, w, h, fit) {\n    eve(\"raphael.setViewBox\", this, this._viewBox, [x, y, w, h, fit]);\n    var size = mmax(w / this.width, h / this.height),\n      top = this.top,\n      aspectRatio = fit ? \"meet\" : \"xMinYMin\",\n      vb,\n      sw;\n    if (x == null) {\n      if (this._vbSize) {\n        size = 1;\n      }\n      delete this._vbSize;\n      vb = \"0 0 \" + this.width + S + this.height;\n    } else {\n      this._vbSize = size;\n      vb = x + S + y + S + w + S + h;\n    }\n    $(this.canvas, {\n      viewBox: vb,\n      preserveAspectRatio: aspectRatio\n    });\n    while (size && top) {\n      sw = \"stroke-width\" in top.attrs ? top.attrs[\"stroke-width\"] : 1;\n      top.attr({\"stroke-width\": sw});\n      top._.dirty = 1;\n      top._.dirtyT = 1;\n      top = top.prev;\n    }\n    this._viewBox = [x, y, w, h, !!fit];\n    return this;\n  };\n\n  R.prototype.renderfix = function () {\n    var cnvs = this.canvas,\n      s = cnvs.style,\n      pos;\n    try {\n      pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\n    } catch (e) {\n      pos = cnvs.createSVGMatrix();\n    }\n    var left = -pos.e % 1,\n      top = -pos.f % 1;\n    if (left || top) {\n      if (left) {\n        this._left = (this._left + left) % 1;\n        s.left = this._left + \"px\";\n      }\n      if (top) {\n        this._top = (this._top + top) % 1;\n        s.top = this._top + \"px\";\n      }\n    }\n  };\n\n  R.prototype.clear = function () {\n    R.eve(\"raphael.clear\", this);\n    var c = this.canvas;\n    while (c.firstChild) {\n      c.removeChild(c.firstChild);\n    }\n    this.bottom = this.top = null;\n    (this.desc = $(\"desc\")).appendChild(R._g.doc.createTextNode(\"Created with Rapha\\xebl \" + R.version));\n    c.appendChild(this.desc);\n    c.appendChild(this.defs = $(\"defs\"));\n  };\n\n  R.prototype.remove = function () {\n    eve(\"raphael.remove\", this);\n    this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\n    for (var i in this) {\n      this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n    }\n  };\n  var setproto = R.st;\n  for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n    setproto[method] = (function (methodname) {\n      return function () {\n        var arg = arguments;\n        return this.forEach(function (el) {\n          el[methodname].apply(el, arg);\n        });\n      };\n    })(method);\n  }\n}(window.Raphael);\n\n//  \\\\\n//  Raphal - JavaScript Vector Library                                  \\\\\n//  \\\\\n//  VML Module                                                           \\\\\n//  \\\\\n//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\\\\n//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\\\\n//  Licensed under the MIT (http://raphaeljs.com/license.html) license.  \\\\\n//  \\\\\nwindow.Raphael.vml && function (R) {\n  var has = \"hasOwnProperty\",\n    Str = String,\n    toFloat = parseFloat,\n    math = Math,\n    round = math.round,\n    mmax = math.max,\n    mmin = math.min,\n    abs = math.abs,\n    fillString = \"fill\",\n    separator = /[, ]+/,\n    eve = R.eve,\n    ms = \" progid:DXImageTransform.Microsoft\",\n    S = \" \",\n    E = \"\",\n    map = {M: \"m\", L: \"l\", C: \"c\", Z: \"x\", m: \"t\", l: \"r\", c: \"v\", z: \"x\"},\n    bites = /([clmz]),?([^clmz]*)/gi,\n    blurregexp = / progid:\\S+Blur\\([^\\)]+\\)/g,\n    val = /-?[^,\\s-]+/g,\n    cssDot = \"position:absolute;left:0;top:0;width:1px;height:1px\",\n    zoom = 21600,\n    pathTypes = {path: 1, rect: 1, image: 1},\n    ovalTypes = {circle: 1, ellipse: 1},\n    path2vml = function (path) {\n      var total = /[ahqstv]/ig,\n        command = R._pathToAbsolute;\n      Str(path).match(total) && (command = R._path2curve);\n      total = /[clmz]/g;\n      if (command == R._pathToAbsolute && !Str(path).match(total)) {\n        var res = Str(path).replace(bites, function (all, command, args) {\n          var vals = [],\n            isMove = command.toLowerCase() == \"m\",\n            res = map[command];\n          args.replace(val, function (value) {\n            if (isMove && vals.length == 2) {\n              res += vals + map[command == \"m\" ? \"l\" : \"L\"];\n              vals = [];\n            }\n            vals.push(round(value * zoom));\n          });\n          return res + vals;\n        });\n        return res;\n      }\n      var pa = command(path), p, r;\n      res = [];\n      for (var i = 0, ii = pa.length; i < ii; i++) {\n        p = pa[i];\n        r = pa[i][0].toLowerCase();\n        r == \"z\" && (r = \"x\");\n        for (var j = 1, jj = p.length; j < jj; j++) {\n          r += round(p[j] * zoom) + (j != jj - 1 ? \",\" : E);\n        }\n        res.push(r);\n      }\n      return res.join(S);\n    },\n    compensation = function (deg, dx, dy) {\n      var m = R.matrix();\n      m.rotate(-deg, .5, .5);\n      return {\n        dx: m.x(dx, dy),\n        dy: m.y(dx, dy)\n      };\n    },\n    setCoords = function (p, sx, sy, dx, dy, deg) {\n      var _ = p._,\n        m = p.matrix,\n        fillpos = _.fillpos,\n        o = p.node,\n        s = o.style,\n        y = 1,\n        flip = \"\",\n        dxdy,\n        kx = zoom / sx,\n        ky = zoom / sy;\n      s.visibility = \"hidden\";\n      if (!sx || !sy) {\n        return;\n      }\n      o.coordsize = abs(kx) + S + abs(ky);\n      s.rotation = deg * (sx * sy < 0 ? -1 : 1);\n      if (deg) {\n        var c = compensation(deg, dx, dy);\n        dx = c.dx;\n        dy = c.dy;\n      }\n      sx < 0 && (flip += \"x\");\n      sy < 0 && (flip += \" y\") && (y = -1);\n      s.flip = flip;\n      o.coordorigin = (dx * -kx) + S + (dy * -ky);\n      if (fillpos || _.fillsize) {\n        var fill = o.getElementsByTagName(fillString);\n        fill = fill && fill[0];\n        o.removeChild(fill);\n        if (fillpos) {\n          c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\n          fill.position = c.dx * y + S + c.dy * y;\n        }\n        if (_.fillsize) {\n          fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\n        }\n        o.appendChild(fill);\n      }\n      s.visibility = \"visible\";\n    };\n  R.toString = function () {\n    return \"Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xebl \" + this.version;\n  };\n  var addArrow = function (o, value, isEnd) {\n      var values = Str(value).toLowerCase().split(\"-\"),\n        se = isEnd ? \"end\" : \"start\",\n        i = values.length,\n        type = \"classic\",\n        w = \"medium\",\n        h = \"medium\";\n      while (i--) {\n        switch (values[i]) {\n          case \"block\":\n          case \"classic\":\n          case \"oval\":\n          case \"diamond\":\n          case \"open\":\n          case \"none\":\n            type = values[i];\n            break;\n          case \"wide\":\n          case \"narrow\":\n            h = values[i];\n            break;\n          case \"long\":\n          case \"short\":\n            w = values[i];\n            break;\n        }\n      }\n      var stroke = o.node.getElementsByTagName(\"stroke\")[0];\n      stroke[se + \"arrow\"] = type;\n      stroke[se + \"arrowlength\"] = w;\n      stroke[se + \"arrowwidth\"] = h;\n    },\n    setFillAndStroke = function (o, params) {\n      // o.paper.canvas.style.display = \"none\";\n      o.attrs = o.attrs || {};\n      var node = o.node,\n        a = o.attrs,\n        s = node.style,\n        xy,\n        newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\n        isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\n        res = o;\n\n\n      for (var par in params) if (params[has](par)) {\n        a[par] = params[par];\n      }\n      if (newpath) {\n        a.path = R._getPath[o.type](o);\n        o._.dirty = 1;\n      }\n      params.href && (node.href = params.href);\n      params.title && (node.title = params.title);\n      params.target && (node.target = params.target);\n      params.cursor && (s.cursor = params.cursor);\n      \"blur\" in params && o.blur(params.blur);\n      if (params.path && o.type == \"path\" || newpath) {\n        node.path = path2vml(~Str(a.path).toLowerCase().indexOf(\"r\") ? R._pathToAbsolute(a.path) : a.path);\n        if (o.type == \"image\") {\n          o._.fillpos = [a.x, a.y];\n          o._.fillsize = [a.width, a.height];\n          setCoords(o, 1, 1, 0, 0, 0);\n        }\n      }\n      \"transform\" in params && o.transform(params.transform);\n      if (isOval) {\n        var cx = +a.cx,\n          cy = +a.cy,\n          rx = +a.rx || +a.r || 0,\n          ry = +a.ry || +a.r || 0;\n        node.path = R.format(\"ar{0},{1},{2},{3},{4},{1},{4},{1}x\", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\n      }\n      if (\"clip-rect\" in params) {\n        var rect = Str(params[\"clip-rect\"]).split(separator);\n        if (rect.length == 4) {\n          rect[2] = +rect[2] + (+rect[0]);\n          rect[3] = +rect[3] + (+rect[1]);\n          var div = node.clipRect || R._g.doc.createElement(\"div\"),\n            dstyle = div.style;\n          dstyle.clip = R.format(\"rect({1}px {2}px {3}px {0}px)\", rect);\n          if (!node.clipRect) {\n            dstyle.position = \"absolute\";\n            dstyle.top = 0;\n            dstyle.left = 0;\n            dstyle.width = o.paper.width + \"px\";\n            dstyle.height = o.paper.height + \"px\";\n            node.parentNode.insertBefore(div, node);\n            div.appendChild(node);\n            node.clipRect = div;\n          }\n        }\n        if (!params[\"clip-rect\"]) {\n          node.clipRect && (node.clipRect.style.clip = \"auto\");\n        }\n      }\n      if (o.textpath) {\n        var textpathStyle = o.textpath.style;\n        params.font && (textpathStyle.font = params.font);\n        params[\"font-family\"] && (textpathStyle.fontFamily = '\"' + params[\"font-family\"].split(\",\")[0].replace(/^['\"]+|['\"]+$/g, E) + '\"');\n        params[\"font-size\"] && (textpathStyle.fontSize = params[\"font-size\"]);\n        params[\"font-weight\"] && (textpathStyle.fontWeight = params[\"font-weight\"]);\n        params[\"font-style\"] && (textpathStyle.fontStyle = params[\"font-style\"]);\n      }\n      if (\"arrow-start\" in params) {\n        addArrow(res, params[\"arrow-start\"]);\n      }\n      if (\"arrow-end\" in params) {\n        addArrow(res, params[\"arrow-end\"], 1);\n      }\n      if (params.opacity != null ||\n        params[\"stroke-width\"] != null ||\n        params.fill != null ||\n        params.src != null ||\n        params.stroke != null ||\n        params[\"stroke-width\"] != null ||\n        params[\"stroke-opacity\"] != null ||\n        params[\"fill-opacity\"] != null ||\n        params[\"stroke-dasharray\"] != null ||\n        params[\"stroke-miterlimit\"] != null ||\n        params[\"stroke-linejoin\"] != null ||\n        params[\"stroke-linecap\"] != null) {\n        var fill = node.getElementsByTagName(fillString),\n          newfill = false;\n        fill = fill && fill[0];\n        !fill && (newfill = fill = createNode(fillString));\n        if (o.type == \"image\" && params.src) {\n          fill.src = params.src;\n        }\n        params.fill && (fill.on = true);\n        if (fill.on == null || params.fill == \"none\" || params.fill === null) {\n          fill.on = false;\n        }\n        if (fill.on && params.fill) {\n          var isURL = Str(params.fill).match(R._ISURL);\n          if (isURL) {\n            fill.parentNode == node && node.removeChild(fill);\n            fill.rotate = true;\n            fill.src = isURL[1];\n            fill.type = \"tile\";\n            var bbox = o.getBBox(1);\n            fill.position = bbox.x + S + bbox.y;\n            o._.fillpos = [bbox.x, bbox.y];\n\n            R._preload(isURL[1], function () {\n              o._.fillsize = [this.offsetWidth, this.offsetHeight];\n            });\n          } else {\n            fill.color = R.getRGB(params.fill).hex;\n            fill.src = E;\n            fill.type = \"solid\";\n            if (R.getRGB(params.fill).error && (res.type in {\n                circle: 1,\n                ellipse: 1\n              } || Str(params.fill).charAt() != \"r\") && addGradientFill(res, params.fill, fill)) {\n              a.fill = \"none\";\n              a.gradient = params.fill;\n              fill.rotate = false;\n            }\n          }\n        }\n        if (\"fill-opacity\" in params || \"opacity\" in params) {\n          var opacity = ((+a[\"fill-opacity\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);\n          opacity = mmin(mmax(opacity, 0), 1);\n          fill.opacity = opacity;\n          if (fill.src) {\n            fill.color = \"none\";\n          }\n        }\n        node.appendChild(fill);\n        var stroke = (node.getElementsByTagName(\"stroke\") && node.getElementsByTagName(\"stroke\")[0]),\n          newstroke = false;\n        !stroke && (newstroke = stroke = createNode(\"stroke\"));\n        if ((params.stroke && params.stroke != \"none\") ||\n          params[\"stroke-width\"] ||\n          params[\"stroke-opacity\"] != null ||\n          params[\"stroke-dasharray\"] ||\n          params[\"stroke-miterlimit\"] ||\n          params[\"stroke-linejoin\"] ||\n          params[\"stroke-linecap\"]) {\n          stroke.on = true;\n        }\n        (params.stroke == \"none\" || params.stroke === null || stroke.on == null || params.stroke == 0 || params[\"stroke-width\"] == 0) && (stroke.on = false);\n        var strokeColor = R.getRGB(params.stroke);\n        stroke.on && params.stroke && (stroke.color = strokeColor.hex);\n        opacity = ((+a[\"stroke-opacity\"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);\n        var width = (toFloat(params[\"stroke-width\"]) || 1) * .75;\n        opacity = mmin(mmax(opacity, 0), 1);\n        params[\"stroke-width\"] == null && (width = a[\"stroke-width\"]);\n        params[\"stroke-width\"] && (stroke.weight = width);\n        width && width < 1 && (opacity *= width) && (stroke.weight = 1);\n        stroke.opacity = opacity;\n\n        params[\"stroke-linejoin\"] && (stroke.joinstyle = params[\"stroke-linejoin\"] || \"miter\");\n        stroke.miterlimit = params[\"stroke-miterlimit\"] || 8;\n        params[\"stroke-linecap\"] && (stroke.endcap = params[\"stroke-linecap\"] == \"butt\" ? \"flat\" : params[\"stroke-linecap\"] == \"square\" ? \"square\" : \"round\");\n        if (params[\"stroke-dasharray\"]) {\n          var dasharray = {\n            \"-\": \"shortdash\",\n            \".\": \"shortdot\",\n            \"-.\": \"shortdashdot\",\n            \"-..\": \"shortdashdotdot\",\n            \". \": \"dot\",\n            \"- \": \"dash\",\n            \"--\": \"longdash\",\n            \"- .\": \"dashdot\",\n            \"--.\": \"longdashdot\",\n            \"--..\": \"longdashdotdot\"\n          };\n          stroke.dashstyle = dasharray[has](params[\"stroke-dasharray\"]) ? dasharray[params[\"stroke-dasharray\"]] : E;\n        }\n        newstroke && node.appendChild(stroke);\n      }\n      if (res.type == \"text\") {\n        res.paper.canvas.style.display = E;\n        var span = res.paper.span,\n          m = 100,\n          fontSize = a.font && a.font.match(/\\d+(?:\\.\\d*)?(?=px)/);\n        s = span.style;\n        a.font && (s.font = a.font);\n        a[\"font-family\"] && (s.fontFamily = a[\"font-family\"]);\n        a[\"font-weight\"] && (s.fontWeight = a[\"font-weight\"]);\n        a[\"font-style\"] && (s.fontStyle = a[\"font-style\"]);\n        fontSize = toFloat(a[\"font-size\"] || fontSize && fontSize[0]) || 10;\n        s.fontSize = fontSize * m + \"px\";\n        res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, \"&#60;\").replace(/&/g, \"&#38;\").replace(/\\n/g, \"<br>\"));\n        var brect = span.getBoundingClientRect();\n        res.W = a.w = (brect.right - brect.left) / m;\n        res.H = a.h = (brect.bottom - brect.top) / m;\n        // res.paper.canvas.style.display = \"none\";\n        res.X = a.x;\n        res.Y = a.y + res.H / 2;\n\n        (\"x\" in params || \"y\" in params) && (res.path.v = R.format(\"m{0},{1}l{2},{1}\", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));\n        var dirtyattrs = [\"x\", \"y\", \"text\", \"font\", \"font-family\", \"font-weight\", \"font-style\", \"font-size\"];\n        for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {\n          res._.dirty = 1;\n          break;\n        }\n\n        // text-anchor emulation\n        switch (a[\"text-anchor\"]) {\n          case \"start\":\n            res.textpath.style[\"v-text-align\"] = \"left\";\n            res.bbx = res.W / 2;\n            break;\n          case \"end\":\n            res.textpath.style[\"v-text-align\"] = \"right\";\n            res.bbx = -res.W / 2;\n            break;\n          default:\n            res.textpath.style[\"v-text-align\"] = \"center\";\n            res.bbx = 0;\n            break;\n        }\n        res.textpath.style[\"v-text-kern\"] = true;\n      }\n      // res.paper.canvas.style.display = E;\n    },\n    addGradientFill = function (o, gradient, fill) {\n      o.attrs = o.attrs || {};\n      var attrs = o.attrs,\n        pow = Math.pow,\n        opacity,\n        oindex,\n        type = \"linear\",\n        fxfy = \".5 .5\";\n      o.attrs.gradient = gradient;\n      gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {\n        type = \"radial\";\n        if (fx && fy) {\n          fx = toFloat(fx);\n          fy = toFloat(fy);\n          pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\n          fxfy = fx + S + fy;\n        }\n        return E;\n      });\n      gradient = gradient.split(/\\s*\\-\\s*/);\n      if (type == \"linear\") {\n        var angle = gradient.shift();\n        angle = -toFloat(angle);\n        if (isNaN(angle)) {\n          return null;\n        }\n      }\n      var dots = R._parseDots(gradient);\n      if (!dots) {\n        return null;\n      }\n      o = o.shape || o.node;\n      if (dots.length) {\n        o.removeChild(fill);\n        fill.on = true;\n        fill.method = \"none\";\n        fill.color = dots[0].color;\n        fill.color2 = dots[dots.length - 1].color;\n        var clrs = [];\n        for (var i = 0, ii = dots.length; i < ii; i++) {\n          dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\n        }\n        fill.colors = clrs.length ? clrs.join() : \"0% \" + fill.color;\n        if (type == \"radial\") {\n          fill.type = \"gradientTitle\";\n          fill.focus = \"100%\";\n          fill.focussize = \"0 0\";\n          fill.focusposition = fxfy;\n          fill.angle = 0;\n        } else {\n          // fill.rotate= true;\n          fill.type = \"gradient\";\n          fill.angle = (270 - angle) % 360;\n        }\n        o.appendChild(fill);\n      }\n      return 1;\n    },\n    Element = function (node, vml) {\n      this[0] = this.node = node;\n      node.raphael = true;\n      this.id = R._oid++;\n      node.raphaelid = this.id;\n      this.X = 0;\n      this.Y = 0;\n      this.attrs = {};\n      this.paper = vml;\n      this.matrix = R.matrix();\n      this._ = {\n        transform: [],\n        sx: 1,\n        sy: 1,\n        dx: 0,\n        dy: 0,\n        deg: 0,\n        dirty: 1,\n        dirtyT: 1\n      };\n      !vml.bottom && (vml.bottom = this);\n      this.prev = vml.top;\n      vml.top && (vml.top.next = this);\n      vml.top = this;\n      this.next = null;\n    };\n  var elproto = R.el;\n\n  Element.prototype = elproto;\n  elproto.constructor = Element;\n  elproto.transform = function (tstr) {\n    if (tstr == null) {\n      return this._.transform;\n    }\n    var vbs = this.paper._viewBoxShift,\n      vbt = vbs ? \"s\" + [vbs.scale, vbs.scale] + \"-1-1t\" + [vbs.dx, vbs.dy] : E,\n      oldt;\n    if (vbs) {\n      oldt = tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, this._.transform || E);\n    }\n    R._extractTransform(this, vbt + tstr);\n    var matrix = this.matrix.clone(),\n      skew = this.skew,\n      o = this.node,\n      split,\n      isGrad = ~Str(this.attrs.fill).indexOf(\"-\"),\n      isPatt = !Str(this.attrs.fill).indexOf(\"url(\");\n    matrix.translate(-.5, -.5);\n    if (isPatt || isGrad || this.type == \"image\") {\n      skew.matrix = \"1 0 0 1\";\n      skew.offset = \"0 0\";\n      split = matrix.split();\n      if ((isGrad && split.noRotation) || !split.isSimple) {\n        o.style.filter = matrix.toFilter();\n        var bb = this.getBBox(),\n          bbt = this.getBBox(1),\n          dx = bb.x - bbt.x,\n          dy = bb.y - bbt.y;\n        o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\n        setCoords(this, 1, 1, dx, dy, 0);\n      } else {\n        o.style.filter = E;\n        setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\n      }\n    } else {\n      o.style.filter = E;\n      skew.matrix = Str(matrix);\n      skew.offset = matrix.offset();\n    }\n    oldt && (this._.transform = oldt);\n    return this;\n  };\n  elproto.rotate = function (deg, cx, cy) {\n    if (this.removed) {\n      return this;\n    }\n    if (deg == null) {\n      return;\n    }\n    deg = Str(deg).split(separator);\n    if (deg.length - 1) {\n      cx = toFloat(deg[1]);\n      cy = toFloat(deg[2]);\n    }\n    deg = toFloat(deg[0]);\n    (cy == null) && (cx = cy);\n    if (cx == null || cy == null) {\n      var bbox = this.getBBox(1);\n      cx = bbox.x + bbox.width / 2;\n      cy = bbox.y + bbox.height / 2;\n    }\n    this._.dirtyT = 1;\n    this.transform(this._.transform.concat([[\"r\", deg, cx, cy]]));\n    return this;\n  };\n  elproto.translate = function (dx, dy) {\n    if (this.removed) {\n      return this;\n    }\n    dx = Str(dx).split(separator);\n    if (dx.length - 1) {\n      dy = toFloat(dx[1]);\n    }\n    dx = toFloat(dx[0]) || 0;\n    dy = +dy || 0;\n    if (this._.bbox) {\n      this._.bbox.x += dx;\n      this._.bbox.y += dy;\n    }\n    this.transform(this._.transform.concat([[\"t\", dx, dy]]));\n    return this;\n  };\n  elproto.scale = function (sx, sy, cx, cy) {\n    if (this.removed) {\n      return this;\n    }\n    sx = Str(sx).split(separator);\n    if (sx.length - 1) {\n      sy = toFloat(sx[1]);\n      cx = toFloat(sx[2]);\n      cy = toFloat(sx[3]);\n      isNaN(cx) && (cx = null);\n      isNaN(cy) && (cy = null);\n    }\n    sx = toFloat(sx[0]);\n    (sy == null) && (sy = sx);\n    (cy == null) && (cx = cy);\n    if (cx == null || cy == null) {\n      var bbox = this.getBBox(1);\n    }\n    cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n    cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n\n    this.transform(this._.transform.concat([[\"s\", sx, sy, cx, cy]]));\n    this._.dirtyT = 1;\n    return this;\n  };\n  elproto.hide = function () {\n    !this.removed && (this.node.style.display = \"none\");\n    return this;\n  };\n  elproto.show = function () {\n    !this.removed && (this.node.style.display = E);\n    return this;\n  };\n  elproto._getBBox = function () {\n    if (this.removed) {\n      return {};\n    }\n    return {\n      x: this.X + (this.bbx || 0) - this.W / 2,\n      y: this.Y - this.H,\n      width: this.W,\n      height: this.H\n    };\n  };\n  elproto.remove = function () {\n    if (this.removed || !this.node.parentNode) {\n      return;\n    }\n    this.paper.__set__ && this.paper.__set__.exclude(this);\n    R.eve.unbind(\"raphael.*.*.\" + this.id);\n    R._tear(this, this.paper);\n    this.node.parentNode.removeChild(this.node);\n    this.shape && this.shape.parentNode.removeChild(this.shape);\n    for (var i in this) {\n      this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n    }\n    this.removed = true;\n  };\n  elproto.attr = function (name, value) {\n    if (this.removed) {\n      return this;\n    }\n    if (name == null) {\n      var res = {};\n      for (var a in this.attrs) if (this.attrs[has](a)) {\n        res[a] = this.attrs[a];\n      }\n      res.gradient && res.fill == \"none\" && (res.fill = res.gradient) && delete res.gradient;\n      res.transform = this._.transform;\n      return res;\n    }\n    if (value == null && R.is(name, \"string\")) {\n      if (name == fillString && this.attrs.fill == \"none\" && this.attrs.gradient) {\n        return this.attrs.gradient;\n      }\n      var names = name.split(separator),\n        out = {};\n      for (var i = 0, ii = names.length; i < ii; i++) {\n        name = names[i];\n        if (name in this.attrs) {\n          out[name] = this.attrs[name];\n        } else if (R.is(this.paper.customAttributes[name], \"function\")) {\n          out[name] = this.paper.customAttributes[name].def;\n        } else {\n          out[name] = R._availableAttrs[name];\n        }\n      }\n      return ii - 1 ? out : out[names[0]];\n    }\n    if (this.attrs && value == null && R.is(name, \"array\")) {\n      out = {};\n      for (i = 0, ii = name.length; i < ii; i++) {\n        out[name[i]] = this.attr(name[i]);\n      }\n      return out;\n    }\n    var params;\n    if (value != null) {\n      params = {};\n      params[name] = value;\n    }\n    value == null && R.is(name, \"object\") && (params = name);\n    for (var key in params) {\n      eve(\"raphael.attr.\" + key + \".\" + this.id, this, params[key]);\n    }\n    if (params) {\n      for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], \"function\")) {\n        var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n        this.attrs[key] = params[key];\n        for (var subkey in par) if (par[has](subkey)) {\n          params[subkey] = par[subkey];\n        }\n      }\n      // this.paper.canvas.style.display = \"none\";\n      if (params.text && this.type == \"text\") {\n        this.textpath.string = params.text;\n      }\n      setFillAndStroke(this, params);\n      // this.paper.canvas.style.display = E;\n    }\n    return this;\n  };\n  elproto.toFront = function () {\n    !this.removed && this.node.parentNode.appendChild(this.node);\n    this.paper && this.paper.top != this && R._tofront(this, this.paper);\n    return this;\n  };\n  elproto.toBack = function () {\n    if (this.removed) {\n      return this;\n    }\n    if (this.node.parentNode.firstChild != this.node) {\n      this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\n      R._toback(this, this.paper);\n    }\n    return this;\n  };\n  elproto.insertAfter = function (element) {\n    if (this.removed) {\n      return this;\n    }\n    if (element.constructor == R.st.constructor) {\n      element = element[element.length - 1];\n    }\n    if (element.node.nextSibling) {\n      element.node.parentNode.insertBefore(this.node, element.node.nextSibling);\n    } else {\n      element.node.parentNode.appendChild(this.node);\n    }\n    R._insertafter(this, element, this.paper);\n    return this;\n  };\n  elproto.insertBefore = function (element) {\n    if (this.removed) {\n      return this;\n    }\n    if (element.constructor == R.st.constructor) {\n      element = element[0];\n    }\n    element.node.parentNode.insertBefore(this.node, element.node);\n    R._insertbefore(this, element, this.paper);\n    return this;\n  };\n  elproto.blur = function (size) {\n    var s = this.node.runtimeStyle,\n      f = s.filter;\n    f = f.replace(blurregexp, E);\n    if (+size !== 0) {\n      this.attrs.blur = size;\n      s.filter = f + S + ms + \".Blur(pixelradius=\" + (+size || 1.5) + \")\";\n      s.margin = R.format(\"-{0}px 0 0 -{0}px\", round(+size || 1.5));\n    } else {\n      s.filter = f;\n      s.margin = 0;\n      delete this.attrs.blur;\n    }\n  };\n\n  R._engine.path = function (pathString, vml) {\n    var el = createNode(\"shape\");\n    el.style.cssText = cssDot;\n    el.coordsize = zoom + S + zoom;\n    el.coordorigin = vml.coordorigin;\n    var p = new Element(el, vml),\n      attr = {fill: \"none\", stroke: \"#000\"};\n    pathString && (attr.path = pathString);\n    p.type = \"path\";\n    p.path = [];\n    p.Path = E;\n    setFillAndStroke(p, attr);\n    vml.canvas.appendChild(el);\n    var skew = createNode(\"skew\");\n    skew.on = true;\n    el.appendChild(skew);\n    p.skew = skew;\n    p.transform(E);\n    return p;\n  };\n  R._engine.rect = function (vml, x, y, w, h, r) {\n    var path = R._rectPath(x, y, w, h, r),\n      res = vml.path(path),\n      a = res.attrs;\n    res.X = a.x = x;\n    res.Y = a.y = y;\n    res.W = a.width = w;\n    res.H = a.height = h;\n    a.r = r;\n    a.path = path;\n    res.type = \"rect\";\n    return res;\n  };\n  R._engine.ellipse = function (vml, x, y, rx, ry) {\n    var res = vml.path(),\n      a = res.attrs;\n    res.X = x - rx;\n    res.Y = y - ry;\n    res.W = rx * 2;\n    res.H = ry * 2;\n    res.type = \"ellipse\";\n    setFillAndStroke(res, {\n      cx: x,\n      cy: y,\n      rx: rx,\n      ry: ry\n    });\n    return res;\n  };\n  R._engine.circle = function (vml, x, y, r) {\n    var res = vml.path(),\n      a = res.attrs;\n    res.X = x - r;\n    res.Y = y - r;\n    res.W = res.H = r * 2;\n    res.type = \"circle\";\n    setFillAndStroke(res, {\n      cx: x,\n      cy: y,\n      r: r\n    });\n    return res;\n  };\n  R._engine.image = function (vml, src, x, y, w, h) {\n    var path = R._rectPath(x, y, w, h),\n      res = vml.path(path).attr({stroke: \"none\"}),\n      a = res.attrs,\n      node = res.node,\n      fill = node.getElementsByTagName(fillString)[0];\n    a.src = src;\n    res.X = a.x = x;\n    res.Y = a.y = y;\n    res.W = a.width = w;\n    res.H = a.height = h;\n    a.path = path;\n    res.type = \"image\";\n    fill.parentNode == node && node.removeChild(fill);\n    fill.rotate = true;\n    fill.src = src;\n    fill.type = \"tile\";\n    res._.fillpos = [x, y];\n    res._.fillsize = [w, h];\n    node.appendChild(fill);\n    setCoords(res, 1, 1, 0, 0, 0);\n    return res;\n  };\n  R._engine.text = function (vml, x, y, text) {\n    var el = createNode(\"shape\"),\n      path = createNode(\"path\"),\n      o = createNode(\"textpath\");\n    x = x || 0;\n    y = y || 0;\n    text = text || \"\";\n    path.v = R.format(\"m{0},{1}l{2},{1}\", round(x * zoom), round(y * zoom), round(x * zoom) + 1);\n    path.textpathok = true;\n    o.string = Str(text);\n    o.on = true;\n    el.style.cssText = cssDot;\n    el.coordsize = zoom + S + zoom;\n    el.coordorigin = \"0 0\";\n    var p = new Element(el, vml),\n      attr = {\n        fill: \"#000\",\n        stroke: \"none\",\n        font: R._availableAttrs.font,\n        text: text\n      };\n    p.shape = el;\n    p.path = path;\n    p.textpath = o;\n    p.type = \"text\";\n    p.attrs.text = Str(text);\n    p.attrs.x = x;\n    p.attrs.y = y;\n    p.attrs.w = 1;\n    p.attrs.h = 1;\n    setFillAndStroke(p, attr);\n    el.appendChild(o);\n    el.appendChild(path);\n    vml.canvas.appendChild(el);\n    var skew = createNode(\"skew\");\n    skew.on = true;\n    el.appendChild(skew);\n    p.skew = skew;\n    p.transform(E);\n    return p;\n  };\n  R._engine.setSize = function (width, height) {\n    var cs = this.canvas.style;\n    this.width = width;\n    this.height = height;\n    width == +width && (width += \"px\");\n    height == +height && (height += \"px\");\n    cs.width = width;\n    cs.height = height;\n    cs.clip = \"rect(0 \" + width + \" \" + height + \" 0)\";\n    if (this._viewBox) {\n      R._engine.setViewBox.apply(this, this._viewBox);\n    }\n    return this;\n  };\n  R._engine.setViewBox = function (x, y, w, h, fit) {\n    R.eve(\"raphael.setViewBox\", this, this._viewBox, [x, y, w, h, fit]);\n    var width = this.width,\n      height = this.height,\n      size = 1 / mmax(w / width, h / height),\n      H, W;\n    if (fit) {\n      H = height / h;\n      W = width / w;\n      if (w * H < width) {\n        x -= (width - w * H) / 2 / H;\n      }\n      if (h * W < height) {\n        y -= (height - h * W) / 2 / W;\n      }\n    }\n    this._viewBox = [x, y, w, h, !!fit];\n    this._viewBoxShift = {\n      dx: -x,\n      dy: -y,\n      scale: size\n    };\n    this.forEach(function (el) {\n      el.transform(\"...\");\n    });\n    return this;\n  };\n  var createNode;\n  R._engine.initWin = function (win) {\n    var doc = win.document;\n    doc.createStyleSheet().addRule(\".rvml\", \"behavior:url(#default#VML)\");\n    try {\n      !doc.namespaces.rvml && doc.namespaces.add(\"rvml\", \"urn:schemas-microsoft-com:vml\");\n      createNode = function (tagName) {\n        return doc.createElement('<rvml:' + tagName + ' class=\"rvml\">');\n      };\n    } catch (e) {\n      createNode = function (tagName) {\n        return doc.createElement('<' + tagName + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"rvml\">');\n      };\n    }\n  };\n  R._engine.initWin(R._g.win);\n  R._engine.create = function () {\n    var con = R._getContainer.apply(0, arguments),\n      container = con.container,\n      height = con.height,\n      s,\n      width = con.width,\n      x = con.x,\n      y = con.y;\n    if (!container) {\n      throw new Error(\"VML container not found.\");\n    }\n    var res = new R._Paper,\n      c = res.canvas = R._g.doc.createElement(\"div\"),\n      cs = c.style;\n    x = x || 0;\n    y = y || 0;\n    width = width || 512;\n    height = height || 342;\n    res.width = width;\n    res.height = height;\n    width == +width && (width += \"px\");\n    height == +height && (height += \"px\");\n    res.coordsize = zoom * 1e3 + S + zoom * 1e3;\n    res.coordorigin = \"0 0\";\n    res.span = R._g.doc.createElement(\"span\");\n    res.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;\";\n    c.appendChild(res.span);\n    cs.cssText = R.format(\"top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden\", width, height);\n    if (container == 1) {\n      R._g.doc.body.appendChild(c);\n      cs.left = x + \"px\";\n      cs.top = y + \"px\";\n      cs.position = \"absolute\";\n    } else {\n      if (container.firstChild) {\n        container.insertBefore(c, container.firstChild);\n      } else {\n        container.appendChild(c);\n      }\n    }\n    res.renderfix = function () {\n    };\n    return res;\n  };\n  R.prototype.clear = function () {\n    R.eve(\"raphael.clear\", this);\n    this.canvas.innerHTML = E;\n    this.span = R._g.doc.createElement(\"span\");\n    this.span.style.cssText = \"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;\";\n    this.canvas.appendChild(this.span);\n    this.bottom = this.top = null;\n  };\n  R.prototype.remove = function () {\n    R.eve(\"raphael.remove\", this);\n    this.canvas.parentNode.removeChild(this.canvas);\n    for (var i in this) {\n      this[i] = typeof this[i] == \"function\" ? R._removedFactory(i) : null;\n    }\n    return true;\n  };\n\n  var setproto = R.st;\n  for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n    setproto[method] = (function (methodname) {\n      return function () {\n        var arg = arguments;\n        return this.forEach(function (el) {\n          el[methodname].apply(el, arg);\n        });\n      };\n    })(method);\n  }\n}(window.Raphael);\n\n\n/*global exports */\n/**\n * @fileoverview This file is used for define the EventProxy library.\n * @author <a href=\"mailto:shyvo1987@gmail.com\">Jackson Tian</a>\n * @version 0.1.0\n */\n(function () {\n  /**\n   * @description EventProxy. A module that can be mixed in to *any object* in order to provide it with\n   * custom events. You may `bind` or `unbind` a callback function to an event;\n   * `trigger`-ing an event fires all callbacks in succession.\n   * @constructor\n   * @name EventProxy\n   * @class EventProxy. An implementation of task/event based asynchronous pattern.\n   * @example\n   * var render = function (template, resources) {};\n   * var proxy = new EventProxy();\n   * proxy.assign(\"template\", \"l10n\", render);\n   * proxy.trigger(\"template\", template);\n   * proxy.trigger(\"l10n\", resources);\n   */\n  var EventProxy = function () {\n    if (!(this instanceof EventProxy)) {\n      return new EventProxy();\n    }\n    this._callbacks = {};\n    this._fired = {};\n  };\n\n  /**\n   * @description Bind an event, specified by a string name, `ev`, to a `callback` function.\n   * Passing `\"all\"` will bind the callback to all events fired.\n   * @memberOf EventProxy#\n   * @param {string} eventName Event name.\n   * @param {function} callback Callback.\n   */\n  EventProxy.prototype.addListener = function (ev, callback) {\n    this._callbacks = this._callbacks || {};\n    this._callbacks[ev] = this._callbacks[ev] || [];\n    this._callbacks[ev].push(callback);\n    return this;\n  };\n  EventProxy.prototype.bind = EventProxy.prototype.addListener;\n  EventProxy.prototype.on = EventProxy.prototype.addListener;\n  EventProxy.prototype.await = EventProxy.prototype.addListener;\n\n  /**\n   * @description Remove one or many callbacks. If `callback` is null, removes all\n   * callbacks for the event. If `ev` is null, removes all bound callbacks\n   * for all events.\n   * @memberOf EventProxy#\n   * @param {string} eventName Event name.\n   * @param {function} callback Callback.\n   */\n  EventProxy.prototype.removeListener = function (ev, callback) {\n    var calls = this._callbacks, i, l;\n    if (!ev) {\n      this._callbacks = {};\n    } else if (calls) {\n      if (!callback) {\n        calls[ev] = [];\n      } else {\n        var list = calls[ev];\n        if (!list) {\n          return this;\n        }\n        l = list.length;\n        for (i = 0; i < l; i++) {\n          if (callback === list[i]) {\n            list[i] = null;\n            break;\n          }\n        }\n      }\n    }\n    return this;\n  };\n  EventProxy.prototype.unbind = EventProxy.prototype.removeListener;\n\n  /**\n   * @description Remove all listeners.\n   * It equals unbind(); Just add this API for as same as Event.Emitter.\n   * @memberOf EventProxy#\n   * @param {string} event Event name.\n   */\n  EventProxy.prototype.removeAllListeners = function (event) {\n    return this.unbind(event);\n  };\n\n  /**\n   * @description Trigger an event, firing all bound callbacks. Callbacks are passed the\n   * same arguments as `trigger` is, apart from the event name.\n   * Listening for `\"all\"` passes the true event name as the first argument.\n   * @param {string} eventName Event name.\n   * @param {mix} data Pass in data.\n   */\n  EventProxy.prototype.trigger = function (eventName, data) {\n    var list, calls, ev, callback, args, i, l;\n    var both = 2;\n    if (!(calls = this._callbacks)) {\n      return this;\n    }\n    while (both--) {\n      ev = both ? eventName : 'all';\n      list = calls[ev];\n      if (list) {\n        for (i = 0, l = list.length; i < l; i++) {\n          if (!(callback = list[i])) {\n            list.splice(i, 1);\n            i--;\n            l--;\n          } else {\n            args = both ? Array.prototype.slice.call(arguments, 1) : arguments;\n            callback.apply(this, args);\n          }\n        }\n      }\n    }\n    return this;\n  };\n  EventProxy.prototype.emit = EventProxy.prototype.trigger;\n  EventProxy.prototype.fire = EventProxy.prototype.trigger;\n\n  /**\n   * @description Bind an event like the bind method, but will remove the listener after it was fired.\n   * @param {string} ev Event name.\n   * @param {function} callback Callback.\n   */\n  EventProxy.prototype.once = function (ev, callback) {\n    var self = this,\n      wrapper = function () {\n        callback.apply(self, arguments);\n        self.unbind(ev, wrapper);\n      };\n    this.bind(ev, wrapper);\n    return this;\n  };\n\n  /**\n   * @description Bind an event, and trigger it immediately.\n   * @param {string} ev Event name.\n   * @param {function} callback Callback.\n   * @param {mix} data The data that will be passed to calback as arguments.\n   */\n  EventProxy.prototype.immediate = function (ev, callback, data) {\n    this.bind(ev, callback);\n    this.trigger(ev, data);\n    return this;\n  };\n\n  var _assign = function (eventname1, eventname2, cb, once) {\n    var proxy = this, length, index = 0, argsLength = arguments.length,\n      bind, _all,\n      callback, events, isOnce, times = 0, flag = {};\n\n    // Check the arguments length.\n    if (argsLength < 3) {\n      return this;\n    }\n\n    events = Array.prototype.slice.apply(arguments, [0, argsLength - 2]);\n    callback = arguments[argsLength - 2];\n    isOnce = arguments[argsLength - 1];\n\n    // Check the callback type.\n    if (typeof callback !== \"function\") {\n      return this;\n    }\n\n    length = events.length;\n    bind = function (key) {\n      var method = isOnce ? \"once\" : \"bind\";\n      proxy[method](key, function (data) {\n        proxy._fired[key] = proxy._fired[key] || {};\n        proxy._fired[key].data = data;\n        if (!flag[key]) {\n          flag[key] = true;\n          times++;\n        }\n      });\n    };\n\n    for (index = 0; index < length; index++) {\n      bind(events[index]);\n    }\n\n    _all = function () {\n      if (times < length) {\n        return;\n      }\n      var data = [];\n      for (index = 0; index < length; index++) {\n        data.push(proxy._fired[events[index]].data);\n      }\n      if (isOnce) {\n        proxy.unbind(\"all\", _all);\n      }\n      callback.apply(null, data);\n    };\n    proxy.bind(\"all\", _all);\n  };\n\n  /**\n   * @description Assign some events, after all events were fired, the callback will be executed once.\n   * @example\n   * proxy.all(ev1, ev2, callback);\n   * proxy.all([ev1, ev2], callback);\n   * proxy.all(ev1, [ev2, ev3], callback);\n   * @param {string} eventName1 First event name.\n   * @param {string} eventName2 Second event name.\n   * @param {function} callback Callback, that will be called after predefined events were fired.\n   */\n  EventProxy.prototype.all = function (eventname1, eventname2, cb) {\n    var args = Array.prototype.concat.apply([], arguments);\n    args.push(true);\n    _assign.apply(this, args);\n    return this;\n  };\n  EventProxy.prototype.assign = EventProxy.prototype.all;\n\n  /**\n   * @description Assign some events, after all events were fired, the callback will be executed first time.\n   * then any event that predefined be fired again, the callback will executed with the newest data.\n   * @example\n   * proxy.tail(ev1, ev2, callback);\n   * proxy.tail([ev1, ev2], callback);\n   * proxy.tail(ev1, [ev2, ev3], callback);\n   * @memberOf EventProxy#\n   * @param {string} eventName1 First event name.\n   * @param {string} eventName2 Second event name.\n   * @param {function} callback Callback, that will be called after predefined events were fired.\n   */\n  EventProxy.prototype.tail = function () {\n    var args = Array.prototype.concat.apply([], arguments);\n    args.push(false);\n    _assign.apply(this, args);\n    return this;\n  };\n  EventProxy.prototype.assignAll = EventProxy.prototype.tail;\n  EventProxy.prototype.assignAlways = EventProxy.prototype.tail;\n\n  /**\n   * @description The callback will be executed after the event be fired N times.\n   * @memberOf EventProxy#\n   * @param {string} eventName Event name.\n   * @param {number} times N times.\n   * @param {function} callback Callback, that will be called after event was fired N times.\n   */\n  EventProxy.prototype.after = function (eventName, times, callback) {\n    if (times === 0) {\n      callback.call(null, []);\n      return this;\n    }\n    var proxy = this,\n      firedData = [],\n      all;\n    all = function (name, data) {\n      if (name === eventName) {\n        times--;\n        firedData.push(data);\n        if (times < 1) {\n          proxy.unbind(\"all\", all);\n          callback.apply(null, [firedData]);\n        }\n      }\n    };\n    proxy.bind(\"all\", all);\n    return this;\n  };\n\n  /**\n   * @description The callback will be executed after any registered event was fired. It only executed once.\n   * @memberOf EventProxy#\n   * @param {string} eventName1 Event name.\n   * @param {string} eventName2 Event name.\n   * @param {function} callback The callback will get a map that has data and eventName attributes.\n   */\n  EventProxy.prototype.any = function () {\n    var proxy = this,\n      index,\n      _bind,\n      len = arguments.length,\n      callback = arguments[len - 1],\n      events = Array.prototype.slice.apply(arguments, [0, len - 1]),\n      count = events.length,\n      _eventName = events.join(\"_\");\n\n    proxy.once(_eventName, callback);\n\n    _bind = function (key) {\n      proxy.bind(key, function (data) {\n        proxy.trigger(_eventName, {\"data\": data, eventName: key});\n      });\n    };\n\n    for (index = 0; index < count; index++) {\n      _bind(events[index]);\n    }\n  };\n\n  /**\n   * @description The callback will be executed when the evnet name not equals with assigned evnet.\n   * @memberOf EventProxy#\n   * @param {string} eventName Event name.\n   * @param {function} callback Callback.\n   */\n  EventProxy.prototype.not = function (eventName, callback) {\n    var proxy = this;\n    proxy.bind(\"all\", function (name, data) {\n      if (name !== eventName) {\n        callback(data);\n      }\n    });\n  };\n\n  /**\n   * Create a new EventProxy\n   * @example\n   *     var ep = EventProxy.create();\n   *     ep.assign('user', 'articles', function(user, articles) {\n     *       // do something...\n     *     });\n   *\n   *     // or one line ways: Create EventProxy and Assign\n   *\n   *     var ep = EventProxy.create('user', 'articles', function(user, articles) {\n     *       // do something...\n     *     });\n   *\n   * @returns {EventProxy}\n   */\n  EventProxy.create = function () {\n    var ep = new EventProxy();\n    if (arguments.length) {\n      ep.assign.apply(ep, Array.prototype.slice.call(arguments));\n    }\n    return ep;\n  };\n\n  // Event proxy can be used in browser and Nodejs both.\n  if (typeof exports !== \"undefined\") {\n    exports.EventProxy = EventProxy;\n  } else {\n    this.EventProxy = EventProxy;\n  }\n\n}());\n\n/*global d3 */\n//define(function (require, exports, module) {\nvar DataV = function () {\n};\nDataV.version = \"0.0.1\";\n\nDataV.Themes = {};\n\n// DataV.Themes[\"default\"] = DataV.Themes.theme0 = {\n//     /* color format:\n//       [\n//        [darkColor1, lightColor1],\n//        [darkColor2, lightColor2],\n//        .....\n//       ]\n//      */\n//     COLOR_ARGS: [\n//         [\"#03809a\", \"#04d4d4\"],\n//         [\"#8fdfa5\", \"#cefedb\"],\n//         [\"#f7cd34\", \"#feef8d\"],\n//         [\"#7dab16\", \"#c2e96c\"],\n//         [\"#00b8b8\", \"#3dffff\"],\n//         [\"#1b6157\", \"#1fc4ac\"]\n//     ]\n//     //FONT_ARGS: {HEADER_FAMILY:\"\", HEADER_SIZE: 20, PAGE_FAMILY:\"\", PAGE_SIZE: 5}\n// };\nDataV.Themes[\"default\"] = DataV.Themes.theme0 = {\n\n\n  COLOR_ARGS: [\n    [\"#3dc6f4\", \"#8ce3ff\"],\n    [\"#214fd9\", \"#7396ff\"],\n    [\"#4f21d9\", \"#9673ff\"],\n    [\"#c43df2\", \"#e38cff\"],\n    [\"#d8214f\", \"#ff7396\"],\n    [\"#f3c53c\", \"#ffe38c\"]\n  ]\n\n  //FONT_ARGS: {HEADER_FAMILY:\"\", HEADER_SIZE: 20, PAGE_FAMILY:\"\", PAGE_SIZE: 5}\n};\nDataV.Themes.theme1 = {\n  COLOR_ARGS: [\n    [\"#e72e8b\", \"#ff7fbf\"],\n    [\"#d94f21\", \"#ff9673\"],\n    [\"#f3c53c\", \"#ffe38c\"],\n    [\"#8be62f\", \"#bfff7f\"],\n    [\"#14cc14\", \"#66ff66\"],\n    [\"#2fe68a\", \"#7fffc0\"]\n  ]\n\n  //FONT_ARGS: {HEADER_FAMILY:\"\", HEADER_SIZE: 20, PAGE_FAMILY:\"\", PAGE_SIZE: 5}\n};\nDataV.Themes.theme2 = {\n  COLOR_ARGS: [\n    [\"#2f8ae7\", \"#7fc0ff\"],\n    [\"#8a2ee7\", \"#bf7fff\"],\n    [\"#f33dc6\", \"#ff8ce3\"],\n    [\"#8be62f\", \"#bfff7f\"],\n    [\"#14cc14\", \"#66ff66\"],\n    [\"#2fe68a\", \"#7fffc0\"]\n  ]\n  //FONT_ARGS: {HEADER_FAMILY:\"\", HEADER_SIZE: 20, PAGE_FAMILY:\"\", PAGE_SIZE: 10}\n};\nDataV.Themes.theme3 = {\n  COLOR_ARGS: [\n    [\"#2f8ae7\", \"#896DA3\"],\n    [\"#8e34df\", \"#FFADA6\"],\n    [\"#f738c0\", \"#65FCFC\"],\n    [\"#84e653\", \"#555566\"],\n    [\"#0cc53e\", \"#db3f7c\"],\n    [\"#00e793s\", \"#db3f7c\"]\n  ]\n  //FONT_ARGS: {HEADER_FAMILY:\"\", HEADER_SIZE: 20, PAGE_FAMILY:\"\", PAGE_SIZE: 10}\n};\nDataV.Themes.theme4 = {\n  COLOR_ARGS: [\n    [\"#d94f21\", \"#7a88d1\"],\n    [\"#579ce2\", \"#87bdf4\"],\n    [\"#3bb4df\", \"#7fd1ef\"],\n    [\"#a380ff\", \"#baa0ff\"],\n    [\"#a164c5\", \"#c28fe1\"],\n    [\"#d93a92\", \"#ec74b6\"],\n    [\"#b82377\", \"#d569a7\"],\n    [\"#bb3ca3\", \"#d381c2\"],\n    [\"#da2d57\", \"#ec6b8a\"],\n    [\"#4ca716\", \"#4ca716\"],\n    [\"#5b63c2\", \"#8e93d7\"],\n    [\"#15a9a3\", \"#4ecac5\"],\n    [\"#a9ab48\", \"#e8c670\"],\n    [\"#2aa5f5\", \"#73c4fa\"],\n    [\"#f67e10\", \"#feb648\"],\n    [\"#1faa77\", \"#62c8a2\"],\n    [\"#eb4f20\", \"#f58563\"],\n    [\"#ffc000\", \"#ffd659\"],\n    [\"#f16ebc\", \"#f6a1d3\"],\n    [\"#d23457\", \"#e27b92\"]\n  ]\n};\n\nDataV.Themes.current = \"default\";\nDataV.Themes._currentTheme = null;\n\nDataV.Themes.get = function (key) {\n  if (!DataV.Themes._currentTheme) {\n    DataV.Themes._currentTheme = DataV.Themes[DataV.Themes.current];\n  }\n  return DataV.Themes._currentTheme[key] || DataV.Themes[\"default\"][key];\n};\n\n/*\n * set user-define theme\n * @param themeName: a string\n *        theme: json, contain attribute \"COLOR_ARGS\", theme.COLOR_ARGS is a 2-d array;\n */\nDataV.Themes.set = function (themeName, theme) {\n  if (arguments.length < 2) {\n    throw new Error(\"Arguments format error. should be: (themsName, theme)\");\n  } else if (typeof theme !== \"object\") {\n    throw new Error(\"second argument theme should be a json object\");\n  } else if (!theme[\"COLOR_ARGS\"]) {\n    throw new Error(\"theme.COLOR_ARGS needed\");\n  } else if (!theme[\"COLOR_ARGS\"] instanceof Array) {\n    throw new Error(\"theme.COLOR_ARGS should be an array\");\n  } else if (!(theme[\"COLOR_ARGS\"][0] instanceof Array)) {\n    throw new Error(\"theme.COLOR_ARGS[0] should be an array\");\n  }\n  DataV.Themes[themeName] = theme;\n};\n\n/**\n * @return boolean \n */\nDataV.changeTheme = function (themeName) {\n  var ret = DataV.Themes[themeName];\n  if (ret) {\n    DataV.Themes.current = themeName;\n    DataV.Themes._currentTheme = null;\n  }\n  return !!ret;\n};\n\nDataV.getColor = function () {\n  var theme = DataV.Themes;\n  var color = theme.get(\"COLOR_ARGS\");\n\n  return color;\n};\n\n//Get discrete color , used for type color\nDataV.getDiscreteColor = function () {\n  var theme = DataV.Themes;\n  var color = theme.get(\"COLOR_ARGS\");\n  if (color.constructor !== Array) {\n    throw new Error(\"The color should be Array\");\n  }\n  var colorCount = color.length;\n  var gotColor = [];\n\n  if (color[0] === Array) {\n    var i;\n    for (i = 0; i < colorLineCount; i++) {\n      getColor.push(color[i][0]);\n    }\n  } else {\n    gotColor = color;\n  }\n\n  return function (num) {\n    var thisColor = gotColor;\n    var thisColorCount = colorCount;\n\n    return thisColor[num % thisolorCount];\n  };\n}\n\n//Get gradient color, used for gradient data\nDataV.gradientColor = function (color, method) {\n  if (color.constructor !== Array) {\n    throw new Error(\"The color should be Array\");\n  }\n\n  var startColor = color[0];\n  var colorColor;\n  var colorCount = color.length;\n\n  var hsb\n  var endColor\n  if (colorCount === 1) {\n    hsb = Raphael.color(color[0]);\n    endColor = Raphael.hsb(hsb.h / 360, (hsb.s - 30) / 100, 1);\n  } else {\n    endColor = color[colorCount - 1];\n  }\n\n  method = method || \"normal \";\n\n  if (method === \"special\") {\n    return function (num) {\n      var startHSB = Raphael.color(startColor);\n      var endHSB = Raphael.color(endColor);\n      var startH = startHSB.h * 360;\n      var endH = endHSB.h * 360;\n      var startNum = startHSB.h * 20;\n      var endNum = endHSB.h * 20;\n\n\n      var dH;\n      var dNum;\n      if (startNum >= endNum) {\n        dH = 360 - startH + endH;\n        dNum = colorCount - startNum + endNum;\n      } else {\n        dH = endH - startH;\n        dNum = endNum - startNum;\n      }\n\n      var h = (startH + dH * num) / 360;\n      var s = (70 + Math.abs(4 - (startNum + dNum * num) % 8) * 5) / 100;\n      var b = (100 - Math.abs(4 - (startNum + dNum * num) % 8) * 5) / 100;\n\n      return Raphael.hsb(h, s, b);\n    };\n  } else {\n    return d3.interpolateRgb.apply(null, [startColor, endColor]);\n  }\n}\n\nDataV.json = function (url, callback) {\n  d3.json(url, callback);\n  '] '\n};\n\nDataV.csv = function (url, callback) {\n  d3.text(url, \"text/csv\", function (text) {\n    callback(text && d3.csv.parseRows(text));\n  });\n};\n\n\n// Create a new Chart.\n// @example\n//    var Stream = DataV.extend(DataV.Chart, {\n//        initialize: function () {\n//            this.type = \"Stream\";\n//        },\n//        clearCanvas: function () {\n//            this.canvas.clear();\n//            this.legend.innerHTML = \"\";\n//        }\n//    });\n//\n\nvar Chart = function () {\n  this.type = \"Chart\";\n};\n\nChart.prototype.getType = function () {\n  return this.type;\n};\n\nDataV.Chart = Chart;\n\n/**\n * \n */\nDataV.extend = function (parent, properties) {\n  if (typeof parent !== \"function\") {\n    properties = parent;\n    parent = function () {\n    };\n  }\n\n  properties = properties || {};\n  var sub = function () {\n    // Call the parent constructor.\n    parent.apply(this, arguments);\n    // Only call initialize in self constructor.\n    if (this.constructor === parent && this.initialize) {\n      this.initialize.apply(this, arguments);\n    }\n  };\n  sub.prototype = new parent();\n  sub.prototype.constructor = parent;\n  $.extend(sub.prototype, properties);\n  return sub;\n};\n\n/*********************************************************************************\n * Axis\n */\n//copy codes from d3.js, add 4 functions: tickAttr, tickTextAttr, minorTickAttr and domainAttr;\n//axis() changes, need a raphael paper object param, return raphael set object.\n//examples in ../examples/axis/ to know the usage.\n//a basic part for other data visualization format\n/*global d3*/\n\n/**\n * function from d3, get scaleRange of an ordinal scale\n * @param domain, ordinal scale's range\n */\nfunction d3_scaleExtent(domain) {\n  var start = domain[0], stop = domain[domain.length - 1];\n  return start < stop ? [start, stop] : [stop, start];\n}\n\n/**\n * function from d3, get scaleRange of a scale\n */\nfunction d3_scaleRange(scale) {\n  return scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n}\n\n/**\n * function from d3, get subticks\n * @param scale, scale\n * @param ticks, major ticks of scale\n * @param m, number of subdivide\n */\nfunction d3_svg_axisSubdivide(scale, ticks, m) {\n  var subticks = [];\n  if (m && ticks.length > 1) {\n    var extent = d3_scaleExtent(scale.domain()),\n      i = -1,\n      n = ticks.length,\n      d = (ticks[1] - ticks[0]) / ++m,\n      j,\n      v;\n    while (++i < n) {\n      for (j = m; --j > 0;) {\n        if ((v = +ticks[i] - j * d) >= extent[0]) {\n          subticks.push(v);\n        }\n      }\n    }\n    for (--i, j = 0; ++j < m && (v = +ticks[i] + j * d) < extent[1];) {\n      subticks.push(v);\n    }\n  }\n  return subticks;\n}\n\nvar Axis = function () {\n  var scale = d3.scale.linear(),\n    orient = \"bottom\",\n    tickMajorSize = 6,\n    tickMinorSize = 6,\n    tickEndSize = 6,\n    tickPadding = 3,\n    tickArguments_ = [10],\n    tickFormat_,\n    tickSubdivide = 0,\n\n    tickAttr_ = {},\n    tickTextAttr_ = {},\n    minorTickAttr_ = {},\n    domainAttr_ = {};\n\n  /**\n   * @param paper: raphael's paper object.\n   * @return axisSet: raphael's set object.\n   */\n  function axis(paper) {\n    // Ticks for quantitative scale, or domain values for ordinal scale.\n    var ticks = scale.ticks ? scale.ticks.apply(scale, tickArguments_) : scale.domain(),\n      tickFormat = tickFormat_ === undefined ?\n        (scale.tickFormat ?\n          scale.tickFormat.apply(scale, tickArguments_)\n          : String)\n        : tickFormat_;\n\n    var subticks = d3_svg_axisSubdivide(scale, ticks, tickSubdivide);\n    var range = d3_scaleRange(scale);\n\n    var axisSet = paper.set();\n\n    switch (orient) {\n      case \"bottom\":\n        subticks.forEach(function (d, i, arr) {\n          var tickX = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickX + \",\" + tickMinorSize + \"V0\")\n            .attr(minorTickAttr_));\n        });\n        ticks.forEach(function (d, i, arr) {\n          var tickX = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickX + \",\" + tickMajorSize + \"V0\")\n            .attr(tickAttr_));\n          axisSet.push(paper\n            .text(tickX, Math.max(tickMajorSize, 0) + tickPadding + 2,\n              typeof tickFormat === \"function\" ? tickFormat(d) : tickFormat)\n            .attr({\"text-anchor\": \"middle\"})\n            .attr(tickTextAttr_));\n        });\n        axisSet.push(paper\n          .path(\"M\" + range[0] + \",\" + tickEndSize + \"V0H\" + range[1] + \"V\" + tickEndSize)\n          .attr(domainAttr_));\n        break;\n\n      case \"top\":\n        subticks.forEach(function (d, i, arr) {\n          var tickX = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickX + \",\" + -tickMinorSize + \"V0\")\n            .attr(minorTickAttr_));\n        });\n        ticks.forEach(function (d, i, arr) {\n          var tickX = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickX + \",\" + -tickMajorSize + \"V0\")\n            .attr(tickAttr_));\n          axisSet.push(paper\n            .text(tickX, -(Math.max(tickMajorSize, 0) + tickPadding + 2),\n              typeof tickFormat === \"function\" ? tickFormat(d) : tickFormat)\n            .attr({\"text-anchor\": \"middle\"})\n            .attr(tickTextAttr_));\n        });\n        axisSet.push(paper\n          .path(\"M\" + range[0] + \",\" + -tickEndSize + \"V0H\" + range[1] + \"V\" + -tickEndSize)\n          .attr(domainAttr_));\n        break;\n\n      case \"left\":\n        subticks.forEach(function (d, i, arr) {\n          var tickY = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + -tickMinorSize + \",\" + tickY + \"H0\")\n            .attr(minorTickAttr_));\n        });\n        ticks.forEach(function (d, i, arr) {\n          var tickY = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + -tickMajorSize + \",\" + tickY + \"H0\")\n            .attr(tickAttr_));\n          axisSet.push(paper\n            .text(-(Math.max(tickMajorSize, 0) + tickPadding), tickY,\n              typeof tickFormat === \"function\" ? tickFormat(d) : tickFormat)\n            .attr({\"text-anchor\": \"end\"})\n            .attr(tickTextAttr_));\n        });\n        axisSet.push(paper\n          .path(\"M\" + -tickEndSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + -tickEndSize)\n          .attr(domainAttr_));\n        break;\n\n      case \"right\":\n        subticks.forEach(function (d, i, arr) {\n          var tickY = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickMinorSize + \",\" + tickY + \"H0\")\n            .attr(minorTickAttr_));\n        });\n        ticks.forEach(function (d, i, arr) {\n          var tickY = scale.ticks ? scale(d) : scale(d) + scale.rangeBand() / 2;\n          axisSet.push(paper\n            .path(\"M\" + tickMajorSize + \",\" + tickY + \"H0\")\n            .attr(tickAttr_));\n          axisSet.push(paper\n            .text(Math.max(tickMajorSize, 0) + tickPadding, tickY,\n              typeof tickFormat === \"function\" ? tickFormat(d) : tickFormat)\n            .attr({\"text-anchor\": \"start\"})\n            .attr(tickTextAttr_));\n        });\n        axisSet.push(paper\n          .path(\"M\" + tickEndSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + tickEndSize)\n          .attr(domainAttr_));\n        break;\n    }\n\n    return axisSet;\n  }\n\n  /**\n   * get or set axis' scale.\n   */\n  axis.scale = function (x) {\n    if (!arguments.length) {\n      return scale;\n    }\n    scale = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' orinet: \"bottom\", \"top\", \"left\", \"right\", default orient is bottom.\n   */\n  axis.orient = function (x) {\n    if (!arguments.length) {\n      return orient;\n    }\n    orient = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' ticks number.\n   */\n  axis.ticks = function () {\n    if (!arguments.length) {\n      return tickArguments_;\n    }\n    tickArguments_ = arguments;\n    return axis;\n  };\n\n  /**\n   * get or set axis' ticks format function, it's a function change format style.\n   * from one string format to another string format.\n   */\n  axis.tickFormat = function (x) {\n    if (!arguments.length) {\n      return tickFormat_;\n    }\n    tickFormat_ = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' tick size(length of tick line, unit: px).\n   * @param arguments.length === 0, get axis' major tick size.\n   * @param arguments.length === 1, set axis' all tick sizes as x.\n   * @param arguments.length === 2, get axis' major tick size as x, minor and end size as y.\n   * @param arguments.length === 3, get axis' major tick size as x, minor size as y, end size as z.\n   */\n  axis.tickSize = function (x, y, z) {\n    if (!arguments.length) {\n      return tickMajorSize;\n    }\n    var n = arguments.length - 1;\n    tickMajorSize = +x;\n    tickMinorSize = n > 1 ? +y : tickMajorSize;\n    tickEndSize = n > 0 ? +arguments[n] : tickMajorSize;\n    return axis;\n  };\n\n  /**\n   * get or set axis' tick padding(the distance between tick text and axis).\n   * @param x is a number, unit is px;\n   */\n  axis.tickPadding = function (x) {\n    if (!arguments.length) {\n      return tickPadding;\n    }\n    tickPadding = +x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' sub tick divide number(divide number between two major ticks).\n   */\n  axis.tickSubdivide = function (x) {\n    if (!arguments.length) {\n      return tickSubdivide;\n    }\n    tickSubdivide = +x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' tick attribute(Raphael format).\n   */\n  axis.tickAttr = function (x) {\n    if (!arguments.length) {\n      return tickAttr_;\n    }\n    tickAttr_ = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' tick text attribute(Raphael format).\n   */\n  axis.tickTextAttr = function (x) {\n    if (!arguments.length) {\n      return tickTextAttr_;\n    }\n    tickTextAttr_ = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' minor tick attribute(Raphael format).\n   */\n  axis.minorTickAttr = function (x) {\n    if (!arguments.length) {\n      return minorTickAttr_;\n    }\n    minorTickAttr_ = x;\n    return axis;\n  };\n\n  /**\n   * get or set axis' domain(axis line) attribute(Raphael format).\n   */\n  axis.domainAttr = function (x) {\n    if (!arguments.length) {\n      return domainAttr_;\n    }\n    domainAttr_ = x;\n    return axis;\n  };\n\n  return axis;\n};\n\nDataV.Axis = Axis;\n\n\n/*******************************************************************************\n * brush\n */\n/*global d3*/\n/*global Raphael*/\n/*global $*/\n\nvar d3_svg_brush,\n  d3_svg_brushDispatch,\n  d3_svg_brushTarget,\n  d3_svg_brushX,\n  d3_svg_brushY,\n  d3_svg_brushExtent,\n  d3_svg_brushDrag,\n  d3_svg_brushResize,\n  d3_svg_brushCenter,\n  d3_svg_brushOffset,\n  d3_svg_brushEls;\n\n/*\n * set foreground and resizers' x and width;\n */\nfunction d3_svg_brushRedrawX(brushEls, extent) {\n  brushEls.fg.attr({\n    \"x\": extent[0][0],\n    \"width\": extent[1][0] - extent[0][0]\n  });\n  brushEls.resizerSet.forEach(function (el) {\n    var orient = el.data(\"resizeOrient\");\n\n    if (orient === \"n\" ||\n      orient === \"s\" ||\n      orient === \"w\" ||\n      orient === \"nw\" ||\n      orient === \"sw\") {\n      el.attr({\"x\": extent[0][0] - 2});\n    } else { // \"e\" \"ne\" \"se\"\n      el.attr({\"x\": extent[1][0] - 2});\n    }\n    if (orient === \"n\" || orient === \"s\") {\n      el.attr({\"width\": extent[1][0] - extent[0][0]});\n    }\n  });\n  /*\n   g.select(\".extent\").attr(\"x\", extent[0][0]);\n   g.selectAll(\".n,.s,.w,.nw,.sw\").attr(\"x\", extent[0][0] - 2);\n   g.selectAll(\".e,.ne,.se\").attr(\"x\", extent[1][0] - 3);\n   g.selectAll(\".extent,.n,.s\").attr(\"width\", extent[1][0] - extent[0][0]);\n   */\n}\n\n/*\n * set foreground and resizers' y and height;\n */\nfunction d3_svg_brushRedrawY(brushEls, extent) {\n  brushEls.fg.attr({\n    \"y\": extent[0][1],\n    \"height\": extent[1][1] - extent[0][1]\n  });\n  brushEls.resizerSet.forEach(function (el) {\n    var orient = el.data(\"resizeOrient\");\n    if (orient === \"n\" ||\n      orient === \"e\" ||\n      orient === \"w\" ||\n      orient === \"nw\" ||\n      orient === \"ne\") {\n      el.attr({\"y\": extent[0][1] - 3});\n    } else { // \"s\" \"se\" \"sw\"\n      el.attr({\"y\": extent[1][1] - 4});\n    }\n    if (orient === \"e\" || orient === \"w\") {\n      el.attr({\"height\": extent[1][1] - extent[0][1]});\n    }\n  });\n\n  /*\n   g.select(\".extent\").attr(\"y\", extent[0][1]);\n   g.selectAll(\".n,.e,.w,.nw,.ne\").attr(\"y\", extent[0][1] - 3);\n   g.selectAll(\".s,.se,.sw\").attr(\"y\", extent[1][1] - 4);\n   g.selectAll(\".extent,.e,.w\").attr(\"height\", extent[1][1] - extent[0][1]);\n   */\n}\n\n/**\n * function from d3, called by d3_svg_brushMove, compute new brush extent after brush moved\n */\nfunction d3_svg_brushMove1(mouse, scale, i) {\n  var range = d3_scaleRange(scale),\n    r0 = range[0],\n    r1 = range[1],\n    offset = d3_svg_brushOffset[i],\n    size = d3_svg_brushExtent[1][i] - d3_svg_brushExtent[0][i],\n    min,\n    max;\n\n  // When dragging, reduce the range by the extent size and offset.\n  if (d3_svg_brushDrag) {\n    r0 -= offset;\n    r1 -= size + offset;\n  }\n\n  // Clamp the mouse so that the extent fits within the range extent.\n  min = Math.max(r0, Math.min(r1, mouse[i]));\n\n  // Compute the new extent bounds.\n  if (d3_svg_brushDrag) {\n    max = (min += offset) + size;\n  } else {\n    // If the ALT key is pressed, then preserve the center of the extent.\n    if (d3_svg_brushCenter) {\n      offset = Math.max(r0, Math.min(r1, 2 * d3_svg_brushCenter[i] - min));\n    }\n\n    // Compute the min and max of the offset and mouse.\n    if (offset < min) {\n      max = min;\n      min = offset;\n    } else {\n      max = offset;\n    }\n  }\n\n  // Update the stored bounds.\n  d3_svg_brushExtent[0][i] = min;\n  d3_svg_brushExtent[1][i] = max;\n}\n\n/**\n * function from d3, after brush moved, compute new brush extent\n * and redraw foreground and resizer.\n */\nfunction d3_svg_brushMove(e) {\n  if (d3_svg_brushOffset) {\n    var bgOffset = $(d3_svg_brushTarget).offset();\n    var mouse = [e.pageX - bgOffset.left, e.pageY - bgOffset.top];\n\n    if (!d3_svg_brushDrag) {\n      // If needed, determine the center from the current extent.\n      if (e.altKey) {\n        if (!d3_svg_brushCenter) {\n          d3_svg_brushCenter = [\n            (d3_svg_brushExtent[0][0] + d3_svg_brushExtent[1][0]) / 2,\n            (d3_svg_brushExtent[0][1] + d3_svg_brushExtent[1][1]) / 2\n          ];\n        }\n\n        // Update the offset, for when the ALT key is released.\n        d3_svg_brushOffset[0] = d3_svg_brushExtent[+(mouse[0] < d3_svg_brushCenter[0])][0];\n        d3_svg_brushOffset[1] = d3_svg_brushExtent[+(mouse[1] < d3_svg_brushCenter[1])][1];\n      } else {\n        // When the ALT key is released, we clear the center.\n        d3_svg_brushCenter = null;\n      }\n    }\n\n    // Update the brush extent for each dimension.\n    if (d3_svg_brushX) {\n      d3_svg_brushMove1(mouse, d3_svg_brushX, 0);\n      d3_svg_brushRedrawX(d3_svg_brushEls, d3_svg_brushExtent);\n    }\n    if (d3_svg_brushY) {\n      d3_svg_brushMove1(mouse, d3_svg_brushY, 1);\n      d3_svg_brushRedrawY(d3_svg_brushEls, d3_svg_brushExtent);\n    }\n\n    // Notify listeners.\n    d3_svg_brushDispatch(\"brush\");\n  }\n}\n\n/*\n * function from d3,\n * reset brush offset if user presses \"space\" key while brushing a new area,\n * to ensure foreground's size unchanged while position changing.\n */\nfunction d3_svg_brushKeydown(e) {\n  if (e.keyCode === 32 && d3_svg_brushTarget && !d3_svg_brushDrag) {\n    d3_svg_brushCenter = null;\n    d3_svg_brushOffset[0] -= d3_svg_brushExtent[1][0];\n    d3_svg_brushOffset[1] -= d3_svg_brushExtent[1][1];\n    d3_svg_brushDrag = 2;\n    e.stopPropagation();\n  }\n}\n\n/*\n * function from d3,\n * reset brush offset if \"space\" key up to restore normal drush state.\n */\nfunction d3_svg_brushKeyup(e) {\n  if (e.keyCode === 32 && d3_svg_brushDrag === 2) {\n    d3_svg_brushOffset[0] += d3_svg_brushExtent[1][0];\n    d3_svg_brushOffset[1] += d3_svg_brushExtent[1][1];\n    d3_svg_brushDrag = 0;\n    e.stopPropagation();\n  }\n}\n\n/*\n * function from d3,\n * mouse up and stop brushing.\n */\nfunction d3_svg_brushUp(e) {\n  if (d3_svg_brushOffset) {\n    d3_svg_brushMove(e);\n    d3_svg_brushEls.resizerSet.forEach(function (resizer) {\n      //adjust all resizers\n      var orient = resizer.data(\"resizeOrient\");\n      var size = d3_svg_brush.empty() ? 0 : 6;\n      if (orient === \"n\" || orient === \"s\") {\n        resizer.attr({\"height\": size});\n      } else {\n        resizer.attr({\"width\": size});\n      }\n    });\n    d3_svg_brushDispatch(\"brushend\");\n    d3_svg_brush =\n      d3_svg_brushDispatch =\n        d3_svg_brushTarget =\n          d3_svg_brushX =\n            d3_svg_brushY =\n              d3_svg_brushExtent =\n                d3_svg_brushDrag =\n                  d3_svg_brushResize =\n                    d3_svg_brushCenter =\n                      d3_svg_brushOffset =\n                        d3_svg_brushEls = null;\n    e.stopPropagation();\n  }\n}\n\nvar d3_svg_brushCursor = {\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\nvar vml_brushCursor = {\n  n: \"row-resize\",\n  e: \"col-resize\",\n  s: \"row-resize\",\n  w: \"col-resize\",\n  nw: \"all-scroll\",\n  ne: \"all-scroll\",\n  se: \"all-scroll\",\n  sw: \"all-scroll\"\n};\n\nvar Brush = function () {\n  var event = d3.dispatch(\"brushstart\", \"brush\", \"brushend\"),\n    x, // x-scale, optional\n    y, // y-scale, optional\n    extent = [[0, 0], [0, 0]], // [x0, y0], [x1, y1]\n    e,\n    left,\n    top,\n    width,\n    height,\n    backgroundAttr = {\n      \"fill\": \"#dddddd\",\n      \"stroke\": \"none\",\n      \"cursor\": \"crosshair\"\n    },\n    foregroundAttr = {\n      \"fill\": \"steelblue\",\n      \"stroke\": \"none\",\n      \"cursor\": \"move\"\n    },\n    brushStart = function () {\n    },\n    brushing = function () {\n    },\n    brushEnd = function () {\n    },\n\n    brushEls = {},\n    brushClass;\n\n  /*\n   * mouse down and start brushing or dragging.\n   */\n  function down(e) {\n    var target = e.target,\n      bgOffset;\n\n    // Store some global state for the duration of the brush gesture.\n    d3_svg_brush = brush;\n    d3_svg_brushTarget = $(brushEls.paper.canvas).parent();\n    d3_svg_brushExtent = extent;\n    bgOffset = $(d3_svg_brushTarget).offset();\n\n    d3_svg_brushOffset = [e.pageX - bgOffset.left, e.pageY - bgOffset.top];\n    d3_svg_brushEls = brushEls;\n\n    // If the extent was clicked on, drag rather than brush;\n    // store the offset between the mouse and extent origin instead.\n    d3_svg_brushDrag = target.__brushNodeType__ === \"fg\" ? true : false;\n    if (d3_svg_brushDrag) {\n      d3_svg_brushOffset[0] = extent[0][0] - d3_svg_brushOffset[0];\n      d3_svg_brushOffset[1] = extent[0][1] - d3_svg_brushOffset[1];\n    } else if (/^resize/.test(target.__brushNodeType__)) {\n      // If a resizer was clicked on, record which side is to be resized.\n      // Also, set the offset to the opposite side.\n      d3_svg_brushResize = target.__brushNodeType__.split(\"_\")[1];\n      d3_svg_brushOffset[0] = extent[+(/w$/.test(d3_svg_brushResize))][0];\n      d3_svg_brushOffset[1] = extent[+(/^n/.test(d3_svg_brushResize))][1];\n    } else if (e.altKey) {\n      // If the ALT key is down when starting a brush, the center is at the mouse.\n      d3_svg_brushCenter = d3_svg_brushOffset.slice();\n    }\n\n    // Restrict which dimensions are resized.\n    d3_svg_brushX = !/^(n|s)$/.test(d3_svg_brushResize) && x;\n    d3_svg_brushY = !/^(e|w)$/.test(d3_svg_brushResize) && y;\n\n    // Notify listeners.\n    d3_svg_brushDispatch = dispatcher(this, arguments);\n    d3_svg_brushDispatch(\"brushstart\");\n    d3_svg_brushMove(e);\n    e.stopPropagation();\n  }\n\n  /*\n   * create brush\n   * input a Raphael paper, return a brush object.\n   */\n  function brush(paper) {\n    var resizes = x && y ? [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"]\n      : x ? [\"e\", \"w\"]\n      : y ? [\"n\", \"s\"]\n      : [];\n\n    if (x) {\n      e = d3_scaleRange(x);\n      left = e[0];\n      width = e[1] - e[0];\n    }\n\n    if (y) {\n      e = d3_scaleRange(y);\n      top = e[0];\n      height = e[1] - e[0];\n    }\n\n    brushEls.paper = paper;\n    brushEls.brushSet = paper.set();\n    brushEls.resizerSet = paper.set();\n    brushEls.bg = paper.rect(left, top, width, height)\n      .attr({\n        \"fill\": \"#dddddd\",\n        \"stroke\": \"none\",\n        \"cursor\": \"crosshair\"\n      })\n      .attr(backgroundAttr);\n    brushEls.bg.node.__brushNodeType__ = \"bg\";\n    brushEls.bg.node.ondragstart = function () {\n      return false;\n    };//firefox drag bug fix;\n\n    brushClass = \"brush\" + brushEls.bg.id;\n\n    //$(brushEls.bg.node).addClass(\"brush bg rvml\");  // fail to svg\n    brushEls.bg.node.setAttribute(\"class\", \"brush bg rvml \" + brushClass);\n    brushEls.bg.node.setAttribute(\"className\", \"brush bg rvml \" + brushClass);// IE 6,7\n\n    brushEls.fg = paper.rect(left, top, (x ? 0 : width), (y ? 0 : height))\n      .attr({\n        \"fill\": \"steelblue\",\n        \"stroke\": \"none\",\n        \"cursor\": \"move\"\n      })\n      .attr(foregroundAttr);\n    brushEls.fg.node.__brushNodeType__ = \"fg\";\n    brushEls.fg.node.ondragstart = function () {\n      return false;\n    };//firefox drag bug fix;\n    //$(brushEls.fg.node).addClass(\"brush fg rvml\");   //fail to svg\n    brushEls.fg.node.setAttribute(\"class\", \"brush fg rvml \" + brushClass);\n    brushEls.fg.node.setAttribute(\"className\", \"brush fg rvml \" + brushClass);// IE 6,7\n\n    resizes.forEach(function (d) {\n      var resizer = paper.rect(left, top, (x ? 6 : width), (y ? 6 : height))\n        .data(\"resizeOrient\", d)\n        .attr({\n          \"cursor\": d3_svg_brushCursor[d],\n          \"fill\": \"white\",\n          \"stroke\": \"black\",\n          \"opacity\": 0\n        });\n      if (Raphael.vml) {\n        resizer.attr({\"cursor\": vml_brushCursor[d]});\n      }\n      if (brush.empty()) {\n        //hide all resizers\n        if (d === \"n\" || d === \"s\") {\n          resizer.attr({\"height\": 0});\n        } else {\n          resizer.attr({\"width\": 0});\n        }\n      }\n      resizer.node.__brushNodeType__ = \"resizer_\" + d;\n      resizer.node.ondragstart = function () {\n        return false;\n      };//firefox drag bug fix;\n      //$(resizer.node).addClass(\"brush rvml \" + d3_svg_brushCursor[d]);  //fail to svg\n      resizer.node.setAttribute(\"class\", \"brush rvml \" + brushClass + \" \" + d3_svg_brushCursor[d]);\n      //IE 6,7\n      resizer.node.setAttribute(\"className\", \"brush rvml \" + brushClass + \" \" + d3_svg_brushCursor[d]);\n      brushEls.resizerSet.push(resizer);\n    });\n\n    if (x) {\n      d3_svg_brushRedrawX(brushEls, extent);\n    }\n\n    if (y) {\n      d3_svg_brushRedrawY(brushEls, extent);\n    }\n\n    //$(paper.canvas).delegate(\".brush\",\"mousedown\", down);\n    //$(paper.canvas).undelegate(\".brush\",\"mousedown\", down);\n    //$(paper.canvas).delegate(\".brush\",\"mousedown\", down);\n    //$(paper.canvas).off(\"mousedown\", \".brush\", down);\n    $(paper.canvas).on(\"mousedown\", \".\" + brushClass, down);\n\n    brush.brushElements = brushEls;\n    return brush;\n  }\n\n  // dispatch event, bind data to golbal variant d3.event.\n  var dispatcher = function (that, argumentz) {\n    return function (type) {\n      var e = d3.event;\n      try {\n        d3.event = {type: type, target: brush};\n        event[type].apply(that, argumentz);\n      } finally {\n        d3.event = e;\n      }\n    };\n  };\n\n  /**\n   * get or set brush's left\n   * @param z, a value in brush scale's domain\n   */\n  brush.left = function (z) {\n    if (!arguments.length) {\n      return left;\n    }\n    left = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's top\n   * @param z, a value in brush scale's domain\n   */\n  brush.top = function (z) {\n    if (!arguments.length) {\n      return top;\n    }\n    top = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's width\n   * @param z, a value in brush scale's domain\n   */\n  brush.width = function (z) {\n    if (!arguments.length) {\n      return width;\n    }\n    width = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's height\n   * @param z, a value in brush scale's domain\n   */\n  brush.height = function (z) {\n    if (!arguments.length) {\n      return height;\n    }\n    height = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's x scale\n   * @param z, d3's sacle object\n   */\n  brush.x = function (z) {\n    if (!arguments.length) {\n      return x;\n    }\n    x = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's y scale\n   * @param z, d3's sacle object\n   */\n  brush.y = function (z) {\n    if (!arguments.length) {\n      return y;\n    }\n    y = z;\n    return brush;\n  };\n\n  /**\n   * get or set brush's extent in scale's domain format.\n   * if both x and y exist, @param z's format is [[x0, y0], [x1, y1]]\n   * if only one of x and y exists, @param z's format is [x0, x1] or [y0, y1].\n   */\n  brush.extent = function (z) {\n    var x0, x1, y0, y1, t;\n\n    // Invert the pixel extent to data-space.\n    if (!arguments.length) {\n      if (x) {\n        x0 = extent[0][0];\n        x1 = extent[1][0];\n        if (x.invert) {\n          x0 = x.invert(x0);\n          x1 = x.invert(x1);\n        }\n        if (x1 < x0) {\n          t = x0;\n          x0 = x1;\n          x1 = t;\n        }\n      }\n      if (y) {\n        y0 = extent[0][1];\n        y1 = extent[1][1];\n        if (y.invert) {\n          y0 = y.invert(y0);\n          y1 = y.invert(y1);\n        }\n        if (y1 < y0) {\n          t = y0;\n          y0 = y1;\n          y1 = t;\n        }\n      }\n      return x && y ? [[x0, y0], [x1, y1]] : x ? [x0, x1] : y && [y0, y1];\n    }\n\n    // Scale the data-space extent to pixels.\n    if (x) {\n      x0 = z[0];\n      x1 = z[1];\n      if (y) {\n        x0 = x0[0];\n        x1 = x1[0];\n      }\n      if (x.invert) {\n        x0 = x(x0);\n        x1 = x(x1);\n      }\n      if (x1 < x0) {\n        t = x0;\n        x0 = x1;\n        x1 = t;\n      }\n      extent[0][0] = x0;\n      extent[1][0] = x1;\n    }\n    if (y) {\n      y0 = z[0];\n      y1 = z[1];\n      if (x) {\n        y0 = y0[1];\n        y1 = y1[1];\n      }\n      if (y.invert) {\n        y0 = y(y0);\n        y1 = y(y1);\n      }\n      if (y1 < y0) {\n        t = y0;\n        y0 = y1;\n        y1 = t;\n      }\n      extent[0][1] = y0;\n      extent[1][1] = y1;\n    }\n\n    return brush;\n  };\n\n  //empty extent and refresh foreground\n  brush.clear = function () {\n    extent[0][0] = extent[0][1] = extent[1][0] = extent[1][1] = 0;\n    brush.refresh();\n    return brush;\n  };\n\n  //refresh foreground\n  brush.refresh = function () {\n    if (x) {\n      d3_svg_brushRedrawX(brushEls, extent);\n    }\n    if (y) {\n      d3_svg_brushRedrawY(brushEls, extent);\n    }\n    return brush;\n  };\n\n  //remove all brush elements, so users can reset brush attributes and redraw it.\n  brush.remove = function () {\n    $(paper.canvas).off(\"mousedown\", \".\" + brushClass, down);\n    brushEls.fg.remove();\n    brushEls.bg.remove();\n    brushEls.resizerSet.remove();\n    return brush;\n  };\n\n  // if brush is empty, return true, else false;\n  brush.empty = function () {\n    return (x && extent[0][0] === extent[1][0]) || (y && extent[0][1] === extent[1][1]);\n  };\n\n  // set background attribute.\n  brush.backgroundAttr = function (x) {\n    if (!arguments.length) {\n      return backgroundAttr;\n    }\n    backgroundAttr = x;\n    return brush;\n  };\n\n  // set foreground attribute.\n  brush.foregroundAttr = function (x) {\n    if (!arguments.length) {\n      return foregroundAttr;\n    }\n    foregroundAttr = x;\n    return brush;\n  };\n\n  $(document).bind(\"mousemove\", d3_svg_brushMove)\n    .bind(\"mouseup\", d3_svg_brushUp)\n    .bind(\"keydown\", d3_svg_brushKeydown)\n    .bind(\"keyup\", d3_svg_brushKeyup);\n\n  return d3.rebind(brush, event, \"on\");\n};\n\nDataV.Brush = Brush;\n\n/******************************************************************/\n// floattag\nvar FloatTag = function () {\n\n  var _mousemove = function (e) {\n    var jqNode = e.data.jqNode;\n    var container = e.data.container;\n    var mouseToFloatTag = {x: 20, y: 20};\n    var offset = $(container).offset();\n    if (!(e.pageX && e.pageY)) {\n      return false;\n    }\n    var x = e.pageX - offset.left,\n      y = e.pageY - offset.top;\n    var position = $(container).position();\n\n    setContent.call(this);\n\n    var floatTagWidth, floatTagHeight;\n    //set floatTag location\n    floatTagWidth = jqNode.outerWidth();\n    floatTagHeight = jqNode.outerHeight();\n    if (floatTagWidth + x + 2 * mouseToFloatTag.x <= $(container).width()) {\n      x += mouseToFloatTag.x;\n    } else {\n      x = x - floatTagWidth - mouseToFloatTag.x;\n    }\n    if (y >= floatTagHeight + mouseToFloatTag.y) {\n      y = y - mouseToFloatTag.y - floatTagHeight;\n    } else {\n      y += mouseToFloatTag.y;\n    }\n    jqNode.css(\"left\", x + \"px\");\n    jqNode.css(\"top\", y + \"px\");\n  };\n\n  var setContent = function () {\n  };\n\n  /**\n   * @param paper: raphael's paper object.\n   * @return axisSet: raphael's set object.\n   */\n  function floatTag(cont) {\n    var container = cont;\n    var jqNode = $(\"<div/>\").css({\n      \"border\": \"1px solid\",\n      \"border-color\": $.browser.msie ? \"rgb(0, 0, 0)\" : \"rgba(0, 0, 0, 0.8)\",\n      \"background-color\": $.browser.msie ? \"rgb(0, 0, 0)\" : \"rgba(0, 0, 0, 0.75)\",\n      \"color\": \"white\",\n      \"border-radius\": \"2px\",\n      \"padding\": \"12px 8px\",\n      //\"line-height\": \"170%\",\n      //\"opacity\": 0.7,\n      \"font-size\": \"12px\",\n      \"box-shadow\": \"3px 3px 6px 0px rgba(0,0,0,0.58)\",\n      \"font-familiy\": \"\",\n      \"z-index\": 10000,\n      \"text-align\": \"center\",\n\n      \"visibility\": \"hidden\",\n      \"position\": \"absolute\"\n    });\n    $(container).append(jqNode)\n      .mousemove({\"jqNode\": jqNode, \"container\": container}, _mousemove);\n    return jqNode;\n  }\n\n  floatTag.setContent = function (sc) {\n    if (arguments.length === 0) {\n      return setContent;\n    }\n    setContent = sc;\n  };\n\n  return floatTag;\n};\n\nDataV.FloatTag = FloatTag;\n\n//module.exports = DataV;\n//});\n/*global EventProxy, d3, Raphael, $ */\n//define(function (require, exports, module) {\n//    var DataV = require('datav');\nvar theme = DataV.Themes;\n\nvar Tree = DataV.extend(DataV.Chart, {\n  initialize: function (container, options) {\n    this.type = \"Tree\";\n    this.container = container;\n    this.defaults = {};\n\n    this.addlink = {};\n\n    // Properties\n    this.treeDepth = 0;\n    this.font = {};\n\n    // Canvas\n    this.defaults.width = 750;\n    this.defaults.height = 760;\n    this.defaults.deep = 180;\n    this.defaults.radius = 15;\n\n    this.setOptions(options);\n    this.emitter = new EventProxy();\n    this.createCanvas();\n  }\n});\n\nTree.prototype.on = function (eventName, callback) {\n  this.emitter.on(eventName, callback);\n};\n\nTree.prototype.setOptions = function (options) {\n  var prop;\n  if (options) {\n    for (prop in options) {\n      if (options.hasOwnProperty(prop)) {\n        this.defaults[prop] = options[prop];\n      }\n    }\n  }\n};\n\nTree.prototype.hierarchyTableToJson = function (table) {\n  if (table[0][0] === \"ID\") {\n    table = table.slice(1);\n  }\n\n  var rootID;\n  var hierarchy = {};\n  var addlink = {}; //for multi-fathernode\n\n  table.forEach(function (d, i) {\n    if (d[0] === \"\") {\n      throw new Error(\"ID can not be empty(line:\" + (i + 1) + \").\");\n    }\n    if (!d[3]) {\n      if (rootID) {\n        throw new Error(\"2 or more lines have an empty parentID(line:\" + (i + 1) + \").\");\n      } else {\n        rootID = d[0];\n      }\n    }\n    if (hierarchy[d[0]]) {\n      throw new Error(\"2 or more lines have same ID: \" + d[0] + \"(line:\" + (i + 1) + \").\");\n    }\n\n    var value = \"\";\n    var j, length;\n    if (d.length > 4) {\n      for (j = 4, length = d.length; j < length; j++) {\n        if (j < length - 1) {\n          value = value + d[j] + \",\";\n        } else {\n          value = value + d[j];\n        }\n      }\n    }\n    hierarchy[d[0]] = {name: d[1], size: d[2], child: [], id: d[0], value: value};\n  });\n  if (!rootID) {\n    throw new Error(\"No root node defined.\");\n  }\n  table.forEach(function (d, i) {\n    if (d[3]) {\n      var record;\n      var ids = d[3].split('.');\n      if (ids.length === 1) {\n        record = hierarchy[d[3]];\n        record.child.push(d[0]);\n      } else {\n        record = hierarchy[ids[0]];\n        record.child.push(d[0]);\n        addlink[d[0]] = {child: [], path: [], pnode: []};\n\n        var j, length;\n        for (j = 1, length = ids.length; j < length; j++) {\n          addlink[d[0]].child.push(ids[j]);\n        }\n      }\n      if (!record) {\n        throw new Error(\"Can not find parent with ID \" + d[3] + \"(line:\" + (i + 1) + \").\");\n      }\n    }\n  });\n\n  this.addlink = addlink;\n\n  var recurse = function (rootID) {\n    var record = hierarchy[rootID];\n    if (record.child.length === 0) {\n      if (isNaN(parseFloat(record.size))) {\n        throw new Error(\"Leaf node's size is not a number(ID:\" + (rootID + 1) + \").\");\n      } else {\n        return {\n          name: record.name,\n          size: record.size,\n          num: record.id,\n          children: null,\n          draw: false,\n          value: record.value\n        };\n      }\n    } else {\n      var childNode = [];\n      record.child.forEach(function (d) {\n        childNode.push(recurse(d));\n      });\n      return {name: record.name, children: childNode, num: record.id, draw: false, value: record.value};\n    }\n  };\n\n  return recurse(rootID);\n};\n\nTree.prototype.setSource = function (source) {\n  var conf = this.defaults;\n\n  this.rawData = source; // this.hierarchyTableToJson(source);\n  this.source = this.remapSource(source);\n\n  this.source.x0 = conf.width / 2;\n  this.source.y0 = conf.radius * 10;\n\n  if (this.source.children) {\n\n    this.source.children.forEach(function collapse(d) {\n      if (d.children) {\n        // d._children = d.children;\n        // d._children.forEach(collapse);\n        // d.children = null;\n        d._children = null;\n        d.children.forEach(collapse);\n      }\n    });\n\n  }\n};\n\nTree.prototype.remapSource = function (data) {\n  return this.hierarchyTableToJson(data);\n  // return data;\n};\n\nTree.prototype.layout = function () {\n  var conf = this.defaults;\n  var tree = d3.layout.tree()\n    .size([conf.width, conf.height]);\n\n  this.nodesData = tree.nodes(this.source);\n\n  var treedepth = 0;\n  var id = 0;\n\n  this.nodesData.forEach(function (d) {\n    if (d.depth > treedepth) {\n      treedepth = d.depth;\n    }\n  });\n\n  this.nodesData.forEach(function (d) {\n    d.origDepth = d.depth;\n    d.depth -= Math.max(0, treedepth - 5);\n  });\n\n  treedepth = Math.min(5, treedepth);\n  this.treeDepth = treedepth;\n\n  conf.deep = conf.height / (treedepth + 1);\n\n  this.nodesData.forEach(function (d) {\n    d.y = conf.radius * 3 + d.depth * conf.deep;\n    d.id = id;\n    id++;\n  });\n};\n\nTree.prototype.getColor = function () {\n  //var conf = this.defaults;\n  //var treedepth = this.treeDepth;\n\n  var colorMatrix = DataV.getColor();\n  var color;\n  if (colorMatrix.length > 1 && colorMatrix[0].length > 1) {\n    color = [colorMatrix[0][0], colorMatrix[1][0]];\n  } else {\n    color = colorMatrix[0];\n  }\n  //var colorRow_Num = colorRow.length - 1;\n\n  return DataV.gradientColor(color, \"special\");\n\n  // return function(d){\n  //     var color;\n\n  //     if ((treedepth * 2 - 1 )> colorRow_Num) {\n  //         if (d > colorRow_Num) {\n  //             color = colorRow[colorRow_Num];\n  //         } else {\n  //             color = colorRow[d];\n  //         }\n  //     } else {\n  //         if (d == 0) {\n  //             color = colorRow[0];\n  //         } else {\n  //             color = colorRow[d * 2 - 1];\n  //         }\n  //     }\n\n  //     return color;\n  // }\n};\n\n// Tree.prototype.getFont = function () {\n//     //var conf = this.defaults;\n\n//     return DataV.getFont();\n// };\n\nTree.prototype.createCanvas = function () {\n  var conf = this.defaults;\n  var canvasStyle;\n  this.canvas = new Raphael(this.container, conf.width, conf.height);\n  this.canvasF = document.getElementById(this.container);\n  canvasStyle = this.canvasF.style;\n  canvasStyle.position = \"relative\";\n  this.floatTag = DataV.FloatTag()(this.canvasF);\n\n  this.floatTag.css({\"visibility\": \"hidden\"});\n\n  this.DOMNode = $(this.canvas.canvas);\n  var that = this;\n  this.DOMNode.click(function (event) {\n    that.emitter.trigger(\"click\", event);\n  });\n  this.DOMNode.dblclick(function (event) {\n    that.emitter.trigger(\"dblclick\", event);\n  });\n\n  var mousewheel = document.all ? \"mousewheel\" : \"DOMMouseScroll\";\n  this.DOMNode.bind(mousewheel, function (event) {\n    that.emitter.trigger(\"mousewheel\", event);\n  });\n\n  this.DOMNode.bind(\"contextmenu\", function (event) {\n    that.emitter.trigger(\"contextmenu\", event);\n  });\n\n  this.DOMNode.delegate(\"circle\", \"click\", function (event) {\n    that.emitter.trigger(\"circle_click\", event);\n  });\n\n  this.DOMNode.delegate(\"circle\", \"mouseover\", function (event) {\n    that.emitter.trigger(\"circle_mouseover\", event);\n  });\n\n  this.DOMNode.delegate(\"circle\", \"mouseout\", function (event) {\n    that.emitter.trigger(\"circle_mouseout\", event);\n  });\n\n};\n\nTree.prototype.zoom = function (d) {\n  var multiple = 2;\n\n  if (d !== null) {\n    multiple = d;\n  }\n\n  var conf = this.defaults;\n\n  conf.width = conf.width * multiple;\n\n  if (conf.height <= this.treeDepth * conf.deep) {\n    conf.height = conf.height * multiple;\n  }\n\n  //this.createCanvas();\n  this.canvas.setSize(conf.width, conf.height);\n  this.canvas.setViewBox(0, 0, conf.width, 800);\n  this.defaults = conf;\n\n  this.render();\n};\n\n\nTree.prototype.getLinkPath = function (fx, fy, tx, ty) {\n  var conf = this.defaults;\n\n  var c1x = fx;\n  var c1y = fy + (ty - fy) / 2;\n  var c2x = tx;\n  var c2y = ty - (ty - fy) / 2;\n\n  var link_path = [[\"M\", fx, fy + conf.radius],\n    [\"C\", c1x, c1y, c2x, c2y, tx, ty - conf.radius]];\n\n  return link_path;\n};\n\nTree.prototype.generatePaths = function () {\n  var canvas = this.canvas;\n  var source = this.source;\n  var conf = this.defaults;\n  var radius = conf.radius;\n  //canvas.clear();\n  var color = this.getColor();\n  // var font = this.getFont();\n  var font_family = '';\n  var font_size = 8;\n  var treedepth = this.treeDepth;\n  var nodesData = this.nodesData;\n\n  var n = 0;\n\n  var addlink = this.addlink;\n  var node;\n  var num = 0;\n\n  var nodes = canvas.set();\n  var path = [];\n  var textpath = [];\n\n  var tree = this;\n  var nodeupdate = function () {\n    tree.update(this.data(\"num\"));\n  };\n\n  $(\"#\" + this.container).append(this.floatTag);\n\n  var i, nodesLength;\n  for (i = 0, nodesLength = nodesData.length; i < nodesLength; i++) {\n    var d = nodesData[i];\n    if (d.depth < 0) {\n      continue;\n    }\n    var extra = d.value.split(\",\");\n    d.lit = extra[0] == \"1\";\n    d.new = extra[1] == \"1\";\n\n    if (d.depth == 0) {\n      if (d.lit) {\n        delete d.parent;\n      } else {\n        continue;\n      }\n    }\n    if (d.new) {\n      d.draw = true;\n    }\n    var parent = d.parent;\n\n    if (addlink[d.num]) {\n      var j, k, childLength;\n      for (j = 0, childLength = addlink[d.num].child.length; j < childLength; j++) {\n        for (k = 0; k < nodesLength; k++) {\n          if (nodesData[k].num === addlink[d.num].child[j]) {\n            addlink[d.num].pnode[j] = k;\n            addlink[d.num].path[j] = canvas.path()\n              .attr({stroke: \"#939598\", \"stroke-width\": d.lit ? 2 : 0.5});\n          }\n        }\n      }\n    }\n\n    var startX;\n    var startY;\n\n    if (parent && d.draw) {\n      startX = parent.x;\n      startY = parent.y;\n    } else {\n      startX = d.x;\n      startY = d.y;\n    }\n    var p = null;\n    if (parent) {\n      p = canvas.path().attr({stroke: \"#939598\", \"stroke-width\": d.lit ? 2 : 0.5});\n      path.push(p);\n    }\n    var circle = canvas.circle(startX, startY, radius)\n      .attr({\n        fill: (d.lit ? color(d.origDepth * 1.5) : \"#999\"),\n        stroke: \"#ffffff\",\n        \"stroke-width\": 1,\n        \"fill-opacity\": 0.4,\n        \"data\": 12\n      }).data(\"num\", i);\n    if (parent && d.draw) {\n      circle.animate({cx: d.x, cy: d.y}, 500, \"backOut\");\n    } else if (parent) {\n      circle.animate({cx: d.x, cy: d.y}, 0, \"linear\");\n    }\n\n    nodes.push(\n      circle\n    );\n\n    d.order = nodes.items.length;\n    if (d.children || d._children) {\n      //nodes[i].click(nodeupdate);\n      nodes.items.rear().click(nodeupdate);\n    }\n\n    if (d._children) {\n      //nodes[i].attr({\n      nodes.items.rear().attr({\n        stroke: color(d.depth / treedepth),\n        \"stroke-width\": radius,\n        \"stroke-opacity\": 0.4,\n        \"fill-opacity\": 1,\n        \"r\": radius / 2\n      });\n    }\n\n    if (d.children) {\n      textpath.push(canvas.text(d.x, d.y - radius - 7, d.name).attr({\n        'font-size': 12,\n        //\"fill-opacity\": d.lit ? 1 : 0.4\n      }));\n    } else {\n      textpath.push(canvas.text(d.x, d.y + radius + 7, d.name).attr({\n        'font-size': 12,\n        //\"fill-opacity\": d.lit ? 1 : 0.4\n      }));\n    }\n  }\n\n  // var back = function(pid, x, y){\n  //     s.forEach(function (d, i){\n  //         if (d.data('pid') == pid){\n  //             d.animate({cx: x, cy: y}, 200, \"backOut\");\n  //             if (nodes[i].children)\n  //             back(d.data('num'), d.attr('cx'), d.attr('cy'));\n  //         }\n  //     });\n  // };\n\n  // s.forEach(function(d, i) {\n  //     d.click(function(){\n  //         if (nodes[i].children)\n  //         back(d.data('num'), d.attr('cx'), d.attr('cy'));\n  //         tree.update(d.data(\"num\"));\n  //     });\n  // });\n  var floatTag = this.floatTag;\n  nodes.forEach(function (d, i) {\n    var orig = d.data(\"num\");\n    //$(d.node).attr('value', nodesData[i].value);\n    $(d.node).attr('value', nodesData[orig].value);\n    var textY = textpath[i].attr('y');\n\n    var thisradius = d.attr('r');\n    var thisstrokewidth = d.attr('stroke-width');\n    d.mouseover(function () {\n      //if (!nodesData[i]._children) {\n      if (!nodesData[orig]._children) {\n        this.animate({r: thisradius + 2, \"fill-opacity\": 0.75}, 100);\n      } else {\n        this.animate({r: thisradius + 2, \"stroke-opacity\": 0.75}, 100);\n      }\n\n      textpath[i].attr({'font-size': 20});\n\n\n      if (i > 0) {\n        //if (!nodesData[i].children) {\n        if (!nodesData[orig].children) {\n          textpath[i].animate({'y': textY + 12}, 100, \"backOut\");\n        } else {\n          textpath[i].animate({'y': textY - 12}, 100, \"backOut\");\n        }\n      }\n\n      var getFline = function (node, num) {\n        var parent = node.parent;\n        if (parent) {\n          path[node.order - 2].attr({\"stroke-width\": 4, \"stroke-opacity\": num});\n          if (num > 0.5) {\n            num = num - 0.1;\n          }\n          getFline(parent, num);\n        }\n      };\n\n      //getFline(nodesData[i], 0.9);\n      getFline(nodesData[orig], 0.9);\n\n      //var thisparent = nodesData[i].parent;\n      var thisparent = nodesData[orig].parent;\n      var j, textpathLength;\n      for (j = 0, textpathLength = textpath.length; j < textpathLength; j++) {\n        //var parent = nodesData[j].parent;\n        var parent = nodesData[orig].parent;\n        //if (parent === thisparent && j !== i) {\n        if (parent === thisparent && j !== nodesData[orig].order - 1) {\n          textpath[j].animate({'fill-opacity': 0.4});\n        }\n      }\n\n      //console.log(nodesData[i]);\n      floatTag.html('<div style = \"text-align: center;margin:auto;color:'\n        //+ jqNode.color\n        + \"#ffffff\"\n        //+ '\">' + nodesData[i].name + '</div>'\n        + '\">' + nodesData[orig].name + '</div>'\n      );\n      floatTag.css({\"visibility\": \"visible\"});\n    })\n      .mouseout(function () {\n        floatTag.css({\"visibility\": \"hidden\"});\n        //if (!nodesData[i]._children) {\n        if (!nodesData[orig]._children) {\n          this.animate({r: thisradius, \"fill-opacity\": 0.4}, 100);\n        } else {\n          this.animate({r: thisradius, \"stroke-width\": thisstrokewidth, \"stroke-opacity\": 0.4}, 100);\n        }\n        textpath[i].attr({'font-size': 12});\n        textpath[i].animate({'y': textY}, 100, \"backOut\");\n\n        var getFline = function (node) {\n          var parent = node.parent;\n          if (parent) {\n            path[node.order - 2].attr({\"stroke-width\": node.lit ? 2 : 0.5, \"stroke-opacity\": 1});\n            getFline(parent);\n          }\n        }\n        //getFline(nodesData[i]);\n        getFline(nodesData[orig]);\n\n        //var thisparent = nodesData[i].parent;\n        var thisparent = nodesData[orig].parent;\n        var j, textpathLength;\n        for (j = 0, textpathLength = textpath.length; j < textpathLength; j++) {\n          //var parent = nodesData[j].parent;\n          var parent = nodesData[orig].parent;\n          //if (parent === thisparent && j !== i) {\n          if (parent === thisparent && j !== nodesData[orig].order - 1) {\n            textpath[j].animate({'fill-opacity': 1});\n          }\n        }\n      });\n  });\n\n  nodes.onAnimation(function () {\n    var pathNum = 0;\n    var i, nodeslength;\n\n    for (i = 1, nodeslength = nodes.length; i < nodeslength; i++) {\n      var d = nodes[i],\n        orig = d.data(\"num\");\n      //var node = nodesData[i];\n      var node = nodesData[orig];\n      var parent = node.parent;\n\n      path[pathNum]\n        .attr({path: tree.getLinkPath(parent.x, parent.y, d.attr(\"cx\"), d.attr(\"cy\"))});\n\n      pathNum++;\n\n      if (addlink[node.num]) {\n        var j, k, linkchildLength, nodesLength;\n        for (j = 0, linkchildLength = addlink[node.num].child.length; j < linkchildLength; j++) {\n          for (k = 0, nodesLength = nodesData.length; k < nodesLength; k++) {\n            //var anparent = nodesData[k];\n            var anparent = nodesData[nodes[k].attr(\"orig\")];\n            if (anparent.num === addlink[node.num].child[j]) {\n              var link_path = tree.getLinkPath(anparent.x, anparent.y, d.attr(\"cx\"), d.attr(\"cy\"));\n              addlink[node.num].path[j].attr({path: link_path});\n            }\n          }\n        }\n      }\n    }\n  });\n\n  this.nodes = nodes;\n  this.path = path;\n  this.textpath = textpath;\n  // this.link_paths = link_paths;\n  // this.circle_paths = circle_paths;\n  // this.text_paths = text_paths;\n};\n\nTree.prototype.update = function (i) {\n  var source = this.source;\n  var conf = this.defaults;\n\n  source.children.forEach(function clearDraw(d) {\n    d.draw = false;\n    if (d.children) {\n      d.children.forEach(clearDraw);\n    }\n  });\n\n  source.children.forEach(function find(d) {\n    if (d.id === i) {\n      if (d.children) {\n        d._children = d.children;\n        d.children = null;\n      } else {\n        d.children = d._children;\n        if (d.children) {\n          d.children.forEach(function drawn(child) {\n            child.draw = true;\n            if (child.children) {\n              child.children.forEach(drawn);\n            }\n          });\n        }\n        d._children = null;\n      }\n    } else {\n      if (d.children) {\n        d.children.forEach(find);\n      }\n    }\n  });\n  this.source = source;\n  this.source.x0 = conf.width / 2;\n  this.source.y0 = conf.radius * 2;\n  this.render();\n};\n\n\nTree.prototype.render = function (options) {\n  // var st = new Date().getTime();\n  if (!this.container) {\n    throw new Error(\"Please specify which node to render.\");\n  }\n  this.canvas.clear();\n  this.setOptions(options);\n  this.canvas.setSize(this.defaults.width, this.defaults.height);\n  this.layout();\n  // var st2 = new Date().getTime();\n\n  this.generatePaths();\n  // var et = new Date().getTime();\n  //this.canvas.renderfix();\n};\n\nTree.prototype.append = function (arr) {\n  var source = this.rawData;\n  for (var i = 0; i < source.length; i++) {\n    var a = source[i];\n    if (a[5] == \"1\") {\n      a[5] = \"0\"\n    }\n  }\n  if (arr.length < 6) {\n    arr.push(\"1\");\n  } else {\n    arr[5] = \"1\";\n  }\n  source.push(arr);\n  this.setSource(source);\n};\n\nmodule.exports = Tree;\n//});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/compiler.datav.js\n **/","/*global exports */\n/**\n * @fileoverview This file is used for define the EventProxy library.\n * @author <a href=\"mailto:shyvo1987@gmail.com\">Jackson Tian</a>\n * @version 0.1.0\n */\n(function () {\n    /**\n     * @description EventProxy. A module that can be mixed in to *any object* in order to provide it with\n     * custom events. You may `bind` or `unbind` a callback function to an event;\n     * `trigger`-ing an event fires all callbacks in succession.\n     * @constructor\n     * @name EventProxy\n     * @class EventProxy. An implementation of task/event based asynchronous pattern.\n     * @example\n     * var render = function (template, resources) {};\n     * var proxy = new EventProxy();\n     * proxy.assign(\"template\", \"l10n\", render);\n     * proxy.trigger(\"template\", template);\n     * proxy.trigger(\"l10n\", resources);\n     */\n    var EventProxy = function () {\n        if (!(this instanceof EventProxy)) {\n            return new EventProxy();\n        }\n        this._callbacks = {};\n        this._fired = {};\n    };\n\n    /**\n     * @description Bind an event, specified by a string name, `ev`, to a `callback` function.\n     * Passing `\"all\"` will bind the callback to all events fired.\n     * @memberOf EventProxy#\n     * @param {string} eventName Event name.\n     * @param {function} callback Callback.\n     */\n    EventProxy.prototype.addListener = function (ev, callback) {\n        this._callbacks = this._callbacks || {};\n        this._callbacks[ev] = this._callbacks[ev] || [];\n        this._callbacks[ev].push(callback);\n        return this;\n    };\n    EventProxy.prototype.bind = EventProxy.prototype.addListener;\n    EventProxy.prototype.on = EventProxy.prototype.addListener;\n    EventProxy.prototype.await = EventProxy.prototype.addListener;\n\n    /**\n     * @description Remove one or many callbacks. If `callback` is null, removes all\n     * callbacks for the event. If `ev` is null, removes all bound callbacks\n     * for all events.\n     * @memberOf EventProxy#\n     * @param {string} eventName Event name.\n     * @param {function} callback Callback.\n     */\n    EventProxy.prototype.removeListener = function (ev, callback) {\n        var calls = this._callbacks, i, l;\n        if (!ev) {\n            this._callbacks = {};\n        } else if (calls) {\n            if (!callback) {\n                calls[ev] = [];\n            } else {\n                var list = calls[ev];\n                if (!list) {\n                    return this;\n                }\n                l = list.length;\n                for (i = 0; i < l; i++) {\n                    if (callback === list[i]) {\n                        list[i] = null;\n                        break;\n                    }\n                }\n            }\n        }\n        return this;\n    };\n    EventProxy.prototype.unbind = EventProxy.prototype.removeListener;\n\n    /**\n     * @description Remove all listeners.\n     * It equals unbind(); Just add this API for as same as Event.Emitter.\n     * @memberOf EventProxy#\n     * @param {string} event Event name.\n     */\n    EventProxy.prototype.removeAllListeners = function (event) {\n        return this.unbind(event);\n    };\n\n    /**\n     * @description Trigger an event, firing all bound callbacks. Callbacks are passed the\n     * same arguments as `trigger` is, apart from the event name.\n     * Listening for `\"all\"` passes the true event name as the first argument.\n     * @param {string} eventName Event name.\n     * @param {mix} data Pass in data.\n     */\n    EventProxy.prototype.trigger = function (eventName, data) {\n        var list, calls, ev, callback, args, i, l;\n        var both = 2;\n        if (!(calls = this._callbacks)) {\n            return this;\n        }\n        while (both--) {\n            ev = both ? eventName : 'all';\n            list = calls[ev];\n            if (list) {\n                for (i = 0, l = list.length; i < l; i++) {\n                    if (!(callback = list[i])) {\n                        list.splice(i, 1); i--; l--;\n                    } else {\n                        args = both ? Array.prototype.slice.call(arguments, 1) : arguments;\n                        callback.apply(this, args);\n                    }\n                }\n            }\n        }\n        return this;\n    };\n    EventProxy.prototype.emit = EventProxy.prototype.trigger;\n    EventProxy.prototype.fire = EventProxy.prototype.trigger;\n\n    /**\n     * @description Bind an event like the bind method, but will remove the listener after it was fired.\n     * @param {string} ev Event name.\n     * @param {function} callback Callback.\n     */\n    EventProxy.prototype.once = function (ev, callback) {\n        var self = this,\n            wrapper = function () {\n                callback.apply(self, arguments);\n                self.unbind(ev, wrapper);\n            };\n        this.bind(ev, wrapper);\n        return this;\n    };\n\n    /**\n     * @description Bind an event, and trigger it immediately.\n     * @param {string} ev Event name.\n     * @param {function} callback Callback.\n     * @param {mix} data The data that will be passed to calback as arguments.\n     */\n    EventProxy.prototype.immediate = function (ev, callback, data) {\n        this.bind(ev, callback);\n        this.trigger(ev, data);\n        return this;\n    };\n\n    var _assign = function (eventname1, eventname2, cb, once) {\n        var proxy = this, length, index = 0, argsLength = arguments.length,\n            bind, _all,\n            callback, events, isOnce, times = 0, flag = {};\n\n        // Check the arguments length.\n        if (argsLength < 3) {\n            return this;\n        }\n\n        events = Array.prototype.slice.apply(arguments, [0, argsLength - 2]);\n        callback = arguments[argsLength - 2];\n        isOnce = arguments[argsLength - 1];\n\n        // Check the callback type.\n        if (typeof callback !== \"function\") {\n            return this;\n        }\n\n        length = events.length;\n        bind = function (key) {\n            var method = isOnce ? \"once\" : \"bind\";\n            proxy[method](key, function (data) {\n                proxy._fired[key] = proxy._fired[key] || {};\n                proxy._fired[key].data = data;\n                if (!flag[key]) {\n                    flag[key] = true;\n                    times++;\n                }\n            });\n        };\n\n        for (index = 0; index < length; index++) {\n            bind(events[index]);\n        }\n\n        _all = function () {\n            if (times < length) {\n                return;\n            }\n            var data = [];\n            for (index = 0; index < length; index++) {\n                data.push(proxy._fired[events[index]].data);\n            }\n            if (isOnce) {\n                proxy.unbind(\"all\", _all);\n            }\n            callback.apply(null, data);\n        };\n        proxy.bind(\"all\", _all);\n    };\n\n    /**\n     * @description Assign some events, after all events were fired, the callback will be executed once.\n     * @example\n     * proxy.all(ev1, ev2, callback);\n     * proxy.all([ev1, ev2], callback);\n     * proxy.all(ev1, [ev2, ev3], callback);\n     * @param {string} eventName1 First event name.\n     * @param {string} eventName2 Second event name.\n     * @param {function} callback Callback, that will be called after predefined events were fired.\n     */\n    EventProxy.prototype.all = function (eventname1, eventname2, cb) {\n        var args = Array.prototype.concat.apply([], arguments);\n        args.push(true);\n        _assign.apply(this, args);\n        return this;\n    };\n    EventProxy.prototype.assign = EventProxy.prototype.all;\n\n    /**\n     * @description Assign some events, after all events were fired, the callback will be executed first time.\n     * then any event that predefined be fired again, the callback will executed with the newest data.\n     * @example\n     * proxy.tail(ev1, ev2, callback);\n     * proxy.tail([ev1, ev2], callback);\n     * proxy.tail(ev1, [ev2, ev3], callback);\n     * @memberOf EventProxy#\n     * @param {string} eventName1 First event name.\n     * @param {string} eventName2 Second event name.\n     * @param {function} callback Callback, that will be called after predefined events were fired.\n     */\n    EventProxy.prototype.tail = function () {\n        var args = Array.prototype.concat.apply([], arguments);\n        args.push(false);\n        _assign.apply(this, args);\n        return this;\n    };\n    EventProxy.prototype.assignAll = EventProxy.prototype.tail;\n    EventProxy.prototype.assignAlways = EventProxy.prototype.tail;\n\n    /**\n     * @description The callback will be executed after the event be fired N times.\n     * @memberOf EventProxy#\n     * @param {string} eventName Event name.\n     * @param {number} times N times.\n     * @param {function} callback Callback, that will be called after event was fired N times.\n     */\n    EventProxy.prototype.after = function (eventName, times, callback) {\n        if (times === 0) {\n            callback.call(null, []);\n            return this;\n        }\n        var proxy = this,\n            firedData = [],\n            all;\n        all = function (name, data) {\n            if (name === eventName) {\n                times--;\n                firedData.push(data);\n                if (times < 1) {\n                    proxy.unbind(\"all\", all);\n                    callback.apply(null, [firedData]);\n                }\n            }\n        };\n        proxy.bind(\"all\", all);\n        return this;\n    };\n\n    /**\n     * @description The callback will be executed after any registered event was fired. It only executed once.\n     * @memberOf EventProxy#\n     * @param {string} eventName1 Event name.\n     * @param {string} eventName2 Event name.\n     * @param {function} callback The callback will get a map that has data and eventName attributes.\n     */\n    EventProxy.prototype.any = function () {\n        var proxy = this,\n            index,\n            _bind,\n            len = arguments.length,\n            callback = arguments[len - 1],\n            events = Array.prototype.slice.apply(arguments, [0, len - 1]),\n            count = events.length,\n            _eventName = events.join(\"_\");\n\n        proxy.once(_eventName, callback);\n\n        _bind = function (key) {\n            proxy.bind(key, function (data) {\n                proxy.trigger(_eventName, {\"data\": data, eventName: key});\n            });\n        };\n\n        for (index = 0; index < count; index++) {\n            _bind(events[index]);\n        }\n    };\n\n    /**\n     * @description The callback will be executed when the evnet name not equals with assigned evnet.\n     * @memberOf EventProxy#\n     * @param {string} eventName Event name.\n     * @param {function} callback Callback.\n     */\n    EventProxy.prototype.not = function (eventName, callback) {\n        var proxy = this;\n        proxy.bind(\"all\", function (name, data) {\n            if (name !== eventName) {\n                callback(data);\n            }\n        });\n    };\n\n    /**\n     * Create a new EventProxy\n     * @example\n     *     var ep = EventProxy.create();\n     *     ep.assign('user', 'articles', function(user, articles) {\n     *       // do something...\n     *     });\n     *\n     *     // or one line ways: Create EventProxy and Assign\n     *\n     *     var ep = EventProxy.create('user', 'articles', function(user, articles) {\n     *       // do something...\n     *     });\n     *\n     * @returns {EventProxy}\n     */\n    EventProxy.create = function () {\n        var ep = new EventProxy();\n        if (arguments.length) {\n            ep.assign.apply(ep, Array.prototype.slice.call(arguments));\n        }\n        return ep;\n    };\n\n    // Event proxy can be used in browser and Nodejs both.\n    if (typeof exports !== \"undefined\") {\n        exports.EventProxy = EventProxy;\n    } else {\n        this.EventProxy = EventProxy;\n    }\n\n}());\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/datavjs/deps/eventproxy.js\n **/","define(function (require, exports, module) {\n  /*!\n   * jQuery JavaScript Library v1.7.1\n   * http://jquery.com/\n   *\n   * Copyright 2011, John Resig\n   * Dual licensed under the MIT or GPL Version 2 licenses.\n   * http://jquery.org/license\n   *\n   * Includes Sizzle.js\n   * http://sizzlejs.com/\n   * Copyright 2011, The Dojo Foundation\n   * Released under the MIT, BSD, and GPL Licenses.\n   *\n   * Date: Mon Nov 21 21:11:03 2011 -0500\n   */\n  (function (window, undefined) {\n\n// Use the correct document accordingly with window argument (sandbox)\n    var document = window.document,\n      navigator = window.navigator,\n      location = window.location;\n    var jQuery = (function () {\n\n// Define a local copy of jQuery\n      var jQuery = function (selector, context) {\n          // The jQuery object is actually just the init constructor 'enhanced'\n          return new jQuery.fn.init(selector, context, rootjQuery);\n        },\n\n        // Map over jQuery in case of overwrite\n        _jQuery = window.jQuery,\n\n        // Map over the $ in case of overwrite\n        _$ = window.$,\n\n        // A central reference to the root jQuery(document)\n        rootjQuery,\n\n        // A simple way to check for HTML strings or ID strings\n        // Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n        quickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,\n\n        // Check if a string has a non-whitespace character in it\n        rnotwhite = /\\S/,\n\n        // Used for trimming whitespace\n        trimLeft = /^\\s+/,\n        trimRight = /\\s+$/,\n\n        // Match a standalone tag\n        rsingleTag = /^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,\n\n        // JSON RegExp\n        rvalidchars = /^[\\],:{}\\s]*$/,\n        rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,\n        rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\n        rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g,\n\n        // Useragent RegExp\n        rwebkit = /(webkit)[ \\/]([\\w.]+)/,\n        ropera = /(opera)(?:.*version)?[ \\/]([\\w.]+)/,\n        rmsie = /(msie) ([\\w.]+)/,\n        rmozilla = /(mozilla)(?:.*? rv:([\\w.]+))?/,\n\n        // Matches dashed string for camelizing\n        rdashAlpha = /-([a-z]|[0-9])/ig,\n        rmsPrefix = /^-ms-/,\n\n        // Used by jQuery.camelCase as callback to replace()\n        fcamelCase = function (all, letter) {\n          return ( letter + \"\" ).toUpperCase();\n        },\n\n        // Keep a UserAgent string for use with jQuery.browser\n        userAgent = navigator.userAgent,\n\n        // For matching the engine and version of the browser\n        browserMatch,\n\n        // The deferred used on DOM ready\n        readyList,\n\n        // The ready event handler\n        DOMContentLoaded,\n\n        // Save a reference to some core methods\n        toString = Object.prototype.toString,\n        hasOwn = Object.prototype.hasOwnProperty,\n        push = Array.prototype.push,\n        slice = Array.prototype.slice,\n        trim = String.prototype.trim,\n        indexOf = Array.prototype.indexOf,\n\n        // [[Class]] -> type pairs\n        class2type = {};\n\n      jQuery.fn = jQuery.prototype = {\n        constructor: jQuery,\n        init: function (selector, context, rootjQuery) {\n          var match, elem, ret, doc;\n\n          // Handle $(\"\"), $(null), or $(undefined)\n          if (!selector) {\n            return this;\n          }\n\n          // Handle $(DOMElement)\n          if (selector.nodeType) {\n            this.context = this[0] = selector;\n            this.length = 1;\n            return this;\n          }\n\n          // The body element only exists once, optimize finding it\n          if (selector === \"body\" && !context && document.body) {\n            this.context = document;\n            this[0] = document.body;\n            this.selector = selector;\n            this.length = 1;\n            return this;\n          }\n\n          // Handle HTML strings\n          if (typeof selector === \"string\") {\n            // Are we dealing with HTML string or an ID?\n            if (selector.charAt(0) === \"<\" && selector.charAt(selector.length - 1) === \">\" && selector.length >= 3) {\n              // Assume that strings that start and end with <> are HTML and skip the regex check\n              match = [null, selector, null];\n\n            } else {\n              match = quickExpr.exec(selector);\n            }\n\n            // Verify a match, and that no context was specified for #id\n            if (match && (match[1] || !context)) {\n\n              // HANDLE: $(html) -> $(array)\n              if (match[1]) {\n                context = context instanceof jQuery ? context[0] : context;\n                doc = ( context ? context.ownerDocument || context : document );\n\n                // If a single string is passed in and it's a single tag\n                // just do a createElement and skip the rest\n                ret = rsingleTag.exec(selector);\n\n                if (ret) {\n                  if (jQuery.isPlainObject(context)) {\n                    selector = [document.createElement(ret[1])];\n                    jQuery.fn.attr.call(selector, context, true);\n\n                  } else {\n                    selector = [doc.createElement(ret[1])];\n                  }\n\n                } else {\n                  ret = jQuery.buildFragment([match[1]], [doc]);\n                  selector = ( ret.cacheable ? jQuery.clone(ret.fragment) : ret.fragment ).childNodes;\n                }\n\n                return jQuery.merge(this, selector);\n\n                // HANDLE: $(\"#id\")\n              } else {\n                elem = document.getElementById(match[2]);\n\n                // Check parentNode to catch when Blackberry 4.6 returns\n                // nodes that are no longer in the document #6963\n                if (elem && elem.parentNode) {\n                  // Handle the case where IE and Opera return items\n                  // by name instead of ID\n                  if (elem.id !== match[2]) {\n                    return rootjQuery.find(selector);\n                  }\n\n                  // Otherwise, we inject the element directly into the jQuery object\n                  this.length = 1;\n                  this[0] = elem;\n                }\n\n                this.context = document;\n                this.selector = selector;\n                return this;\n              }\n\n              // HANDLE: $(expr, $(...))\n            } else if (!context || context.jquery) {\n              return ( context || rootjQuery ).find(selector);\n\n              // HANDLE: $(expr, context)\n              // (which is just equivalent to: $(context).find(expr)\n            } else {\n              return this.constructor(context).find(selector);\n            }\n\n            // HANDLE: $(function)\n            // Shortcut for document ready\n          } else if (jQuery.isFunction(selector)) {\n            return rootjQuery.ready(selector);\n          }\n\n          if (selector.selector !== undefined) {\n            this.selector = selector.selector;\n            this.context = selector.context;\n          }\n\n          return jQuery.makeArray(selector, this);\n        },\n\n        // Start with an empty selector\n        selector: \"\",\n\n        // The current version of jQuery being used\n        jquery: \"1.7.1\",\n\n        // The default length of a jQuery object is 0\n        length: 0,\n\n        // The number of elements contained in the matched element set\n        size: function () {\n          return this.length;\n        },\n\n        toArray: function () {\n          return slice.call(this, 0);\n        },\n\n        // Get the Nth element in the matched element set OR\n        // Get the whole matched element set as a clean array\n        get: function (num) {\n          return num == null ?\n\n            // Return a 'clean' array\n            this.toArray() :\n\n            // Return just the object\n            ( num < 0 ? this[this.length + num] : this[num] );\n        },\n\n        // Take an array of elements and push it onto the stack\n        // (returning the new matched element set)\n        pushStack: function (elems, name, selector) {\n          // Build a new jQuery matched element set\n          var ret = this.constructor();\n\n          if (jQuery.isArray(elems)) {\n            push.apply(ret, elems);\n\n          } else {\n            jQuery.merge(ret, elems);\n          }\n\n          // Add the old object onto the stack (as a reference)\n          ret.prevObject = this;\n\n          ret.context = this.context;\n\n          if (name === \"find\") {\n            ret.selector = this.selector + ( this.selector ? \" \" : \"\" ) + selector;\n          } else if (name) {\n            ret.selector = this.selector + \".\" + name + \"(\" + selector + \")\";\n          }\n\n          // Return the newly-formed element set\n          return ret;\n        },\n\n        // Execute a callback for every element in the matched set.\n        // (You can seed the arguments with an array of args, but this is\n        // only used internally.)\n        each: function (callback, args) {\n          return jQuery.each(this, callback, args);\n        },\n\n        ready: function (fn) {\n          // Attach the listeners\n          jQuery.bindReady();\n\n          // Add the callback\n          readyList.add(fn);\n\n          return this;\n        },\n\n        eq: function (i) {\n          i = +i;\n          return i === -1 ?\n            this.slice(i) :\n            this.slice(i, i + 1);\n        },\n\n        first: function () {\n          return this.eq(0);\n        },\n\n        last: function () {\n          return this.eq(-1);\n        },\n\n        slice: function () {\n          return this.pushStack(slice.apply(this, arguments),\n            \"slice\", slice.call(arguments).join(\",\"));\n        },\n\n        map: function (callback) {\n          return this.pushStack(jQuery.map(this, function (elem, i) {\n            return callback.call(elem, i, elem);\n          }));\n        },\n\n        end: function () {\n          return this.prevObject || this.constructor(null);\n        },\n\n        // For internal use only.\n        // Behaves like an Array's method, not like a jQuery method.\n        push: push,\n        sort: [].sort,\n        splice: [].splice\n      };\n\n// Give the init function the jQuery prototype for later instantiation\n      jQuery.fn.init.prototype = jQuery.fn;\n\n      jQuery.extend = jQuery.fn.extend = function () {\n        var options, name, src, copy, copyIsArray, clone,\n          target = arguments[0] || {},\n          i = 1,\n          length = arguments.length,\n          deep = false;\n\n        // Handle a deep copy situation\n        if (typeof target === \"boolean\") {\n          deep = target;\n          target = arguments[1] || {};\n          // skip the boolean and the target\n          i = 2;\n        }\n\n        // Handle case when target is a string or something (possible in deep copy)\n        if (typeof target !== \"object\" && !jQuery.isFunction(target)) {\n          target = {};\n        }\n\n        // extend jQuery itself if only one argument is passed\n        if (length === i) {\n          target = this;\n          --i;\n        }\n\n        for (; i < length; i++) {\n          // Only deal with non-null/undefined values\n          if ((options = arguments[i]) != null) {\n            // Extend the base object\n            for (name in options) {\n              src = target[name];\n              copy = options[name];\n\n              // Prevent never-ending loop\n              if (target === copy) {\n                continue;\n              }\n\n              // Recurse if we're merging plain objects or arrays\n              if (deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) )) {\n                if (copyIsArray) {\n                  copyIsArray = false;\n                  clone = src && jQuery.isArray(src) ? src : [];\n\n                } else {\n                  clone = src && jQuery.isPlainObject(src) ? src : {};\n                }\n\n                // Never move original objects, clone them\n                target[name] = jQuery.extend(deep, clone, copy);\n\n                // Don't bring in undefined values\n              } else if (copy !== undefined) {\n                target[name] = copy;\n              }\n            }\n          }\n        }\n\n        // Return the modified object\n        return target;\n      };\n\n      jQuery.extend({\n        noConflict: function (deep) {\n          if (window.$ === jQuery) {\n            window.$ = _$;\n          }\n\n          if (deep && window.jQuery === jQuery) {\n            window.jQuery = _jQuery;\n          }\n\n          return jQuery;\n        },\n\n        // Is the DOM ready to be used? Set to true once it occurs.\n        isReady: false,\n\n        // A counter to track how many items to wait for before\n        // the ready event fires. See #6781\n        readyWait: 1,\n\n        // Hold (or release) the ready event\n        holdReady: function (hold) {\n          if (hold) {\n            jQuery.readyWait++;\n          } else {\n            jQuery.ready(true);\n          }\n        },\n\n        // Handle when the DOM is ready\n        ready: function (wait) {\n          // Either a released hold or an DOMready/load event and not yet ready\n          if ((wait === true && !--jQuery.readyWait) || (wait !== true && !jQuery.isReady)) {\n            // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n            if (!document.body) {\n              return setTimeout(jQuery.ready, 1);\n            }\n\n            // Remember that the DOM is ready\n            jQuery.isReady = true;\n\n            // If a normal DOM Ready event fired, decrement, and wait if need be\n            if (wait !== true && --jQuery.readyWait > 0) {\n              return;\n            }\n\n            // If there are functions bound, to execute\n            readyList.fireWith(document, [jQuery]);\n\n            // Trigger any bound ready events\n            if (jQuery.fn.trigger) {\n              jQuery(document).trigger(\"ready\").off(\"ready\");\n            }\n          }\n        },\n\n        bindReady: function () {\n          if (readyList) {\n            return;\n          }\n\n          readyList = jQuery.Callbacks(\"once memory\");\n\n          // Catch cases where $(document).ready() is called after the\n          // browser event has already occurred.\n          if (document.readyState === \"complete\") {\n            // Handle it asynchronously to allow scripts the opportunity to delay ready\n            return setTimeout(jQuery.ready, 1);\n          }\n\n          // Mozilla, Opera and webkit nightlies currently support this event\n          if (document.addEventListener) {\n            // Use the handy event callback\n            document.addEventListener(\"DOMContentLoaded\", DOMContentLoaded, false);\n\n            // A fallback to window.onload, that will always work\n            window.addEventListener(\"load\", jQuery.ready, false);\n\n            // If IE event model is used\n          } else if (document.attachEvent) {\n            // ensure firing before onload,\n            // maybe late but safe also for iframes\n            document.attachEvent(\"onreadystatechange\", DOMContentLoaded);\n\n            // A fallback to window.onload, that will always work\n            window.attachEvent(\"onload\", jQuery.ready);\n\n            // If IE and not a frame\n            // continually check to see if the document is ready\n            var toplevel = false;\n\n            try {\n              toplevel = window.frameElement == null;\n            } catch (e) {\n            }\n\n            if (document.documentElement.doScroll && toplevel) {\n              doScrollCheck();\n            }\n          }\n        },\n\n        // See test/unit/core.js for details concerning isFunction.\n        // Since version 1.3, DOM methods and functions like alert\n        // aren't supported. They return false on IE (#2968).\n        isFunction: function (obj) {\n          return jQuery.type(obj) === \"function\";\n        },\n\n        isArray: Array.isArray || function (obj) {\n          return jQuery.type(obj) === \"array\";\n        },\n\n        // A crude way of determining if an object is a window\n        isWindow: function (obj) {\n          return obj && typeof obj === \"object\" && \"setInterval\" in obj;\n        },\n\n        isNumeric: function (obj) {\n          return !isNaN(parseFloat(obj)) && isFinite(obj);\n        },\n\n        type: function (obj) {\n          return obj == null ?\n            String(obj) :\n          class2type[toString.call(obj)] || \"object\";\n        },\n\n        isPlainObject: function (obj) {\n          // Must be an Object.\n          // Because of IE, we also have to check the presence of the constructor property.\n          // Make sure that DOM nodes and window objects don't pass through, as well\n          if (!obj || jQuery.type(obj) !== \"object\" || obj.nodeType || jQuery.isWindow(obj)) {\n            return false;\n          }\n\n          try {\n            // Not own constructor property must be Object\n            if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n              return false;\n            }\n          } catch (e) {\n            // IE8,9 Will throw exceptions on certain host objects #9897\n            return false;\n          }\n\n          // Own properties are enumerated firstly, so to speed up,\n          // if last one is own, then all properties are own.\n\n          var key;\n          for (key in obj) {\n          }\n\n          return key === undefined || hasOwn.call(obj, key);\n        },\n\n        isEmptyObject: function (obj) {\n          for (var name in obj) {\n            return false;\n          }\n          return true;\n        },\n\n        error: function (msg) {\n          throw new Error(msg);\n        },\n\n        parseJSON: function (data) {\n          if (typeof data !== \"string\" || !data) {\n            return null;\n          }\n\n          // Make sure leading/trailing whitespace is removed (IE can't handle it)\n          data = jQuery.trim(data);\n\n          // Attempt to parse using the native JSON parser first\n          if (window.JSON && window.JSON.parse) {\n            return window.JSON.parse(data);\n          }\n\n          // Make sure the incoming data is actual JSON\n          // Logic borrowed from http://json.org/json2.js\n          if (rvalidchars.test(data.replace(rvalidescape, \"@\")\n              .replace(rvalidtokens, \"]\")\n              .replace(rvalidbraces, \"\"))) {\n\n            return ( new Function(\"return \" + data) )();\n\n          }\n          jQuery.error(\"Invalid JSON: \" + data);\n        },\n\n        // Cross-browser xml parsing\n        parseXML: function (data) {\n          var xml, tmp;\n          try {\n            if (window.DOMParser) { // Standard\n              tmp = new DOMParser();\n              xml = tmp.parseFromString(data, \"text/xml\");\n            } else { // IE\n              xml = new ActiveXObject(\"Microsoft.XMLDOM\");\n              xml.async = \"false\";\n              xml.loadXML(data);\n            }\n          } catch (e) {\n            xml = undefined;\n          }\n          if (!xml || !xml.documentElement || xml.getElementsByTagName(\"parsererror\").length) {\n            jQuery.error(\"Invalid XML: \" + data);\n          }\n          return xml;\n        },\n\n        noop: function () {\n        },\n\n        // Evaluates a script in a global context\n        // Workarounds based on findings by Jim Driscoll\n        // http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\n        globalEval: function (data) {\n          if (data && rnotwhite.test(data)) {\n            // We use execScript on Internet Explorer\n            // We use an anonymous function so that context is window\n            // rather than jQuery in Firefox\n            ( window.execScript || function (data) {\n              window[\"eval\"].call(window, data);\n            } )(data);\n          }\n        },\n\n        // Convert dashed to camelCase; used by the css and data modules\n        // Microsoft forgot to hump their vendor prefix (#9572)\n        camelCase: function (string) {\n          return string.replace(rmsPrefix, \"ms-\").replace(rdashAlpha, fcamelCase);\n        },\n\n        nodeName: function (elem, name) {\n          return elem.nodeName && elem.nodeName.toUpperCase() === name.toUpperCase();\n        },\n\n        // args is for internal usage only\n        each: function (object, callback, args) {\n          var name, i = 0,\n            length = object.length,\n            isObj = length === undefined || jQuery.isFunction(object);\n\n          if (args) {\n            if (isObj) {\n              for (name in object) {\n                if (callback.apply(object[name], args) === false) {\n                  break;\n                }\n              }\n            } else {\n              for (; i < length;) {\n                if (callback.apply(object[i++], args) === false) {\n                  break;\n                }\n              }\n            }\n\n            // A special, fast, case for the most common use of each\n          } else {\n            if (isObj) {\n              for (name in object) {\n                if (callback.call(object[name], name, object[name]) === false) {\n                  break;\n                }\n              }\n            } else {\n              for (; i < length;) {\n                if (callback.call(object[i], i, object[i++]) === false) {\n                  break;\n                }\n              }\n            }\n          }\n\n          return object;\n        },\n\n        // Use native String.trim function wherever possible\n        trim: trim ?\n          function (text) {\n            return text == null ?\n              \"\" :\n              trim.call(text);\n          } :\n\n          // Otherwise use our own trimming functionality\n          function (text) {\n            return text == null ?\n              \"\" :\n              text.toString().replace(trimLeft, \"\").replace(trimRight, \"\");\n          },\n\n        // results is for internal usage only\n        makeArray: function (array, results) {\n          var ret = results || [];\n\n          if (array != null) {\n            // The window, strings (and functions) also have 'length'\n            // Tweaked logic slightly to handle Blackberry 4.7 RegExp issues #6930\n            var type = jQuery.type(array);\n\n            if (array.length == null || type === \"string\" || type === \"function\" || type === \"regexp\" || jQuery.isWindow(array)) {\n              push.call(ret, array);\n            } else {\n              jQuery.merge(ret, array);\n            }\n          }\n\n          return ret;\n        },\n\n        inArray: function (elem, array, i) {\n          var len;\n\n          if (array) {\n            if (indexOf) {\n              return indexOf.call(array, elem, i);\n            }\n\n            len = array.length;\n            i = i ? i < 0 ? Math.max(0, len + i) : i : 0;\n\n            for (; i < len; i++) {\n              // Skip accessing in sparse arrays\n              if (i in array && array[i] === elem) {\n                return i;\n              }\n            }\n          }\n\n          return -1;\n        },\n\n        merge: function (first, second) {\n          var i = first.length,\n            j = 0;\n\n          if (typeof second.length === \"number\") {\n            for (var l = second.length; j < l; j++) {\n              first[i++] = second[j];\n            }\n\n          } else {\n            while (second[j] !== undefined) {\n              first[i++] = second[j++];\n            }\n          }\n\n          first.length = i;\n\n          return first;\n        },\n\n        grep: function (elems, callback, inv) {\n          var ret = [], retVal;\n          inv = !!inv;\n\n          // Go through the array, only saving the items\n          // that pass the validator function\n          for (var i = 0, length = elems.length; i < length; i++) {\n            retVal = !!callback(elems[i], i);\n            if (inv !== retVal) {\n              ret.push(elems[i]);\n            }\n          }\n\n          return ret;\n        },\n\n        // arg is for internal usage only\n        map: function (elems, callback, arg) {\n          var value, key, ret = [],\n            i = 0,\n            length = elems.length,\n            // jquery objects are treated as arrays\n            isArray = elems instanceof jQuery || length !== undefined && typeof length === \"number\" && ( ( length > 0 && elems[0] && elems[length - 1] ) || length === 0 || jQuery.isArray(elems) );\n\n          // Go through the array, translating each of the items to their\n          if (isArray) {\n            for (; i < length; i++) {\n              value = callback(elems[i], i, arg);\n\n              if (value != null) {\n                ret[ret.length] = value;\n              }\n            }\n\n            // Go through every key on the object,\n          } else {\n            for (key in elems) {\n              value = callback(elems[key], key, arg);\n\n              if (value != null) {\n                ret[ret.length] = value;\n              }\n            }\n          }\n\n          // Flatten any nested arrays\n          return ret.concat.apply([], ret);\n        },\n\n        // A global GUID counter for objects\n        guid: 1,\n\n        // Bind a function to a context, optionally partially applying any\n        // arguments.\n        proxy: function (fn, context) {\n          if (typeof context === \"string\") {\n            var tmp = fn[context];\n            context = fn;\n            fn = tmp;\n          }\n\n          // Quick check to determine if target is callable, in the spec\n          // this throws a TypeError, but we will just return undefined.\n          if (!jQuery.isFunction(fn)) {\n            return undefined;\n          }\n\n          // Simulated bind\n          var args = slice.call(arguments, 2),\n            proxy = function () {\n              return fn.apply(context, args.concat(slice.call(arguments)));\n            };\n\n          // Set the guid of unique handler to the same of original handler, so it can be removed\n          proxy.guid = fn.guid = fn.guid || proxy.guid || jQuery.guid++;\n\n          return proxy;\n        },\n\n        // Mutifunctional method to get and set values to a collection\n        // The value/s can optionally be executed if it's a function\n        access: function (elems, key, value, exec, fn, pass) {\n          var length = elems.length;\n\n          // Setting many attributes\n          if (typeof key === \"object\") {\n            for (var k in key) {\n              jQuery.access(elems, k, key[k], exec, fn, value);\n            }\n            return elems;\n          }\n\n          // Setting one attribute\n          if (value !== undefined) {\n            // Optionally, function values get executed if exec is true\n            exec = !pass && exec && jQuery.isFunction(value);\n\n            for (var i = 0; i < length; i++) {\n              fn(elems[i], key, exec ? value.call(elems[i], i, fn(elems[i], key)) : value, pass);\n            }\n\n            return elems;\n          }\n\n          // Getting an attribute\n          return length ? fn(elems[0], key) : undefined;\n        },\n\n        now: function () {\n          return ( new Date() ).getTime();\n        },\n\n        // Use of jQuery.browser is frowned upon.\n        // More details: http://docs.jquery.com/Utilities/jQuery.browser\n        uaMatch: function (ua) {\n          ua = ua.toLowerCase();\n\n          var match = rwebkit.exec(ua) ||\n            ropera.exec(ua) ||\n            rmsie.exec(ua) ||\n            ua.indexOf(\"compatible\") < 0 && rmozilla.exec(ua) ||\n            [];\n\n          return {browser: match[1] || \"\", version: match[2] || \"0\"};\n        },\n\n        sub: function () {\n          function jQuerySub(selector, context) {\n            return new jQuerySub.fn.init(selector, context);\n          }\n\n          jQuery.extend(true, jQuerySub, this);\n          jQuerySub.superclass = this;\n          jQuerySub.fn = jQuerySub.prototype = this();\n          jQuerySub.fn.constructor = jQuerySub;\n          jQuerySub.sub = this.sub;\n          jQuerySub.fn.init = function init(selector, context) {\n            if (context && context instanceof jQuery && !(context instanceof jQuerySub)) {\n              context = jQuerySub(context);\n            }\n\n            return jQuery.fn.init.call(this, selector, context, rootjQuerySub);\n          };\n          jQuerySub.fn.init.prototype = jQuerySub.fn;\n          var rootjQuerySub = jQuerySub(document);\n          return jQuerySub;\n        },\n\n        browser: {}\n      });\n\n// Populate the class2type map\n      jQuery.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"), function (i, name) {\n        class2type[\"[object \" + name + \"]\"] = name.toLowerCase();\n      });\n\n      browserMatch = jQuery.uaMatch(userAgent);\n      if (browserMatch.browser) {\n        jQuery.browser[browserMatch.browser] = true;\n        jQuery.browser.version = browserMatch.version;\n      }\n\n// Deprecated, use jQuery.browser.webkit instead\n      if (jQuery.browser.webkit) {\n        jQuery.browser.safari = true;\n      }\n\n// IE doesn't match non-breaking spaces with \\s\n      if (rnotwhite.test(\"\\xA0\")) {\n        trimLeft = /^[\\s\\xA0]+/;\n        trimRight = /[\\s\\xA0]+$/;\n      }\n\n// All jQuery objects should point back to these\n      rootjQuery = jQuery(document);\n\n// Cleanup functions for the document ready method\n      if (document.addEventListener) {\n        DOMContentLoaded = function () {\n          document.removeEventListener(\"DOMContentLoaded\", DOMContentLoaded, false);\n          jQuery.ready();\n        };\n\n      } else if (document.attachEvent) {\n        DOMContentLoaded = function () {\n          // Make sure body exists, at least, in case IE gets a little overzealous (ticket #5443).\n          if (document.readyState === \"complete\") {\n            document.detachEvent(\"onreadystatechange\", DOMContentLoaded);\n            jQuery.ready();\n          }\n        };\n      }\n\n// The DOM ready check for Internet Explorer\n      function doScrollCheck() {\n        if (jQuery.isReady) {\n          return;\n        }\n\n        try {\n          // If IE is used, use the trick by Diego Perini\n          // http://javascript.nwbox.com/IEContentLoaded/\n          document.documentElement.doScroll(\"left\");\n        } catch (e) {\n          setTimeout(doScrollCheck, 1);\n          return;\n        }\n\n        // and execute any waiting functions\n        jQuery.ready();\n      }\n\n      return jQuery;\n\n    })();\n\n\n// String to Object flags format cache\n    var flagsCache = {};\n\n// Convert String-formatted flags into Object-formatted ones and store in cache\n    function createFlags(flags) {\n      var object = flagsCache[flags] = {},\n        i, length;\n      flags = flags.split(/\\s+/);\n      for (i = 0, length = flags.length; i < length; i++) {\n        object[flags[i]] = true;\n      }\n      return object;\n    }\n\n    /*\n     * Create a callback list using the following parameters:\n     *\n     *\tflags:\tan optional list of space-separated flags that will change how\n     *\t\t\tthe callback list behaves\n     *\n     * By default a callback list will act like an event callback list and can be\n     * \"fired\" multiple times.\n     *\n     * Possible flags:\n     *\n     *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n     *\n     *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n     *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n     *\t\t\t\t\tvalues (like a Deferred)\n     *\n     *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n     *\n     *\tstopOnFalse:\tinterrupt callings when a callback returns false\n     *\n     */\n    jQuery.Callbacks = function (flags) {\n\n      // Convert flags from String-formatted to Object-formatted\n      // (we check in cache first)\n      flags = flags ? ( flagsCache[flags] || createFlags(flags) ) : {};\n\n      var // Actual callback list\n        list = [],\n        // Stack of fire calls for repeatable lists\n        stack = [],\n        // Last fire value (for non-forgettable lists)\n        memory,\n        // Flag to know if list is currently firing\n        firing,\n        // First callback to fire (used internally by add and fireWith)\n        firingStart,\n        // End of the loop when firing\n        firingLength,\n        // Index of currently firing callback (modified by remove if needed)\n        firingIndex,\n        // Add one or several callbacks to the list\n        add = function (args) {\n          var i,\n            length,\n            elem,\n            type,\n            actual;\n          for (i = 0, length = args.length; i < length; i++) {\n            elem = args[i];\n            type = jQuery.type(elem);\n            if (type === \"array\") {\n              // Inspect recursively\n              add(elem);\n            } else if (type === \"function\") {\n              // Add if not in unique mode and callback is not in\n              if (!flags.unique || !self.has(elem)) {\n                list.push(elem);\n              }\n            }\n          }\n        },\n        // Fire callbacks\n        fire = function (context, args) {\n          args = args || [];\n          memory = !flags.memory || [context, args];\n          firing = true;\n          firingIndex = firingStart || 0;\n          firingStart = 0;\n          firingLength = list.length;\n          for (; list && firingIndex < firingLength; firingIndex++) {\n            if (list[firingIndex].apply(context, args) === false && flags.stopOnFalse) {\n              memory = true; // Mark as halted\n              break;\n            }\n          }\n          firing = false;\n          if (list) {\n            if (!flags.once) {\n              if (stack && stack.length) {\n                memory = stack.shift();\n                self.fireWith(memory[0], memory[1]);\n              }\n            } else if (memory === true) {\n              self.disable();\n            } else {\n              list = [];\n            }\n          }\n        },\n        // Actual Callbacks object\n        self = {\n          // Add a callback or a collection of callbacks to the list\n          add: function () {\n            if (list) {\n              var length = list.length;\n              add(arguments);\n              // Do we need to add the callbacks to the\n              // current firing batch?\n              if (firing) {\n                firingLength = list.length;\n                // With memory, if we're not firing then\n                // we should call right away, unless previous\n                // firing was halted (stopOnFalse)\n              } else if (memory && memory !== true) {\n                firingStart = length;\n                fire(memory[0], memory[1]);\n              }\n            }\n            return this;\n          },\n          // Remove a callback from the list\n          remove: function () {\n            if (list) {\n              var args = arguments,\n                argIndex = 0,\n                argLength = args.length;\n              for (; argIndex < argLength; argIndex++) {\n                for (var i = 0; i < list.length; i++) {\n                  if (args[argIndex] === list[i]) {\n                    // Handle firingIndex and firingLength\n                    if (firing) {\n                      if (i <= firingLength) {\n                        firingLength--;\n                        if (i <= firingIndex) {\n                          firingIndex--;\n                        }\n                      }\n                    }\n                    // Remove the element\n                    list.splice(i--, 1);\n                    // If we have some unicity property then\n                    // we only need to do this once\n                    if (flags.unique) {\n                      break;\n                    }\n                  }\n                }\n              }\n            }\n            return this;\n          },\n          // Control if a given callback is in the list\n          has: function (fn) {\n            if (list) {\n              var i = 0,\n                length = list.length;\n              for (; i < length; i++) {\n                if (fn === list[i]) {\n                  return true;\n                }\n              }\n            }\n            return false;\n          },\n          // Remove all callbacks from the list\n          empty: function () {\n            list = [];\n            return this;\n          },\n          // Have the list do nothing anymore\n          disable: function () {\n            list = stack = memory = undefined;\n            return this;\n          },\n          // Is it disabled?\n          disabled: function () {\n            return !list;\n          },\n          // Lock the list in its current state\n          lock: function () {\n            stack = undefined;\n            if (!memory || memory === true) {\n              self.disable();\n            }\n            return this;\n          },\n          // Is it locked?\n          locked: function () {\n            return !stack;\n          },\n          // Call all callbacks with the given context and arguments\n          fireWith: function (context, args) {\n            if (stack) {\n              if (firing) {\n                if (!flags.once) {\n                  stack.push([context, args]);\n                }\n              } else if (!( flags.once && memory )) {\n                fire(context, args);\n              }\n            }\n            return this;\n          },\n          // Call all the callbacks with the given arguments\n          fire: function () {\n            self.fireWith(this, arguments);\n            return this;\n          },\n          // To know if the callbacks have already been called at least once\n          fired: function () {\n            return !!memory;\n          }\n        };\n\n      return self;\n    };\n\n\n    var // Static reference to slice\n      sliceDeferred = [].slice;\n\n    jQuery.extend({\n\n      Deferred: function (func) {\n        var doneList = jQuery.Callbacks(\"once memory\"),\n          failList = jQuery.Callbacks(\"once memory\"),\n          progressList = jQuery.Callbacks(\"memory\"),\n          state = \"pending\",\n          lists = {\n            resolve: doneList,\n            reject: failList,\n            notify: progressList\n          },\n          promise = {\n            done: doneList.add,\n            fail: failList.add,\n            progress: progressList.add,\n\n            state: function () {\n              return state;\n            },\n\n            // Deprecated\n            isResolved: doneList.fired,\n            isRejected: failList.fired,\n\n            then: function (doneCallbacks, failCallbacks, progressCallbacks) {\n              deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);\n              return this;\n            },\n            always: function () {\n              deferred.done.apply(deferred, arguments).fail.apply(deferred, arguments);\n              return this;\n            },\n            pipe: function (fnDone, fnFail, fnProgress) {\n              return jQuery.Deferred(function (newDefer) {\n                jQuery.each({\n                  done: [fnDone, \"resolve\"],\n                  fail: [fnFail, \"reject\"],\n                  progress: [fnProgress, \"notify\"]\n                }, function (handler, data) {\n                  var fn = data[0],\n                    action = data[1],\n                    returned;\n                  if (jQuery.isFunction(fn)) {\n                    deferred[handler](function () {\n                      returned = fn.apply(this, arguments);\n                      if (returned && jQuery.isFunction(returned.promise)) {\n                        returned.promise().then(newDefer.resolve, newDefer.reject, newDefer.notify);\n                      } else {\n                        newDefer[action + \"With\"](this === deferred ? newDefer : this, [returned]);\n                      }\n                    });\n                  } else {\n                    deferred[handler](newDefer[action]);\n                  }\n                });\n              }).promise();\n            },\n            // Get a promise for this deferred\n            // If obj is provided, the promise aspect is added to the object\n            promise: function (obj) {\n              if (obj == null) {\n                obj = promise;\n              } else {\n                for (var key in promise) {\n                  obj[key] = promise[key];\n                }\n              }\n              return obj;\n            }\n          },\n          deferred = promise.promise({}),\n          key;\n\n        for (key in lists) {\n          deferred[key] = lists[key].fire;\n          deferred[key + \"With\"] = lists[key].fireWith;\n        }\n\n        // Handle state\n        deferred.done(function () {\n          state = \"resolved\";\n        }, failList.disable, progressList.lock).fail(function () {\n          state = \"rejected\";\n        }, doneList.disable, progressList.lock);\n\n        // Call given func if any\n        if (func) {\n          func.call(deferred, deferred);\n        }\n\n        // All done!\n        return deferred;\n      },\n\n      // Deferred helper\n      when: function (firstParam) {\n        var args = sliceDeferred.call(arguments, 0),\n          i = 0,\n          length = args.length,\n          pValues = new Array(length),\n          count = length,\n          pCount = length,\n          deferred = length <= 1 && firstParam && jQuery.isFunction(firstParam.promise) ?\n            firstParam :\n            jQuery.Deferred(),\n          promise = deferred.promise();\n\n        function resolveFunc(i) {\n          return function (value) {\n            args[i] = arguments.length > 1 ? sliceDeferred.call(arguments, 0) : value;\n            if (!( --count )) {\n              deferred.resolveWith(deferred, args);\n            }\n          };\n        }\n\n        function progressFunc(i) {\n          return function (value) {\n            pValues[i] = arguments.length > 1 ? sliceDeferred.call(arguments, 0) : value;\n            deferred.notifyWith(promise, pValues);\n          };\n        }\n\n        if (length > 1) {\n          for (; i < length; i++) {\n            if (args[i] && args[i].promise && jQuery.isFunction(args[i].promise)) {\n              args[i].promise().then(resolveFunc(i), deferred.reject, progressFunc(i));\n            } else {\n              --count;\n            }\n          }\n          if (!count) {\n            deferred.resolveWith(deferred, args);\n          }\n        } else if (deferred !== firstParam) {\n          deferred.resolveWith(deferred, length ? [firstParam] : []);\n        }\n        return promise;\n      }\n    });\n\n\n    jQuery.support = (function () {\n\n      var support,\n        all,\n        a,\n        select,\n        opt,\n        input,\n        marginDiv,\n        fragment,\n        tds,\n        events,\n        eventName,\n        i,\n        isSupported,\n        div = document.createElement(\"div\"),\n        documentElement = document.documentElement;\n\n      // Preliminary tests\n      div.setAttribute(\"className\", \"t\");\n      div.innerHTML = \"   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>\";\n\n      all = div.getElementsByTagName(\"*\");\n      a = div.getElementsByTagName(\"a\")[0];\n\n      // Can't get basic test support\n      if (!all || !all.length || !a) {\n        return {};\n      }\n\n      // First batch of supports tests\n      select = document.createElement(\"select\");\n      opt = select.appendChild(document.createElement(\"option\"));\n      input = div.getElementsByTagName(\"input\")[0];\n\n      support = {\n        // IE strips leading whitespace when .innerHTML is used\n        leadingWhitespace: ( div.firstChild.nodeType === 3 ),\n\n        // Make sure that tbody elements aren't automatically inserted\n        // IE will insert them into empty tables\n        tbody: !div.getElementsByTagName(\"tbody\").length,\n\n        // Make sure that link elements get serialized correctly by innerHTML\n        // This requires a wrapper element in IE\n        htmlSerialize: !!div.getElementsByTagName(\"link\").length,\n\n        // Get the style information from getAttribute\n        // (IE uses .cssText instead)\n        style: /top/.test(a.getAttribute(\"style\")),\n\n        // Make sure that URLs aren't manipulated\n        // (IE normalizes it by default)\n        hrefNormalized: ( a.getAttribute(\"href\") === \"/a\" ),\n\n        // Make sure that element opacity exists\n        // (IE uses filter instead)\n        // Use a regex to work around a WebKit issue. See #5145\n        opacity: /^0.55/.test(a.style.opacity),\n\n        // Verify style float existence\n        // (IE uses styleFloat instead of cssFloat)\n        cssFloat: !!a.style.cssFloat,\n\n        // Make sure that if no value is specified for a checkbox\n        // that it defaults to \"on\".\n        // (WebKit defaults to \"\" instead)\n        checkOn: ( input.value === \"on\" ),\n\n        // Make sure that a selected-by-default option has a working selected property.\n        // (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\n        optSelected: opt.selected,\n\n        // Test setAttribute on camelCase class. If it works, we need attrFixes when doing get/setAttribute (ie6/7)\n        getSetAttribute: div.className !== \"t\",\n\n        // Tests for enctype support on a form(#6743)\n        enctype: !!document.createElement(\"form\").enctype,\n\n        // Makes sure cloning an html5 element does not cause problems\n        // Where outerHTML is undefined, this still works\n        html5Clone: document.createElement(\"nav\").cloneNode(true).outerHTML !== \"<:nav></:nav>\",\n\n        // Will be defined later\n        submitBubbles: true,\n        changeBubbles: true,\n        focusinBubbles: false,\n        deleteExpando: true,\n        noCloneEvent: true,\n        inlineBlockNeedsLayout: false,\n        shrinkWrapBlocks: false,\n        reliableMarginRight: true\n      };\n\n      // Make sure checked status is properly cloned\n      input.checked = true;\n      support.noCloneChecked = input.cloneNode(true).checked;\n\n      // Make sure that the options inside disabled selects aren't marked as disabled\n      // (WebKit marks them as disabled)\n      select.disabled = true;\n      support.optDisabled = !opt.disabled;\n\n      // Test to see if it's possible to delete an expando from an element\n      // Fails in Internet Explorer\n      try {\n        delete div.test;\n      } catch (e) {\n        support.deleteExpando = false;\n      }\n\n      if (!div.addEventListener && div.attachEvent && div.fireEvent) {\n        div.attachEvent(\"onclick\", function () {\n          // Cloning a node shouldn't copy over any\n          // bound event handlers (IE does this)\n          support.noCloneEvent = false;\n        });\n        div.cloneNode(true).fireEvent(\"onclick\");\n      }\n\n      // Check if a radio maintains its value\n      // after being appended to the DOM\n      input = document.createElement(\"input\");\n      input.value = \"t\";\n      input.setAttribute(\"type\", \"radio\");\n      support.radioValue = input.value === \"t\";\n\n      input.setAttribute(\"checked\", \"checked\");\n      div.appendChild(input);\n      fragment = document.createDocumentFragment();\n      fragment.appendChild(div.lastChild);\n\n      // WebKit doesn't clone checked state correctly in fragments\n      support.checkClone = fragment.cloneNode(true).cloneNode(true).lastChild.checked;\n\n      // Check if a disconnected checkbox will retain its checked\n      // value of true after appended to the DOM (IE6/7)\n      support.appendChecked = input.checked;\n\n      fragment.removeChild(input);\n      fragment.appendChild(div);\n\n      div.innerHTML = \"\";\n\n      // Check if div with explicit width and no margin-right incorrectly\n      // gets computed margin-right based on width of container. For more\n      // info see bug #3333\n      // Fails in WebKit before Feb 2011 nightlies\n      // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n      if (window.getComputedStyle) {\n        marginDiv = document.createElement(\"div\");\n        marginDiv.style.width = \"0\";\n        marginDiv.style.marginRight = \"0\";\n        div.style.width = \"2px\";\n        div.appendChild(marginDiv);\n        support.reliableMarginRight =\n          ( parseInt(( window.getComputedStyle(marginDiv, null) || {marginRight: 0} ).marginRight, 10) || 0 ) === 0;\n      }\n\n      // Technique from Juriy Zaytsev\n      // http://perfectionkills.com/detecting-event-support-without-browser-sniffing/\n      // We only care about the case where non-standard event systems\n      // are used, namely in IE. Short-circuiting here helps us to\n      // avoid an eval call (in setAttribute) which can cause CSP\n      // to go haywire. See: https://developer.mozilla.org/en/Security/CSP\n      if (div.attachEvent) {\n        for (i in {\n          submit: 1,\n          change: 1,\n          focusin: 1\n        }) {\n          eventName = \"on\" + i;\n          isSupported = ( eventName in div );\n          if (!isSupported) {\n            div.setAttribute(eventName, \"return;\");\n            isSupported = ( typeof div[eventName] === \"function\" );\n          }\n          support[i + \"Bubbles\"] = isSupported;\n        }\n      }\n\n      fragment.removeChild(div);\n\n      // Null elements to avoid leaks in IE\n      fragment = select = opt = marginDiv = div = input = null;\n\n      // Run tests that need a body at doc ready\n      jQuery(function () {\n        var container, outer, inner, table, td, offsetSupport,\n          conMarginTop, ptlm, vb, style, html,\n          body = document.getElementsByTagName(\"body\")[0];\n\n        if (!body) {\n          // Return for frameset docs that don't have a body\n          return;\n        }\n\n        conMarginTop = 1;\n        ptlm = \"position:absolute;top:0;left:0;width:1px;height:1px;margin:0;\";\n        vb = \"visibility:hidden;border:0;\";\n        style = \"style='\" + ptlm + \"border:5px solid #000;padding:0;'\";\n        html = \"<div \" + style + \"><div></div></div>\" +\n          \"<table \" + style + \" cellpadding='0' cellspacing='0'>\" +\n          \"<tr><td></td></tr></table>\";\n\n        container = document.createElement(\"div\");\n        container.style.cssText = vb + \"width:0;height:0;position:static;top:0;margin-top:\" + conMarginTop + \"px\";\n        body.insertBefore(container, body.firstChild);\n\n        // Construct the test element\n        div = document.createElement(\"div\");\n        container.appendChild(div);\n\n        // Check if table cells still have offsetWidth/Height when they are set\n        // to display:none and there are still other visible table cells in a\n        // table row; if so, offsetWidth/Height are not reliable for use when\n        // determining if an element has been hidden directly using\n        // display:none (it is still safe to use offsets if a parent element is\n        // hidden; don safety goggles and see bug #4512 for more information).\n        // (only IE 8 fails this test)\n        div.innerHTML = \"<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>\";\n        tds = div.getElementsByTagName(\"td\");\n        isSupported = ( tds[0].offsetHeight === 0 );\n\n        tds[0].style.display = \"\";\n        tds[1].style.display = \"none\";\n\n        // Check if empty table cells still have offsetWidth/Height\n        // (IE <= 8 fail this test)\n        support.reliableHiddenOffsets = isSupported && ( tds[0].offsetHeight === 0 );\n\n        // Figure out if the W3C box model works as expected\n        div.innerHTML = \"\";\n        div.style.width = div.style.paddingLeft = \"1px\";\n        jQuery.boxModel = support.boxModel = div.offsetWidth === 2;\n\n        if (typeof div.style.zoom !== \"undefined\") {\n          // Check if natively block-level elements act like inline-block\n          // elements when setting their display to 'inline' and giving\n          // them layout\n          // (IE < 8 does this)\n          div.style.display = \"inline\";\n          div.style.zoom = 1;\n          support.inlineBlockNeedsLayout = ( div.offsetWidth === 2 );\n\n          // Check if elements with layout shrink-wrap their children\n          // (IE 6 does this)\n          div.style.display = \"\";\n          div.innerHTML = \"<div style='width:4px;'></div>\";\n          support.shrinkWrapBlocks = ( div.offsetWidth !== 2 );\n        }\n\n        div.style.cssText = ptlm + vb;\n        div.innerHTML = html;\n\n        outer = div.firstChild;\n        inner = outer.firstChild;\n        td = outer.nextSibling.firstChild.firstChild;\n\n        offsetSupport = {\n          doesNotAddBorder: ( inner.offsetTop !== 5 ),\n          doesAddBorderForTableAndCells: ( td.offsetTop === 5 )\n        };\n\n        inner.style.position = \"fixed\";\n        inner.style.top = \"20px\";\n\n        // safari subtracts parent border width here which is 5px\n        offsetSupport.fixedPosition = ( inner.offsetTop === 20 || inner.offsetTop === 15 );\n        inner.style.position = inner.style.top = \"\";\n\n        outer.style.overflow = \"hidden\";\n        outer.style.position = \"relative\";\n\n        offsetSupport.subtractsBorderForOverflowNotVisible = ( inner.offsetTop === -5 );\n        offsetSupport.doesNotIncludeMarginInBodyOffset = ( body.offsetTop !== conMarginTop );\n\n        body.removeChild(container);\n        div = container = null;\n\n        jQuery.extend(support, offsetSupport);\n      });\n\n      return support;\n    })();\n\n\n    var rbrace = /^(?:\\{.*\\}|\\[.*\\])$/,\n      rmultiDash = /([A-Z])/g;\n\n    jQuery.extend({\n      cache: {},\n\n      // Please use with caution\n      uuid: 0,\n\n      // Unique for each copy of jQuery on the page\n      // Non-digits removed to match rinlinejQuery\n      expando: \"jQuery\" + ( jQuery.fn.jquery + Math.random() ).replace(/\\D/g, \"\"),\n\n      // The following elements throw uncatchable exceptions if you\n      // attempt to add expando properties to them.\n      noData: {\n        \"embed\": true,\n        // Ban all objects except for Flash (which handle expandos)\n        \"object\": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",\n        \"applet\": true\n      },\n\n      hasData: function (elem) {\n        elem = elem.nodeType ? jQuery.cache[elem[jQuery.expando]] : elem[jQuery.expando];\n        return !!elem && !isEmptyDataObject(elem);\n      },\n\n      data: function (elem, name, data, pvt /* Internal Use Only */) {\n        if (!jQuery.acceptData(elem)) {\n          return;\n        }\n\n        var privateCache, thisCache, ret,\n          internalKey = jQuery.expando,\n          getByName = typeof name === \"string\",\n\n          // We have to handle DOM nodes and JS objects differently because IE6-7\n          // can't GC object references properly across the DOM-JS boundary\n          isNode = elem.nodeType,\n\n          // Only DOM nodes need the global jQuery cache; JS object data is\n          // attached directly to the object so GC can occur automatically\n          cache = isNode ? jQuery.cache : elem,\n\n          // Only defining an ID for JS objects if its cache already exists allows\n          // the code to shortcut on the same path as a DOM node with no cache\n          id = isNode ? elem[internalKey] : elem[internalKey] && internalKey,\n          isEvents = name === \"events\";\n\n        // Avoid doing any more work than we need to when trying to get data on an\n        // object that has no data at all\n        if ((!id || !cache[id] || (!isEvents && !pvt && !cache[id].data)) && getByName && data === undefined) {\n          return;\n        }\n\n        if (!id) {\n          // Only DOM nodes need a new unique ID for each element since their data\n          // ends up in the global cache\n          if (isNode) {\n            elem[internalKey] = id = ++jQuery.uuid;\n          } else {\n            id = internalKey;\n          }\n        }\n\n        if (!cache[id]) {\n          cache[id] = {};\n\n          // Avoids exposing jQuery metadata on plain JS objects when the object\n          // is serialized using JSON.stringify\n          if (!isNode) {\n            cache[id].toJSON = jQuery.noop;\n          }\n        }\n\n        // An object can be passed to jQuery.data instead of a key/value pair; this gets\n        // shallow copied over onto the existing cache\n        if (typeof name === \"object\" || typeof name === \"function\") {\n          if (pvt) {\n            cache[id] = jQuery.extend(cache[id], name);\n          } else {\n            cache[id].data = jQuery.extend(cache[id].data, name);\n          }\n        }\n\n        privateCache = thisCache = cache[id];\n\n        // jQuery data() is stored in a separate object inside the object's internal data\n        // cache in order to avoid key collisions between internal data and user-defined\n        // data.\n        if (!pvt) {\n          if (!thisCache.data) {\n            thisCache.data = {};\n          }\n\n          thisCache = thisCache.data;\n        }\n\n        if (data !== undefined) {\n          thisCache[jQuery.camelCase(name)] = data;\n        }\n\n        // Users should not attempt to inspect the internal events object using jQuery.data,\n        // it is undocumented and subject to change. But does anyone listen? No.\n        if (isEvents && !thisCache[name]) {\n          return privateCache.events;\n        }\n\n        // Check for both converted-to-camel and non-converted data property names\n        // If a data property was specified\n        if (getByName) {\n\n          // First Try to find as-is property data\n          ret = thisCache[name];\n\n          // Test for null|undefined property data\n          if (ret == null) {\n\n            // Try to find the camelCased property\n            ret = thisCache[jQuery.camelCase(name)];\n          }\n        } else {\n          ret = thisCache;\n        }\n\n        return ret;\n      },\n\n      removeData: function (elem, name, pvt /* Internal Use Only */) {\n        if (!jQuery.acceptData(elem)) {\n          return;\n        }\n\n        var thisCache, i, l,\n\n          // Reference to internal data cache key\n          internalKey = jQuery.expando,\n\n          isNode = elem.nodeType,\n\n          // See jQuery.data for more information\n          cache = isNode ? jQuery.cache : elem,\n\n          // See jQuery.data for more information\n          id = isNode ? elem[internalKey] : internalKey;\n\n        // If there is already no cache entry for this object, there is no\n        // purpose in continuing\n        if (!cache[id]) {\n          return;\n        }\n\n        if (name) {\n\n          thisCache = pvt ? cache[id] : cache[id].data;\n\n          if (thisCache) {\n\n            // Support array or space separated string names for data keys\n            if (!jQuery.isArray(name)) {\n\n              // try the string as a key before any manipulation\n              if (name in thisCache) {\n                name = [name];\n              } else {\n\n                // split the camel cased version by spaces unless a key with the spaces exists\n                name = jQuery.camelCase(name);\n                if (name in thisCache) {\n                  name = [name];\n                } else {\n                  name = name.split(\" \");\n                }\n              }\n            }\n\n            for (i = 0, l = name.length; i < l; i++) {\n              delete thisCache[name[i]];\n            }\n\n            // If there is no data left in the cache, we want to continue\n            // and let the cache object itself get destroyed\n            if (!( pvt ? isEmptyDataObject : jQuery.isEmptyObject )(thisCache)) {\n              return;\n            }\n          }\n        }\n\n        // See jQuery.data for more information\n        if (!pvt) {\n          delete cache[id].data;\n\n          // Don't destroy the parent cache unless the internal data object\n          // had been the only thing left in it\n          if (!isEmptyDataObject(cache[id])) {\n            return;\n          }\n        }\n\n        // Browsers that fail expando deletion also refuse to delete expandos on\n        // the window, but it will allow it on all other JS objects; other browsers\n        // don't care\n        // Ensure that `cache` is not a window object #10080\n        if (jQuery.support.deleteExpando || !cache.setInterval) {\n          delete cache[id];\n        } else {\n          cache[id] = null;\n        }\n\n        // We destroyed the cache and need to eliminate the expando on the node to avoid\n        // false lookups in the cache for entries that no longer exist\n        if (isNode) {\n          // IE does not allow us to delete expando properties from nodes,\n          // nor does it have a removeAttribute function on Document nodes;\n          // we must handle all of these cases\n          if (jQuery.support.deleteExpando) {\n            delete elem[internalKey];\n          } else if (elem.removeAttribute) {\n            elem.removeAttribute(internalKey);\n          } else {\n            elem[internalKey] = null;\n          }\n        }\n      },\n\n      // For internal use only.\n      _data: function (elem, name, data) {\n        return jQuery.data(elem, name, data, true);\n      },\n\n      // A method for determining if a DOM node can handle the data expando\n      acceptData: function (elem) {\n        if (elem.nodeName) {\n          var match = jQuery.noData[elem.nodeName.toLowerCase()];\n\n          if (match) {\n            return !(match === true || elem.getAttribute(\"classid\") !== match);\n          }\n        }\n\n        return true;\n      }\n    });\n\n    jQuery.fn.extend({\n      data: function (key, value) {\n        var parts, attr, name,\n          data = null;\n\n        if (typeof key === \"undefined\") {\n          if (this.length) {\n            data = jQuery.data(this[0]);\n\n            if (this[0].nodeType === 1 && !jQuery._data(this[0], \"parsedAttrs\")) {\n              attr = this[0].attributes;\n              for (var i = 0, l = attr.length; i < l; i++) {\n                name = attr[i].name;\n\n                if (name.indexOf(\"data-\") === 0) {\n                  name = jQuery.camelCase(name.substring(5));\n\n                  dataAttr(this[0], name, data[name]);\n                }\n              }\n              jQuery._data(this[0], \"parsedAttrs\", true);\n            }\n          }\n\n          return data;\n\n        } else if (typeof key === \"object\") {\n          return this.each(function () {\n            jQuery.data(this, key);\n          });\n        }\n\n        parts = key.split(\".\");\n        parts[1] = parts[1] ? \".\" + parts[1] : \"\";\n\n        if (value === undefined) {\n          data = this.triggerHandler(\"getData\" + parts[1] + \"!\", [parts[0]]);\n\n          // Try to fetch any internally stored data first\n          if (data === undefined && this.length) {\n            data = jQuery.data(this[0], key);\n            data = dataAttr(this[0], key, data);\n          }\n\n          return data === undefined && parts[1] ?\n            this.data(parts[0]) :\n            data;\n\n        } else {\n          return this.each(function () {\n            var self = jQuery(this),\n              args = [parts[0], value];\n\n            self.triggerHandler(\"setData\" + parts[1] + \"!\", args);\n            jQuery.data(this, key, value);\n            self.triggerHandler(\"changeData\" + parts[1] + \"!\", args);\n          });\n        }\n      },\n\n      removeData: function (key) {\n        return this.each(function () {\n          jQuery.removeData(this, key);\n        });\n      }\n    });\n\n    function dataAttr(elem, key, data) {\n      // If nothing was found internally, try to fetch any\n      // data from the HTML5 data-* attribute\n      if (data === undefined && elem.nodeType === 1) {\n\n        var name = \"data-\" + key.replace(rmultiDash, \"-$1\").toLowerCase();\n\n        data = elem.getAttribute(name);\n\n        if (typeof data === \"string\") {\n          try {\n            data = data === \"true\" ? true :\n              data === \"false\" ? false :\n                data === \"null\" ? null :\n                  jQuery.isNumeric(data) ? parseFloat(data) :\n                    rbrace.test(data) ? jQuery.parseJSON(data) :\n                      data;\n          } catch (e) {\n          }\n\n          // Make sure we set the data so it isn't changed later\n          jQuery.data(elem, key, data);\n\n        } else {\n          data = undefined;\n        }\n      }\n\n      return data;\n    }\n\n// checks a cache object for emptiness\n    function isEmptyDataObject(obj) {\n      for (var name in obj) {\n\n        // if the public data object is empty, the private is still empty\n        if (name === \"data\" && jQuery.isEmptyObject(obj[name])) {\n          continue;\n        }\n        if (name !== \"toJSON\") {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n\n    function handleQueueMarkDefer(elem, type, src) {\n      var deferDataKey = type + \"defer\",\n        queueDataKey = type + \"queue\",\n        markDataKey = type + \"mark\",\n        defer = jQuery._data(elem, deferDataKey);\n      if (defer &&\n        ( src === \"queue\" || !jQuery._data(elem, queueDataKey) ) &&\n        ( src === \"mark\" || !jQuery._data(elem, markDataKey) )) {\n        // Give room for hard-coded callbacks to fire first\n        // and eventually mark/queue something else on the element\n        setTimeout(function () {\n          if (!jQuery._data(elem, queueDataKey) && !jQuery._data(elem, markDataKey)) {\n            jQuery.removeData(elem, deferDataKey, true);\n            defer.fire();\n          }\n        }, 0);\n      }\n    }\n\n    jQuery.extend({\n\n      _mark: function (elem, type) {\n        if (elem) {\n          type = ( type || \"fx\" ) + \"mark\";\n          jQuery._data(elem, type, (jQuery._data(elem, type) || 0) + 1);\n        }\n      },\n\n      _unmark: function (force, elem, type) {\n        if (force !== true) {\n          type = elem;\n          elem = force;\n          force = false;\n        }\n        if (elem) {\n          type = type || \"fx\";\n          var key = type + \"mark\",\n            count = force ? 0 : ( (jQuery._data(elem, key) || 1) - 1 );\n          if (count) {\n            jQuery._data(elem, key, count);\n          } else {\n            jQuery.removeData(elem, key, true);\n            handleQueueMarkDefer(elem, type, \"mark\");\n          }\n        }\n      },\n\n      queue: function (elem, type, data) {\n        var q;\n        if (elem) {\n          type = ( type || \"fx\" ) + \"queue\";\n          q = jQuery._data(elem, type);\n\n          // Speed up dequeue by getting out quickly if this is just a lookup\n          if (data) {\n            if (!q || jQuery.isArray(data)) {\n              q = jQuery._data(elem, type, jQuery.makeArray(data));\n            } else {\n              q.push(data);\n            }\n          }\n          return q || [];\n        }\n      },\n\n      dequeue: function (elem, type) {\n        type = type || \"fx\";\n\n        var queue = jQuery.queue(elem, type),\n          fn = queue.shift(),\n          hooks = {};\n\n        // If the fx queue is dequeued, always remove the progress sentinel\n        if (fn === \"inprogress\") {\n          fn = queue.shift();\n        }\n\n        if (fn) {\n          // Add a progress sentinel to prevent the fx queue from being\n          // automatically dequeued\n          if (type === \"fx\") {\n            queue.unshift(\"inprogress\");\n          }\n\n          jQuery._data(elem, type + \".run\", hooks);\n          fn.call(elem, function () {\n            jQuery.dequeue(elem, type);\n          }, hooks);\n        }\n\n        if (!queue.length) {\n          jQuery.removeData(elem, type + \"queue \" + type + \".run\", true);\n          handleQueueMarkDefer(elem, type, \"queue\");\n        }\n      }\n    });\n\n    jQuery.fn.extend({\n      queue: function (type, data) {\n        if (typeof type !== \"string\") {\n          data = type;\n          type = \"fx\";\n        }\n\n        if (data === undefined) {\n          return jQuery.queue(this[0], type);\n        }\n        return this.each(function () {\n          var queue = jQuery.queue(this, type, data);\n\n          if (type === \"fx\" && queue[0] !== \"inprogress\") {\n            jQuery.dequeue(this, type);\n          }\n        });\n      },\n      dequeue: function (type) {\n        return this.each(function () {\n          jQuery.dequeue(this, type);\n        });\n      },\n      // Based off of the plugin by Clint Helfers, with permission.\n      // http://blindsignals.com/index.php/2009/07/jquery-delay/\n      delay: function (time, type) {\n        time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;\n        type = type || \"fx\";\n\n        return this.queue(type, function (next, hooks) {\n          var timeout = setTimeout(next, time);\n          hooks.stop = function () {\n            clearTimeout(timeout);\n          };\n        });\n      },\n      clearQueue: function (type) {\n        return this.queue(type || \"fx\", []);\n      },\n      // Get a promise resolved when queues of a certain type\n      // are emptied (fx is the type by default)\n      promise: function (type, object) {\n        if (typeof type !== \"string\") {\n          object = type;\n          type = undefined;\n        }\n        type = type || \"fx\";\n        var defer = jQuery.Deferred(),\n          elements = this,\n          i = elements.length,\n          count = 1,\n          deferDataKey = type + \"defer\",\n          queueDataKey = type + \"queue\",\n          markDataKey = type + \"mark\",\n          tmp;\n\n        function resolve() {\n          if (!( --count )) {\n            defer.resolveWith(elements, [elements]);\n          }\n        }\n\n        while (i--) {\n          if (( tmp = jQuery.data(elements[i], deferDataKey, undefined, true) ||\n              ( jQuery.data(elements[i], queueDataKey, undefined, true) ||\n              jQuery.data(elements[i], markDataKey, undefined, true) ) &&\n              jQuery.data(elements[i], deferDataKey, jQuery.Callbacks(\"once memory\"), true) )) {\n            count++;\n            tmp.add(resolve);\n          }\n        }\n        resolve();\n        return defer.promise();\n      }\n    });\n\n\n    var rclass = /[\\n\\t\\r]/g,\n      rspace = /\\s+/,\n      rreturn = /\\r/g,\n      rtype = /^(?:button|input)$/i,\n      rfocusable = /^(?:button|input|object|select|textarea)$/i,\n      rclickable = /^a(?:rea)?$/i,\n      rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\n      getSetAttribute = jQuery.support.getSetAttribute,\n      nodeHook, boolHook, fixSpecified;\n\n    jQuery.fn.extend({\n      attr: function (name, value) {\n        return jQuery.access(this, name, value, true, jQuery.attr);\n      },\n\n      removeAttr: function (name) {\n        return this.each(function () {\n          jQuery.removeAttr(this, name);\n        });\n      },\n\n      prop: function (name, value) {\n        return jQuery.access(this, name, value, true, jQuery.prop);\n      },\n\n      removeProp: function (name) {\n        name = jQuery.propFix[name] || name;\n        return this.each(function () {\n          // try/catch handles cases where IE balks (such as removing a property on window)\n          try {\n            this[name] = undefined;\n            delete this[name];\n          } catch (e) {\n          }\n        });\n      },\n\n      addClass: function (value) {\n        var classNames, i, l, elem,\n          setClass, c, cl;\n\n        if (jQuery.isFunction(value)) {\n          return this.each(function (j) {\n            jQuery(this).addClass(value.call(this, j, this.className));\n          });\n        }\n\n        if (value && typeof value === \"string\") {\n          classNames = value.split(rspace);\n\n          for (i = 0, l = this.length; i < l; i++) {\n            elem = this[i];\n\n            if (elem.nodeType === 1) {\n              if (!elem.className && classNames.length === 1) {\n                elem.className = value;\n\n              } else {\n                setClass = \" \" + elem.className + \" \";\n\n                for (c = 0, cl = classNames.length; c < cl; c++) {\n                  if (!~setClass.indexOf(\" \" + classNames[c] + \" \")) {\n                    setClass += classNames[c] + \" \";\n                  }\n                }\n                elem.className = jQuery.trim(setClass);\n              }\n            }\n          }\n        }\n\n        return this;\n      },\n\n      removeClass: function (value) {\n        var classNames, i, l, elem, className, c, cl;\n\n        if (jQuery.isFunction(value)) {\n          return this.each(function (j) {\n            jQuery(this).removeClass(value.call(this, j, this.className));\n          });\n        }\n\n        if ((value && typeof value === \"string\") || value === undefined) {\n          classNames = ( value || \"\" ).split(rspace);\n\n          for (i = 0, l = this.length; i < l; i++) {\n            elem = this[i];\n\n            if (elem.nodeType === 1 && elem.className) {\n              if (value) {\n                className = (\" \" + elem.className + \" \").replace(rclass, \" \");\n                for (c = 0, cl = classNames.length; c < cl; c++) {\n                  className = className.replace(\" \" + classNames[c] + \" \", \" \");\n                }\n                elem.className = jQuery.trim(className);\n\n              } else {\n                elem.className = \"\";\n              }\n            }\n          }\n        }\n\n        return this;\n      },\n\n      toggleClass: function (value, stateVal) {\n        var type = typeof value,\n          isBool = typeof stateVal === \"boolean\";\n\n        if (jQuery.isFunction(value)) {\n          return this.each(function (i) {\n            jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal);\n          });\n        }\n\n        return this.each(function () {\n          if (type === \"string\") {\n            // toggle individual class names\n            var className,\n              i = 0,\n              self = jQuery(this),\n              state = stateVal,\n              classNames = value.split(rspace);\n\n            while ((className = classNames[i++])) {\n              // check each className given, space seperated list\n              state = isBool ? state : !self.hasClass(className);\n              self[state ? \"addClass\" : \"removeClass\"](className);\n            }\n\n          } else if (type === \"undefined\" || type === \"boolean\") {\n            if (this.className) {\n              // store className if set\n              jQuery._data(this, \"__className__\", this.className);\n            }\n\n            // toggle whole className\n            this.className = this.className || value === false ? \"\" : jQuery._data(this, \"__className__\") || \"\";\n          }\n        });\n      },\n\n      hasClass: function (selector) {\n        var className = \" \" + selector + \" \",\n          i = 0,\n          l = this.length;\n        for (; i < l; i++) {\n          if (this[i].nodeType === 1 && (\" \" + this[i].className + \" \").replace(rclass, \" \").indexOf(className) > -1) {\n            return true;\n          }\n        }\n\n        return false;\n      },\n\n      val: function (value) {\n        var hooks, ret, isFunction,\n          elem = this[0];\n\n        if (!arguments.length) {\n          if (elem) {\n            hooks = jQuery.valHooks[elem.nodeName.toLowerCase()] || jQuery.valHooks[elem.type];\n\n            if (hooks && \"get\" in hooks && (ret = hooks.get(elem, \"value\")) !== undefined) {\n              return ret;\n            }\n\n            ret = elem.value;\n\n            return typeof ret === \"string\" ?\n              // handle most common string cases\n              ret.replace(rreturn, \"\") :\n              // handle cases where value is null/undef or number\n              ret == null ? \"\" : ret;\n          }\n\n          return;\n        }\n\n        isFunction = jQuery.isFunction(value);\n\n        return this.each(function (i) {\n          var self = jQuery(this), val;\n\n          if (this.nodeType !== 1) {\n            return;\n          }\n\n          if (isFunction) {\n            val = value.call(this, i, self.val());\n          } else {\n            val = value;\n          }\n\n          // Treat null/undefined as \"\"; convert numbers to string\n          if (val == null) {\n            val = \"\";\n          } else if (typeof val === \"number\") {\n            val += \"\";\n          } else if (jQuery.isArray(val)) {\n            val = jQuery.map(val, function (value) {\n              return value == null ? \"\" : value + \"\";\n            });\n          }\n\n          hooks = jQuery.valHooks[this.nodeName.toLowerCase()] || jQuery.valHooks[this.type];\n\n          // If set returns undefined, fall back to normal setting\n          if (!hooks || !(\"set\" in hooks) || hooks.set(this, val, \"value\") === undefined) {\n            this.value = val;\n          }\n        });\n      }\n    });\n\n    jQuery.extend({\n      valHooks: {\n        option: {\n          get: function (elem) {\n            // attributes.value is undefined in Blackberry 4.7 but\n            // uses .value. See #6932\n            var val = elem.attributes.value;\n            return !val || val.specified ? elem.value : elem.text;\n          }\n        },\n        select: {\n          get: function (elem) {\n            var value, i, max, option,\n              index = elem.selectedIndex,\n              values = [],\n              options = elem.options,\n              one = elem.type === \"select-one\";\n\n            // Nothing was selected\n            if (index < 0) {\n              return null;\n            }\n\n            // Loop through all the selected options\n            i = one ? index : 0;\n            max = one ? index + 1 : options.length;\n            for (; i < max; i++) {\n              option = options[i];\n\n              // Don't return options that are disabled or in a disabled optgroup\n              if (option.selected && (jQuery.support.optDisabled ? !option.disabled : option.getAttribute(\"disabled\") === null) &&\n                (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, \"optgroup\"))) {\n\n                // Get the specific value for the option\n                value = jQuery(option).val();\n\n                // We don't need an array for one selects\n                if (one) {\n                  return value;\n                }\n\n                // Multi-Selects return an array\n                values.push(value);\n              }\n            }\n\n            // Fixes Bug #2551 -- select.val() broken in IE after form.reset()\n            if (one && !values.length && options.length) {\n              return jQuery(options[index]).val();\n            }\n\n            return values;\n          },\n\n          set: function (elem, value) {\n            var values = jQuery.makeArray(value);\n\n            jQuery(elem).find(\"option\").each(function () {\n              this.selected = jQuery.inArray(jQuery(this).val(), values) >= 0;\n            });\n\n            if (!values.length) {\n              elem.selectedIndex = -1;\n            }\n            return values;\n          }\n        }\n      },\n\n      attrFn: {\n        val: true,\n        css: true,\n        html: true,\n        text: true,\n        data: true,\n        width: true,\n        height: true,\n        offset: true\n      },\n\n      attr: function (elem, name, value, pass) {\n        var ret, hooks, notxml,\n          nType = elem.nodeType;\n\n        // don't get/set attributes on text, comment and attribute nodes\n        if (!elem || nType === 3 || nType === 8 || nType === 2) {\n          return;\n        }\n\n        if (pass && name in jQuery.attrFn) {\n          return jQuery(elem)[name](value);\n        }\n\n        // Fallback to prop when attributes are not supported\n        if (typeof elem.getAttribute === \"undefined\") {\n          return jQuery.prop(elem, name, value);\n        }\n\n        notxml = nType !== 1 || !jQuery.isXMLDoc(elem);\n\n        // All attributes are lowercase\n        // Grab necessary hook if one is defined\n        if (notxml) {\n          name = name.toLowerCase();\n          hooks = jQuery.attrHooks[name] || ( rboolean.test(name) ? boolHook : nodeHook );\n        }\n\n        if (value !== undefined) {\n\n          if (value === null) {\n            jQuery.removeAttr(elem, name);\n            return;\n\n          } else if (hooks && \"set\" in hooks && notxml && (ret = hooks.set(elem, value, name)) !== undefined) {\n            return ret;\n\n          } else {\n            elem.setAttribute(name, \"\" + value);\n            return value;\n          }\n\n        } else if (hooks && \"get\" in hooks && notxml && (ret = hooks.get(elem, name)) !== null) {\n          return ret;\n\n        } else {\n\n          ret = elem.getAttribute(name);\n\n          // Non-existent attributes return null, we normalize to undefined\n          return ret === null ?\n            undefined :\n            ret;\n        }\n      },\n\n      removeAttr: function (elem, value) {\n        var propName, attrNames, name, l,\n          i = 0;\n\n        if (value && elem.nodeType === 1) {\n          attrNames = value.toLowerCase().split(rspace);\n          l = attrNames.length;\n\n          for (; i < l; i++) {\n            name = attrNames[i];\n\n            if (name) {\n              propName = jQuery.propFix[name] || name;\n\n              // See #9699 for explanation of this approach (setting first, then removal)\n              jQuery.attr(elem, name, \"\");\n              elem.removeAttribute(getSetAttribute ? name : propName);\n\n              // Set corresponding property to false for boolean attributes\n              if (rboolean.test(name) && propName in elem) {\n                elem[propName] = false;\n              }\n            }\n          }\n        }\n      },\n\n      attrHooks: {\n        type: {\n          set: function (elem, value) {\n            // We can't allow the type property to be changed (since it causes problems in IE)\n            if (rtype.test(elem.nodeName) && elem.parentNode) {\n              jQuery.error(\"type property can't be changed\");\n            } else if (!jQuery.support.radioValue && value === \"radio\" && jQuery.nodeName(elem, \"input\")) {\n              // Setting the type on a radio button after the value resets the value in IE6-9\n              // Reset value to it's default in case type is set after value\n              // This is for element creation\n              var val = elem.value;\n              elem.setAttribute(\"type\", value);\n              if (val) {\n                elem.value = val;\n              }\n              return value;\n            }\n          }\n        },\n        // Use the value property for back compat\n        // Use the nodeHook for button elements in IE6/7 (#1954)\n        value: {\n          get: function (elem, name) {\n            if (nodeHook && jQuery.nodeName(elem, \"button\")) {\n              return nodeHook.get(elem, name);\n            }\n            return name in elem ?\n              elem.value :\n              null;\n          },\n          set: function (elem, value, name) {\n            if (nodeHook && jQuery.nodeName(elem, \"button\")) {\n              return nodeHook.set(elem, value, name);\n            }\n            // Does not return so that setAttribute is also used\n            elem.value = value;\n          }\n        }\n      },\n\n      propFix: {\n        tabindex: \"tabIndex\",\n        readonly: \"readOnly\",\n        \"for\": \"htmlFor\",\n        \"class\": \"className\",\n        maxlength: \"maxLength\",\n        cellspacing: \"cellSpacing\",\n        cellpadding: \"cellPadding\",\n        rowspan: \"rowSpan\",\n        colspan: \"colSpan\",\n        usemap: \"useMap\",\n        frameborder: \"frameBorder\",\n        contenteditable: \"contentEditable\"\n      },\n\n      prop: function (elem, name, value) {\n        var ret, hooks, notxml,\n          nType = elem.nodeType;\n\n        // don't get/set properties on text, comment and attribute nodes\n        if (!elem || nType === 3 || nType === 8 || nType === 2) {\n          return;\n        }\n\n        notxml = nType !== 1 || !jQuery.isXMLDoc(elem);\n\n        if (notxml) {\n          // Fix name and attach hooks\n          name = jQuery.propFix[name] || name;\n          hooks = jQuery.propHooks[name];\n        }\n\n        if (value !== undefined) {\n          if (hooks && \"set\" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {\n            return ret;\n\n          } else {\n            return ( elem[name] = value );\n          }\n\n        } else {\n          if (hooks && \"get\" in hooks && (ret = hooks.get(elem, name)) !== null) {\n            return ret;\n\n          } else {\n            return elem[name];\n          }\n        }\n      },\n\n      propHooks: {\n        tabIndex: {\n          get: function (elem) {\n            // elem.tabIndex doesn't always return the correct value when it hasn't been explicitly set\n            // http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n            var attributeNode = elem.getAttributeNode(\"tabindex\");\n\n            return attributeNode && attributeNode.specified ?\n              parseInt(attributeNode.value, 10) :\n              rfocusable.test(elem.nodeName) || rclickable.test(elem.nodeName) && elem.href ?\n                0 :\n                undefined;\n          }\n        }\n      }\n    });\n\n// Add the tabIndex propHook to attrHooks for back-compat (different case is intentional)\n    jQuery.attrHooks.tabindex = jQuery.propHooks.tabIndex;\n\n// Hook for boolean attributes\n    boolHook = {\n      get: function (elem, name) {\n        // Align boolean attributes with corresponding properties\n        // Fall back to attribute presence where some booleans are not supported\n        var attrNode,\n          property = jQuery.prop(elem, name);\n        return property === true || typeof property !== \"boolean\" && ( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?\n          name.toLowerCase() :\n          undefined;\n      },\n      set: function (elem, value, name) {\n        var propName;\n        if (value === false) {\n          // Remove boolean attributes when set to false\n          jQuery.removeAttr(elem, name);\n        } else {\n          // value is true since we know at this point it's type boolean and not false\n          // Set boolean attributes to the same name and set the DOM property\n          propName = jQuery.propFix[name] || name;\n          if (propName in elem) {\n            // Only set the IDL specifically if it already exists on the element\n            elem[propName] = true;\n          }\n\n          elem.setAttribute(name, name.toLowerCase());\n        }\n        return name;\n      }\n    };\n\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\n    if (!getSetAttribute) {\n\n      fixSpecified = {\n        name: true,\n        id: true\n      };\n\n      // Use this for any attribute in IE6/7\n      // This fixes almost every IE6/7 issue\n      nodeHook = jQuery.valHooks.button = {\n        get: function (elem, name) {\n          var ret;\n          ret = elem.getAttributeNode(name);\n          return ret && ( fixSpecified[name] ? ret.nodeValue !== \"\" : ret.specified ) ?\n            ret.nodeValue :\n            undefined;\n        },\n        set: function (elem, value, name) {\n          // Set the existing or create a new attribute node\n          var ret = elem.getAttributeNode(name);\n          if (!ret) {\n            ret = document.createAttribute(name);\n            elem.setAttributeNode(ret);\n          }\n          return ( ret.nodeValue = value + \"\" );\n        }\n      };\n\n      // Apply the nodeHook to tabindex\n      jQuery.attrHooks.tabindex.set = nodeHook.set;\n\n      // Set width and height to auto instead of 0 on empty string( Bug #8150 )\n      // This is for removals\n      jQuery.each([\"width\", \"height\"], function (i, name) {\n        jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {\n          set: function (elem, value) {\n            if (value === \"\") {\n              elem.setAttribute(name, \"auto\");\n              return value;\n            }\n          }\n        });\n      });\n\n      // Set contenteditable to false on removals(#10429)\n      // Setting to empty string throws an error as an invalid value\n      jQuery.attrHooks.contenteditable = {\n        get: nodeHook.get,\n        set: function (elem, value, name) {\n          if (value === \"\") {\n            value = \"false\";\n          }\n          nodeHook.set(elem, value, name);\n        }\n      };\n    }\n\n\n// Some attributes require a special call on IE\n    if (!jQuery.support.hrefNormalized) {\n      jQuery.each([\"href\", \"src\", \"width\", \"height\"], function (i, name) {\n        jQuery.attrHooks[name] = jQuery.extend(jQuery.attrHooks[name], {\n          get: function (elem) {\n            var ret = elem.getAttribute(name, 2);\n            return ret === null ? undefined : ret;\n          }\n        });\n      });\n    }\n\n    if (!jQuery.support.style) {\n      jQuery.attrHooks.style = {\n        get: function (elem) {\n          // Return undefined in the case of empty string\n          // Normalize to lowercase since IE uppercases css property names\n          return elem.style.cssText.toLowerCase() || undefined;\n        },\n        set: function (elem, value) {\n          return ( elem.style.cssText = \"\" + value );\n        }\n      };\n    }\n\n// Safari mis-reports the default selected property of an option\n// Accessing the parent's selectedIndex property fixes it\n    if (!jQuery.support.optSelected) {\n      jQuery.propHooks.selected = jQuery.extend(jQuery.propHooks.selected, {\n        get: function (elem) {\n          var parent = elem.parentNode;\n\n          if (parent) {\n            parent.selectedIndex;\n\n            // Make sure that it also works with optgroups, see #5701\n            if (parent.parentNode) {\n              parent.parentNode.selectedIndex;\n            }\n          }\n          return null;\n        }\n      });\n    }\n\n// IE6/7 call enctype encoding\n    if (!jQuery.support.enctype) {\n      jQuery.propFix.enctype = \"encoding\";\n    }\n\n// Radios and checkboxes getter/setter\n    if (!jQuery.support.checkOn) {\n      jQuery.each([\"radio\", \"checkbox\"], function () {\n        jQuery.valHooks[this] = {\n          get: function (elem) {\n            // Handle the case where in Webkit \"\" is returned instead of \"on\" if a value isn't specified\n            return elem.getAttribute(\"value\") === null ? \"on\" : elem.value;\n          }\n        };\n      });\n    }\n    jQuery.each([\"radio\", \"checkbox\"], function () {\n      jQuery.valHooks[this] = jQuery.extend(jQuery.valHooks[this], {\n        set: function (elem, value) {\n          if (jQuery.isArray(value)) {\n            return ( elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0 );\n          }\n        }\n      });\n    });\n\n\n    var rformElems = /^(?:textarea|input|select)$/i,\n      rtypenamespace = /^([^\\.]*)?(?:\\.(.+))?$/,\n      rhoverHack = /\\bhover(\\.\\S+)?\\b/,\n      rkeyEvent = /^key/,\n      rmouseEvent = /^(?:mouse|contextmenu)|click/,\n      rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n      rquickIs = /^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,\n      quickParse = function (selector) {\n        var quick = rquickIs.exec(selector);\n        if (quick) {\n          //   0  1    2   3\n          // [ _, tag, id, class ]\n          quick[1] = ( quick[1] || \"\" ).toLowerCase();\n          quick[3] = quick[3] && new RegExp(\"(?:^|\\\\s)\" + quick[3] + \"(?:\\\\s|$)\");\n        }\n        return quick;\n      },\n      quickIs = function (elem, m) {\n        var attrs = elem.attributes || {};\n        return (\n          (!m[1] || elem.nodeName.toLowerCase() === m[1]) &&\n          (!m[2] || (attrs.id || {}).value === m[2]) &&\n          (!m[3] || m[3].test((attrs[\"class\"] || {}).value))\n        );\n      },\n      hoverHack = function (events) {\n        return jQuery.event.special.hover ? events : events.replace(rhoverHack, \"mouseenter$1 mouseleave$1\");\n      };\n\n    /*\n     * Helper functions for managing events -- not part of the public interface.\n     * Props to Dean Edwards' addEvent library for many of the ideas.\n     */\n    jQuery.event = {\n\n      add: function (elem, types, handler, data, selector) {\n\n        var elemData, eventHandle, events,\n          t, tns, type, namespaces, handleObj,\n          handleObjIn, quick, handlers, special;\n\n        // Don't attach events to noData or text/comment nodes (allow plain objects tho)\n        if (elem.nodeType === 3 || elem.nodeType === 8 || !types || !handler || !(elemData = jQuery._data(elem))) {\n          return;\n        }\n\n        // Caller can pass in an object of custom data in lieu of the handler\n        if (handler.handler) {\n          handleObjIn = handler;\n          handler = handleObjIn.handler;\n        }\n\n        // Make sure that the handler has a unique ID, used to find/remove it later\n        if (!handler.guid) {\n          handler.guid = jQuery.guid++;\n        }\n\n        // Init the element's event structure and main handler, if this is the first\n        events = elemData.events;\n        if (!events) {\n          elemData.events = events = {};\n        }\n        eventHandle = elemData.handle;\n        if (!eventHandle) {\n          elemData.handle = eventHandle = function (e) {\n            // Discard the second event of a jQuery.event.trigger() and\n            // when an event is called after a page has unloaded\n            return typeof jQuery !== \"undefined\" && (!e || jQuery.event.triggered !== e.type) ?\n              jQuery.event.dispatch.apply(eventHandle.elem, arguments) :\n              undefined;\n          };\n          // Add elem as a property of the handle fn to prevent a memory leak with IE non-native events\n          eventHandle.elem = elem;\n        }\n\n        // Handle multiple events separated by a space\n        // jQuery(...).bind(\"mouseover mouseout\", fn);\n        types = jQuery.trim(hoverHack(types)).split(\" \");\n        for (t = 0; t < types.length; t++) {\n\n          tns = rtypenamespace.exec(types[t]) || [];\n          type = tns[1];\n          namespaces = ( tns[2] || \"\" ).split(\".\").sort();\n\n          // If event changes its type, use the special event handlers for the changed type\n          special = jQuery.event.special[type] || {};\n\n          // If selector defined, determine special event api type, otherwise given type\n          type = ( selector ? special.delegateType : special.bindType ) || type;\n\n          // Update special based on newly reset type\n          special = jQuery.event.special[type] || {};\n\n          // handleObj is passed to all event handlers\n          handleObj = jQuery.extend({\n            type: type,\n            origType: tns[1],\n            data: data,\n            handler: handler,\n            guid: handler.guid,\n            selector: selector,\n            quick: quickParse(selector),\n            namespace: namespaces.join(\".\")\n          }, handleObjIn);\n\n          // Init the event handler queue if we're the first\n          handlers = events[type];\n          if (!handlers) {\n            handlers = events[type] = [];\n            handlers.delegateCount = 0;\n\n            // Only use addEventListener/attachEvent if the special events handler returns false\n            if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {\n              // Bind the global event handler to the element\n              if (elem.addEventListener) {\n                elem.addEventListener(type, eventHandle, false);\n\n              } else if (elem.attachEvent) {\n                elem.attachEvent(\"on\" + type, eventHandle);\n              }\n            }\n          }\n\n          if (special.add) {\n            special.add.call(elem, handleObj);\n\n            if (!handleObj.handler.guid) {\n              handleObj.handler.guid = handler.guid;\n            }\n          }\n\n          // Add to the element's handler list, delegates in front\n          if (selector) {\n            handlers.splice(handlers.delegateCount++, 0, handleObj);\n          } else {\n            handlers.push(handleObj);\n          }\n\n          // Keep track of which events have ever been used, for event optimization\n          jQuery.event.global[type] = true;\n        }\n\n        // Nullify elem to prevent memory leaks in IE\n        elem = null;\n      },\n\n      global: {},\n\n      // Detach an event or set of events from an element\n      remove: function (elem, types, handler, selector, mappedTypes) {\n\n        var elemData = jQuery.hasData(elem) && jQuery._data(elem),\n          t, tns, type, origType, namespaces, origCount,\n          j, events, special, handle, eventType, handleObj;\n\n        if (!elemData || !(events = elemData.events)) {\n          return;\n        }\n\n        // Once for each type.namespace in types; type may be omitted\n        types = jQuery.trim(hoverHack(types || \"\")).split(\" \");\n        for (t = 0; t < types.length; t++) {\n          tns = rtypenamespace.exec(types[t]) || [];\n          type = origType = tns[1];\n          namespaces = tns[2];\n\n          // Unbind all events (on this namespace, if provided) for the element\n          if (!type) {\n            for (type in events) {\n              jQuery.event.remove(elem, type + types[t], handler, selector, true);\n            }\n            continue;\n          }\n\n          special = jQuery.event.special[type] || {};\n          type = ( selector ? special.delegateType : special.bindType ) || type;\n          eventType = events[type] || [];\n          origCount = eventType.length;\n          namespaces = namespaces ? new RegExp(\"(^|\\\\.)\" + namespaces.split(\".\").sort().join(\"\\\\.(?:.*\\\\.)?\") + \"(\\\\.|$)\") : null;\n\n          // Remove matching events\n          for (j = 0; j < eventType.length; j++) {\n            handleObj = eventType[j];\n\n            if (( mappedTypes || origType === handleObj.origType ) &&\n              ( !handler || handler.guid === handleObj.guid ) &&\n              ( !namespaces || namespaces.test(handleObj.namespace) ) &&\n              ( !selector || selector === handleObj.selector || selector === \"**\" && handleObj.selector )) {\n              eventType.splice(j--, 1);\n\n              if (handleObj.selector) {\n                eventType.delegateCount--;\n              }\n              if (special.remove) {\n                special.remove.call(elem, handleObj);\n              }\n            }\n          }\n\n          // Remove generic event handler if we removed something and no more handlers exist\n          // (avoids potential for endless recursion during removal of special event handlers)\n          if (eventType.length === 0 && origCount !== eventType.length) {\n            if (!special.teardown || special.teardown.call(elem, namespaces) === false) {\n              jQuery.removeEvent(elem, type, elemData.handle);\n            }\n\n            delete events[type];\n          }\n        }\n\n        // Remove the expando if it's no longer used\n        if (jQuery.isEmptyObject(events)) {\n          handle = elemData.handle;\n          if (handle) {\n            handle.elem = null;\n          }\n\n          // removeData also checks for emptiness and clears the expando if empty\n          // so use it instead of delete\n          jQuery.removeData(elem, [\"events\", \"handle\"], true);\n        }\n      },\n\n      // Events that are safe to short-circuit if no handlers are attached.\n      // Native DOM events should not be added, they may have inline handlers.\n      customEvent: {\n        \"getData\": true,\n        \"setData\": true,\n        \"changeData\": true\n      },\n\n      trigger: function (event, data, elem, onlyHandlers) {\n        // Don't do events on text and comment nodes\n        if (elem && (elem.nodeType === 3 || elem.nodeType === 8)) {\n          return;\n        }\n\n        // Event object or event type\n        var type = event.type || event,\n          namespaces = [],\n          cache, exclusive, i, cur, old, ontype, special, handle, eventPath, bubbleType;\n\n        // focus/blur morphs to focusin/out; ensure we're not firing them right now\n        if (rfocusMorph.test(type + jQuery.event.triggered)) {\n          return;\n        }\n\n        if (type.indexOf(\"!\") >= 0) {\n          // Exclusive events trigger only for the exact event (no namespaces)\n          type = type.slice(0, -1);\n          exclusive = true;\n        }\n\n        if (type.indexOf(\".\") >= 0) {\n          // Namespaced trigger; create a regexp to match event type in handle()\n          namespaces = type.split(\".\");\n          type = namespaces.shift();\n          namespaces.sort();\n        }\n\n        if ((!elem || jQuery.event.customEvent[type]) && !jQuery.event.global[type]) {\n          // No jQuery handlers for this event type, and it can't have inline handlers\n          return;\n        }\n\n        // Caller can pass in an Event, Object, or just an event type string\n        event = typeof event === \"object\" ?\n          // jQuery.Event object\n          event[jQuery.expando] ? event :\n            // Object literal\n            new jQuery.Event(type, event) :\n          // Just the event type (string)\n          new jQuery.Event(type);\n\n        event.type = type;\n        event.isTrigger = true;\n        event.exclusive = exclusive;\n        event.namespace = namespaces.join(\".\");\n        event.namespace_re = event.namespace ? new RegExp(\"(^|\\\\.)\" + namespaces.join(\"\\\\.(?:.*\\\\.)?\") + \"(\\\\.|$)\") : null;\n        ontype = type.indexOf(\":\") < 0 ? \"on\" + type : \"\";\n\n        // Handle a global trigger\n        if (!elem) {\n\n          // TODO: Stop taunting the data cache; remove global events and always attach to document\n          cache = jQuery.cache;\n          for (i in cache) {\n            if (cache[i].events && cache[i].events[type]) {\n              jQuery.event.trigger(event, data, cache[i].handle.elem, true);\n            }\n          }\n          return;\n        }\n\n        // Clean up the event in case it is being reused\n        event.result = undefined;\n        if (!event.target) {\n          event.target = elem;\n        }\n\n        // Clone any incoming data and prepend the event, creating the handler arg list\n        data = data != null ? jQuery.makeArray(data) : [];\n        data.unshift(event);\n\n        // Allow special events to draw outside the lines\n        special = jQuery.event.special[type] || {};\n        if (special.trigger && special.trigger.apply(elem, data) === false) {\n          return;\n        }\n\n        // Determine event propagation path in advance, per W3C events spec (#9951)\n        // Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n        eventPath = [[elem, special.bindType || type]];\n        if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {\n\n          bubbleType = special.delegateType || type;\n          cur = rfocusMorph.test(bubbleType + type) ? elem : elem.parentNode;\n          old = null;\n          for (; cur; cur = cur.parentNode) {\n            eventPath.push([cur, bubbleType]);\n            old = cur;\n          }\n\n          // Only add window if we got to document (e.g., not plain obj or detached DOM)\n          if (old && old === elem.ownerDocument) {\n            eventPath.push([old.defaultView || old.parentWindow || window, bubbleType]);\n          }\n        }\n\n        // Fire handlers on the event path\n        for (i = 0; i < eventPath.length && !event.isPropagationStopped(); i++) {\n\n          cur = eventPath[i][0];\n          event.type = eventPath[i][1];\n\n          handle = ( jQuery._data(cur, \"events\") || {} )[event.type] && jQuery._data(cur, \"handle\");\n          if (handle) {\n            handle.apply(cur, data);\n          }\n          // Note that this is a bare JS function and not a jQuery handler\n          handle = ontype && cur[ontype];\n          if (handle && jQuery.acceptData(cur) && handle.apply(cur, data) === false) {\n            event.preventDefault();\n          }\n        }\n        event.type = type;\n\n        // If nobody prevented the default action, do it now\n        if (!onlyHandlers && !event.isDefaultPrevented()) {\n\n          if ((!special._default || special._default.apply(elem.ownerDocument, data) === false) && !(type === \"click\" && jQuery.nodeName(elem, \"a\")) && jQuery.acceptData(elem)) {\n\n            // Call a native DOM method on the target with the same name name as the event.\n            // Can't use an .isFunction() check here because IE6/7 fails that test.\n            // Don't do default actions on window, that's where global variables be (#6170)\n            // IE<9 dies on focus/blur to hidden element (#1486)\n            if (ontype && elem[type] && ((type !== \"focus\" && type !== \"blur\") || event.target.offsetWidth !== 0) && !jQuery.isWindow(elem)) {\n\n              // Don't re-trigger an onFOO event when we call its FOO() method\n              old = elem[ontype];\n\n              if (old) {\n                elem[ontype] = null;\n              }\n\n              // Prevent re-triggering of the same event, since we already bubbled it above\n              jQuery.event.triggered = type;\n              elem[type]();\n              jQuery.event.triggered = undefined;\n\n              if (old) {\n                elem[ontype] = old;\n              }\n            }\n          }\n        }\n\n        return event.result;\n      },\n\n      dispatch: function (event) {\n\n        // Make a writable jQuery.Event from the native event object\n        event = jQuery.event.fix(event || window.event);\n\n        var handlers = ( (jQuery._data(this, \"events\") || {} )[event.type] || []),\n          delegateCount = handlers.delegateCount,\n          args = [].slice.call(arguments, 0),\n          run_all = !event.exclusive && !event.namespace,\n          handlerQueue = [],\n          i, j, cur, jqcur, ret, selMatch, matched, matches, handleObj, sel, related;\n\n        // Use the fix-ed jQuery.Event rather than the (read-only) native event\n        args[0] = event;\n        event.delegateTarget = this;\n\n        // Determine handlers that should run if there are delegated events\n        // Avoid disabled elements in IE (#6911) and non-left-click bubbling in Firefox (#3861)\n        if (delegateCount && !event.target.disabled && !(event.button && event.type === \"click\")) {\n\n          // Pregenerate a single jQuery object for reuse with .is()\n          jqcur = jQuery(this);\n          jqcur.context = this.ownerDocument || this;\n\n          for (cur = event.target; cur != this; cur = cur.parentNode || this) {\n            selMatch = {};\n            matches = [];\n            jqcur[0] = cur;\n            for (i = 0; i < delegateCount; i++) {\n              handleObj = handlers[i];\n              sel = handleObj.selector;\n\n              if (selMatch[sel] === undefined) {\n                selMatch[sel] = (\n                  handleObj.quick ? quickIs(cur, handleObj.quick) : jqcur.is(sel)\n                );\n              }\n              if (selMatch[sel]) {\n                matches.push(handleObj);\n              }\n            }\n            if (matches.length) {\n              handlerQueue.push({elem: cur, matches: matches});\n            }\n          }\n        }\n\n        // Add the remaining (directly-bound) handlers\n        if (handlers.length > delegateCount) {\n          handlerQueue.push({elem: this, matches: handlers.slice(delegateCount)});\n        }\n\n        // Run delegates first; they may want to stop propagation beneath us\n        for (i = 0; i < handlerQueue.length && !event.isPropagationStopped(); i++) {\n          matched = handlerQueue[i];\n          event.currentTarget = matched.elem;\n\n          for (j = 0; j < matched.matches.length && !event.isImmediatePropagationStopped(); j++) {\n            handleObj = matched.matches[j];\n\n            // Triggered event must either 1) be non-exclusive and have no namespace, or\n            // 2) have namespace(s) a subset or equal to those in the bound event (both can have no namespace).\n            if (run_all || (!event.namespace && !handleObj.namespace) || event.namespace_re && event.namespace_re.test(handleObj.namespace)) {\n\n              event.data = handleObj.data;\n              event.handleObj = handleObj;\n\n              ret = ( (jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler )\n                .apply(matched.elem, args);\n\n              if (ret !== undefined) {\n                event.result = ret;\n                if (ret === false) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                }\n              }\n            }\n          }\n        }\n\n        return event.result;\n      },\n\n      // Includes some event props shared by KeyEvent and MouseEvent\n      // *** attrChange attrName relatedNode srcElement  are not normalized, non-W3C, deprecated, will be removed in 1.8 ***\n      props: \"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),\n\n      fixHooks: {},\n\n      keyHooks: {\n        props: \"char charCode key keyCode\".split(\" \"),\n        filter: function (event, original) {\n\n          // Add which for key events\n          if (event.which == null) {\n            event.which = original.charCode != null ? original.charCode : original.keyCode;\n          }\n\n          return event;\n        }\n      },\n\n      mouseHooks: {\n        props: \"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),\n        filter: function (event, original) {\n          var eventDoc, doc, body,\n            button = original.button,\n            fromElement = original.fromElement;\n\n          // Calculate pageX/Y if missing and clientX/Y available\n          if (event.pageX == null && original.clientX != null) {\n            eventDoc = event.target.ownerDocument || document;\n            doc = eventDoc.documentElement;\n            body = eventDoc.body;\n\n            event.pageX = original.clientX + ( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) - ( doc && doc.clientLeft || body && body.clientLeft || 0 );\n            event.pageY = original.clientY + ( doc && doc.scrollTop || body && body.scrollTop || 0 ) - ( doc && doc.clientTop || body && body.clientTop || 0 );\n          }\n\n          // Add relatedTarget, if necessary\n          if (!event.relatedTarget && fromElement) {\n            event.relatedTarget = fromElement === event.target ? original.toElement : fromElement;\n          }\n\n          // Add which for click: 1 === left; 2 === middle; 3 === right\n          // Note: button is not normalized, so don't use it\n          if (!event.which && button !== undefined) {\n            event.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\n          }\n\n          return event;\n        }\n      },\n\n      fix: function (event) {\n        if (event[jQuery.expando]) {\n          return event;\n        }\n\n        // Create a writable copy of the event object and normalize some properties\n        var i, prop,\n          originalEvent = event,\n          fixHook = jQuery.event.fixHooks[event.type] || {},\n          copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;\n\n        event = jQuery.Event(originalEvent);\n\n        for (i = copy.length; i;) {\n          prop = copy[--i];\n          event[prop] = originalEvent[prop];\n        }\n\n        // Fix target property, if necessary (#1925, IE 6/7/8 & Safari2)\n        if (!event.target) {\n          event.target = originalEvent.srcElement || document;\n        }\n\n        // Target should not be a text node (#504, Safari)\n        if (event.target.nodeType === 3) {\n          event.target = event.target.parentNode;\n        }\n\n        // For mouse/key events; add metaKey if it's not there (#3368, IE6/7/8)\n        if (event.metaKey === undefined) {\n          event.metaKey = event.ctrlKey;\n        }\n\n        return fixHook.filter ? fixHook.filter(event, originalEvent) : event;\n      },\n\n      special: {\n        ready: {\n          // Make sure the ready event is setup\n          setup: jQuery.bindReady\n        },\n\n        load: {\n          // Prevent triggered image.load events from bubbling to window.load\n          noBubble: true\n        },\n\n        focus: {\n          delegateType: \"focusin\"\n        },\n        blur: {\n          delegateType: \"focusout\"\n        },\n\n        beforeunload: {\n          setup: function (data, namespaces, eventHandle) {\n            // We only want to do this special case on windows\n            if (jQuery.isWindow(this)) {\n              this.onbeforeunload = eventHandle;\n            }\n          },\n\n          teardown: function (namespaces, eventHandle) {\n            if (this.onbeforeunload === eventHandle) {\n              this.onbeforeunload = null;\n            }\n          }\n        }\n      },\n\n      simulate: function (type, elem, event, bubble) {\n        // Piggyback on a donor event to simulate a different one.\n        // Fake originalEvent to avoid donor's stopPropagation, but if the\n        // simulated event prevents default then we do the same on the donor.\n        var e = jQuery.extend(\n          new jQuery.Event(),\n          event,\n          {\n            type: type,\n            isSimulated: true,\n            originalEvent: {}\n          }\n        );\n        if (bubble) {\n          jQuery.event.trigger(e, null, elem);\n        } else {\n          jQuery.event.dispatch.call(elem, e);\n        }\n        if (e.isDefaultPrevented()) {\n          event.preventDefault();\n        }\n      }\n    };\n\n// Some plugins are using, but it's undocumented/deprecated and will be removed.\n// The 1.7 special event interface should provide all the hooks needed now.\n    jQuery.event.handle = jQuery.event.dispatch;\n\n    jQuery.removeEvent = document.removeEventListener ?\n      function (elem, type, handle) {\n        if (elem.removeEventListener) {\n          elem.removeEventListener(type, handle, false);\n        }\n      } :\n      function (elem, type, handle) {\n        if (elem.detachEvent) {\n          elem.detachEvent(\"on\" + type, handle);\n        }\n      };\n\n    jQuery.Event = function (src, props) {\n      // Allow instantiation without the 'new' keyword\n      if (!(this instanceof jQuery.Event)) {\n        return new jQuery.Event(src, props);\n      }\n\n      // Event object\n      if (src && src.type) {\n        this.originalEvent = src;\n        this.type = src.type;\n\n        // Events bubbling up the document may have been marked as prevented\n        // by a handler lower down the tree; reflect the correct value.\n        this.isDefaultPrevented = ( src.defaultPrevented || src.returnValue === false ||\n        src.getPreventDefault && src.getPreventDefault() ) ? returnTrue : returnFalse;\n\n        // Event type\n      } else {\n        this.type = src;\n      }\n\n      // Put explicitly provided properties onto the event object\n      if (props) {\n        jQuery.extend(this, props);\n      }\n\n      // Create a timestamp if incoming event doesn't have one\n      this.timeStamp = src && src.timeStamp || jQuery.now();\n\n      // Mark it as fixed\n      this[jQuery.expando] = true;\n    };\n\n    function returnFalse() {\n      return false;\n    }\n\n    function returnTrue() {\n      return true;\n    }\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n    jQuery.Event.prototype = {\n      preventDefault: function () {\n        this.isDefaultPrevented = returnTrue;\n\n        var e = this.originalEvent;\n        if (!e) {\n          return;\n        }\n\n        // if preventDefault exists run it on the original event\n        if (e.preventDefault) {\n          e.preventDefault();\n\n          // otherwise set the returnValue property of the original event to false (IE)\n        } else {\n          e.returnValue = false;\n        }\n      },\n      stopPropagation: function () {\n        this.isPropagationStopped = returnTrue;\n\n        var e = this.originalEvent;\n        if (!e) {\n          return;\n        }\n        // if stopPropagation exists run it on the original event\n        if (e.stopPropagation) {\n          e.stopPropagation();\n        }\n        // otherwise set the cancelBubble property of the original event to true (IE)\n        e.cancelBubble = true;\n      },\n      stopImmediatePropagation: function () {\n        this.isImmediatePropagationStopped = returnTrue;\n        this.stopPropagation();\n      },\n      isDefaultPrevented: returnFalse,\n      isPropagationStopped: returnFalse,\n      isImmediatePropagationStopped: returnFalse\n    };\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n    jQuery.each({\n      mouseenter: \"mouseover\",\n      mouseleave: \"mouseout\"\n    }, function (orig, fix) {\n      jQuery.event.special[orig] = {\n        delegateType: fix,\n        bindType: fix,\n\n        handle: function (event) {\n          var target = this,\n            related = event.relatedTarget,\n            handleObj = event.handleObj,\n            selector = handleObj.selector,\n            ret;\n\n          // For mousenter/leave call the handler if related is outside the target.\n          // NB: No relatedTarget if the mouse left/entered the browser window\n          if (!related || (related !== target && !jQuery.contains(target, related))) {\n            event.type = handleObj.origType;\n            ret = handleObj.handler.apply(this, arguments);\n            event.type = fix;\n          }\n          return ret;\n        }\n      };\n    });\n\n// IE submit delegation\n    if (!jQuery.support.submitBubbles) {\n\n      jQuery.event.special.submit = {\n        setup: function () {\n          // Only need this for delegated form submit events\n          if (jQuery.nodeName(this, \"form\")) {\n            return false;\n          }\n\n          // Lazy-add a submit handler when a descendant form may potentially be submitted\n          jQuery.event.add(this, \"click._submit keypress._submit\", function (e) {\n            // Node name check avoids a VML-related crash in IE (#9807)\n            var elem = e.target,\n              form = jQuery.nodeName(elem, \"input\") || jQuery.nodeName(elem, \"button\") ? elem.form : undefined;\n            if (form && !form._submit_attached) {\n              jQuery.event.add(form, \"submit._submit\", function (event) {\n                // If form was submitted by the user, bubble the event up the tree\n                if (this.parentNode && !event.isTrigger) {\n                  jQuery.event.simulate(\"submit\", this.parentNode, event, true);\n                }\n              });\n              form._submit_attached = true;\n            }\n          });\n          // return undefined since we don't need an event listener\n        },\n\n        teardown: function () {\n          // Only need this for delegated form submit events\n          if (jQuery.nodeName(this, \"form\")) {\n            return false;\n          }\n\n          // Remove delegated handlers; cleanData eventually reaps submit handlers attached above\n          jQuery.event.remove(this, \"._submit\");\n        }\n      };\n    }\n\n// IE change delegation and checkbox/radio fix\n    if (!jQuery.support.changeBubbles) {\n\n      jQuery.event.special.change = {\n\n        setup: function () {\n\n          if (rformElems.test(this.nodeName)) {\n            // IE doesn't fire change on a check/radio until blur; trigger it on click\n            // after a propertychange. Eat the blur-change in special.change.handle.\n            // This still fires onchange a second time for check/radio after blur.\n            if (this.type === \"checkbox\" || this.type === \"radio\") {\n              jQuery.event.add(this, \"propertychange._change\", function (event) {\n                if (event.originalEvent.propertyName === \"checked\") {\n                  this._just_changed = true;\n                }\n              });\n              jQuery.event.add(this, \"click._change\", function (event) {\n                if (this._just_changed && !event.isTrigger) {\n                  this._just_changed = false;\n                  jQuery.event.simulate(\"change\", this, event, true);\n                }\n              });\n            }\n            return false;\n          }\n          // Delegated event; lazy-add a change handler on descendant inputs\n          jQuery.event.add(this, \"beforeactivate._change\", function (e) {\n            var elem = e.target;\n\n            if (rformElems.test(elem.nodeName) && !elem._change_attached) {\n              jQuery.event.add(elem, \"change._change\", function (event) {\n                if (this.parentNode && !event.isSimulated && !event.isTrigger) {\n                  jQuery.event.simulate(\"change\", this.parentNode, event, true);\n                }\n              });\n              elem._change_attached = true;\n            }\n          });\n        },\n\n        handle: function (event) {\n          var elem = event.target;\n\n          // Swallow native change events from checkbox/radio, we already triggered them above\n          if (this !== elem || event.isSimulated || event.isTrigger || (elem.type !== \"radio\" && elem.type !== \"checkbox\")) {\n            return event.handleObj.handler.apply(this, arguments);\n          }\n        },\n\n        teardown: function () {\n          jQuery.event.remove(this, \"._change\");\n\n          return rformElems.test(this.nodeName);\n        }\n      };\n    }\n\n// Create \"bubbling\" focus and blur events\n    if (!jQuery.support.focusinBubbles) {\n      jQuery.each({focus: \"focusin\", blur: \"focusout\"}, function (orig, fix) {\n\n        // Attach a single capturing handler while someone wants focusin/focusout\n        var attaches = 0,\n          handler = function (event) {\n            jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true);\n          };\n\n        jQuery.event.special[fix] = {\n          setup: function () {\n            if (attaches++ === 0) {\n              document.addEventListener(orig, handler, true);\n            }\n          },\n          teardown: function () {\n            if (--attaches === 0) {\n              document.removeEventListener(orig, handler, true);\n            }\n          }\n        };\n      });\n    }\n\n    jQuery.fn.extend({\n\n      on: function (types, selector, data, fn, /*INTERNAL*/ one) {\n        var origFn, type;\n\n        // Types can be a map of types/handlers\n        if (typeof types === \"object\") {\n          // ( types-Object, selector, data )\n          if (typeof selector !== \"string\") {\n            // ( types-Object, data )\n            data = selector;\n            selector = undefined;\n          }\n          for (type in types) {\n            this.on(type, selector, data, types[type], one);\n          }\n          return this;\n        }\n\n        if (data == null && fn == null) {\n          // ( types, fn )\n          fn = selector;\n          data = selector = undefined;\n        } else if (fn == null) {\n          if (typeof selector === \"string\") {\n            // ( types, selector, fn )\n            fn = data;\n            data = undefined;\n          } else {\n            // ( types, data, fn )\n            fn = data;\n            data = selector;\n            selector = undefined;\n          }\n        }\n        if (fn === false) {\n          fn = returnFalse;\n        } else if (!fn) {\n          return this;\n        }\n\n        if (one === 1) {\n          origFn = fn;\n          fn = function (event) {\n            // Can use an empty set, since event contains the info\n            jQuery().off(event);\n            return origFn.apply(this, arguments);\n          };\n          // Use same guid so caller can remove using origFn\n          fn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n        }\n        return this.each(function () {\n          jQuery.event.add(this, types, fn, data, selector);\n        });\n      },\n      one: function (types, selector, data, fn) {\n        return this.on.call(this, types, selector, data, fn, 1);\n      },\n      off: function (types, selector, fn) {\n        if (types && types.preventDefault && types.handleObj) {\n          // ( event )  dispatched jQuery.Event\n          var handleObj = types.handleObj;\n          jQuery(types.delegateTarget).off(\n            handleObj.namespace ? handleObj.type + \".\" + handleObj.namespace : handleObj.type,\n            handleObj.selector,\n            handleObj.handler\n          );\n          return this;\n        }\n        if (typeof types === \"object\") {\n          // ( types-object [, selector] )\n          for (var type in types) {\n            this.off(type, selector, types[type]);\n          }\n          return this;\n        }\n        if (selector === false || typeof selector === \"function\") {\n          // ( types [, fn] )\n          fn = selector;\n          selector = undefined;\n        }\n        if (fn === false) {\n          fn = returnFalse;\n        }\n        return this.each(function () {\n          jQuery.event.remove(this, types, fn, selector);\n        });\n      },\n\n      bind: function (types, data, fn) {\n        return this.on(types, null, data, fn);\n      },\n      unbind: function (types, fn) {\n        return this.off(types, null, fn);\n      },\n\n      live: function (types, data, fn) {\n        jQuery(this.context).on(types, this.selector, data, fn);\n        return this;\n      },\n      die: function (types, fn) {\n        jQuery(this.context).off(types, this.selector || \"**\", fn);\n        return this;\n      },\n\n      delegate: function (selector, types, data, fn) {\n        return this.on(types, selector, data, fn);\n      },\n      undelegate: function (selector, types, fn) {\n        // ( namespace ) or ( selector, types [, fn] )\n        return arguments.length == 1 ? this.off(selector, \"**\") : this.off(types, selector, fn);\n      },\n\n      trigger: function (type, data) {\n        return this.each(function () {\n          jQuery.event.trigger(type, data, this);\n        });\n      },\n      triggerHandler: function (type, data) {\n        if (this[0]) {\n          return jQuery.event.trigger(type, data, this[0], true);\n        }\n      },\n\n      toggle: function (fn) {\n        // Save reference to arguments for access in closure\n        var args = arguments,\n          guid = fn.guid || jQuery.guid++,\n          i = 0,\n          toggler = function (event) {\n            // Figure out which function to execute\n            var lastToggle = ( jQuery._data(this, \"lastToggle\" + fn.guid) || 0 ) % i;\n            jQuery._data(this, \"lastToggle\" + fn.guid, lastToggle + 1);\n\n            // Make sure that clicks stop\n            event.preventDefault();\n\n            // and execute the function\n            return args[lastToggle].apply(this, arguments) || false;\n          };\n\n        // link all the functions, so any of them can unbind this click handler\n        toggler.guid = guid;\n        while (i < args.length) {\n          args[i++].guid = guid;\n        }\n\n        return this.click(toggler);\n      },\n\n      hover: function (fnOver, fnOut) {\n        return this.mouseenter(fnOver).mouseleave(fnOut || fnOver);\n      }\n    });\n\n    jQuery.each((\"blur focus focusin focusout load resize scroll unload click dblclick \" +\n    \"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n    \"change select submit keydown keypress keyup error contextmenu\").split(\" \"), function (i, name) {\n\n      // Handle event binding\n      jQuery.fn[name] = function (data, fn) {\n        if (fn == null) {\n          fn = data;\n          data = null;\n        }\n\n        return arguments.length > 0 ?\n          this.on(name, null, data, fn) :\n          this.trigger(name);\n      };\n\n      if (jQuery.attrFn) {\n        jQuery.attrFn[name] = true;\n      }\n\n      if (rkeyEvent.test(name)) {\n        jQuery.event.fixHooks[name] = jQuery.event.keyHooks;\n      }\n\n      if (rmouseEvent.test(name)) {\n        jQuery.event.fixHooks[name] = jQuery.event.mouseHooks;\n      }\n    });\n\n\n    /*!\n     * Sizzle CSS Selector Engine\n     *  Copyright 2011, The Dojo Foundation\n     *  Released under the MIT, BSD, and GPL Licenses.\n     *  More information: http://sizzlejs.com/\n     */\n    (function () {\n\n      var chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,\n        expando = \"sizcache\" + (Math.random() + '').replace('.', ''),\n        done = 0,\n        toString = Object.prototype.toString,\n        hasDuplicate = false,\n        baseHasDuplicate = true,\n        rBackslash = /\\\\/g,\n        rReturn = /\\r\\n/g,\n        rNonWord = /\\W/;\n\n// Here we check if the JavaScript engine is using some sort of\n// optimization where it does not always call our comparision\n// function. If that is the case, discard the hasDuplicate value.\n//   Thus far that includes Google Chrome.\n      [0, 0].sort(function () {\n        baseHasDuplicate = false;\n        return 0;\n      });\n\n      var Sizzle = function (selector, context, results, seed) {\n        results = results || [];\n        context = context || document;\n\n        var origContext = context;\n\n        if (context.nodeType !== 1 && context.nodeType !== 9) {\n          return [];\n        }\n\n        if (!selector || typeof selector !== \"string\") {\n          return results;\n        }\n\n        var m, set, checkSet, extra, ret, cur, pop, i,\n          prune = true,\n          contextXML = Sizzle.isXML(context),\n          parts = [],\n          soFar = selector;\n\n        // Reset the position of the chunker regexp (start from head)\n        do {\n          chunker.exec(\"\");\n          m = chunker.exec(soFar);\n\n          if (m) {\n            soFar = m[3];\n\n            parts.push(m[1]);\n\n            if (m[2]) {\n              extra = m[3];\n              break;\n            }\n          }\n        } while (m);\n\n        if (parts.length > 1 && origPOS.exec(selector)) {\n\n          if (parts.length === 2 && Expr.relative[parts[0]]) {\n            set = posProcess(parts[0] + parts[1], context, seed);\n\n          } else {\n            set = Expr.relative[parts[0]] ?\n              [context] :\n              Sizzle(parts.shift(), context);\n\n            while (parts.length) {\n              selector = parts.shift();\n\n              if (Expr.relative[selector]) {\n                selector += parts.shift();\n              }\n\n              set = posProcess(selector, set, seed);\n            }\n          }\n\n        } else {\n          // Take a shortcut and set the context if the root selector is an ID\n          // (but not if it'll be faster if the inner selector is an ID)\n          if (!seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&\n            Expr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1])) {\n\n            ret = Sizzle.find(parts.shift(), context, contextXML);\n            context = ret.expr ?\n              Sizzle.filter(ret.expr, ret.set)[0] :\n              ret.set[0];\n          }\n\n          if (context) {\n            ret = seed ?\n              {expr: parts.pop(), set: makeArray(seed)} :\n              Sizzle.find(parts.pop(), parts.length === 1 && (parts[0] === \"~\" || parts[0] === \"+\") && context.parentNode ? context.parentNode : context, contextXML);\n\n            set = ret.expr ?\n              Sizzle.filter(ret.expr, ret.set) :\n              ret.set;\n\n            if (parts.length > 0) {\n              checkSet = makeArray(set);\n\n            } else {\n              prune = false;\n            }\n\n            while (parts.length) {\n              cur = parts.pop();\n              pop = cur;\n\n              if (!Expr.relative[cur]) {\n                cur = \"\";\n              } else {\n                pop = parts.pop();\n              }\n\n              if (pop == null) {\n                pop = context;\n              }\n\n              Expr.relative[cur](checkSet, pop, contextXML);\n            }\n\n          } else {\n            checkSet = parts = [];\n          }\n        }\n\n        if (!checkSet) {\n          checkSet = set;\n        }\n\n        if (!checkSet) {\n          Sizzle.error(cur || selector);\n        }\n\n        if (toString.call(checkSet) === \"[object Array]\") {\n          if (!prune) {\n            results.push.apply(results, checkSet);\n\n          } else if (context && context.nodeType === 1) {\n            for (i = 0; checkSet[i] != null; i++) {\n              if (checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && Sizzle.contains(context, checkSet[i]))) {\n                results.push(set[i]);\n              }\n            }\n\n          } else {\n            for (i = 0; checkSet[i] != null; i++) {\n              if (checkSet[i] && checkSet[i].nodeType === 1) {\n                results.push(set[i]);\n              }\n            }\n          }\n\n        } else {\n          makeArray(checkSet, results);\n        }\n\n        if (extra) {\n          Sizzle(extra, origContext, results, seed);\n          Sizzle.uniqueSort(results);\n        }\n\n        return results;\n      };\n\n      Sizzle.uniqueSort = function (results) {\n        if (sortOrder) {\n          hasDuplicate = baseHasDuplicate;\n          results.sort(sortOrder);\n\n          if (hasDuplicate) {\n            for (var i = 1; i < results.length; i++) {\n              if (results[i] === results[i - 1]) {\n                results.splice(i--, 1);\n              }\n            }\n          }\n        }\n\n        return results;\n      };\n\n      Sizzle.matches = function (expr, set) {\n        return Sizzle(expr, null, null, set);\n      };\n\n      Sizzle.matchesSelector = function (node, expr) {\n        return Sizzle(expr, null, null, [node]).length > 0;\n      };\n\n      Sizzle.find = function (expr, context, isXML) {\n        var set, i, len, match, type, left;\n\n        if (!expr) {\n          return [];\n        }\n\n        for (i = 0, len = Expr.order.length; i < len; i++) {\n          type = Expr.order[i];\n\n          if ((match = Expr.leftMatch[type].exec(expr))) {\n            left = match[1];\n            match.splice(1, 1);\n\n            if (left.substr(left.length - 1) !== \"\\\\\") {\n              match[1] = (match[1] || \"\").replace(rBackslash, \"\");\n              set = Expr.find[type](match, context, isXML);\n\n              if (set != null) {\n                expr = expr.replace(Expr.match[type], \"\");\n                break;\n              }\n            }\n          }\n        }\n\n        if (!set) {\n          set = typeof context.getElementsByTagName !== \"undefined\" ?\n            context.getElementsByTagName(\"*\") :\n            [];\n        }\n\n        return {set: set, expr: expr};\n      };\n\n      Sizzle.filter = function (expr, set, inplace, not) {\n        var match, anyFound,\n          type, found, item, filter, left,\n          i, pass,\n          old = expr,\n          result = [],\n          curLoop = set,\n          isXMLFilter = set && set[0] && Sizzle.isXML(set[0]);\n\n        while (expr && set.length) {\n          for (type in Expr.filter) {\n            if ((match = Expr.leftMatch[type].exec(expr)) != null && match[2]) {\n              filter = Expr.filter[type];\n              left = match[1];\n\n              anyFound = false;\n\n              match.splice(1, 1);\n\n              if (left.substr(left.length - 1) === \"\\\\\") {\n                continue;\n              }\n\n              if (curLoop === result) {\n                result = [];\n              }\n\n              if (Expr.preFilter[type]) {\n                match = Expr.preFilter[type](match, curLoop, inplace, result, not, isXMLFilter);\n\n                if (!match) {\n                  anyFound = found = true;\n\n                } else if (match === true) {\n                  continue;\n                }\n              }\n\n              if (match) {\n                for (i = 0; (item = curLoop[i]) != null; i++) {\n                  if (item) {\n                    found = filter(item, match, i, curLoop);\n                    pass = not ^ found;\n\n                    if (inplace && found != null) {\n                      if (pass) {\n                        anyFound = true;\n\n                      } else {\n                        curLoop[i] = false;\n                      }\n\n                    } else if (pass) {\n                      result.push(item);\n                      anyFound = true;\n                    }\n                  }\n                }\n              }\n\n              if (found !== undefined) {\n                if (!inplace) {\n                  curLoop = result;\n                }\n\n                expr = expr.replace(Expr.match[type], \"\");\n\n                if (!anyFound) {\n                  return [];\n                }\n\n                break;\n              }\n            }\n          }\n\n          // Improper expression\n          if (expr === old) {\n            if (anyFound == null) {\n              Sizzle.error(expr);\n\n            } else {\n              break;\n            }\n          }\n\n          old = expr;\n        }\n\n        return curLoop;\n      };\n\n      Sizzle.error = function (msg) {\n        throw new Error(\"Syntax error, unrecognized expression: \" + msg);\n      };\n\n      /**\n       * Utility function for retreiving the text value of an array of DOM nodes\n       * @param {Array|Element} elem\n       */\n      var getText = Sizzle.getText = function (elem) {\n        var i, node,\n          nodeType = elem.nodeType,\n          ret = \"\";\n\n        if (nodeType) {\n          if (nodeType === 1 || nodeType === 9) {\n            // Use textContent || innerText for elements\n            if (typeof elem.textContent === 'string') {\n              return elem.textContent;\n            } else if (typeof elem.innerText === 'string') {\n              // Replace IE's carriage returns\n              return elem.innerText.replace(rReturn, '');\n            } else {\n              // Traverse it's children\n              for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n                ret += getText(elem);\n              }\n            }\n          } else if (nodeType === 3 || nodeType === 4) {\n            return elem.nodeValue;\n          }\n        } else {\n\n          // If no nodeType, this is expected to be an array\n          for (i = 0; (node = elem[i]); i++) {\n            // Do not traverse comment nodes\n            if (node.nodeType !== 8) {\n              ret += getText(node);\n            }\n          }\n        }\n        return ret;\n      };\n\n      var Expr = Sizzle.selectors = {\n        order: [\"ID\", \"NAME\", \"TAG\"],\n\n        match: {\n          ID: /#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,\n          CLASS: /\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,\n          NAME: /\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,\n          ATTR: /\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,\n          TAG: /^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,\n          CHILD: /:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,\n          POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,\n          PSEUDO: /:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/\n        },\n\n        leftMatch: {},\n\n        attrMap: {\n          \"class\": \"className\",\n          \"for\": \"htmlFor\"\n        },\n\n        attrHandle: {\n          href: function (elem) {\n            return elem.getAttribute(\"href\");\n          },\n          type: function (elem) {\n            return elem.getAttribute(\"type\");\n          }\n        },\n\n        relative: {\n          \"+\": function (checkSet, part) {\n            var isPartStr = typeof part === \"string\",\n              isTag = isPartStr && !rNonWord.test(part),\n              isPartStrNotTag = isPartStr && !isTag;\n\n            if (isTag) {\n              part = part.toLowerCase();\n            }\n\n            for (var i = 0, l = checkSet.length, elem; i < l; i++) {\n              if ((elem = checkSet[i])) {\n                while ((elem = elem.previousSibling) && elem.nodeType !== 1) {\n                }\n\n                checkSet[i] = isPartStrNotTag || elem && elem.nodeName.toLowerCase() === part ?\n                elem || false :\n                elem === part;\n              }\n            }\n\n            if (isPartStrNotTag) {\n              Sizzle.filter(part, checkSet, true);\n            }\n          },\n\n          \">\": function (checkSet, part) {\n            var elem,\n              isPartStr = typeof part === \"string\",\n              i = 0,\n              l = checkSet.length;\n\n            if (isPartStr && !rNonWord.test(part)) {\n              part = part.toLowerCase();\n\n              for (; i < l; i++) {\n                elem = checkSet[i];\n\n                if (elem) {\n                  var parent = elem.parentNode;\n                  checkSet[i] = parent.nodeName.toLowerCase() === part ? parent : false;\n                }\n              }\n\n            } else {\n              for (; i < l; i++) {\n                elem = checkSet[i];\n\n                if (elem) {\n                  checkSet[i] = isPartStr ?\n                    elem.parentNode :\n                  elem.parentNode === part;\n                }\n              }\n\n              if (isPartStr) {\n                Sizzle.filter(part, checkSet, true);\n              }\n            }\n          },\n\n          \"\": function (checkSet, part, isXML) {\n            var nodeCheck,\n              doneName = done++,\n              checkFn = dirCheck;\n\n            if (typeof part === \"string\" && !rNonWord.test(part)) {\n              part = part.toLowerCase();\n              nodeCheck = part;\n              checkFn = dirNodeCheck;\n            }\n\n            checkFn(\"parentNode\", part, doneName, checkSet, nodeCheck, isXML);\n          },\n\n          \"~\": function (checkSet, part, isXML) {\n            var nodeCheck,\n              doneName = done++,\n              checkFn = dirCheck;\n\n            if (typeof part === \"string\" && !rNonWord.test(part)) {\n              part = part.toLowerCase();\n              nodeCheck = part;\n              checkFn = dirNodeCheck;\n            }\n\n            checkFn(\"previousSibling\", part, doneName, checkSet, nodeCheck, isXML);\n          }\n        },\n\n        find: {\n          ID: function (match, context, isXML) {\n            if (typeof context.getElementById !== \"undefined\" && !isXML) {\n              var m = context.getElementById(match[1]);\n              // Check parentNode to catch when Blackberry 4.6 returns\n              // nodes that are no longer in the document #6963\n              return m && m.parentNode ? [m] : [];\n            }\n          },\n\n          NAME: function (match, context) {\n            if (typeof context.getElementsByName !== \"undefined\") {\n              var ret = [],\n                results = context.getElementsByName(match[1]);\n\n              for (var i = 0, l = results.length; i < l; i++) {\n                if (results[i].getAttribute(\"name\") === match[1]) {\n                  ret.push(results[i]);\n                }\n              }\n\n              return ret.length === 0 ? null : ret;\n            }\n          },\n\n          TAG: function (match, context) {\n            if (typeof context.getElementsByTagName !== \"undefined\") {\n              return context.getElementsByTagName(match[1]);\n            }\n          }\n        },\n        preFilter: {\n          CLASS: function (match, curLoop, inplace, result, not, isXML) {\n            match = \" \" + match[1].replace(rBackslash, \"\") + \" \";\n\n            if (isXML) {\n              return match;\n            }\n\n            for (var i = 0, elem; (elem = curLoop[i]) != null; i++) {\n              if (elem) {\n                if (not ^ (elem.className && (\" \" + elem.className + \" \").replace(/[\\t\\n\\r]/g, \" \").indexOf(match) >= 0)) {\n                  if (!inplace) {\n                    result.push(elem);\n                  }\n\n                } else if (inplace) {\n                  curLoop[i] = false;\n                }\n              }\n            }\n\n            return false;\n          },\n\n          ID: function (match) {\n            return match[1].replace(rBackslash, \"\");\n          },\n\n          TAG: function (match, curLoop) {\n            return match[1].replace(rBackslash, \"\").toLowerCase();\n          },\n\n          CHILD: function (match) {\n            if (match[1] === \"nth\") {\n              if (!match[2]) {\n                Sizzle.error(match[0]);\n              }\n\n              match[2] = match[2].replace(/^\\+|\\s*/g, '');\n\n              // parse equations like 'even', 'odd', '5', '2n', '3n+2', '4n-1', '-n+6'\n              var test = /(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(\n                match[2] === \"even\" && \"2n\" || match[2] === \"odd\" && \"2n+1\" ||\n                !/\\D/.test(match[2]) && \"0n+\" + match[2] || match[2]);\n\n              // calculate the numbers (first)n+(last) including if they are negative\n              match[2] = (test[1] + (test[2] || 1)) - 0;\n              match[3] = test[3] - 0;\n            }\n            else if (match[2]) {\n              Sizzle.error(match[0]);\n            }\n\n            // TODO: Move to normal caching system\n            match[0] = done++;\n\n            return match;\n          },\n\n          ATTR: function (match, curLoop, inplace, result, not, isXML) {\n            var name = match[1] = match[1].replace(rBackslash, \"\");\n\n            if (!isXML && Expr.attrMap[name]) {\n              match[1] = Expr.attrMap[name];\n            }\n\n            // Handle if an un-quoted value was used\n            match[4] = ( match[4] || match[5] || \"\" ).replace(rBackslash, \"\");\n\n            if (match[2] === \"~=\") {\n              match[4] = \" \" + match[4] + \" \";\n            }\n\n            return match;\n          },\n\n          PSEUDO: function (match, curLoop, inplace, result, not) {\n            if (match[1] === \"not\") {\n              // If we're dealing with a complex expression, or a simple one\n              if (( chunker.exec(match[3]) || \"\" ).length > 1 || /^\\w/.test(match[3])) {\n                match[3] = Sizzle(match[3], null, null, curLoop);\n\n              } else {\n                var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);\n\n                if (!inplace) {\n                  result.push.apply(result, ret);\n                }\n\n                return false;\n              }\n\n            } else if (Expr.match.POS.test(match[0]) || Expr.match.CHILD.test(match[0])) {\n              return true;\n            }\n\n            return match;\n          },\n\n          POS: function (match) {\n            match.unshift(true);\n\n            return match;\n          }\n        },\n\n        filters: {\n          enabled: function (elem) {\n            return elem.disabled === false && elem.type !== \"hidden\";\n          },\n\n          disabled: function (elem) {\n            return elem.disabled === true;\n          },\n\n          checked: function (elem) {\n            return elem.checked === true;\n          },\n\n          selected: function (elem) {\n            // Accessing this property makes selected-by-default\n            // options in Safari work properly\n            if (elem.parentNode) {\n              elem.parentNode.selectedIndex;\n            }\n\n            return elem.selected === true;\n          },\n\n          parent: function (elem) {\n            return !!elem.firstChild;\n          },\n\n          empty: function (elem) {\n            return !elem.firstChild;\n          },\n\n          has: function (elem, i, match) {\n            return !!Sizzle(match[3], elem).length;\n          },\n\n          header: function (elem) {\n            return (/h\\d/i).test(elem.nodeName);\n          },\n\n          text: function (elem) {\n            var attr = elem.getAttribute(\"type\"), type = elem.type;\n            // IE6 and 7 will map elem.type to 'text' for new HTML5 types (search, etc)\n            // use getAttribute instead to test this case\n            return elem.nodeName.toLowerCase() === \"input\" && \"text\" === type && ( attr === type || attr === null );\n          },\n\n          radio: function (elem) {\n            return elem.nodeName.toLowerCase() === \"input\" && \"radio\" === elem.type;\n          },\n\n          checkbox: function (elem) {\n            return elem.nodeName.toLowerCase() === \"input\" && \"checkbox\" === elem.type;\n          },\n\n          file: function (elem) {\n            return elem.nodeName.toLowerCase() === \"input\" && \"file\" === elem.type;\n          },\n\n          password: function (elem) {\n            return elem.nodeName.toLowerCase() === \"input\" && \"password\" === elem.type;\n          },\n\n          submit: function (elem) {\n            var name = elem.nodeName.toLowerCase();\n            return (name === \"input\" || name === \"button\") && \"submit\" === elem.type;\n          },\n\n          image: function (elem) {\n            return elem.nodeName.toLowerCase() === \"input\" && \"image\" === elem.type;\n          },\n\n          reset: function (elem) {\n            var name = elem.nodeName.toLowerCase();\n            return (name === \"input\" || name === \"button\") && \"reset\" === elem.type;\n          },\n\n          button: function (elem) {\n            var name = elem.nodeName.toLowerCase();\n            return name === \"input\" && \"button\" === elem.type || name === \"button\";\n          },\n\n          input: function (elem) {\n            return (/input|select|textarea|button/i).test(elem.nodeName);\n          },\n\n          focus: function (elem) {\n            return elem === elem.ownerDocument.activeElement;\n          }\n        },\n        setFilters: {\n          first: function (elem, i) {\n            return i === 0;\n          },\n\n          last: function (elem, i, match, array) {\n            return i === array.length - 1;\n          },\n\n          even: function (elem, i) {\n            return i % 2 === 0;\n          },\n\n          odd: function (elem, i) {\n            return i % 2 === 1;\n          },\n\n          lt: function (elem, i, match) {\n            return i < match[3] - 0;\n          },\n\n          gt: function (elem, i, match) {\n            return i > match[3] - 0;\n          },\n\n          nth: function (elem, i, match) {\n            return match[3] - 0 === i;\n          },\n\n          eq: function (elem, i, match) {\n            return match[3] - 0 === i;\n          }\n        },\n        filter: {\n          PSEUDO: function (elem, match, i, array) {\n            var name = match[1],\n              filter = Expr.filters[name];\n\n            if (filter) {\n              return filter(elem, i, match, array);\n\n            } else if (name === \"contains\") {\n              return (elem.textContent || elem.innerText || getText([elem]) || \"\").indexOf(match[3]) >= 0;\n\n            } else if (name === \"not\") {\n              var not = match[3];\n\n              for (var j = 0, l = not.length; j < l; j++) {\n                if (not[j] === elem) {\n                  return false;\n                }\n              }\n\n              return true;\n\n            } else {\n              Sizzle.error(name);\n            }\n          },\n\n          CHILD: function (elem, match) {\n            var first, last,\n              doneName, parent, cache,\n              count, diff,\n              type = match[1],\n              node = elem;\n\n            switch (type) {\n              case \"only\":\n              case \"first\":\n                while ((node = node.previousSibling)) {\n                  if (node.nodeType === 1) {\n                    return false;\n                  }\n                }\n\n                if (type === \"first\") {\n                  return true;\n                }\n\n                node = elem;\n\n              case \"last\":\n                while ((node = node.nextSibling)) {\n                  if (node.nodeType === 1) {\n                    return false;\n                  }\n                }\n\n                return true;\n\n              case \"nth\":\n                first = match[2];\n                last = match[3];\n\n                if (first === 1 && last === 0) {\n                  return true;\n                }\n\n                doneName = match[0];\n                parent = elem.parentNode;\n\n                if (parent && (parent[expando] !== doneName || !elem.nodeIndex)) {\n                  count = 0;\n\n                  for (node = parent.firstChild; node; node = node.nextSibling) {\n                    if (node.nodeType === 1) {\n                      node.nodeIndex = ++count;\n                    }\n                  }\n\n                  parent[expando] = doneName;\n                }\n\n                diff = elem.nodeIndex - last;\n\n                if (first === 0) {\n                  return diff === 0;\n\n                } else {\n                  return ( diff % first === 0 && diff / first >= 0 );\n                }\n            }\n          },\n\n          ID: function (elem, match) {\n            return elem.nodeType === 1 && elem.getAttribute(\"id\") === match;\n          },\n\n          TAG: function (elem, match) {\n            return (match === \"*\" && elem.nodeType === 1) || !!elem.nodeName && elem.nodeName.toLowerCase() === match;\n          },\n\n          CLASS: function (elem, match) {\n            return (\" \" + (elem.className || elem.getAttribute(\"class\")) + \" \")\n                .indexOf(match) > -1;\n          },\n\n          ATTR: function (elem, match) {\n            var name = match[1],\n              result = Sizzle.attr ?\n                Sizzle.attr(elem, name) :\n                Expr.attrHandle[name] ?\n                  Expr.attrHandle[name](elem) :\n                  elem[name] != null ?\n                    elem[name] :\n                    elem.getAttribute(name),\n              value = result + \"\",\n              type = match[2],\n              check = match[4];\n\n            return result == null ?\n            type === \"!=\" :\n              !type && Sizzle.attr ?\n              result != null :\n                type === \"=\" ?\n                value === check :\n                  type === \"*=\" ?\n                  value.indexOf(check) >= 0 :\n                    type === \"~=\" ?\n                    (\" \" + value + \" \").indexOf(check) >= 0 :\n                      !check ?\n                      value && result !== false :\n                        type === \"!=\" ?\n                        value !== check :\n                          type === \"^=\" ?\n                          value.indexOf(check) === 0 :\n                            type === \"$=\" ?\n                            value.substr(value.length - check.length) === check :\n                              type === \"|=\" ?\n                              value === check || value.substr(0, check.length + 1) === check + \"-\" :\n                                false;\n          },\n\n          POS: function (elem, match, i, array) {\n            var name = match[2],\n              filter = Expr.setFilters[name];\n\n            if (filter) {\n              return filter(elem, i, match, array);\n            }\n          }\n        }\n      };\n\n      var origPOS = Expr.match.POS,\n        fescape = function (all, num) {\n          return \"\\\\\" + (num - 0 + 1);\n        };\n\n      for (var type in Expr.match) {\n        Expr.match[type] = new RegExp(Expr.match[type].source + (/(?![^\\[]*\\])(?![^\\(]*\\))/.source));\n        Expr.leftMatch[type] = new RegExp(/(^(?:.|\\r|\\n)*?)/.source + Expr.match[type].source.replace(/\\\\(\\d+)/g, fescape));\n      }\n\n      var makeArray = function (array, results) {\n        array = Array.prototype.slice.call(array, 0);\n\n        if (results) {\n          results.push.apply(results, array);\n          return results;\n        }\n\n        return array;\n      };\n\n// Perform a simple check to determine if the browser is capable of\n// converting a NodeList to an array using builtin methods.\n// Also verifies that the returned array holds DOM nodes\n// (which is not the case in the Blackberry browser)\n      try {\n        Array.prototype.slice.call(document.documentElement.childNodes, 0)[0].nodeType;\n\n// Provide a fallback method if it does not work\n      } catch (e) {\n        makeArray = function (array, results) {\n          var i = 0,\n            ret = results || [];\n\n          if (toString.call(array) === \"[object Array]\") {\n            Array.prototype.push.apply(ret, array);\n\n          } else {\n            if (typeof array.length === \"number\") {\n              for (var l = array.length; i < l; i++) {\n                ret.push(array[i]);\n              }\n\n            } else {\n              for (; array[i]; i++) {\n                ret.push(array[i]);\n              }\n            }\n          }\n\n          return ret;\n        };\n      }\n\n      var sortOrder, siblingCheck;\n\n      if (document.documentElement.compareDocumentPosition) {\n        sortOrder = function (a, b) {\n          if (a === b) {\n            hasDuplicate = true;\n            return 0;\n          }\n\n          if (!a.compareDocumentPosition || !b.compareDocumentPosition) {\n            return a.compareDocumentPosition ? -1 : 1;\n          }\n\n          return a.compareDocumentPosition(b) & 4 ? -1 : 1;\n        };\n\n      } else {\n        sortOrder = function (a, b) {\n          // The nodes are identical, we can exit early\n          if (a === b) {\n            hasDuplicate = true;\n            return 0;\n\n            // Fallback to using sourceIndex (in IE) if it's available on both nodes\n          } else if (a.sourceIndex && b.sourceIndex) {\n            return a.sourceIndex - b.sourceIndex;\n          }\n\n          var al, bl,\n            ap = [],\n            bp = [],\n            aup = a.parentNode,\n            bup = b.parentNode,\n            cur = aup;\n\n          // If the nodes are siblings (or identical) we can do a quick check\n          if (aup === bup) {\n            return siblingCheck(a, b);\n\n            // If no parents were found then the nodes are disconnected\n          } else if (!aup) {\n            return -1;\n\n          } else if (!bup) {\n            return 1;\n          }\n\n          // Otherwise they're somewhere else in the tree so we need\n          // to build up a full list of the parentNodes for comparison\n          while (cur) {\n            ap.unshift(cur);\n            cur = cur.parentNode;\n          }\n\n          cur = bup;\n\n          while (cur) {\n            bp.unshift(cur);\n            cur = cur.parentNode;\n          }\n\n          al = ap.length;\n          bl = bp.length;\n\n          // Start walking down the tree looking for a discrepancy\n          for (var i = 0; i < al && i < bl; i++) {\n            if (ap[i] !== bp[i]) {\n              return siblingCheck(ap[i], bp[i]);\n            }\n          }\n\n          // We ended someplace up the tree so do a sibling check\n          return i === al ?\n            siblingCheck(a, bp[i], -1) :\n            siblingCheck(ap[i], b, 1);\n        };\n\n        siblingCheck = function (a, b, ret) {\n          if (a === b) {\n            return ret;\n          }\n\n          var cur = a.nextSibling;\n\n          while (cur) {\n            if (cur === b) {\n              return -1;\n            }\n\n            cur = cur.nextSibling;\n          }\n\n          return 1;\n        };\n      }\n\n// Check to see if the browser returns elements by name when\n// querying by getElementById (and provide a workaround)\n      (function () {\n        // We're going to inject a fake input element with a specified name\n        var form = document.createElement(\"div\"),\n          id = \"script\" + (new Date()).getTime(),\n          root = document.documentElement;\n\n        form.innerHTML = \"<a name='\" + id + \"'/>\";\n\n        // Inject it into the root element, check its status, and remove it quickly\n        root.insertBefore(form, root.firstChild);\n\n        // The workaround has to do additional checks after a getElementById\n        // Which slows things down for other browsers (hence the branching)\n        if (document.getElementById(id)) {\n          Expr.find.ID = function (match, context, isXML) {\n            if (typeof context.getElementById !== \"undefined\" && !isXML) {\n              var m = context.getElementById(match[1]);\n\n              return m ?\n                m.id === match[1] || typeof m.getAttributeNode !== \"undefined\" && m.getAttributeNode(\"id\").nodeValue === match[1] ?\n                  [m] :\n                  undefined :\n                [];\n            }\n          };\n\n          Expr.filter.ID = function (elem, match) {\n            var node = typeof elem.getAttributeNode !== \"undefined\" && elem.getAttributeNode(\"id\");\n\n            return elem.nodeType === 1 && node && node.nodeValue === match;\n          };\n        }\n\n        root.removeChild(form);\n\n        // release memory in IE\n        root = form = null;\n      })();\n\n      (function () {\n        // Check to see if the browser returns only elements\n        // when doing getElementsByTagName(\"*\")\n\n        // Create a fake element\n        var div = document.createElement(\"div\");\n        div.appendChild(document.createComment(\"\"));\n\n        // Make sure no comments are found\n        if (div.getElementsByTagName(\"*\").length > 0) {\n          Expr.find.TAG = function (match, context) {\n            var results = context.getElementsByTagName(match[1]);\n\n            // Filter out possible comments\n            if (match[1] === \"*\") {\n              var tmp = [];\n\n              for (var i = 0; results[i]; i++) {\n                if (results[i].nodeType === 1) {\n                  tmp.push(results[i]);\n                }\n              }\n\n              results = tmp;\n            }\n\n            return results;\n          };\n        }\n\n        // Check to see if an attribute returns normalized href attributes\n        div.innerHTML = \"<a href='#'></a>\";\n\n        if (div.firstChild && typeof div.firstChild.getAttribute !== \"undefined\" &&\n          div.firstChild.getAttribute(\"href\") !== \"#\") {\n\n          Expr.attrHandle.href = function (elem) {\n            return elem.getAttribute(\"href\", 2);\n          };\n        }\n\n        // release memory in IE\n        div = null;\n      })();\n\n      if (document.querySelectorAll) {\n        (function () {\n          var oldSizzle = Sizzle,\n            div = document.createElement(\"div\"),\n            id = \"__sizzle__\";\n\n          div.innerHTML = \"<p class='TEST'></p>\";\n\n          // Safari can't handle uppercase or unicode characters when\n          // in quirks mode.\n          if (div.querySelectorAll && div.querySelectorAll(\".TEST\").length === 0) {\n            return;\n          }\n\n          Sizzle = function (query, context, extra, seed) {\n            context = context || document;\n\n            // Only use querySelectorAll on non-XML documents\n            // (ID selectors don't work in non-HTML documents)\n            if (!seed && !Sizzle.isXML(context)) {\n              // See if we find a selector to speed up\n              var match = /^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(query);\n\n              if (match && (context.nodeType === 1 || context.nodeType === 9)) {\n                // Speed-up: Sizzle(\"TAG\")\n                if (match[1]) {\n                  return makeArray(context.getElementsByTagName(query), extra);\n\n                  // Speed-up: Sizzle(\".CLASS\")\n                } else if (match[2] && Expr.find.CLASS && context.getElementsByClassName) {\n                  return makeArray(context.getElementsByClassName(match[2]), extra);\n                }\n              }\n\n              if (context.nodeType === 9) {\n                // Speed-up: Sizzle(\"body\")\n                // The body element only exists once, optimize finding it\n                if (query === \"body\" && context.body) {\n                  return makeArray([context.body], extra);\n\n                  // Speed-up: Sizzle(\"#ID\")\n                } else if (match && match[3]) {\n                  var elem = context.getElementById(match[3]);\n\n                  // Check parentNode to catch when Blackberry 4.6 returns\n                  // nodes that are no longer in the document #6963\n                  if (elem && elem.parentNode) {\n                    // Handle the case where IE and Opera return items\n                    // by name instead of ID\n                    if (elem.id === match[3]) {\n                      return makeArray([elem], extra);\n                    }\n\n                  } else {\n                    return makeArray([], extra);\n                  }\n                }\n\n                try {\n                  return makeArray(context.querySelectorAll(query), extra);\n                } catch (qsaError) {\n                }\n\n                // qSA works strangely on Element-rooted queries\n                // We can work around this by specifying an extra ID on the root\n                // and working up from there (Thanks to Andrew Dupont for the technique)\n                // IE 8 doesn't work on object elements\n              } else if (context.nodeType === 1 && context.nodeName.toLowerCase() !== \"object\") {\n                var oldContext = context,\n                  old = context.getAttribute(\"id\"),\n                  nid = old || id,\n                  hasParent = context.parentNode,\n                  relativeHierarchySelector = /^\\s*[+~]/.test(query);\n\n                if (!old) {\n                  context.setAttribute(\"id\", nid);\n                } else {\n                  nid = nid.replace(/'/g, \"\\\\$&\");\n                }\n                if (relativeHierarchySelector && hasParent) {\n                  context = context.parentNode;\n                }\n\n                try {\n                  if (!relativeHierarchySelector || hasParent) {\n                    return makeArray(context.querySelectorAll(\"[id='\" + nid + \"'] \" + query), extra);\n                  }\n\n                } catch (pseudoError) {\n                } finally {\n                  if (!old) {\n                    oldContext.removeAttribute(\"id\");\n                  }\n                }\n              }\n            }\n\n            return oldSizzle(query, context, extra, seed);\n          };\n\n          for (var prop in oldSizzle) {\n            Sizzle[prop] = oldSizzle[prop];\n          }\n\n          // release memory in IE\n          div = null;\n        })();\n      }\n\n      (function () {\n        var html = document.documentElement,\n          matches = html.matchesSelector || html.mozMatchesSelector || html.webkitMatchesSelector || html.msMatchesSelector;\n\n        if (matches) {\n          // Check to see if it's possible to do matchesSelector\n          // on a disconnected node (IE 9 fails this)\n          var disconnectedMatch = !matches.call(document.createElement(\"div\"), \"div\"),\n            pseudoWorks = false;\n\n          try {\n            // This should fail with an exception\n            // Gecko does not error, returns false instead\n            matches.call(document.documentElement, \"[test!='']:sizzle\");\n\n          } catch (pseudoError) {\n            pseudoWorks = true;\n          }\n\n          Sizzle.matchesSelector = function (node, expr) {\n            // Make sure that attribute selectors are quoted\n            expr = expr.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g, \"='$1']\");\n\n            if (!Sizzle.isXML(node)) {\n              try {\n                if (pseudoWorks || !Expr.match.PSEUDO.test(expr) && !/!=/.test(expr)) {\n                  var ret = matches.call(node, expr);\n\n                  // IE 9's matchesSelector returns false on disconnected nodes\n                  if (ret || !disconnectedMatch ||\n                    // As well, disconnected nodes are said to be in a document\n                    // fragment in IE 9, so check for that\n                    node.document && node.document.nodeType !== 11) {\n                    return ret;\n                  }\n                }\n              } catch (e) {\n              }\n            }\n\n            return Sizzle(expr, null, null, [node]).length > 0;\n          };\n        }\n      })();\n\n      (function () {\n        var div = document.createElement(\"div\");\n\n        div.innerHTML = \"<div class='test e'></div><div class='test'></div>\";\n\n        // Opera can't find a second classname (in 9.6)\n        // Also, make sure that getElementsByClassName actually exists\n        if (!div.getElementsByClassName || div.getElementsByClassName(\"e\").length === 0) {\n          return;\n        }\n\n        // Safari caches class attributes, doesn't catch changes (in 3.2)\n        div.lastChild.className = \"e\";\n\n        if (div.getElementsByClassName(\"e\").length === 1) {\n          return;\n        }\n\n        Expr.order.splice(1, 0, \"CLASS\");\n        Expr.find.CLASS = function (match, context, isXML) {\n          if (typeof context.getElementsByClassName !== \"undefined\" && !isXML) {\n            return context.getElementsByClassName(match[1]);\n          }\n        };\n\n        // release memory in IE\n        div = null;\n      })();\n\n      function dirNodeCheck(dir, cur, doneName, checkSet, nodeCheck, isXML) {\n        for (var i = 0, l = checkSet.length; i < l; i++) {\n          var elem = checkSet[i];\n\n          if (elem) {\n            var match = false;\n\n            elem = elem[dir];\n\n            while (elem) {\n              if (elem[expando] === doneName) {\n                match = checkSet[elem.sizset];\n                break;\n              }\n\n              if (elem.nodeType === 1 && !isXML) {\n                elem[expando] = doneName;\n                elem.sizset = i;\n              }\n\n              if (elem.nodeName.toLowerCase() === cur) {\n                match = elem;\n                break;\n              }\n\n              elem = elem[dir];\n            }\n\n            checkSet[i] = match;\n          }\n        }\n      }\n\n      function dirCheck(dir, cur, doneName, checkSet, nodeCheck, isXML) {\n        for (var i = 0, l = checkSet.length; i < l; i++) {\n          var elem = checkSet[i];\n\n          if (elem) {\n            var match = false;\n\n            elem = elem[dir];\n\n            while (elem) {\n              if (elem[expando] === doneName) {\n                match = checkSet[elem.sizset];\n                break;\n              }\n\n              if (elem.nodeType === 1) {\n                if (!isXML) {\n                  elem[expando] = doneName;\n                  elem.sizset = i;\n                }\n\n                if (typeof cur !== \"string\") {\n                  if (elem === cur) {\n                    match = true;\n                    break;\n                  }\n\n                } else if (Sizzle.filter(cur, [elem]).length > 0) {\n                  match = elem;\n                  break;\n                }\n              }\n\n              elem = elem[dir];\n            }\n\n            checkSet[i] = match;\n          }\n        }\n      }\n\n      if (document.documentElement.contains) {\n        Sizzle.contains = function (a, b) {\n          return a !== b && (a.contains ? a.contains(b) : true);\n        };\n\n      } else if (document.documentElement.compareDocumentPosition) {\n        Sizzle.contains = function (a, b) {\n          return !!(a.compareDocumentPosition(b) & 16);\n        };\n\n      } else {\n        Sizzle.contains = function () {\n          return false;\n        };\n      }\n\n      Sizzle.isXML = function (elem) {\n        // documentElement is verified for cases where it doesn't yet exist\n        // (such as loading iframes in IE - #4833)\n        var documentElement = (elem ? elem.ownerDocument || elem : 0).documentElement;\n\n        return documentElement ? documentElement.nodeName !== \"HTML\" : false;\n      };\n\n      var posProcess = function (selector, context, seed) {\n        var match,\n          tmpSet = [],\n          later = \"\",\n          root = context.nodeType ? [context] : context;\n\n        // Position selectors must be done after the filter\n        // And so must :not(positional) so we move all PSEUDOs to the end\n        while ((match = Expr.match.PSEUDO.exec(selector))) {\n          later += match[0];\n          selector = selector.replace(Expr.match.PSEUDO, \"\");\n        }\n\n        selector = Expr.relative[selector] ? selector + \"*\" : selector;\n\n        for (var i = 0, l = root.length; i < l; i++) {\n          Sizzle(selector, root[i], tmpSet, seed);\n        }\n\n        return Sizzle.filter(later, tmpSet);\n      };\n\n// EXPOSE\n// Override sizzle attribute retrieval\n      Sizzle.attr = jQuery.attr;\n      Sizzle.selectors.attrMap = {};\n      jQuery.find = Sizzle;\n      jQuery.expr = Sizzle.selectors;\n      jQuery.expr[\":\"] = jQuery.expr.filters;\n      jQuery.unique = Sizzle.uniqueSort;\n      jQuery.text = Sizzle.getText;\n      jQuery.isXMLDoc = Sizzle.isXML;\n      jQuery.contains = Sizzle.contains;\n\n\n    })();\n\n\n    var runtil = /Until$/,\n      rparentsprev = /^(?:parents|prevUntil|prevAll)/,\n      // Note: This RegExp should be improved, or likely pulled from Sizzle\n      rmultiselector = /,/,\n      isSimple = /^.[^:#\\[\\.,]*$/,\n      slice = Array.prototype.slice,\n      POS = jQuery.expr.match.POS,\n      // methods guaranteed to produce a unique set when starting from a unique set\n      guaranteedUnique = {\n        children: true,\n        contents: true,\n        next: true,\n        prev: true\n      };\n\n    jQuery.fn.extend({\n      find: function (selector) {\n        var self = this,\n          i, l;\n\n        if (typeof selector !== \"string\") {\n          return jQuery(selector).filter(function () {\n            for (i = 0, l = self.length; i < l; i++) {\n              if (jQuery.contains(self[i], this)) {\n                return true;\n              }\n            }\n          });\n        }\n\n        var ret = this.pushStack(\"\", \"find\", selector),\n          length, n, r;\n\n        for (i = 0, l = this.length; i < l; i++) {\n          length = ret.length;\n          jQuery.find(selector, this[i], ret);\n\n          if (i > 0) {\n            // Make sure that the results are unique\n            for (n = length; n < ret.length; n++) {\n              for (r = 0; r < length; r++) {\n                if (ret[r] === ret[n]) {\n                  ret.splice(n--, 1);\n                  break;\n                }\n              }\n            }\n          }\n        }\n\n        return ret;\n      },\n\n      has: function (target) {\n        var targets = jQuery(target);\n        return this.filter(function () {\n          for (var i = 0, l = targets.length; i < l; i++) {\n            if (jQuery.contains(this, targets[i])) {\n              return true;\n            }\n          }\n        });\n      },\n\n      not: function (selector) {\n        return this.pushStack(winnow(this, selector, false), \"not\", selector);\n      },\n\n      filter: function (selector) {\n        return this.pushStack(winnow(this, selector, true), \"filter\", selector);\n      },\n\n      is: function (selector) {\n        return !!selector && (\n            typeof selector === \"string\" ?\n              // If this is a positional selector, check membership in the returned set\n              // so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n              POS.test(selector) ?\n              jQuery(selector, this.context).index(this[0]) >= 0 :\n              jQuery.filter(selector, this).length > 0 :\n            this.filter(selector).length > 0 );\n      },\n\n      closest: function (selectors, context) {\n        var ret = [], i, l, cur = this[0];\n\n        // Array (deprecated as of jQuery 1.7)\n        if (jQuery.isArray(selectors)) {\n          var level = 1;\n\n          while (cur && cur.ownerDocument && cur !== context) {\n            for (i = 0; i < selectors.length; i++) {\n\n              if (jQuery(cur).is(selectors[i])) {\n                ret.push({selector: selectors[i], elem: cur, level: level});\n              }\n            }\n\n            cur = cur.parentNode;\n            level++;\n          }\n\n          return ret;\n        }\n\n        // String\n        var pos = POS.test(selectors) || typeof selectors !== \"string\" ?\n          jQuery(selectors, context || this.context) :\n          0;\n\n        for (i = 0, l = this.length; i < l; i++) {\n          cur = this[i];\n\n          while (cur) {\n            if (pos ? pos.index(cur) > -1 : jQuery.find.matchesSelector(cur, selectors)) {\n              ret.push(cur);\n              break;\n\n            } else {\n              cur = cur.parentNode;\n              if (!cur || !cur.ownerDocument || cur === context || cur.nodeType === 11) {\n                break;\n              }\n            }\n          }\n        }\n\n        ret = ret.length > 1 ? jQuery.unique(ret) : ret;\n\n        return this.pushStack(ret, \"closest\", selectors);\n      },\n\n      // Determine the position of an element within\n      // the matched set of elements\n      index: function (elem) {\n\n        // No argument, return index in parent\n        if (!elem) {\n          return ( this[0] && this[0].parentNode ) ? this.prevAll().length : -1;\n        }\n\n        // index in selector\n        if (typeof elem === \"string\") {\n          return jQuery.inArray(this[0], jQuery(elem));\n        }\n\n        // Locate the position of the desired element\n        return jQuery.inArray(\n          // If it receives a jQuery object, the first element is used\n          elem.jquery ? elem[0] : elem, this);\n      },\n\n      add: function (selector, context) {\n        var set = typeof selector === \"string\" ?\n            jQuery(selector, context) :\n            jQuery.makeArray(selector && selector.nodeType ? [selector] : selector),\n          all = jQuery.merge(this.get(), set);\n\n        return this.pushStack(isDisconnected(set[0]) || isDisconnected(all[0]) ?\n          all :\n          jQuery.unique(all));\n      },\n\n      andSelf: function () {\n        return this.add(this.prevObject);\n      }\n    });\n\n// A painfully simple check to see if an element is disconnected\n// from a document (should be improved, where feasible).\n    function isDisconnected(node) {\n      return !node || !node.parentNode || node.parentNode.nodeType === 11;\n    }\n\n    jQuery.each({\n      parent: function (elem) {\n        var parent = elem.parentNode;\n        return parent && parent.nodeType !== 11 ? parent : null;\n      },\n      parents: function (elem) {\n        return jQuery.dir(elem, \"parentNode\");\n      },\n      parentsUntil: function (elem, i, until) {\n        return jQuery.dir(elem, \"parentNode\", until);\n      },\n      next: function (elem) {\n        return jQuery.nth(elem, 2, \"nextSibling\");\n      },\n      prev: function (elem) {\n        return jQuery.nth(elem, 2, \"previousSibling\");\n      },\n      nextAll: function (elem) {\n        return jQuery.dir(elem, \"nextSibling\");\n      },\n      prevAll: function (elem) {\n        return jQuery.dir(elem, \"previousSibling\");\n      },\n      nextUntil: function (elem, i, until) {\n        return jQuery.dir(elem, \"nextSibling\", until);\n      },\n      prevUntil: function (elem, i, until) {\n        return jQuery.dir(elem, \"previousSibling\", until);\n      },\n      siblings: function (elem) {\n        return jQuery.sibling(elem.parentNode.firstChild, elem);\n      },\n      children: function (elem) {\n        return jQuery.sibling(elem.firstChild);\n      },\n      contents: function (elem) {\n        return jQuery.nodeName(elem, \"iframe\") ?\n        elem.contentDocument || elem.contentWindow.document :\n          jQuery.makeArray(elem.childNodes);\n      }\n    }, function (name, fn) {\n      jQuery.fn[name] = function (until, selector) {\n        var ret = jQuery.map(this, fn, until);\n\n        if (!runtil.test(name)) {\n          selector = until;\n        }\n\n        if (selector && typeof selector === \"string\") {\n          ret = jQuery.filter(selector, ret);\n        }\n\n        ret = this.length > 1 && !guaranteedUnique[name] ? jQuery.unique(ret) : ret;\n\n        if ((this.length > 1 || rmultiselector.test(selector)) && rparentsprev.test(name)) {\n          ret = ret.reverse();\n        }\n\n        return this.pushStack(ret, name, slice.call(arguments).join(\",\"));\n      };\n    });\n\n    jQuery.extend({\n      filter: function (expr, elems, not) {\n        if (not) {\n          expr = \":not(\" + expr + \")\";\n        }\n\n        return elems.length === 1 ?\n          jQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [] :\n          jQuery.find.matches(expr, elems);\n      },\n\n      dir: function (elem, dir, until) {\n        var matched = [],\n          cur = elem[dir];\n\n        while (cur && cur.nodeType !== 9 && (until === undefined || cur.nodeType !== 1 || !jQuery(cur).is(until))) {\n          if (cur.nodeType === 1) {\n            matched.push(cur);\n          }\n          cur = cur[dir];\n        }\n        return matched;\n      },\n\n      nth: function (cur, result, dir, elem) {\n        result = result || 1;\n        var num = 0;\n\n        for (; cur; cur = cur[dir]) {\n          if (cur.nodeType === 1 && ++num === result) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n\n      sibling: function (n, elem) {\n        var r = [];\n\n        for (; n; n = n.nextSibling) {\n          if (n.nodeType === 1 && n !== elem) {\n            r.push(n);\n          }\n        }\n\n        return r;\n      }\n    });\n\n// Implement the identical functionality for filter and not\n    function winnow(elements, qualifier, keep) {\n\n      // Can't pass null or undefined to indexOf in Firefox 4\n      // Set to 0 to skip string check\n      qualifier = qualifier || 0;\n\n      if (jQuery.isFunction(qualifier)) {\n        return jQuery.grep(elements, function (elem, i) {\n          var retVal = !!qualifier.call(elem, i, elem);\n          return retVal === keep;\n        });\n\n      } else if (qualifier.nodeType) {\n        return jQuery.grep(elements, function (elem, i) {\n          return ( elem === qualifier ) === keep;\n        });\n\n      } else if (typeof qualifier === \"string\") {\n        var filtered = jQuery.grep(elements, function (elem) {\n          return elem.nodeType === 1;\n        });\n\n        if (isSimple.test(qualifier)) {\n          return jQuery.filter(qualifier, filtered, !keep);\n        } else {\n          qualifier = jQuery.filter(qualifier, filtered);\n        }\n      }\n\n      return jQuery.grep(elements, function (elem, i) {\n        return ( jQuery.inArray(elem, qualifier) >= 0 ) === keep;\n      });\n    }\n\n\n    function createSafeFragment(document) {\n      var list = nodeNames.split(\"|\"),\n        safeFrag = document.createDocumentFragment();\n\n      if (safeFrag.createElement) {\n        while (list.length) {\n          safeFrag.createElement(\n            list.pop()\n          );\n        }\n      }\n      return safeFrag;\n    }\n\n    var nodeNames = \"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|\" +\n        \"header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",\n      rinlinejQuery = / jQuery\\d+=\"(?:\\d+|null)\"/g,\n      rleadingWhitespace = /^\\s+/,\n      rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,\n      rtagName = /<([\\w:]+)/,\n      rtbody = /<tbody/i,\n      rhtml = /<|&#?\\w+;/,\n      rnoInnerhtml = /<(?:script|style)/i,\n      rnocache = /<(?:script|object|embed|option|style)/i,\n      rnoshimcache = new RegExp(\"<(?:\" + nodeNames + \")\", \"i\"),\n      // checked=\"checked\" or checked\n      rchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n      rscriptType = /\\/(java|ecma)script/i,\n      rcleanScript = /^\\s*<!(?:\\[CDATA\\[|\\-\\-)/,\n      wrapMap = {\n        option: [1, \"<select multiple='multiple'>\", \"</select>\"],\n        legend: [1, \"<fieldset>\", \"</fieldset>\"],\n        thead: [1, \"<table>\", \"</table>\"],\n        tr: [2, \"<table><tbody>\", \"</tbody></table>\"],\n        td: [3, \"<table><tbody><tr>\", \"</tr></tbody></table>\"],\n        col: [2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\"],\n        area: [1, \"<map>\", \"</map>\"],\n        _default: [0, \"\", \"\"]\n      },\n      safeFragment = createSafeFragment(document);\n\n    wrapMap.optgroup = wrapMap.option;\n    wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\n    wrapMap.th = wrapMap.td;\n\n// IE can't serialize <link> and <script> tags normally\n    if (!jQuery.support.htmlSerialize) {\n      wrapMap._default = [1, \"div<div>\", \"</div>\"];\n    }\n\n    jQuery.fn.extend({\n      text: function (text) {\n        if (jQuery.isFunction(text)) {\n          return this.each(function (i) {\n            var self = jQuery(this);\n\n            self.text(text.call(this, i, self.text()));\n          });\n        }\n\n        if (typeof text !== \"object\" && text !== undefined) {\n          return this.empty().append((this[0] && this[0].ownerDocument || document).createTextNode(text));\n        }\n\n        return jQuery.text(this);\n      },\n\n      wrapAll: function (html) {\n        if (jQuery.isFunction(html)) {\n          return this.each(function (i) {\n            jQuery(this).wrapAll(html.call(this, i));\n          });\n        }\n\n        if (this[0]) {\n          // The elements to wrap the target around\n          var wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);\n\n          if (this[0].parentNode) {\n            wrap.insertBefore(this[0]);\n          }\n\n          wrap.map(function () {\n            var elem = this;\n\n            while (elem.firstChild && elem.firstChild.nodeType === 1) {\n              elem = elem.firstChild;\n            }\n\n            return elem;\n          }).append(this);\n        }\n\n        return this;\n      },\n\n      wrapInner: function (html) {\n        if (jQuery.isFunction(html)) {\n          return this.each(function (i) {\n            jQuery(this).wrapInner(html.call(this, i));\n          });\n        }\n\n        return this.each(function () {\n          var self = jQuery(this),\n            contents = self.contents();\n\n          if (contents.length) {\n            contents.wrapAll(html);\n\n          } else {\n            self.append(html);\n          }\n        });\n      },\n\n      wrap: function (html) {\n        var isFunction = jQuery.isFunction(html);\n\n        return this.each(function (i) {\n          jQuery(this).wrapAll(isFunction ? html.call(this, i) : html);\n        });\n      },\n\n      unwrap: function () {\n        return this.parent().each(function () {\n          if (!jQuery.nodeName(this, \"body\")) {\n            jQuery(this).replaceWith(this.childNodes);\n          }\n        }).end();\n      },\n\n      append: function () {\n        return this.domManip(arguments, true, function (elem) {\n          if (this.nodeType === 1) {\n            this.appendChild(elem);\n          }\n        });\n      },\n\n      prepend: function () {\n        return this.domManip(arguments, true, function (elem) {\n          if (this.nodeType === 1) {\n            this.insertBefore(elem, this.firstChild);\n          }\n        });\n      },\n\n      before: function () {\n        if (this[0] && this[0].parentNode) {\n          return this.domManip(arguments, false, function (elem) {\n            this.parentNode.insertBefore(elem, this);\n          });\n        } else if (arguments.length) {\n          var set = jQuery.clean(arguments);\n          set.push.apply(set, this.toArray());\n          return this.pushStack(set, \"before\", arguments);\n        }\n      },\n\n      after: function () {\n        if (this[0] && this[0].parentNode) {\n          return this.domManip(arguments, false, function (elem) {\n            this.parentNode.insertBefore(elem, this.nextSibling);\n          });\n        } else if (arguments.length) {\n          var set = this.pushStack(this, \"after\", arguments);\n          set.push.apply(set, jQuery.clean(arguments));\n          return set;\n        }\n      },\n\n      // keepData is for internal use only--do not document\n      remove: function (selector, keepData) {\n        for (var i = 0, elem; (elem = this[i]) != null; i++) {\n          if (!selector || jQuery.filter(selector, [elem]).length) {\n            if (!keepData && elem.nodeType === 1) {\n              jQuery.cleanData(elem.getElementsByTagName(\"*\"));\n              jQuery.cleanData([elem]);\n            }\n\n            if (elem.parentNode) {\n              elem.parentNode.removeChild(elem);\n            }\n          }\n        }\n\n        return this;\n      },\n\n      empty: function () {\n        for (var i = 0, elem; (elem = this[i]) != null; i++) {\n          // Remove element nodes and prevent memory leaks\n          if (elem.nodeType === 1) {\n            jQuery.cleanData(elem.getElementsByTagName(\"*\"));\n          }\n\n          // Remove any remaining nodes\n          while (elem.firstChild) {\n            elem.removeChild(elem.firstChild);\n          }\n        }\n\n        return this;\n      },\n\n      clone: function (dataAndEvents, deepDataAndEvents) {\n        dataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n        deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n        return this.map(function () {\n          return jQuery.clone(this, dataAndEvents, deepDataAndEvents);\n        });\n      },\n\n      html: function (value) {\n        if (value === undefined) {\n          return this[0] && this[0].nodeType === 1 ?\n            this[0].innerHTML.replace(rinlinejQuery, \"\") :\n            null;\n\n          // See if we can take a shortcut and just use innerHTML\n        } else if (typeof value === \"string\" && !rnoInnerhtml.test(value) &&\n          (jQuery.support.leadingWhitespace || !rleadingWhitespace.test(value)) && !wrapMap[(rtagName.exec(value) || [\"\", \"\"])[1].toLowerCase()]) {\n\n          value = value.replace(rxhtmlTag, \"<$1></$2>\");\n\n          try {\n            for (var i = 0, l = this.length; i < l; i++) {\n              // Remove element nodes and prevent memory leaks\n              if (this[i].nodeType === 1) {\n                jQuery.cleanData(this[i].getElementsByTagName(\"*\"));\n                this[i].innerHTML = value;\n              }\n            }\n\n            // If using innerHTML throws an exception, use the fallback method\n          } catch (e) {\n            this.empty().append(value);\n          }\n\n        } else if (jQuery.isFunction(value)) {\n          this.each(function (i) {\n            var self = jQuery(this);\n\n            self.html(value.call(this, i, self.html()));\n          });\n\n        } else {\n          this.empty().append(value);\n        }\n\n        return this;\n      },\n\n      replaceWith: function (value) {\n        if (this[0] && this[0].parentNode) {\n          // Make sure that the elements are removed from the DOM before they are inserted\n          // this can help fix replacing a parent with child elements\n          if (jQuery.isFunction(value)) {\n            return this.each(function (i) {\n              var self = jQuery(this), old = self.html();\n              self.replaceWith(value.call(this, i, old));\n            });\n          }\n\n          if (typeof value !== \"string\") {\n            value = jQuery(value).detach();\n          }\n\n          return this.each(function () {\n            var next = this.nextSibling,\n              parent = this.parentNode;\n\n            jQuery(this).remove();\n\n            if (next) {\n              jQuery(next).before(value);\n            } else {\n              jQuery(parent).append(value);\n            }\n          });\n        } else {\n          return this.length ?\n            this.pushStack(jQuery(jQuery.isFunction(value) ? value() : value), \"replaceWith\", value) :\n            this;\n        }\n      },\n\n      detach: function (selector) {\n        return this.remove(selector, true);\n      },\n\n      domManip: function (args, table, callback) {\n        var results, first, fragment, parent,\n          value = args[0],\n          scripts = [];\n\n        // We can't cloneNode fragments that contain checked, in WebKit\n        if (!jQuery.support.checkClone && arguments.length === 3 && typeof value === \"string\" && rchecked.test(value)) {\n          return this.each(function () {\n            jQuery(this).domManip(args, table, callback, true);\n          });\n        }\n\n        if (jQuery.isFunction(value)) {\n          return this.each(function (i) {\n            var self = jQuery(this);\n            args[0] = value.call(this, i, table ? self.html() : undefined);\n            self.domManip(args, table, callback);\n          });\n        }\n\n        if (this[0]) {\n          parent = value && value.parentNode;\n\n          // If we're in a fragment, just use that instead of building a new one\n          if (jQuery.support.parentNode && parent && parent.nodeType === 11 && parent.childNodes.length === this.length) {\n            results = {fragment: parent};\n\n          } else {\n            results = jQuery.buildFragment(args, this, scripts);\n          }\n\n          fragment = results.fragment;\n\n          if (fragment.childNodes.length === 1) {\n            first = fragment = fragment.firstChild;\n          } else {\n            first = fragment.firstChild;\n          }\n\n          if (first) {\n            table = table && jQuery.nodeName(first, \"tr\");\n\n            for (var i = 0, l = this.length, lastIndex = l - 1; i < l; i++) {\n              callback.call(\n                table ?\n                  root(this[i], first) :\n                  this[i],\n                // Make sure that we do not leak memory by inadvertently discarding\n                // the original fragment (which might have attached data) instead of\n                // using it; in addition, use the original fragment object for the last\n                // item instead of first because it can end up being emptied incorrectly\n                // in certain situations (Bug #8070).\n                // Fragments from the fragment cache must always be cloned and never used\n                // in place.\n                results.cacheable || ( l > 1 && i < lastIndex ) ?\n                  jQuery.clone(fragment, true, true) :\n                  fragment\n              );\n            }\n          }\n\n          if (scripts.length) {\n            jQuery.each(scripts, evalScript);\n          }\n        }\n\n        return this;\n      }\n    });\n\n    function root(elem, cur) {\n      return jQuery.nodeName(elem, \"table\") ?\n        (elem.getElementsByTagName(\"tbody\")[0] ||\n        elem.appendChild(elem.ownerDocument.createElement(\"tbody\"))) :\n        elem;\n    }\n\n    function cloneCopyEvent(src, dest) {\n\n      if (dest.nodeType !== 1 || !jQuery.hasData(src)) {\n        return;\n      }\n\n      var type, i, l,\n        oldData = jQuery._data(src),\n        curData = jQuery._data(dest, oldData),\n        events = oldData.events;\n\n      if (events) {\n        delete curData.handle;\n        curData.events = {};\n\n        for (type in events) {\n          for (i = 0, l = events[type].length; i < l; i++) {\n            jQuery.event.add(dest, type + ( events[type][i].namespace ? \".\" : \"\" ) + events[type][i].namespace, events[type][i], events[type][i].data);\n          }\n        }\n      }\n\n      // make the cloned public data object a copy from the original\n      if (curData.data) {\n        curData.data = jQuery.extend({}, curData.data);\n      }\n    }\n\n    function cloneFixAttributes(src, dest) {\n      var nodeName;\n\n      // We do not need to do anything for non-Elements\n      if (dest.nodeType !== 1) {\n        return;\n      }\n\n      // clearAttributes removes the attributes, which we don't want,\n      // but also removes the attachEvent events, which we *do* want\n      if (dest.clearAttributes) {\n        dest.clearAttributes();\n      }\n\n      // mergeAttributes, in contrast, only merges back on the\n      // original attributes, not the events\n      if (dest.mergeAttributes) {\n        dest.mergeAttributes(src);\n      }\n\n      nodeName = dest.nodeName.toLowerCase();\n\n      // IE6-8 fail to clone children inside object elements that use\n      // the proprietary classid attribute value (rather than the type\n      // attribute) to identify the type of content to display\n      if (nodeName === \"object\") {\n        dest.outerHTML = src.outerHTML;\n\n      } else if (nodeName === \"input\" && (src.type === \"checkbox\" || src.type === \"radio\")) {\n        // IE6-8 fails to persist the checked state of a cloned checkbox\n        // or radio button. Worse, IE6-7 fail to give the cloned element\n        // a checked appearance if the defaultChecked value isn't also set\n        if (src.checked) {\n          dest.defaultChecked = dest.checked = src.checked;\n        }\n\n        // IE6-7 get confused and end up setting the value of a cloned\n        // checkbox/radio button to an empty string instead of \"on\"\n        if (dest.value !== src.value) {\n          dest.value = src.value;\n        }\n\n        // IE6-8 fails to return the selected option to the default selected\n        // state when cloning options\n      } else if (nodeName === \"option\") {\n        dest.selected = src.defaultSelected;\n\n        // IE6-8 fails to set the defaultValue to the correct value when\n        // cloning other types of input fields\n      } else if (nodeName === \"input\" || nodeName === \"textarea\") {\n        dest.defaultValue = src.defaultValue;\n      }\n\n      // Event data gets referenced instead of copied if the expando\n      // gets copied too\n      dest.removeAttribute(jQuery.expando);\n    }\n\n    jQuery.buildFragment = function (args, nodes, scripts) {\n      var fragment, cacheable, cacheresults, doc,\n        first = args[0];\n\n      // nodes may contain either an explicit document object,\n      // a jQuery collection or context object.\n      // If nodes[0] contains a valid object to assign to doc\n      if (nodes && nodes[0]) {\n        doc = nodes[0].ownerDocument || nodes[0];\n      }\n\n      // Ensure that an attr object doesn't incorrectly stand in as a document object\n      // Chrome and Firefox seem to allow this to occur and will throw exception\n      // Fixes #8950\n      if (!doc.createDocumentFragment) {\n        doc = document;\n      }\n\n      // Only cache \"small\" (1/2 KB) HTML strings that are associated with the main document\n      // Cloning options loses the selected state, so don't cache them\n      // IE 6 doesn't like it when you put <object> or <embed> elements in a fragment\n      // Also, WebKit does not clone 'checked' attributes on cloneNode, so don't cache\n      // Lastly, IE6,7,8 will not correctly reuse cached fragments that were created from unknown elems #10501\n      if (args.length === 1 && typeof first === \"string\" && first.length < 512 && doc === document &&\n        first.charAt(0) === \"<\" && !rnocache.test(first) &&\n        (jQuery.support.checkClone || !rchecked.test(first)) &&\n        (jQuery.support.html5Clone || !rnoshimcache.test(first))) {\n\n        cacheable = true;\n\n        cacheresults = jQuery.fragments[first];\n        if (cacheresults && cacheresults !== 1) {\n          fragment = cacheresults;\n        }\n      }\n\n      if (!fragment) {\n        fragment = doc.createDocumentFragment();\n        jQuery.clean(args, doc, fragment, scripts);\n      }\n\n      if (cacheable) {\n        jQuery.fragments[first] = cacheresults ? fragment : 1;\n      }\n\n      return {fragment: fragment, cacheable: cacheable};\n    };\n\n    jQuery.fragments = {};\n\n    jQuery.each({\n      appendTo: \"append\",\n      prependTo: \"prepend\",\n      insertBefore: \"before\",\n      insertAfter: \"after\",\n      replaceAll: \"replaceWith\"\n    }, function (name, original) {\n      jQuery.fn[name] = function (selector) {\n        var ret = [],\n          insert = jQuery(selector),\n          parent = this.length === 1 && this[0].parentNode;\n\n        if (parent && parent.nodeType === 11 && parent.childNodes.length === 1 && insert.length === 1) {\n          insert[original](this[0]);\n          return this;\n\n        } else {\n          for (var i = 0, l = insert.length; i < l; i++) {\n            var elems = ( i > 0 ? this.clone(true) : this ).get();\n            jQuery(insert[i])[original](elems);\n            ret = ret.concat(elems);\n          }\n\n          return this.pushStack(ret, name, insert.selector);\n        }\n      };\n    });\n\n    function getAll(elem) {\n      if (typeof elem.getElementsByTagName !== \"undefined\") {\n        return elem.getElementsByTagName(\"*\");\n\n      } else if (typeof elem.querySelectorAll !== \"undefined\") {\n        return elem.querySelectorAll(\"*\");\n\n      } else {\n        return [];\n      }\n    }\n\n// Used in clean, fixes the defaultChecked property\n    function fixDefaultChecked(elem) {\n      if (elem.type === \"checkbox\" || elem.type === \"radio\") {\n        elem.defaultChecked = elem.checked;\n      }\n    }\n\n// Finds all inputs and passes them to fixDefaultChecked\n    function findInputs(elem) {\n      var nodeName = ( elem.nodeName || \"\" ).toLowerCase();\n      if (nodeName === \"input\") {\n        fixDefaultChecked(elem);\n        // Skip scripts, get other children\n      } else if (nodeName !== \"script\" && typeof elem.getElementsByTagName !== \"undefined\") {\n        jQuery.grep(elem.getElementsByTagName(\"input\"), fixDefaultChecked);\n      }\n    }\n\n// Derived From: http://www.iecss.com/shimprove/javascript/shimprove.1-0-1.js\n    function shimCloneNode(elem) {\n      var div = document.createElement(\"div\");\n      safeFragment.appendChild(div);\n\n      div.innerHTML = elem.outerHTML;\n      return div.firstChild;\n    }\n\n    jQuery.extend({\n      clone: function (elem, dataAndEvents, deepDataAndEvents) {\n        var srcElements,\n          destElements,\n          i,\n          // IE<=8 does not properly clone detached, unknown element nodes\n          clone = jQuery.support.html5Clone || !rnoshimcache.test(\"<\" + elem.nodeName) ?\n            elem.cloneNode(true) :\n            shimCloneNode(elem);\n\n        if ((!jQuery.support.noCloneEvent || !jQuery.support.noCloneChecked) &&\n          (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {\n          // IE copies events bound via attachEvent when using cloneNode.\n          // Calling detachEvent on the clone will also remove the events\n          // from the original. In order to get around this, we use some\n          // proprietary methods to clear the events. Thanks to MooTools\n          // guys for this hotness.\n\n          cloneFixAttributes(elem, clone);\n\n          // Using Sizzle here is crazy slow, so we use getElementsByTagName instead\n          srcElements = getAll(elem);\n          destElements = getAll(clone);\n\n          // Weird iteration because IE will replace the length property\n          // with an element if you are cloning the body and one of the\n          // elements on the page has a name or id of \"length\"\n          for (i = 0; srcElements[i]; ++i) {\n            // Ensure that the destination node is not null; Fixes #9587\n            if (destElements[i]) {\n              cloneFixAttributes(srcElements[i], destElements[i]);\n            }\n          }\n        }\n\n        // Copy the events from the original to the clone\n        if (dataAndEvents) {\n          cloneCopyEvent(elem, clone);\n\n          if (deepDataAndEvents) {\n            srcElements = getAll(elem);\n            destElements = getAll(clone);\n\n            for (i = 0; srcElements[i]; ++i) {\n              cloneCopyEvent(srcElements[i], destElements[i]);\n            }\n          }\n        }\n\n        srcElements = destElements = null;\n\n        // Return the cloned set\n        return clone;\n      },\n\n      clean: function (elems, context, fragment, scripts) {\n        var checkScriptType;\n\n        context = context || document;\n\n        // !context.createElement fails in IE with an error but returns typeof 'object'\n        if (typeof context.createElement === \"undefined\") {\n          context = context.ownerDocument || context[0] && context[0].ownerDocument || document;\n        }\n\n        var ret = [], j;\n\n        for (var i = 0, elem; (elem = elems[i]) != null; i++) {\n          if (typeof elem === \"number\") {\n            elem += \"\";\n          }\n\n          if (!elem) {\n            continue;\n          }\n\n          // Convert html string into DOM nodes\n          if (typeof elem === \"string\") {\n            if (!rhtml.test(elem)) {\n              elem = context.createTextNode(elem);\n            } else {\n              // Fix \"XHTML\"-style tags in all browsers\n              elem = elem.replace(rxhtmlTag, \"<$1></$2>\");\n\n              // Trim whitespace, otherwise indexOf won't work as expected\n              var tag = ( rtagName.exec(elem) || [\"\", \"\"] )[1].toLowerCase(),\n                wrap = wrapMap[tag] || wrapMap._default,\n                depth = wrap[0],\n                div = context.createElement(\"div\");\n\n              // Append wrapper element to unknown element safe doc fragment\n              if (context === document) {\n                // Use the fragment we've already created for this document\n                safeFragment.appendChild(div);\n              } else {\n                // Use a fragment created with the owner document\n                createSafeFragment(context).appendChild(div);\n              }\n\n              // Go to html and back, then peel off extra wrappers\n              div.innerHTML = wrap[1] + elem + wrap[2];\n\n              // Move to the right depth\n              while (depth--) {\n                div = div.lastChild;\n              }\n\n              // Remove IE's autoinserted <tbody> from table fragments\n              if (!jQuery.support.tbody) {\n\n                // String was a <table>, *may* have spurious <tbody>\n                var hasBody = rtbody.test(elem),\n                  tbody = tag === \"table\" && !hasBody ?\n                  div.firstChild && div.firstChild.childNodes :\n\n                    // String was a bare <thead> or <tfoot>\n                    wrap[1] === \"<table>\" && !hasBody ?\n                      div.childNodes :\n                      [];\n\n                for (j = tbody.length - 1; j >= 0; --j) {\n                  if (jQuery.nodeName(tbody[j], \"tbody\") && !tbody[j].childNodes.length) {\n                    tbody[j].parentNode.removeChild(tbody[j]);\n                  }\n                }\n              }\n\n              // IE completely kills leading whitespace when innerHTML is used\n              if (!jQuery.support.leadingWhitespace && rleadingWhitespace.test(elem)) {\n                div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]), div.firstChild);\n              }\n\n              elem = div.childNodes;\n            }\n          }\n\n          // Resets defaultChecked for any radios and checkboxes\n          // about to be appended to the DOM in IE 6/7 (#8060)\n          var len;\n          if (!jQuery.support.appendChecked) {\n            if (elem[0] && typeof (len = elem.length) === \"number\") {\n              for (j = 0; j < len; j++) {\n                findInputs(elem[j]);\n              }\n            } else {\n              findInputs(elem);\n            }\n          }\n\n          if (elem.nodeType) {\n            ret.push(elem);\n          } else {\n            ret = jQuery.merge(ret, elem);\n          }\n        }\n\n        if (fragment) {\n          checkScriptType = function (elem) {\n            return !elem.type || rscriptType.test(elem.type);\n          };\n          for (i = 0; ret[i]; i++) {\n            if (scripts && jQuery.nodeName(ret[i], \"script\") && (!ret[i].type || ret[i].type.toLowerCase() === \"text/javascript\")) {\n              scripts.push(ret[i].parentNode ? ret[i].parentNode.removeChild(ret[i]) : ret[i]);\n\n            } else {\n              if (ret[i].nodeType === 1) {\n                var jsTags = jQuery.grep(ret[i].getElementsByTagName(\"script\"), checkScriptType);\n\n                ret.splice.apply(ret, [i + 1, 0].concat(jsTags));\n              }\n              fragment.appendChild(ret[i]);\n            }\n          }\n        }\n\n        return ret;\n      },\n\n      cleanData: function (elems) {\n        var data, id,\n          cache = jQuery.cache,\n          special = jQuery.event.special,\n          deleteExpando = jQuery.support.deleteExpando;\n\n        for (var i = 0, elem; (elem = elems[i]) != null; i++) {\n          if (elem.nodeName && jQuery.noData[elem.nodeName.toLowerCase()]) {\n            continue;\n          }\n\n          id = elem[jQuery.expando];\n\n          if (id) {\n            data = cache[id];\n\n            if (data && data.events) {\n              for (var type in data.events) {\n                if (special[type]) {\n                  jQuery.event.remove(elem, type);\n\n                  // This is a shortcut to avoid jQuery.event.remove's overhead\n                } else {\n                  jQuery.removeEvent(elem, type, data.handle);\n                }\n              }\n\n              // Null the DOM reference to avoid IE6/7/8 leak (#7054)\n              if (data.handle) {\n                data.handle.elem = null;\n              }\n            }\n\n            if (deleteExpando) {\n              delete elem[jQuery.expando];\n\n            } else if (elem.removeAttribute) {\n              elem.removeAttribute(jQuery.expando);\n            }\n\n            delete cache[id];\n          }\n        }\n      }\n    });\n\n    function evalScript(i, elem) {\n      if (elem.src) {\n        jQuery.ajax({\n          url: elem.src,\n          async: false,\n          dataType: \"script\"\n        });\n      } else {\n        jQuery.globalEval(( elem.text || elem.textContent || elem.innerHTML || \"\" ).replace(rcleanScript, \"/*$0*/\"));\n      }\n\n      if (elem.parentNode) {\n        elem.parentNode.removeChild(elem);\n      }\n    }\n\n\n    var ralpha = /alpha\\([^)]*\\)/i,\n      ropacity = /opacity=([^)]*)/,\n      // fixed for IE9, see #8346\n      rupper = /([A-Z]|^ms)/g,\n      rnumpx = /^-?\\d+(?:px)?$/i,\n      rnum = /^-?\\d/,\n      rrelNum = /^([\\-+])=([\\-+.\\de]+)/,\n\n      cssShow = {position: \"absolute\", visibility: \"hidden\", display: \"block\"},\n      cssWidth = [\"Left\", \"Right\"],\n      cssHeight = [\"Top\", \"Bottom\"],\n      curCSS,\n\n      getComputedStyle,\n      currentStyle;\n\n    jQuery.fn.css = function (name, value) {\n      // Setting 'undefined' is a no-op\n      if (arguments.length === 2 && value === undefined) {\n        return this;\n      }\n\n      return jQuery.access(this, name, value, true, function (elem, name, value) {\n        return value !== undefined ?\n          jQuery.style(elem, name, value) :\n          jQuery.css(elem, name);\n      });\n    };\n\n    jQuery.extend({\n      // Add in style property hooks for overriding the default\n      // behavior of getting and setting a style property\n      cssHooks: {\n        opacity: {\n          get: function (elem, computed) {\n            if (computed) {\n              // We should always get a number back from opacity\n              var ret = curCSS(elem, \"opacity\", \"opacity\");\n              return ret === \"\" ? \"1\" : ret;\n\n            } else {\n              return elem.style.opacity;\n            }\n          }\n        }\n      },\n\n      // Exclude the following css properties to add px\n      cssNumber: {\n        \"fillOpacity\": true,\n        \"fontWeight\": true,\n        \"lineHeight\": true,\n        \"opacity\": true,\n        \"orphans\": true,\n        \"widows\": true,\n        \"zIndex\": true,\n        \"zoom\": true\n      },\n\n      // Add in properties whose names you wish to fix before\n      // setting or getting the value\n      cssProps: {\n        // normalize float css property\n        \"float\": jQuery.support.cssFloat ? \"cssFloat\" : \"styleFloat\"\n      },\n\n      // Get and set the style property on a DOM Node\n      style: function (elem, name, value, extra) {\n        // Don't set styles on text and comment nodes\n        if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {\n          return;\n        }\n\n        // Make sure that we're working with the right name\n        var ret, type, origName = jQuery.camelCase(name),\n          style = elem.style, hooks = jQuery.cssHooks[origName];\n\n        name = jQuery.cssProps[origName] || origName;\n\n        // Check if we're setting a value\n        if (value !== undefined) {\n          type = typeof value;\n\n          // convert relative number strings (+= or -=) to relative numbers. #7345\n          if (type === \"string\" && (ret = rrelNum.exec(value))) {\n            value = ( +( ret[1] + 1) * +ret[2] ) + parseFloat(jQuery.css(elem, name));\n            // Fixes bug #9237\n            type = \"number\";\n          }\n\n          // Make sure that NaN and null values aren't set. See: #7116\n          if (value == null || type === \"number\" && isNaN(value)) {\n            return;\n          }\n\n          // If a number was passed in, add 'px' to the (except for certain CSS properties)\n          if (type === \"number\" && !jQuery.cssNumber[origName]) {\n            value += \"px\";\n          }\n\n          // If a hook was provided, use that value, otherwise just set the specified value\n          if (!hooks || !(\"set\" in hooks) || (value = hooks.set(elem, value)) !== undefined) {\n            // Wrapped to prevent IE from throwing errors when 'invalid' values are provided\n            // Fixes bug #5509\n            try {\n              style[name] = value;\n            } catch (e) {\n            }\n          }\n\n        } else {\n          // If a hook was provided get the non-computed value from there\n          if (hooks && \"get\" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {\n            return ret;\n          }\n\n          // Otherwise just get the value from the style object\n          return style[name];\n        }\n      },\n\n      css: function (elem, name, extra) {\n        var ret, hooks;\n\n        // Make sure that we're working with the right name\n        name = jQuery.camelCase(name);\n        hooks = jQuery.cssHooks[name];\n        name = jQuery.cssProps[name] || name;\n\n        // cssFloat needs a special treatment\n        if (name === \"cssFloat\") {\n          name = \"float\";\n        }\n\n        // If a hook was provided get the computed value from there\n        if (hooks && \"get\" in hooks && (ret = hooks.get(elem, true, extra)) !== undefined) {\n          return ret;\n\n          // Otherwise, if a way to get the computed value exists, use that\n        } else if (curCSS) {\n          return curCSS(elem, name);\n        }\n      },\n\n      // A method for quickly swapping in/out CSS properties to get correct calculations\n      swap: function (elem, options, callback) {\n        var old = {};\n\n        // Remember the old values, and insert the new ones\n        for (var name in options) {\n          old[name] = elem.style[name];\n          elem.style[name] = options[name];\n        }\n\n        callback.call(elem);\n\n        // Revert the old values\n        for (name in options) {\n          elem.style[name] = old[name];\n        }\n      }\n    });\n\n// DEPRECATED, Use jQuery.css() instead\n    jQuery.curCSS = jQuery.css;\n\n    jQuery.each([\"height\", \"width\"], function (i, name) {\n      jQuery.cssHooks[name] = {\n        get: function (elem, computed, extra) {\n          var val;\n\n          if (computed) {\n            if (elem.offsetWidth !== 0) {\n              return getWH(elem, name, extra);\n            } else {\n              jQuery.swap(elem, cssShow, function () {\n                val = getWH(elem, name, extra);\n              });\n            }\n\n            return val;\n          }\n        },\n\n        set: function (elem, value) {\n          if (rnumpx.test(value)) {\n            // ignore negative width and height values #1599\n            value = parseFloat(value);\n\n            if (value >= 0) {\n              return value + \"px\";\n            }\n\n          } else {\n            return value;\n          }\n        }\n      };\n    });\n\n    if (!jQuery.support.opacity) {\n      jQuery.cssHooks.opacity = {\n        get: function (elem, computed) {\n          // IE uses filters for opacity\n          return ropacity.test((computed && elem.currentStyle ? elem.currentStyle.filter : elem.style.filter) || \"\") ?\n          ( parseFloat(RegExp.$1) / 100 ) + \"\" :\n            computed ? \"1\" : \"\";\n        },\n\n        set: function (elem, value) {\n          var style = elem.style,\n            currentStyle = elem.currentStyle,\n            opacity = jQuery.isNumeric(value) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\n            filter = currentStyle && currentStyle.filter || style.filter || \"\";\n\n          // IE has trouble with opacity if it does not have layout\n          // Force it by setting the zoom level\n          style.zoom = 1;\n\n          // if setting opacity to 1, and no other filters exist - attempt to remove filter attribute #6652\n          if (value >= 1 && jQuery.trim(filter.replace(ralpha, \"\")) === \"\") {\n\n            // Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\n            // if \"filter:\" is present at all, clearType is disabled, we want to avoid this\n            // style.removeAttribute is IE Only, but so apparently is this code path...\n            style.removeAttribute(\"filter\");\n\n            // if there there is no filter style applied in a css rule, we are done\n            if (currentStyle && !currentStyle.filter) {\n              return;\n            }\n          }\n\n          // otherwise, set new filter values\n          style.filter = ralpha.test(filter) ?\n            filter.replace(ralpha, opacity) :\n          filter + \" \" + opacity;\n        }\n      };\n    }\n\n    jQuery(function () {\n      // This hook cannot be added until DOM ready because the support test\n      // for it is not run until after DOM ready\n      if (!jQuery.support.reliableMarginRight) {\n        jQuery.cssHooks.marginRight = {\n          get: function (elem, computed) {\n            // WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\n            // Work around by temporarily setting element display to inline-block\n            var ret;\n            jQuery.swap(elem, {\"display\": \"inline-block\"}, function () {\n              if (computed) {\n                ret = curCSS(elem, \"margin-right\", \"marginRight\");\n              } else {\n                ret = elem.style.marginRight;\n              }\n            });\n            return ret;\n          }\n        };\n      }\n    });\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      getComputedStyle = function (elem, name) {\n        var ret, defaultView, computedStyle;\n\n        name = name.replace(rupper, \"-$1\").toLowerCase();\n\n        if ((defaultView = elem.ownerDocument.defaultView) &&\n          (computedStyle = defaultView.getComputedStyle(elem, null))) {\n          ret = computedStyle.getPropertyValue(name);\n          if (ret === \"\" && !jQuery.contains(elem.ownerDocument.documentElement, elem)) {\n            ret = jQuery.style(elem, name);\n          }\n        }\n\n        return ret;\n      };\n    }\n\n    if (document.documentElement.currentStyle) {\n      currentStyle = function (elem, name) {\n        var left, rsLeft, uncomputed,\n          ret = elem.currentStyle && elem.currentStyle[name],\n          style = elem.style;\n\n        // Avoid setting ret to empty string here\n        // so we don't default to auto\n        if (ret === null && style && (uncomputed = style[name])) {\n          ret = uncomputed;\n        }\n\n        // From the awesome hack by Dean Edwards\n        // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n\n        // If we're not dealing with a regular pixel number\n        // but a number that has a weird ending, we need to convert it to pixels\n        if (!rnumpx.test(ret) && rnum.test(ret)) {\n\n          // Remember the original values\n          left = style.left;\n          rsLeft = elem.runtimeStyle && elem.runtimeStyle.left;\n\n          // Put in the new values to get a computed value out\n          if (rsLeft) {\n            elem.runtimeStyle.left = elem.currentStyle.left;\n          }\n          style.left = name === \"fontSize\" ? \"1em\" : ( ret || 0 );\n          ret = style.pixelLeft + \"px\";\n\n          // Revert the changed values\n          style.left = left;\n          if (rsLeft) {\n            elem.runtimeStyle.left = rsLeft;\n          }\n        }\n\n        return ret === \"\" ? \"auto\" : ret;\n      };\n    }\n\n    curCSS = getComputedStyle || currentStyle;\n\n    function getWH(elem, name, extra) {\n\n      // Start with offset property\n      var val = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\n        which = name === \"width\" ? cssWidth : cssHeight,\n        i = 0,\n        len = which.length;\n\n      if (val > 0) {\n        if (extra !== \"border\") {\n          for (; i < len; i++) {\n            if (!extra) {\n              val -= parseFloat(jQuery.css(elem, \"padding\" + which[i])) || 0;\n            }\n            if (extra === \"margin\") {\n              val += parseFloat(jQuery.css(elem, extra + which[i])) || 0;\n            } else {\n              val -= parseFloat(jQuery.css(elem, \"border\" + which[i] + \"Width\")) || 0;\n            }\n          }\n        }\n\n        return val + \"px\";\n      }\n\n      // Fall back to computed then uncomputed css if necessary\n      val = curCSS(elem, name, name);\n      if (val < 0 || val == null) {\n        val = elem.style[name] || 0;\n      }\n      // Normalize \"\", auto, and prepare for extra\n      val = parseFloat(val) || 0;\n\n      // Add padding, border, margin\n      if (extra) {\n        for (; i < len; i++) {\n          val += parseFloat(jQuery.css(elem, \"padding\" + which[i])) || 0;\n          if (extra !== \"padding\") {\n            val += parseFloat(jQuery.css(elem, \"border\" + which[i] + \"Width\")) || 0;\n          }\n          if (extra === \"margin\") {\n            val += parseFloat(jQuery.css(elem, extra + which[i])) || 0;\n          }\n        }\n      }\n\n      return val + \"px\";\n    }\n\n    if (jQuery.expr && jQuery.expr.filters) {\n      jQuery.expr.filters.hidden = function (elem) {\n        var width = elem.offsetWidth,\n          height = elem.offsetHeight;\n\n        return ( width === 0 && height === 0 ) || (!jQuery.support.reliableHiddenOffsets && ((elem.style && elem.style.display) || jQuery.css(elem, \"display\")) === \"none\");\n      };\n\n      jQuery.expr.filters.visible = function (elem) {\n        return !jQuery.expr.filters.hidden(elem);\n      };\n    }\n\n\n    var r20 = /%20/g,\n      rbracket = /\\[\\]$/,\n      rCRLF = /\\r?\\n/g,\n      rhash = /#.*$/,\n      rheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg, // IE leaves an \\r character at EOL\n      rinput = /^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,\n      // #7653, #8125, #8152: local protocol detection\n      rlocalProtocol = /^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,\n      rnoContent = /^(?:GET|HEAD)$/,\n      rprotocol = /^\\/\\//,\n      rquery = /\\?/,\n      rscript = /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,\n      rselectTextarea = /^(?:select|textarea)/i,\n      rspacesAjax = /\\s+/,\n      rts = /([?&])_=[^&]*/,\n      rurl = /^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,\n\n      // Keep a copy of the old load method\n      _load = jQuery.fn.load,\n\n      /* Prefilters\n       * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n       * 2) These are called:\n       *    - BEFORE asking for a transport\n       *    - AFTER param serialization (s.data is a string if s.processData is true)\n       * 3) key is the dataType\n       * 4) the catchall symbol \"*\" can be used\n       * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n       */\n      prefilters = {},\n\n      /* Transports bindings\n       * 1) key is the dataType\n       * 2) the catchall symbol \"*\" can be used\n       * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n       */\n      transports = {},\n\n      // Document location\n      ajaxLocation,\n\n      // Document location segments\n      ajaxLocParts,\n\n      // Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n      allTypes = [\"*/\"] + [\"*\"];\n\n// #8138, IE may throw an exception when accessing\n// a field from window.location if document.domain has been set\n    try {\n      ajaxLocation = location.href;\n    } catch (e) {\n      // Use the href attribute of an A element\n      // since IE will modify it given document.location\n      ajaxLocation = document.createElement(\"a\");\n      ajaxLocation.href = \"\";\n      ajaxLocation = ajaxLocation.href;\n    }\n\n// Segment location into parts\n    ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\n    function addToPrefiltersOrTransports(structure) {\n\n      // dataTypeExpression is optional and defaults to \"*\"\n      return function (dataTypeExpression, func) {\n\n        if (typeof dataTypeExpression !== \"string\") {\n          func = dataTypeExpression;\n          dataTypeExpression = \"*\";\n        }\n\n        if (jQuery.isFunction(func)) {\n          var dataTypes = dataTypeExpression.toLowerCase().split(rspacesAjax),\n            i = 0,\n            length = dataTypes.length,\n            dataType,\n            list,\n            placeBefore;\n\n          // For each dataType in the dataTypeExpression\n          for (; i < length; i++) {\n            dataType = dataTypes[i];\n            // We control if we're asked to add before\n            // any existing element\n            placeBefore = /^\\+/.test(dataType);\n            if (placeBefore) {\n              dataType = dataType.substr(1) || \"*\";\n            }\n            list = structure[dataType] = structure[dataType] || [];\n            // then we add to the structure accordingly\n            list[placeBefore ? \"unshift\" : \"push\"](func);\n          }\n        }\n      };\n    }\n\n// Base inspection function for prefilters and transports\n    function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR,\n                                           dataType /* internal */, inspected /* internal */) {\n\n      dataType = dataType || options.dataTypes[0];\n      inspected = inspected || {};\n\n      inspected[dataType] = true;\n\n      var list = structure[dataType],\n        i = 0,\n        length = list ? list.length : 0,\n        executeOnly = ( structure === prefilters ),\n        selection;\n\n      for (; i < length && ( executeOnly || !selection ); i++) {\n        selection = list[i](options, originalOptions, jqXHR);\n        // If we got redirected to another dataType\n        // we try there if executing only and not done already\n        if (typeof selection === \"string\") {\n          if (!executeOnly || inspected[selection]) {\n            selection = undefined;\n          } else {\n            options.dataTypes.unshift(selection);\n            selection = inspectPrefiltersOrTransports(\n              structure, options, originalOptions, jqXHR, selection, inspected);\n          }\n        }\n      }\n      // If we're only executing or nothing was selected\n      // we try the catchall dataType if not done already\n      if (( executeOnly || !selection ) && !inspected[\"*\"]) {\n        selection = inspectPrefiltersOrTransports(\n          structure, options, originalOptions, jqXHR, \"*\", inspected);\n      }\n      // unnecessary when only executing (prefilters)\n      // but it'll be ignored by the caller in that case\n      return selection;\n    }\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\n    function ajaxExtend(target, src) {\n      var key, deep,\n        flatOptions = jQuery.ajaxSettings.flatOptions || {};\n      for (key in src) {\n        if (src[key] !== undefined) {\n          ( flatOptions[key] ? target : ( deep || ( deep = {} ) ) )[key] = src[key];\n        }\n      }\n      if (deep) {\n        jQuery.extend(true, target, deep);\n      }\n    }\n\n    jQuery.fn.extend({\n      load: function (url, params, callback) {\n        if (typeof url !== \"string\" && _load) {\n          return _load.apply(this, arguments);\n\n          // Don't do a request if no elements are being requested\n        } else if (!this.length) {\n          return this;\n        }\n\n        var off = url.indexOf(\" \");\n        if (off >= 0) {\n          var selector = url.slice(off, url.length);\n          url = url.slice(0, off);\n        }\n\n        // Default to a GET request\n        var type = \"GET\";\n\n        // If the second parameter was provided\n        if (params) {\n          // If it's a function\n          if (jQuery.isFunction(params)) {\n            // We assume that it's the callback\n            callback = params;\n            params = undefined;\n\n            // Otherwise, build a param string\n          } else if (typeof params === \"object\") {\n            params = jQuery.param(params, jQuery.ajaxSettings.traditional);\n            type = \"POST\";\n          }\n        }\n\n        var self = this;\n\n        // Request the remote document\n        jQuery.ajax({\n          url: url,\n          type: type,\n          dataType: \"html\",\n          data: params,\n          // Complete callback (responseText is used internally)\n          complete: function (jqXHR, status, responseText) {\n            // Store the response as specified by the jqXHR object\n            responseText = jqXHR.responseText;\n            // If successful, inject the HTML into all the matched elements\n            if (jqXHR.isResolved()) {\n              // #4825: Get the actual response in case\n              // a dataFilter is present in ajaxSettings\n              jqXHR.done(function (r) {\n                responseText = r;\n              });\n              // See if a selector was specified\n              self.html(selector ?\n                // Create a dummy div to hold the results\n                jQuery(\"<div>\")\n                // inject the contents of the document in, removing the scripts\n                // to avoid any 'Permission Denied' errors in IE\n                  .append(responseText.replace(rscript, \"\"))\n\n                  // Locate the specified elements\n                  .find(selector) :\n\n                // If not, just inject the full result\n                responseText);\n            }\n\n            if (callback) {\n              self.each(callback, [responseText, status, jqXHR]);\n            }\n          }\n        });\n\n        return this;\n      },\n\n      serialize: function () {\n        return jQuery.param(this.serializeArray());\n      },\n\n      serializeArray: function () {\n        return this.map(function () {\n          return this.elements ? jQuery.makeArray(this.elements) : this;\n        })\n          .filter(function () {\n            return this.name && !this.disabled &&\n              ( this.checked || rselectTextarea.test(this.nodeName) ||\n              rinput.test(this.type) );\n          })\n          .map(function (i, elem) {\n            var val = jQuery(this).val();\n\n            return val == null ?\n              null :\n              jQuery.isArray(val) ?\n                jQuery.map(val, function (val, i) {\n                  return {name: elem.name, value: val.replace(rCRLF, \"\\r\\n\")};\n                }) :\n                {name: elem.name, value: val.replace(rCRLF, \"\\r\\n\")};\n          }).get();\n      }\n    });\n\n// Attach a bunch of functions for handling common AJAX events\n    jQuery.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"), function (i, o) {\n      jQuery.fn[o] = function (f) {\n        return this.on(o, f);\n      };\n    });\n\n    jQuery.each([\"get\", \"post\"], function (i, method) {\n      jQuery[method] = function (url, data, callback, type) {\n        // shift arguments if data argument was omitted\n        if (jQuery.isFunction(data)) {\n          type = type || callback;\n          callback = data;\n          data = undefined;\n        }\n\n        return jQuery.ajax({\n          type: method,\n          url: url,\n          data: data,\n          success: callback,\n          dataType: type\n        });\n      };\n    });\n\n    jQuery.extend({\n\n      getScript: function (url, callback) {\n        return jQuery.get(url, undefined, callback, \"script\");\n      },\n\n      getJSON: function (url, data, callback) {\n        return jQuery.get(url, data, callback, \"json\");\n      },\n\n      // Creates a full fledged settings object into target\n      // with both ajaxSettings and settings fields.\n      // If target is omitted, writes into ajaxSettings.\n      ajaxSetup: function (target, settings) {\n        if (settings) {\n          // Building a settings object\n          ajaxExtend(target, jQuery.ajaxSettings);\n        } else {\n          // Extending ajaxSettings\n          settings = target;\n          target = jQuery.ajaxSettings;\n        }\n        ajaxExtend(target, settings);\n        return target;\n      },\n\n      ajaxSettings: {\n        url: ajaxLocation,\n        isLocal: rlocalProtocol.test(ajaxLocParts[1]),\n        global: true,\n        type: \"GET\",\n        contentType: \"application/x-www-form-urlencoded\",\n        processData: true,\n        async: true,\n        /*\n         timeout: 0,\n         data: null,\n         dataType: null,\n         username: null,\n         password: null,\n         cache: null,\n         traditional: false,\n         headers: {},\n         */\n\n        accepts: {\n          xml: \"application/xml, text/xml\",\n          html: \"text/html\",\n          text: \"text/plain\",\n          json: \"application/json, text/javascript\",\n          \"*\": allTypes\n        },\n\n        contents: {\n          xml: /xml/,\n          html: /html/,\n          json: /json/\n        },\n\n        responseFields: {\n          xml: \"responseXML\",\n          text: \"responseText\"\n        },\n\n        // List of data converters\n        // 1) key format is \"source_type destination_type\" (a single space in-between)\n        // 2) the catchall symbol \"*\" can be used for source_type\n        converters: {\n\n          // Convert anything to text\n          \"* text\": window.String,\n\n          // Text to html (true = no transformation)\n          \"text html\": true,\n\n          // Evaluate text as a json expression\n          \"text json\": jQuery.parseJSON,\n\n          // Parse text as xml\n          \"text xml\": jQuery.parseXML\n        },\n\n        // For options that shouldn't be deep extended:\n        // you can add your own custom options here if\n        // and when you create one that shouldn't be\n        // deep extended (see ajaxExtend)\n        flatOptions: {\n          context: true,\n          url: true\n        }\n      },\n\n      ajaxPrefilter: addToPrefiltersOrTransports(prefilters),\n      ajaxTransport: addToPrefiltersOrTransports(transports),\n\n      // Main method\n      ajax: function (url, options) {\n\n        // If url is an object, simulate pre-1.5 signature\n        if (typeof url === \"object\") {\n          options = url;\n          url = undefined;\n        }\n\n        // Force options to be an object\n        options = options || {};\n\n        var // Create the final options object\n          s = jQuery.ajaxSetup({}, options),\n          // Callbacks context\n          callbackContext = s.context || s,\n          // Context for global events\n          // It's the callbackContext if one was provided in the options\n          // and if it's a DOM node or a jQuery collection\n          globalEventContext = callbackContext !== s &&\n          ( callbackContext.nodeType || callbackContext instanceof jQuery ) ?\n            jQuery(callbackContext) : jQuery.event,\n          // Deferreds\n          deferred = jQuery.Deferred(),\n          completeDeferred = jQuery.Callbacks(\"once memory\"),\n          // Status-dependent callbacks\n          statusCode = s.statusCode || {},\n          // ifModified key\n          ifModifiedKey,\n          // Headers (they are sent all at once)\n          requestHeaders = {},\n          requestHeadersNames = {},\n          // Response headers\n          responseHeadersString,\n          responseHeaders,\n          // transport\n          transport,\n          // timeout handle\n          timeoutTimer,\n          // Cross-domain detection vars\n          parts,\n          // The jqXHR state\n          state = 0,\n          // To know if global events are to be dispatched\n          fireGlobals,\n          // Loop variable\n          i,\n          // Fake xhr\n          jqXHR = {\n\n            readyState: 0,\n\n            // Caches the header\n            setRequestHeader: function (name, value) {\n              if (!state) {\n                var lname = name.toLowerCase();\n                name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;\n                requestHeaders[name] = value;\n              }\n              return this;\n            },\n\n            // Raw string\n            getAllResponseHeaders: function () {\n              return state === 2 ? responseHeadersString : null;\n            },\n\n            // Builds headers hashtable if needed\n            getResponseHeader: function (key) {\n              var match;\n              if (state === 2) {\n                if (!responseHeaders) {\n                  responseHeaders = {};\n                  while (( match = rheaders.exec(responseHeadersString) )) {\n                    responseHeaders[match[1].toLowerCase()] = match[2];\n                  }\n                }\n                match = responseHeaders[key.toLowerCase()];\n              }\n              return match === undefined ? null : match;\n            },\n\n            // Overrides response content-type header\n            overrideMimeType: function (type) {\n              if (!state) {\n                s.mimeType = type;\n              }\n              return this;\n            },\n\n            // Cancel the request\n            abort: function (statusText) {\n              statusText = statusText || \"abort\";\n              if (transport) {\n                transport.abort(statusText);\n              }\n              done(0, statusText);\n              return this;\n            }\n          };\n\n        // Callback for when everything is done\n        // It is defined here because jslint complains if it is declared\n        // at the end of the function (which would be more logical and readable)\n        function done(status, nativeStatusText, responses, headers) {\n\n          // Called once\n          if (state === 2) {\n            return;\n          }\n\n          // State is \"done\" now\n          state = 2;\n\n          // Clear timeout if it exists\n          if (timeoutTimer) {\n            clearTimeout(timeoutTimer);\n          }\n\n          // Dereference transport for early garbage collection\n          // (no matter how long the jqXHR object will be used)\n          transport = undefined;\n\n          // Cache response headers\n          responseHeadersString = headers || \"\";\n\n          // Set readyState\n          jqXHR.readyState = status > 0 ? 4 : 0;\n\n          var isSuccess,\n            success,\n            error,\n            statusText = nativeStatusText,\n            response = responses ? ajaxHandleResponses(s, jqXHR, responses) : undefined,\n            lastModified,\n            etag;\n\n          // If successful, handle type chaining\n          if (status >= 200 && status < 300 || status === 304) {\n\n            // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n            if (s.ifModified) {\n\n              if (( lastModified = jqXHR.getResponseHeader(\"Last-Modified\") )) {\n                jQuery.lastModified[ifModifiedKey] = lastModified;\n              }\n              if (( etag = jqXHR.getResponseHeader(\"Etag\") )) {\n                jQuery.etag[ifModifiedKey] = etag;\n              }\n            }\n\n            // If not modified\n            if (status === 304) {\n\n              statusText = \"notmodified\";\n              isSuccess = true;\n\n              // If we have data\n            } else {\n\n              try {\n                success = ajaxConvert(s, response);\n                statusText = \"success\";\n                isSuccess = true;\n              } catch (e) {\n                // We have a parsererror\n                statusText = \"parsererror\";\n                error = e;\n              }\n            }\n          } else {\n            // We extract error from statusText\n            // then normalize statusText and status for non-aborts\n            error = statusText;\n            if (!statusText || status) {\n              statusText = \"error\";\n              if (status < 0) {\n                status = 0;\n              }\n            }\n          }\n\n          // Set data for the fake xhr object\n          jqXHR.status = status;\n          jqXHR.statusText = \"\" + ( nativeStatusText || statusText );\n\n          // Success/Error\n          if (isSuccess) {\n            deferred.resolveWith(callbackContext, [success, statusText, jqXHR]);\n          } else {\n            deferred.rejectWith(callbackContext, [jqXHR, statusText, error]);\n          }\n\n          // Status-dependent callbacks\n          jqXHR.statusCode(statusCode);\n          statusCode = undefined;\n\n          if (fireGlobals) {\n            globalEventContext.trigger(\"ajax\" + ( isSuccess ? \"Success\" : \"Error\" ),\n              [jqXHR, s, isSuccess ? success : error]);\n          }\n\n          // Complete\n          completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);\n\n          if (fireGlobals) {\n            globalEventContext.trigger(\"ajaxComplete\", [jqXHR, s]);\n            // Handle the global AJAX counter\n            if (!( --jQuery.active )) {\n              jQuery.event.trigger(\"ajaxStop\");\n            }\n          }\n        }\n\n        // Attach deferreds\n        deferred.promise(jqXHR);\n        jqXHR.success = jqXHR.done;\n        jqXHR.error = jqXHR.fail;\n        jqXHR.complete = completeDeferred.add;\n\n        // Status-dependent callbacks\n        jqXHR.statusCode = function (map) {\n          if (map) {\n            var tmp;\n            if (state < 2) {\n              for (tmp in map) {\n                statusCode[tmp] = [statusCode[tmp], map[tmp]];\n              }\n            } else {\n              tmp = map[jqXHR.status];\n              jqXHR.then(tmp, tmp);\n            }\n          }\n          return this;\n        };\n\n        // Remove hash character (#7531: and string promotion)\n        // Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\n        // We also use the url parameter if available\n        s.url = ( ( url || s.url ) + \"\" ).replace(rhash, \"\").replace(rprotocol, ajaxLocParts[1] + \"//\");\n\n        // Extract dataTypes list\n        s.dataTypes = jQuery.trim(s.dataType || \"*\").toLowerCase().split(rspacesAjax);\n\n        // Determine if a cross-domain request is in order\n        if (s.crossDomain == null) {\n          parts = rurl.exec(s.url.toLowerCase());\n          s.crossDomain = !!( parts &&\n            ( parts[1] != ajaxLocParts[1] || parts[2] != ajaxLocParts[2] ||\n            ( parts[3] || ( parts[1] === \"http:\" ? 80 : 443 ) ) !=\n            ( ajaxLocParts[3] || ( ajaxLocParts[1] === \"http:\" ? 80 : 443 ) ) )\n          );\n        }\n\n        // Convert data if not already a string\n        if (s.data && s.processData && typeof s.data !== \"string\") {\n          s.data = jQuery.param(s.data, s.traditional);\n        }\n\n        // Apply prefilters\n        inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);\n\n        // If request was aborted inside a prefiler, stop there\n        if (state === 2) {\n          return false;\n        }\n\n        // We can fire global events as of now if asked to\n        fireGlobals = s.global;\n\n        // Uppercase the type\n        s.type = s.type.toUpperCase();\n\n        // Determine if request has content\n        s.hasContent = !rnoContent.test(s.type);\n\n        // Watch for a new set of requests\n        if (fireGlobals && jQuery.active++ === 0) {\n          jQuery.event.trigger(\"ajaxStart\");\n        }\n\n        // More options handling for requests with no content\n        if (!s.hasContent) {\n\n          // If data is available, append data to url\n          if (s.data) {\n            s.url += ( rquery.test(s.url) ? \"&\" : \"?\" ) + s.data;\n            // #9682: remove data so that it's not used in an eventual retry\n            delete s.data;\n          }\n\n          // Get ifModifiedKey before adding the anti-cache parameter\n          ifModifiedKey = s.url;\n\n          // Add anti-cache in url if needed\n          if (s.cache === false) {\n\n            var ts = jQuery.now(),\n              // try replacing _= if it is there\n              ret = s.url.replace(rts, \"$1_=\" + ts);\n\n            // if nothing was replaced, add timestamp to the end\n            s.url = ret + ( ( ret === s.url ) ? ( rquery.test(s.url) ? \"&\" : \"?\" ) + \"_=\" + ts : \"\" );\n          }\n        }\n\n        // Set the correct header, if data is being sent\n        if (s.data && s.hasContent && s.contentType !== false || options.contentType) {\n          jqXHR.setRequestHeader(\"Content-Type\", s.contentType);\n        }\n\n        // Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n        if (s.ifModified) {\n          ifModifiedKey = ifModifiedKey || s.url;\n          if (jQuery.lastModified[ifModifiedKey]) {\n            jqXHR.setRequestHeader(\"If-Modified-Since\", jQuery.lastModified[ifModifiedKey]);\n          }\n          if (jQuery.etag[ifModifiedKey]) {\n            jqXHR.setRequestHeader(\"If-None-Match\", jQuery.etag[ifModifiedKey]);\n          }\n        }\n\n        // Set the Accepts header for the server, depending on the dataType\n        jqXHR.setRequestHeader(\n          \"Accept\",\n          s.dataTypes[0] && s.accepts[s.dataTypes[0]] ?\n          s.accepts[s.dataTypes[0]] + ( s.dataTypes[0] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n            s.accepts[\"*\"]\n        );\n\n        // Check for headers option\n        for (i in s.headers) {\n          jqXHR.setRequestHeader(i, s.headers[i]);\n        }\n\n        // Allow custom headers/mimetypes and early abort\n        if (s.beforeSend && ( s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2 )) {\n          // Abort if not done already\n          jqXHR.abort();\n          return false;\n\n        }\n\n        // Install callbacks on deferreds\n        for (i in {success: 1, error: 1, complete: 1}) {\n          jqXHR[i](s[i]);\n        }\n\n        // Get transport\n        transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);\n\n        // If no transport, we auto-abort\n        if (!transport) {\n          done(-1, \"No Transport\");\n        } else {\n          jqXHR.readyState = 1;\n          // Send global event\n          if (fireGlobals) {\n            globalEventContext.trigger(\"ajaxSend\", [jqXHR, s]);\n          }\n          // Timeout\n          if (s.async && s.timeout > 0) {\n            timeoutTimer = setTimeout(function () {\n              jqXHR.abort(\"timeout\");\n            }, s.timeout);\n          }\n\n          try {\n            state = 1;\n            transport.send(requestHeaders, done);\n          } catch (e) {\n            // Propagate exception as error if not done\n            if (state < 2) {\n              done(-1, e);\n              // Simply rethrow otherwise\n            } else {\n              throw e;\n            }\n          }\n        }\n\n        return jqXHR;\n      },\n\n      // Serialize an array of form elements or a set of\n      // key/values into a query string\n      param: function (a, traditional) {\n        var s = [],\n          add = function (key, value) {\n            // If value is a function, invoke it and return its value\n            value = jQuery.isFunction(value) ? value() : value;\n            s[s.length] = encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\n          };\n\n        // Set traditional to true for jQuery <= 1.3.2 behavior.\n        if (traditional === undefined) {\n          traditional = jQuery.ajaxSettings.traditional;\n        }\n\n        // If an array was passed in, assume that it is an array of form elements.\n        if (jQuery.isArray(a) || ( a.jquery && !jQuery.isPlainObject(a) )) {\n          // Serialize the form elements\n          jQuery.each(a, function () {\n            add(this.name, this.value);\n          });\n\n        } else {\n          // If traditional, encode the \"old\" way (the way 1.3.2 or older\n          // did it), otherwise encode params recursively.\n          for (var prefix in a) {\n            buildParams(prefix, a[prefix], traditional, add);\n          }\n        }\n\n        // Return the resulting serialization\n        return s.join(\"&\").replace(r20, \"+\");\n      }\n    });\n\n    function buildParams(prefix, obj, traditional, add) {\n      if (jQuery.isArray(obj)) {\n        // Serialize array item.\n        jQuery.each(obj, function (i, v) {\n          if (traditional || rbracket.test(prefix)) {\n            // Treat each array item as a scalar.\n            add(prefix, v);\n\n          } else {\n            // If array item is non-scalar (array or object), encode its\n            // numeric index to resolve deserialization ambiguity issues.\n            // Note that rack (as of 1.0.0) can't currently deserialize\n            // nested arrays properly, and attempting to do so may cause\n            // a server error. Possible fixes are to modify rack's\n            // deserialization algorithm or to provide an option or flag\n            // to force array serialization to be shallow.\n            buildParams(prefix + \"[\" + ( typeof v === \"object\" || jQuery.isArray(v) ? i : \"\" ) + \"]\", v, traditional, add);\n          }\n        });\n\n      } else if (!traditional && obj != null && typeof obj === \"object\") {\n        // Serialize object item.\n        for (var name in obj) {\n          buildParams(prefix + \"[\" + name + \"]\", obj[name], traditional, add);\n        }\n\n      } else {\n        // Serialize scalar item.\n        add(prefix, obj);\n      }\n    }\n\n// This is still on the jQuery object... for now\n// Want to move this to jQuery.ajax some day\n    jQuery.extend({\n\n      // Counter for holding the number of active queries\n      active: 0,\n\n      // Last-Modified header cache for next request\n      lastModified: {},\n      etag: {}\n\n    });\n\n    /* Handles responses to an ajax request:\n     * - sets all responseXXX fields accordingly\n     * - finds the right dataType (mediates between content-type and expected dataType)\n     * - returns the corresponding response\n     */\n    function ajaxHandleResponses(s, jqXHR, responses) {\n\n      var contents = s.contents,\n        dataTypes = s.dataTypes,\n        responseFields = s.responseFields,\n        ct,\n        type,\n        finalDataType,\n        firstDataType;\n\n      // Fill responseXXX fields\n      for (type in responseFields) {\n        if (type in responses) {\n          jqXHR[responseFields[type]] = responses[type];\n        }\n      }\n\n      // Remove auto dataType and get content-type in the process\n      while (dataTypes[0] === \"*\") {\n        dataTypes.shift();\n        if (ct === undefined) {\n          ct = s.mimeType || jqXHR.getResponseHeader(\"content-type\");\n        }\n      }\n\n      // Check if we're dealing with a known content-type\n      if (ct) {\n        for (type in contents) {\n          if (contents[type] && contents[type].test(ct)) {\n            dataTypes.unshift(type);\n            break;\n          }\n        }\n      }\n\n      // Check to see if we have a response for the expected dataType\n      if (dataTypes[0] in responses) {\n        finalDataType = dataTypes[0];\n      } else {\n        // Try convertible dataTypes\n        for (type in responses) {\n          if (!dataTypes[0] || s.converters[type + \" \" + dataTypes[0]]) {\n            finalDataType = type;\n            break;\n          }\n          if (!firstDataType) {\n            firstDataType = type;\n          }\n        }\n        // Or just use first one\n        finalDataType = finalDataType || firstDataType;\n      }\n\n      // If we found a dataType\n      // We add the dataType to the list if needed\n      // and return the corresponding response\n      if (finalDataType) {\n        if (finalDataType !== dataTypes[0]) {\n          dataTypes.unshift(finalDataType);\n        }\n        return responses[finalDataType];\n      }\n    }\n\n// Chain conversions given the request and the original response\n    function ajaxConvert(s, response) {\n\n      // Apply the dataFilter if provided\n      if (s.dataFilter) {\n        response = s.dataFilter(response, s.dataType);\n      }\n\n      var dataTypes = s.dataTypes,\n        converters = {},\n        i,\n        key,\n        length = dataTypes.length,\n        tmp,\n        // Current and previous dataTypes\n        current = dataTypes[0],\n        prev,\n        // Conversion expression\n        conversion,\n        // Conversion function\n        conv,\n        // Conversion functions (transitive conversion)\n        conv1,\n        conv2;\n\n      // For each dataType in the chain\n      for (i = 1; i < length; i++) {\n\n        // Create converters map\n        // with lowercased keys\n        if (i === 1) {\n          for (key in s.converters) {\n            if (typeof key === \"string\") {\n              converters[key.toLowerCase()] = s.converters[key];\n            }\n          }\n        }\n\n        // Get the dataTypes\n        prev = current;\n        current = dataTypes[i];\n\n        // If current is auto dataType, update it to prev\n        if (current === \"*\") {\n          current = prev;\n          // If no auto and dataTypes are actually different\n        } else if (prev !== \"*\" && prev !== current) {\n\n          // Get the converter\n          conversion = prev + \" \" + current;\n          conv = converters[conversion] || converters[\"* \" + current];\n\n          // If there is no direct converter, search transitively\n          if (!conv) {\n            conv2 = undefined;\n            for (conv1 in converters) {\n              tmp = conv1.split(\" \");\n              if (tmp[0] === prev || tmp[0] === \"*\") {\n                conv2 = converters[tmp[1] + \" \" + current];\n                if (conv2) {\n                  conv1 = converters[conv1];\n                  if (conv1 === true) {\n                    conv = conv2;\n                  } else if (conv2 === true) {\n                    conv = conv1;\n                  }\n                  break;\n                }\n              }\n            }\n          }\n          // If we found no converter, dispatch an error\n          if (!( conv || conv2 )) {\n            jQuery.error(\"No conversion from \" + conversion.replace(\" \", \" to \"));\n          }\n          // If found converter is not an equivalence\n          if (conv !== true) {\n            // Convert with 1 or 2 converters accordingly\n            response = conv ? conv(response) : conv2(conv1(response));\n          }\n        }\n      }\n      return response;\n    }\n\n\n    var jsc = jQuery.now(),\n      jsre = /(\\=)\\?(&|$)|\\?\\?/i;\n\n// Default jsonp settings\n    jQuery.ajaxSetup({\n      jsonp: \"callback\",\n      jsonpCallback: function () {\n        return jQuery.expando + \"_\" + ( jsc++ );\n      }\n    });\n\n// Detect, normalize options and install callbacks for jsonp requests\n    jQuery.ajaxPrefilter(\"json jsonp\", function (s, originalSettings, jqXHR) {\n\n      var inspectData = s.contentType === \"application/x-www-form-urlencoded\" &&\n        ( typeof s.data === \"string\" );\n\n      if (s.dataTypes[0] === \"jsonp\" ||\n        s.jsonp !== false && ( jsre.test(s.url) ||\n        inspectData && jsre.test(s.data) )) {\n\n        var responseContainer,\n          jsonpCallback = s.jsonpCallback =\n            jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback,\n          previous = window[jsonpCallback],\n          url = s.url,\n          data = s.data,\n          replace = \"$1\" + jsonpCallback + \"$2\";\n\n        if (s.jsonp !== false) {\n          url = url.replace(jsre, replace);\n          if (s.url === url) {\n            if (inspectData) {\n              data = data.replace(jsre, replace);\n            }\n            if (s.data === data) {\n              // Add callback manually\n              url += (/\\?/.test(url) ? \"&\" : \"?\") + s.jsonp + \"=\" + jsonpCallback;\n            }\n          }\n        }\n\n        s.url = url;\n        s.data = data;\n\n        // Install callback\n        window[jsonpCallback] = function (response) {\n          responseContainer = [response];\n        };\n\n        // Clean-up function\n        jqXHR.always(function () {\n          // Set callback back to previous value\n          window[jsonpCallback] = previous;\n          // Call if it was a function and we have a response\n          if (responseContainer && jQuery.isFunction(previous)) {\n            window[jsonpCallback](responseContainer[0]);\n          }\n        });\n\n        // Use data converter to retrieve json after script execution\n        s.converters[\"script json\"] = function () {\n          if (!responseContainer) {\n            jQuery.error(jsonpCallback + \" was not called\");\n          }\n          return responseContainer[0];\n        };\n\n        // force json dataType\n        s.dataTypes[0] = \"json\";\n\n        // Delegate to script\n        return \"script\";\n      }\n    });\n\n\n// Install script dataType\n    jQuery.ajaxSetup({\n      accepts: {\n        script: \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"\n      },\n      contents: {\n        script: /javascript|ecmascript/\n      },\n      converters: {\n        \"text script\": function (text) {\n          jQuery.globalEval(text);\n          return text;\n        }\n      }\n    });\n\n// Handle cache's special case and global\n    jQuery.ajaxPrefilter(\"script\", function (s) {\n      if (s.cache === undefined) {\n        s.cache = false;\n      }\n      if (s.crossDomain) {\n        s.type = \"GET\";\n        s.global = false;\n      }\n    });\n\n// Bind script tag hack transport\n    jQuery.ajaxTransport(\"script\", function (s) {\n\n      // This transport only deals with cross domain requests\n      if (s.crossDomain) {\n\n        var script,\n          head = document.head || document.getElementsByTagName(\"head\")[0] || document.documentElement;\n\n        return {\n\n          send: function (_, callback) {\n\n            script = document.createElement(\"script\");\n\n            script.async = \"async\";\n\n            if (s.scriptCharset) {\n              script.charset = s.scriptCharset;\n            }\n\n            script.src = s.url;\n\n            // Attach handlers for all browsers\n            script.onload = script.onreadystatechange = function (_, isAbort) {\n\n              if (isAbort || !script.readyState || /loaded|complete/.test(script.readyState)) {\n\n                // Handle memory leak in IE\n                script.onload = script.onreadystatechange = null;\n\n                // Remove the script\n                if (head && script.parentNode) {\n                  head.removeChild(script);\n                }\n\n                // Dereference the script\n                script = undefined;\n\n                // Callback if not abort\n                if (!isAbort) {\n                  callback(200, \"success\");\n                }\n              }\n            };\n            // Use insertBefore instead of appendChild  to circumvent an IE6 bug.\n            // This arises when a base node is used (#2709 and #4378).\n            head.insertBefore(script, head.firstChild);\n          },\n\n          abort: function () {\n            if (script) {\n              script.onload(0, 1);\n            }\n          }\n        };\n      }\n    });\n\n\n    var // #5280: Internet Explorer will keep connections alive if we don't abort on unload\n      xhrOnUnloadAbort = window.ActiveXObject ? function () {\n        // Abort all pending requests\n        for (var key in xhrCallbacks) {\n          xhrCallbacks[key](0, 1);\n        }\n      } : false,\n      xhrId = 0,\n      xhrCallbacks;\n\n// Functions to create xhrs\n    function createStandardXHR() {\n      try {\n        return new window.XMLHttpRequest();\n      } catch (e) {\n      }\n    }\n\n    function createActiveXHR() {\n      try {\n        return new window.ActiveXObject(\"Microsoft.XMLHTTP\");\n      } catch (e) {\n      }\n    }\n\n// Create the request object\n// (This is still attached to ajaxSettings for backward compatibility)\n    jQuery.ajaxSettings.xhr = window.ActiveXObject ?\n      /* Microsoft failed to properly\n       * implement the XMLHttpRequest in IE7 (can't request local files),\n       * so we use the ActiveXObject when it is available\n       * Additionally XMLHttpRequest can be disabled in IE7/IE8 so\n       * we need a fallback.\n       */\n      function () {\n        return !this.isLocal && createStandardXHR() || createActiveXHR();\n      } :\n      // For all other browsers, use the standard XMLHttpRequest object\n      createStandardXHR;\n\n// Determine support properties\n    (function (xhr) {\n      jQuery.extend(jQuery.support, {\n        ajax: !!xhr,\n        cors: !!xhr && ( \"withCredentials\" in xhr )\n      });\n    })(jQuery.ajaxSettings.xhr());\n\n// Create transport if the browser can provide an xhr\n    if (jQuery.support.ajax) {\n\n      jQuery.ajaxTransport(function (s) {\n        // Cross domain only allowed if supported through XMLHttpRequest\n        if (!s.crossDomain || jQuery.support.cors) {\n\n          var callback;\n\n          return {\n            send: function (headers, complete) {\n\n              // Get a new xhr\n              var xhr = s.xhr(),\n                handle,\n                i;\n\n              // Open the socket\n              // Passing null username, generates a login popup on Opera (#2865)\n              if (s.username) {\n                xhr.open(s.type, s.url, s.async, s.username, s.password);\n              } else {\n                xhr.open(s.type, s.url, s.async);\n              }\n\n              // Apply custom fields if provided\n              if (s.xhrFields) {\n                for (i in s.xhrFields) {\n                  xhr[i] = s.xhrFields[i];\n                }\n              }\n\n              // Override mime type if needed\n              if (s.mimeType && xhr.overrideMimeType) {\n                xhr.overrideMimeType(s.mimeType);\n              }\n\n              // X-Requested-With header\n              // For cross-domain requests, seeing as conditions for a preflight are\n              // akin to a jigsaw puzzle, we simply never set it to be sure.\n              // (it can always be set on a per-request basis or even using ajaxSetup)\n              // For same-domain requests, won't change header if already provided.\n              if (!s.crossDomain && !headers[\"X-Requested-With\"]) {\n                headers[\"X-Requested-With\"] = \"XMLHttpRequest\";\n              }\n\n              // Need an extra try/catch for cross domain requests in Firefox 3\n              try {\n                for (i in headers) {\n                  xhr.setRequestHeader(i, headers[i]);\n                }\n              } catch (_) {\n              }\n\n              // Do send the request\n              // This may raise an exception which is actually\n              // handled in jQuery.ajax (so no try/catch here)\n              xhr.send(( s.hasContent && s.data ) || null);\n\n              // Listener\n              callback = function (_, isAbort) {\n\n                var status,\n                  statusText,\n                  responseHeaders,\n                  responses,\n                  xml;\n\n                // Firefox throws exceptions when accessing properties\n                // of an xhr when a network error occured\n                // http://helpful.knobs-dials.com/index.php/Component_returned_failure_code:_0x80040111_(NS_ERROR_NOT_AVAILABLE)\n                try {\n\n                  // Was never called and is aborted or complete\n                  if (callback && ( isAbort || xhr.readyState === 4 )) {\n\n                    // Only called once\n                    callback = undefined;\n\n                    // Do not keep as active anymore\n                    if (handle) {\n                      xhr.onreadystatechange = jQuery.noop;\n                      if (xhrOnUnloadAbort) {\n                        delete xhrCallbacks[handle];\n                      }\n                    }\n\n                    // If it's an abort\n                    if (isAbort) {\n                      // Abort it manually if needed\n                      if (xhr.readyState !== 4) {\n                        xhr.abort();\n                      }\n                    } else {\n                      status = xhr.status;\n                      responseHeaders = xhr.getAllResponseHeaders();\n                      responses = {};\n                      xml = xhr.responseXML;\n\n                      // Construct response list\n                      if (xml && xml.documentElement /* #4958 */) {\n                        responses.xml = xml;\n                      }\n                      responses.text = xhr.responseText;\n\n                      // Firefox throws an exception when accessing\n                      // statusText for faulty cross-domain requests\n                      try {\n                        statusText = xhr.statusText;\n                      } catch (e) {\n                        // We normalize with Webkit giving an empty statusText\n                        statusText = \"\";\n                      }\n\n                      // Filter status for non standard behaviors\n\n                      // If the request is local and we have data: assume a success\n                      // (success with no data won't get notified, that's the best we\n                      // can do given current implementations)\n                      if (!status && s.isLocal && !s.crossDomain) {\n                        status = responses.text ? 200 : 404;\n                        // IE - #1450: sometimes returns 1223 when it should be 204\n                      } else if (status === 1223) {\n                        status = 204;\n                      }\n                    }\n                  }\n                } catch (firefoxAccessException) {\n                  if (!isAbort) {\n                    complete(-1, firefoxAccessException);\n                  }\n                }\n\n                // Call complete if needed\n                if (responses) {\n                  complete(status, statusText, responses, responseHeaders);\n                }\n              };\n\n              // if we're in sync mode or it's in cache\n              // and has been retrieved directly (IE6 & IE7)\n              // we need to manually fire the callback\n              if (!s.async || xhr.readyState === 4) {\n                callback();\n              } else {\n                handle = ++xhrId;\n                if (xhrOnUnloadAbort) {\n                  // Create the active xhrs callbacks list if needed\n                  // and attach the unload handler\n                  if (!xhrCallbacks) {\n                    xhrCallbacks = {};\n                    jQuery(window).unload(xhrOnUnloadAbort);\n                  }\n                  // Add to list of active xhrs callbacks\n                  xhrCallbacks[handle] = callback;\n                }\n                xhr.onreadystatechange = callback;\n              }\n            },\n\n            abort: function () {\n              if (callback) {\n                callback(0, 1);\n              }\n            }\n          };\n        }\n      });\n    }\n\n\n    var elemdisplay = {},\n      iframe, iframeDoc,\n      rfxtypes = /^(?:toggle|show|hide)$/,\n      rfxnum = /^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,\n      timerId,\n      fxAttrs = [\n        // height animations\n        [\"height\", \"marginTop\", \"marginBottom\", \"paddingTop\", \"paddingBottom\"],\n        // width animations\n        [\"width\", \"marginLeft\", \"marginRight\", \"paddingLeft\", \"paddingRight\"],\n        // opacity animations\n        [\"opacity\"]\n      ],\n      fxNow;\n\n    jQuery.fn.extend({\n      show: function (speed, easing, callback) {\n        var elem, display;\n\n        if (speed || speed === 0) {\n          return this.animate(genFx(\"show\", 3), speed, easing, callback);\n\n        } else {\n          for (var i = 0, j = this.length; i < j; i++) {\n            elem = this[i];\n\n            if (elem.style) {\n              display = elem.style.display;\n\n              // Reset the inline display of this element to learn if it is\n              // being hidden by cascaded rules or not\n              if (!jQuery._data(elem, \"olddisplay\") && display === \"none\") {\n                display = elem.style.display = \"\";\n              }\n\n              // Set elements which have been overridden with display: none\n              // in a stylesheet to whatever the default browser style is\n              // for such an element\n              if (display === \"\" && jQuery.css(elem, \"display\") === \"none\") {\n                jQuery._data(elem, \"olddisplay\", defaultDisplay(elem.nodeName));\n              }\n            }\n          }\n\n          // Set the display of most of the elements in a second loop\n          // to avoid the constant reflow\n          for (i = 0; i < j; i++) {\n            elem = this[i];\n\n            if (elem.style) {\n              display = elem.style.display;\n\n              if (display === \"\" || display === \"none\") {\n                elem.style.display = jQuery._data(elem, \"olddisplay\") || \"\";\n              }\n            }\n          }\n\n          return this;\n        }\n      },\n\n      hide: function (speed, easing, callback) {\n        if (speed || speed === 0) {\n          return this.animate(genFx(\"hide\", 3), speed, easing, callback);\n\n        } else {\n          var elem, display,\n            i = 0,\n            j = this.length;\n\n          for (; i < j; i++) {\n            elem = this[i];\n            if (elem.style) {\n              display = jQuery.css(elem, \"display\");\n\n              if (display !== \"none\" && !jQuery._data(elem, \"olddisplay\")) {\n                jQuery._data(elem, \"olddisplay\", display);\n              }\n            }\n          }\n\n          // Set the display of the elements in a second loop\n          // to avoid the constant reflow\n          for (i = 0; i < j; i++) {\n            if (this[i].style) {\n              this[i].style.display = \"none\";\n            }\n          }\n\n          return this;\n        }\n      },\n\n      // Save the old toggle function\n      _toggle: jQuery.fn.toggle,\n\n      toggle: function (fn, fn2, callback) {\n        var bool = typeof fn === \"boolean\";\n\n        if (jQuery.isFunction(fn) && jQuery.isFunction(fn2)) {\n          this._toggle.apply(this, arguments);\n\n        } else if (fn == null || bool) {\n          this.each(function () {\n            var state = bool ? fn : jQuery(this).is(\":hidden\");\n            jQuery(this)[state ? \"show\" : \"hide\"]();\n          });\n\n        } else {\n          this.animate(genFx(\"toggle\", 3), fn, fn2, callback);\n        }\n\n        return this;\n      },\n\n      fadeTo: function (speed, to, easing, callback) {\n        return this.filter(\":hidden\").css(\"opacity\", 0).show().end()\n          .animate({opacity: to}, speed, easing, callback);\n      },\n\n      animate: function (prop, speed, easing, callback) {\n        var optall = jQuery.speed(speed, easing, callback);\n\n        if (jQuery.isEmptyObject(prop)) {\n          return this.each(optall.complete, [false]);\n        }\n\n        // Do not change referenced properties as per-property easing will be lost\n        prop = jQuery.extend({}, prop);\n\n        function doAnimation() {\n          // XXX 'this' does not always have a nodeName when running the\n          // test suite\n\n          if (optall.queue === false) {\n            jQuery._mark(this);\n          }\n\n          var opt = jQuery.extend({}, optall),\n            isElement = this.nodeType === 1,\n            hidden = isElement && jQuery(this).is(\":hidden\"),\n            name, val, p, e,\n            parts, start, end, unit,\n            method;\n\n          // will store per property easing and be used to determine when an animation is complete\n          opt.animatedProperties = {};\n\n          for (p in prop) {\n\n            // property name normalization\n            name = jQuery.camelCase(p);\n            if (p !== name) {\n              prop[name] = prop[p];\n              delete prop[p];\n            }\n\n            val = prop[name];\n\n            // easing resolution: per property > opt.specialEasing > opt.easing > 'swing' (default)\n            if (jQuery.isArray(val)) {\n              opt.animatedProperties[name] = val[1];\n              val = prop[name] = val[0];\n            } else {\n              opt.animatedProperties[name] = opt.specialEasing && opt.specialEasing[name] || opt.easing || 'swing';\n            }\n\n            if (val === \"hide\" && hidden || val === \"show\" && !hidden) {\n              return opt.complete.call(this);\n            }\n\n            if (isElement && ( name === \"height\" || name === \"width\" )) {\n              // Make sure that nothing sneaks out\n              // Record all 3 overflow attributes because IE does not\n              // change the overflow attribute when overflowX and\n              // overflowY are set to the same value\n              opt.overflow = [this.style.overflow, this.style.overflowX, this.style.overflowY];\n\n              // Set display property to inline-block for height/width\n              // animations on inline elements that are having width/height animated\n              if (jQuery.css(this, \"display\") === \"inline\" &&\n                jQuery.css(this, \"float\") === \"none\") {\n\n                // inline-level elements accept inline-block;\n                // block-level elements need to be inline with layout\n                if (!jQuery.support.inlineBlockNeedsLayout || defaultDisplay(this.nodeName) === \"inline\") {\n                  this.style.display = \"inline-block\";\n\n                } else {\n                  this.style.zoom = 1;\n                }\n              }\n            }\n          }\n\n          if (opt.overflow != null) {\n            this.style.overflow = \"hidden\";\n          }\n\n          for (p in prop) {\n            e = new jQuery.fx(this, opt, p);\n            val = prop[p];\n\n            if (rfxtypes.test(val)) {\n\n              // Tracks whether to show or hide based on private\n              // data attached to the element\n              method = jQuery._data(this, \"toggle\" + p) || ( val === \"toggle\" ? hidden ? \"show\" : \"hide\" : 0 );\n              if (method) {\n                jQuery._data(this, \"toggle\" + p, method === \"show\" ? \"hide\" : \"show\");\n                e[method]();\n              } else {\n                e[val]();\n              }\n\n            } else {\n              parts = rfxnum.exec(val);\n              start = e.cur();\n\n              if (parts) {\n                end = parseFloat(parts[2]);\n                unit = parts[3] || ( jQuery.cssNumber[p] ? \"\" : \"px\" );\n\n                // We need to compute starting value\n                if (unit !== \"px\") {\n                  jQuery.style(this, p, (end || 1) + unit);\n                  start = ( (end || 1) / e.cur() ) * start;\n                  jQuery.style(this, p, start + unit);\n                }\n\n                // If a +=/-= token was provided, we're doing a relative animation\n                if (parts[1]) {\n                  end = ( (parts[1] === \"-=\" ? -1 : 1) * end ) + start;\n                }\n\n                e.custom(start, end, unit);\n\n              } else {\n                e.custom(start, val, \"\");\n              }\n            }\n          }\n\n          // For JS strict compliance\n          return true;\n        }\n\n        return optall.queue === false ?\n          this.each(doAnimation) :\n          this.queue(optall.queue, doAnimation);\n      },\n\n      stop: function (type, clearQueue, gotoEnd) {\n        if (typeof type !== \"string\") {\n          gotoEnd = clearQueue;\n          clearQueue = type;\n          type = undefined;\n        }\n        if (clearQueue && type !== false) {\n          this.queue(type || \"fx\", []);\n        }\n\n        return this.each(function () {\n          var index,\n            hadTimers = false,\n            timers = jQuery.timers,\n            data = jQuery._data(this);\n\n          // clear marker counters if we know they won't be\n          if (!gotoEnd) {\n            jQuery._unmark(true, this);\n          }\n\n          function stopQueue(elem, data, index) {\n            var hooks = data[index];\n            jQuery.removeData(elem, index, true);\n            hooks.stop(gotoEnd);\n          }\n\n          if (type == null) {\n            for (index in data) {\n              if (data[index] && data[index].stop && index.indexOf(\".run\") === index.length - 4) {\n                stopQueue(this, data, index);\n              }\n            }\n          } else if (data[index = type + \".run\"] && data[index].stop) {\n            stopQueue(this, data, index);\n          }\n\n          for (index = timers.length; index--;) {\n            if (timers[index].elem === this && (type == null || timers[index].queue === type)) {\n              if (gotoEnd) {\n\n                // force the next step to be the last\n                timers[index](true);\n              } else {\n                timers[index].saveState();\n              }\n              hadTimers = true;\n              timers.splice(index, 1);\n            }\n          }\n\n          // start the next in the queue if the last step wasn't forced\n          // timers currently will call their complete callbacks, which will dequeue\n          // but only if they were gotoEnd\n          if (!( gotoEnd && hadTimers )) {\n            jQuery.dequeue(this, type);\n          }\n        });\n      }\n\n    });\n\n// Animations created synchronously will run synchronously\n    function createFxNow() {\n      setTimeout(clearFxNow, 0);\n      return ( fxNow = jQuery.now() );\n    }\n\n    function clearFxNow() {\n      fxNow = undefined;\n    }\n\n// Generate parameters to create a standard animation\n    function genFx(type, num) {\n      var obj = {};\n\n      jQuery.each(fxAttrs.concat.apply([], fxAttrs.slice(0, num)), function () {\n        obj[this] = type;\n      });\n\n      return obj;\n    }\n\n// Generate shortcuts for custom animations\n    jQuery.each({\n      slideDown: genFx(\"show\", 1),\n      slideUp: genFx(\"hide\", 1),\n      slideToggle: genFx(\"toggle\", 1),\n      fadeIn: {opacity: \"show\"},\n      fadeOut: {opacity: \"hide\"},\n      fadeToggle: {opacity: \"toggle\"}\n    }, function (name, props) {\n      jQuery.fn[name] = function (speed, easing, callback) {\n        return this.animate(props, speed, easing, callback);\n      };\n    });\n\n    jQuery.extend({\n      speed: function (speed, easing, fn) {\n        var opt = speed && typeof speed === \"object\" ? jQuery.extend({}, speed) : {\n          complete: fn || !fn && easing ||\n          jQuery.isFunction(speed) && speed,\n          duration: speed,\n          easing: fn && easing || easing && !jQuery.isFunction(easing) && easing\n        };\n\n        opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\n          opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;\n\n        // normalize opt.queue - true/undefined/null -> \"fx\"\n        if (opt.queue == null || opt.queue === true) {\n          opt.queue = \"fx\";\n        }\n\n        // Queueing\n        opt.old = opt.complete;\n\n        opt.complete = function (noUnmark) {\n          if (jQuery.isFunction(opt.old)) {\n            opt.old.call(this);\n          }\n\n          if (opt.queue) {\n            jQuery.dequeue(this, opt.queue);\n          } else if (noUnmark !== false) {\n            jQuery._unmark(this);\n          }\n        };\n\n        return opt;\n      },\n\n      easing: {\n        linear: function (p, n, firstNum, diff) {\n          return firstNum + diff * p;\n        },\n        swing: function (p, n, firstNum, diff) {\n          return ( ( -Math.cos(p * Math.PI) / 2 ) + 0.5 ) * diff + firstNum;\n        }\n      },\n\n      timers: [],\n\n      fx: function (elem, options, prop) {\n        this.options = options;\n        this.elem = elem;\n        this.prop = prop;\n\n        options.orig = options.orig || {};\n      }\n\n    });\n\n    jQuery.fx.prototype = {\n      // Simple function for setting a style value\n      update: function () {\n        if (this.options.step) {\n          this.options.step.call(this.elem, this.now, this);\n        }\n\n        ( jQuery.fx.step[this.prop] || jQuery.fx.step._default )(this);\n      },\n\n      // Get the current size\n      cur: function () {\n        if (this.elem[this.prop] != null && (!this.elem.style || this.elem.style[this.prop] == null)) {\n          return this.elem[this.prop];\n        }\n\n        var parsed,\n          r = jQuery.css(this.elem, this.prop);\n        // Empty strings, null, undefined and \"auto\" are converted to 0,\n        // complex values such as \"rotate(1rad)\" are returned as is,\n        // simple values such as \"10px\" are parsed to Float.\n        return isNaN(parsed = parseFloat(r)) ? !r || r === \"auto\" ? 0 : r : parsed;\n      },\n\n      // Start an animation from one number to another\n      custom: function (from, to, unit) {\n        var self = this,\n          fx = jQuery.fx;\n\n        this.startTime = fxNow || createFxNow();\n        this.end = to;\n        this.now = this.start = from;\n        this.pos = this.state = 0;\n        this.unit = unit || this.unit || ( jQuery.cssNumber[this.prop] ? \"\" : \"px\" );\n\n        function t(gotoEnd) {\n          return self.step(gotoEnd);\n        }\n\n        t.queue = this.options.queue;\n        t.elem = this.elem;\n        t.saveState = function () {\n          if (self.options.hide && jQuery._data(self.elem, \"fxshow\" + self.prop) === undefined) {\n            jQuery._data(self.elem, \"fxshow\" + self.prop, self.start);\n          }\n        };\n\n        if (t() && jQuery.timers.push(t) && !timerId) {\n          timerId = setInterval(fx.tick, fx.interval);\n        }\n      },\n\n      // Simple 'show' function\n      show: function () {\n        var dataShow = jQuery._data(this.elem, \"fxshow\" + this.prop);\n\n        // Remember where we started, so that we can go back to it later\n        this.options.orig[this.prop] = dataShow || jQuery.style(this.elem, this.prop);\n        this.options.show = true;\n\n        // Begin the animation\n        // Make sure that we start at a small width/height to avoid any flash of content\n        if (dataShow !== undefined) {\n          // This show is picking up where a previous hide or show left off\n          this.custom(this.cur(), dataShow);\n        } else {\n          this.custom(this.prop === \"width\" || this.prop === \"height\" ? 1 : 0, this.cur());\n        }\n\n        // Start by showing the element\n        jQuery(this.elem).show();\n      },\n\n      // Simple 'hide' function\n      hide: function () {\n        // Remember where we started, so that we can go back to it later\n        this.options.orig[this.prop] = jQuery._data(this.elem, \"fxshow\" + this.prop) || jQuery.style(this.elem, this.prop);\n        this.options.hide = true;\n\n        // Begin the animation\n        this.custom(this.cur(), 0);\n      },\n\n      // Each step of an animation\n      step: function (gotoEnd) {\n        var p, n, complete,\n          t = fxNow || createFxNow(),\n          done = true,\n          elem = this.elem,\n          options = this.options;\n\n        if (gotoEnd || t >= options.duration + this.startTime) {\n          this.now = this.end;\n          this.pos = this.state = 1;\n          this.update();\n\n          options.animatedProperties[this.prop] = true;\n\n          for (p in options.animatedProperties) {\n            if (options.animatedProperties[p] !== true) {\n              done = false;\n            }\n          }\n\n          if (done) {\n            // Reset the overflow\n            if (options.overflow != null && !jQuery.support.shrinkWrapBlocks) {\n\n              jQuery.each([\"\", \"X\", \"Y\"], function (index, value) {\n                elem.style[\"overflow\" + value] = options.overflow[index];\n              });\n            }\n\n            // Hide the element if the \"hide\" operation was done\n            if (options.hide) {\n              jQuery(elem).hide();\n            }\n\n            // Reset the properties, if the item has been hidden or shown\n            if (options.hide || options.show) {\n              for (p in options.animatedProperties) {\n                jQuery.style(elem, p, options.orig[p]);\n                jQuery.removeData(elem, \"fxshow\" + p, true);\n                // Toggle data is no longer needed\n                jQuery.removeData(elem, \"toggle\" + p, true);\n              }\n            }\n\n            // Execute the complete function\n            // in the event that the complete function throws an exception\n            // we must ensure it won't be called twice. #5684\n\n            complete = options.complete;\n            if (complete) {\n\n              options.complete = false;\n              complete.call(elem);\n            }\n          }\n\n          return false;\n\n        } else {\n          // classical easing cannot be used with an Infinity duration\n          if (options.duration == Infinity) {\n            this.now = t;\n          } else {\n            n = t - this.startTime;\n            this.state = n / options.duration;\n\n            // Perform the easing function, defaults to swing\n            this.pos = jQuery.easing[options.animatedProperties[this.prop]](this.state, n, 0, 1, options.duration);\n            this.now = this.start + ( (this.end - this.start) * this.pos );\n          }\n          // Perform the next step of the animation\n          this.update();\n        }\n\n        return true;\n      }\n    };\n\n    jQuery.extend(jQuery.fx, {\n      tick: function () {\n        var timer,\n          timers = jQuery.timers,\n          i = 0;\n\n        for (; i < timers.length; i++) {\n          timer = timers[i];\n          // Checks the timer has not already been removed\n          if (!timer() && timers[i] === timer) {\n            timers.splice(i--, 1);\n          }\n        }\n\n        if (!timers.length) {\n          jQuery.fx.stop();\n        }\n      },\n\n      interval: 13,\n\n      stop: function () {\n        clearInterval(timerId);\n        timerId = null;\n      },\n\n      speeds: {\n        slow: 600,\n        fast: 200,\n        // Default speed\n        _default: 400\n      },\n\n      step: {\n        opacity: function (fx) {\n          jQuery.style(fx.elem, \"opacity\", fx.now);\n        },\n\n        _default: function (fx) {\n          if (fx.elem.style && fx.elem.style[fx.prop] != null) {\n            fx.elem.style[fx.prop] = fx.now + fx.unit;\n          } else {\n            fx.elem[fx.prop] = fx.now;\n          }\n        }\n      }\n    });\n\n// Adds width/height step functions\n// Do not set anything below 0\n    jQuery.each([\"width\", \"height\"], function (i, prop) {\n      jQuery.fx.step[prop] = function (fx) {\n        jQuery.style(fx.elem, prop, Math.max(0, fx.now) + fx.unit);\n      };\n    });\n\n    if (jQuery.expr && jQuery.expr.filters) {\n      jQuery.expr.filters.animated = function (elem) {\n        return jQuery.grep(jQuery.timers, function (fn) {\n          return elem === fn.elem;\n        }).length;\n      };\n    }\n\n// Try to restore the default display value of an element\n    function defaultDisplay(nodeName) {\n\n      if (!elemdisplay[nodeName]) {\n\n        var body = document.body,\n          elem = jQuery(\"<\" + nodeName + \">\").appendTo(body),\n          display = elem.css(\"display\");\n        elem.remove();\n\n        // If the simple way fails,\n        // get element's real default display by attaching it to a temp iframe\n        if (display === \"none\" || display === \"\") {\n          // No iframe to use yet, so create it\n          if (!iframe) {\n            iframe = document.createElement(\"iframe\");\n            iframe.frameBorder = iframe.width = iframe.height = 0;\n          }\n\n          body.appendChild(iframe);\n\n          // Create a cacheable copy of the iframe document on first call.\n          // IE and Opera will allow us to reuse the iframeDoc without re-writing the fake HTML\n          // document to it; WebKit & Firefox won't allow reusing the iframe document.\n          if (!iframeDoc || !iframe.createElement) {\n            iframeDoc = ( iframe.contentWindow || iframe.contentDocument ).document;\n            iframeDoc.write(( document.compatMode === \"CSS1Compat\" ? \"<!doctype html>\" : \"\" ) + \"<html><body>\");\n            iframeDoc.close();\n          }\n\n          elem = iframeDoc.createElement(nodeName);\n\n          iframeDoc.body.appendChild(elem);\n\n          display = jQuery.css(elem, \"display\");\n          body.removeChild(iframe);\n        }\n\n        // Store the correct default display\n        elemdisplay[nodeName] = display;\n      }\n\n      return elemdisplay[nodeName];\n    }\n\n\n    var rtable = /^t(?:able|d|h)$/i,\n      rroot = /^(?:body|html)$/i;\n\n    if (\"getBoundingClientRect\" in document.documentElement) {\n      jQuery.fn.offset = function (options) {\n        var elem = this[0], box;\n\n        if (options) {\n          return this.each(function (i) {\n            jQuery.offset.setOffset(this, options, i);\n          });\n        }\n\n        if (!elem || !elem.ownerDocument) {\n          return null;\n        }\n\n        if (elem === elem.ownerDocument.body) {\n          return jQuery.offset.bodyOffset(elem);\n        }\n\n        try {\n          box = elem.getBoundingClientRect();\n        } catch (e) {\n        }\n\n        var doc = elem.ownerDocument,\n          docElem = doc.documentElement;\n\n        // Make sure we're not dealing with a disconnected DOM node\n        if (!box || !jQuery.contains(docElem, elem)) {\n          return box ? {top: box.top, left: box.left} : {top: 0, left: 0};\n        }\n\n        var body = doc.body,\n          win = getWindow(doc),\n          clientTop = docElem.clientTop || body.clientTop || 0,\n          clientLeft = docElem.clientLeft || body.clientLeft || 0,\n          scrollTop = win.pageYOffset || jQuery.support.boxModel && docElem.scrollTop || body.scrollTop,\n          scrollLeft = win.pageXOffset || jQuery.support.boxModel && docElem.scrollLeft || body.scrollLeft,\n          top = box.top + scrollTop - clientTop,\n          left = box.left + scrollLeft - clientLeft;\n\n        return {top: top, left: left};\n      };\n\n    } else {\n      jQuery.fn.offset = function (options) {\n        var elem = this[0];\n\n        if (options) {\n          return this.each(function (i) {\n            jQuery.offset.setOffset(this, options, i);\n          });\n        }\n\n        if (!elem || !elem.ownerDocument) {\n          return null;\n        }\n\n        if (elem === elem.ownerDocument.body) {\n          return jQuery.offset.bodyOffset(elem);\n        }\n\n        var computedStyle,\n          offsetParent = elem.offsetParent,\n          prevOffsetParent = elem,\n          doc = elem.ownerDocument,\n          docElem = doc.documentElement,\n          body = doc.body,\n          defaultView = doc.defaultView,\n          prevComputedStyle = defaultView ? defaultView.getComputedStyle(elem, null) : elem.currentStyle,\n          top = elem.offsetTop,\n          left = elem.offsetLeft;\n\n        while ((elem = elem.parentNode) && elem !== body && elem !== docElem) {\n          if (jQuery.support.fixedPosition && prevComputedStyle.position === \"fixed\") {\n            break;\n          }\n\n          computedStyle = defaultView ? defaultView.getComputedStyle(elem, null) : elem.currentStyle;\n          top -= elem.scrollTop;\n          left -= elem.scrollLeft;\n\n          if (elem === offsetParent) {\n            top += elem.offsetTop;\n            left += elem.offsetLeft;\n\n            if (jQuery.support.doesNotAddBorder && !(jQuery.support.doesAddBorderForTableAndCells && rtable.test(elem.nodeName))) {\n              top += parseFloat(computedStyle.borderTopWidth) || 0;\n              left += parseFloat(computedStyle.borderLeftWidth) || 0;\n            }\n\n            prevOffsetParent = offsetParent;\n            offsetParent = elem.offsetParent;\n          }\n\n          if (jQuery.support.subtractsBorderForOverflowNotVisible && computedStyle.overflow !== \"visible\") {\n            top += parseFloat(computedStyle.borderTopWidth) || 0;\n            left += parseFloat(computedStyle.borderLeftWidth) || 0;\n          }\n\n          prevComputedStyle = computedStyle;\n        }\n\n        if (prevComputedStyle.position === \"relative\" || prevComputedStyle.position === \"static\") {\n          top += body.offsetTop;\n          left += body.offsetLeft;\n        }\n\n        if (jQuery.support.fixedPosition && prevComputedStyle.position === \"fixed\") {\n          top += Math.max(docElem.scrollTop, body.scrollTop);\n          left += Math.max(docElem.scrollLeft, body.scrollLeft);\n        }\n\n        return {top: top, left: left};\n      };\n    }\n\n    jQuery.offset = {\n\n      bodyOffset: function (body) {\n        var top = body.offsetTop,\n          left = body.offsetLeft;\n\n        if (jQuery.support.doesNotIncludeMarginInBodyOffset) {\n          top += parseFloat(jQuery.css(body, \"marginTop\")) || 0;\n          left += parseFloat(jQuery.css(body, \"marginLeft\")) || 0;\n        }\n\n        return {top: top, left: left};\n      },\n\n      setOffset: function (elem, options, i) {\n        var position = jQuery.css(elem, \"position\");\n\n        // set position first, in-case top/left are set even on static elem\n        if (position === \"static\") {\n          elem.style.position = \"relative\";\n        }\n\n        var curElem = jQuery(elem),\n          curOffset = curElem.offset(),\n          curCSSTop = jQuery.css(elem, \"top\"),\n          curCSSLeft = jQuery.css(elem, \"left\"),\n          calculatePosition = ( position === \"absolute\" || position === \"fixed\" ) && jQuery.inArray(\"auto\", [curCSSTop, curCSSLeft]) > -1,\n          props = {}, curPosition = {}, curTop, curLeft;\n\n        // need to be able to calculate position if either top or left is auto and position is either absolute or fixed\n        if (calculatePosition) {\n          curPosition = curElem.position();\n          curTop = curPosition.top;\n          curLeft = curPosition.left;\n        } else {\n          curTop = parseFloat(curCSSTop) || 0;\n          curLeft = parseFloat(curCSSLeft) || 0;\n        }\n\n        if (jQuery.isFunction(options)) {\n          options = options.call(elem, i, curOffset);\n        }\n\n        if (options.top != null) {\n          props.top = ( options.top - curOffset.top ) + curTop;\n        }\n        if (options.left != null) {\n          props.left = ( options.left - curOffset.left ) + curLeft;\n        }\n\n        if (\"using\" in options) {\n          options.using.call(elem, props);\n        } else {\n          curElem.css(props);\n        }\n      }\n    };\n\n\n    jQuery.fn.extend({\n\n      position: function () {\n        if (!this[0]) {\n          return null;\n        }\n\n        var elem = this[0],\n\n          // Get *real* offsetParent\n          offsetParent = this.offsetParent(),\n\n          // Get correct offsets\n          offset = this.offset(),\n          parentOffset = rroot.test(offsetParent[0].nodeName) ? {top: 0, left: 0} : offsetParent.offset();\n\n        // Subtract element margins\n        // note: when an element has margin: auto the offsetLeft and marginLeft\n        // are the same in Safari causing offset.left to incorrectly be 0\n        offset.top -= parseFloat(jQuery.css(elem, \"marginTop\")) || 0;\n        offset.left -= parseFloat(jQuery.css(elem, \"marginLeft\")) || 0;\n\n        // Add offsetParent borders\n        parentOffset.top += parseFloat(jQuery.css(offsetParent[0], \"borderTopWidth\")) || 0;\n        parentOffset.left += parseFloat(jQuery.css(offsetParent[0], \"borderLeftWidth\")) || 0;\n\n        // Subtract the two offsets\n        return {\n          top: offset.top - parentOffset.top,\n          left: offset.left - parentOffset.left\n        };\n      },\n\n      offsetParent: function () {\n        return this.map(function () {\n          var offsetParent = this.offsetParent || document.body;\n          while (offsetParent && (!rroot.test(offsetParent.nodeName) && jQuery.css(offsetParent, \"position\") === \"static\")) {\n            offsetParent = offsetParent.offsetParent;\n          }\n          return offsetParent;\n        });\n      }\n    });\n\n\n// Create scrollLeft and scrollTop methods\n    jQuery.each([\"Left\", \"Top\"], function (i, name) {\n      var method = \"scroll\" + name;\n\n      jQuery.fn[method] = function (val) {\n        var elem, win;\n\n        if (val === undefined) {\n          elem = this[0];\n\n          if (!elem) {\n            return null;\n          }\n\n          win = getWindow(elem);\n\n          // Return the scroll offset\n          return win ? (\"pageXOffset\" in win) ? win[i ? \"pageYOffset\" : \"pageXOffset\"] :\n          jQuery.support.boxModel && win.document.documentElement[method] ||\n          win.document.body[method] :\n            elem[method];\n        }\n\n        // Set the scroll offset\n        return this.each(function () {\n          win = getWindow(this);\n\n          if (win) {\n            win.scrollTo(\n              !i ? val : jQuery(win).scrollLeft(),\n              i ? val : jQuery(win).scrollTop()\n            );\n\n          } else {\n            this[method] = val;\n          }\n        });\n      };\n    });\n\n    function getWindow(elem) {\n      return jQuery.isWindow(elem) ?\n        elem :\n        elem.nodeType === 9 ?\n        elem.defaultView || elem.parentWindow :\n          false;\n    }\n\n\n// Create width, height, innerHeight, innerWidth, outerHeight and outerWidth methods\n    jQuery.each([\"Height\", \"Width\"], function (i, name) {\n\n      var type = name.toLowerCase();\n\n      // innerHeight and innerWidth\n      jQuery.fn[\"inner\" + name] = function () {\n        var elem = this[0];\n        return elem ?\n          elem.style ?\n            parseFloat(jQuery.css(elem, type, \"padding\")) :\n            this[type]() :\n          null;\n      };\n\n      // outerHeight and outerWidth\n      jQuery.fn[\"outer\" + name] = function (margin) {\n        var elem = this[0];\n        return elem ?\n          elem.style ?\n            parseFloat(jQuery.css(elem, type, margin ? \"margin\" : \"border\")) :\n            this[type]() :\n          null;\n      };\n\n      jQuery.fn[type] = function (size) {\n        // Get window width or height\n        var elem = this[0];\n        if (!elem) {\n          return size == null ? null : this;\n        }\n\n        if (jQuery.isFunction(size)) {\n          return this.each(function (i) {\n            var self = jQuery(this);\n            self[type](size.call(this, i, self[type]()));\n          });\n        }\n\n        if (jQuery.isWindow(elem)) {\n          // Everyone else use document.documentElement or document.body depending on Quirks vs Standards mode\n          // 3rd condition allows Nokia support, as it supports the docElem prop but not CSS1Compat\n          var docElemProp = elem.document.documentElement[\"client\" + name],\n            body = elem.document.body;\n          return elem.document.compatMode === \"CSS1Compat\" && docElemProp ||\n            body && body[\"client\" + name] || docElemProp;\n\n          // Get document width or height\n        } else if (elem.nodeType === 9) {\n          // Either scroll[Width/Height] or offset[Width/Height], whichever is greater\n          return Math.max(\n            elem.documentElement[\"client\" + name],\n            elem.body[\"scroll\" + name], elem.documentElement[\"scroll\" + name],\n            elem.body[\"offset\" + name], elem.documentElement[\"offset\" + name]\n          );\n\n          // Get or set width or height on the element\n        } else if (size === undefined) {\n          var orig = jQuery.css(elem, type),\n            ret = parseFloat(orig);\n\n          return jQuery.isNumeric(ret) ? ret : orig;\n\n          // Set the width or height on the element (default to pixels if value is unitless)\n        } else {\n          return this.css(type, typeof size === \"string\" ? size : size + \"px\");\n        }\n      };\n\n    });\n\n\n// Expose jQuery to the global object\n    window.jQuery = window.$ = jQuery;\n\n// Expose jQuery as an AMD module, but only for AMD loaders that\n// understand the issues with loading multiple versions of jQuery\n// in a page that all might call define(). The loader will indicate\n// they have special allowances for multiple jQuery versions by\n// specifying define.amd.jQuery = true. Register as a named module,\n// since jQuery can be concatenated with other files that may use define,\n// but not use a proper concatenation script that understands anonymous\n// AMD modules. A named AMD is safest and most robust way to register.\n// Lowercase jquery is used because AMD module names are derived from\n// file names, and jQuery is normally delivered in a lowercase file name.\n// Do this after creating the global so that if an AMD module wants to call\n// noConflict to hide this version of jQuery, it will work.\n    if (typeof define === \"function\" && define.amd && define.amd.jQuery) {\n      define(\"jquery\", [], function () {\n        return jQuery;\n      });\n    }\n\n\n  })(window);\n\n  module.exports = jQuery;\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/datavjs/deps/jquery-1.7.1.js\n **/","/**\n * Created by Doma on 15/12/3.\n */\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n  {\n    mod(require(\"./codemirror/lib/codemirror\"));\n  } else if (typeof define == \"function\" && define.amd) // AMD\n  {\n    define([\"./codemirror/lib/codemirror\"], mod);\n  } else // Plain browser env\n  {\n    mod(CodeMirror);\n  }\n})(function (CodeMirror) {\n  \"use strict\";\n\n  Array.prototype.has = function (ele) {\n    return this.indexOf(ele) != -1\n  }\n  Array.prototype.rear = function () {\n    if (this.length) {\n      return this[this.length - 1]\n    }\n  }\n\n  CodeMirror.defineMode(\"toy\", function (config, parserConfig) {\n    var indentUnit = config.indentUnit;\n    var wordReg = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n    var keywordReg = /\\b(int|real|if|else|then|while)\\b/;\n\n    var intReg = /^[0-9]+$/;\n    var realReg = /^([0-9]+(E|e)?[0-9]+)|([0-9]+\\.[0-9]+)|([0-9]+\\.[0-9]+(E|e)(\\+|\\-)?[0-9]+)$/;\n    var numReg = /^\\d+(\\.\\d+)?(e(\\+|\\-)?\\d+)?(f|d)?|0x[\\da-f]+$/;\n    var operatorReg = /^(\\+|\\-|\\*|\\/|>=?|<=?|==?)$/;\n\n\n    function tokenize(stream, state) {\n      var char = stream.next();\n\n      if (operatorReg.test(char)) {\n\n        stream.eatWhile(/^[*+\\-<>!=\\/]/);\n        if (/^\\/\\//.test(stream.current())) {\n          stream.skipToEnd();\n          return \"comment\";\n        }\n        return \"operator\";\n      }\n      else if (/\\d/.test(char)) {\n        stream.match(/^[0-9]*\\.?[0-9]+([eE][-+]?[0-9]+)?/);\n        return \"number\";\n      } else if (wordReg.test(char)) {\n        stream.eatWhile(wordReg);\n        if (keywordReg.test(stream.current())) {\n          return \"keyword\";\n        } else {\n          return \"variable\";\n        }\n      }\n      return null;\n    }\n\n    return {\n      startState: function () {\n        return {\n          indentStack: []\n        };\n      },\n      token: function (stream, state) {\n        if (stream.eatSpace()) {\n          return null;\n        }\n        var style = tokenize(stream, state);\n        var type = stream.current();\n        if ([\"{\", \"then\", \"else\"].has(type)) {\n          if (type == \"{\" && state.indentStack.rear() != \"{\") {\n            state.indentStack.pop();\n          }\n          state.indentStack.push(type);\n        } else if (\"}\" === type) {\n          if (state.indentStack.rear() == \"{\") {\n            state.indentStack.pop();\n          }\n        } else if (\";\" === type) {\n          if ([\"else\", \"then\"].has(state.indentStack.rear())) {\n            state.indentStack.pop();\n          }\n        }\n        return style;\n      },\n      indent: function (state, textAfter) {\n        var ch = textAfter && textAfter.charAt(0);\n        if (ch == \"}\") {\n          if (state.indentStack.rear() == \"{\") {\n            state.indentStack.pop();\n          }\n        }\n        return state.indentStack.length * indentUnit;\n      },\n      electricInput: /^\\s*(?:\\{|})$/\n    };\n  });\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/libs/toy.js\n **/","/**\n * Created by Doma on 2016/10/27.\n */\nimport {remove, rear, hasThose} from '../../helpers/ArrayHelper'\nimport EditorTab from '../../models/EditorTab'\n\nexport default {\n  state: {\n    tabs: [],\n    currentTab: null,\n    compilee: null\n  },\n  getters: {\n    currentCursorPos(state) {\n      if (state.currentTab) {\n        return state.currentTab.cursorPosition\n      }\n    },\n    unsavedTabs(state) {\n      return state.tabs.filter(tab => tab.unsaved)\n    },\n    editorNeedSave(state, getters) {\n      return !!getters.unsavedTabs.length\n    }\n  },\n  mutations: {\n    openTab(state, tab) {\n      state.tabs.push(tab)\n    },\n    closeTab(state, tab) {\n      remove(state.tabs, tab)\n    },\n    setCurrentTab(state, tab) {\n      state.currentTab = tab\n    },\n    setCompilee(state, file) {\n      state.compilee = file\n    }\n  },\n  actions: {\n    openFile({commit, state}, file) {\n      let opened = state.tabs.filter(tab => tab.file == file)\n      if (opened.length) {\n        commit('setCurrentTab', opened[0])\n      } else {\n        let newTab = new EditorTab(file)\n        commit('openTab', newTab)\n        commit('setCurrentTab', newTab)\n      }\n    },\n    switchTab({commit}, tab) {\n      commit('setCurrentTab', tab)\n    },\n    closeTab({commit, state}, tab) {\n      commit('closeTab', tab)\n      commit('setCurrentTab', rear(state.tabs))\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store/modules/editor.js\n **/","import getStorage from '../../helpers/storage'\n\nlet Storage = window.Storage = getStorage(window.localStorage)\nimport File from '../../models/File'\n\nlet fileMap = {}\n\nlet addFile = file => {\n  fileMap[file.fileName] = file;\n}\n\n\nlet load = function () {\n  var storedFileNames = JSON.parse(Storage.getItem(\"stored-files\") || \"[]\");\n  for (var i = 0, len = storedFileNames.length; i < len; i++) {\n    var item = Storage.getItem(storedFileNames[i]);\n\n    if (item) {\n      var fileInfo = JSON.parse(item);\n      let file = new File(fileInfo.name, fileInfo.content, false)\n      addFile(file)\n    }\n  }\n  if (!storedFileNames.length) {\n    addFile(File.example());\n  }\n};\nconst saveFile = function (file) {\n  // if (file.isNew()) {\n  //   self.files.push(cached.pop());\n  //   file.isNew(false);\n  // }\n  Storage.setItem(file.fileName, file.serialize());\n  file.isNew = false\n};\nload()\n\nimport {set} from 'vue'\n\nexport default  {\n  state: {\n    fileMap: fileMap,\n    cached: []\n  },\n  getters: {\n    fileList(state) {\n      return Object.keys(state.fileMap).map(name => state.fileMap[name])\n    }\n  },\n  mutations: {\n    newFile(state, file) {\n      state.cached.push(file)\n    },\n    addFile(state, file) {\n      set(state.fileMap, file.fileName, file)\n    }\n  },\n  actions: {\n    createNewFile({commit}) {\n      let file = new File()\n      commit('newFile', file)\n    },\n    cacheFile({commit}, file) {\n      commit('addFile', file)\n    },\n    saveFilesToStorage({getters}) {\n      let storedFiles = [];\n      for (let i = 0, files = getters.fileList, len = files.length; i < len; i++) {\n        saveFile(files[i]);\n        storedFiles[storedFiles.length] = files[i].fileName;\n      }\n      Storage.setItem(\"stored-files\", JSON.stringify(storedFiles));\n    }\n  }\n}\nfunction FileManager() {\n  var self = this;\n  self.files = ko.observableArray([]);\n  var cached = [];\n  self.newFile = function () {\n    var file = new File();\n    cached.push(file);\n    return file;\n  };\n\n  /**\n   * @param {string} fileName\n   * @returns {*}\n   */\n  self.findFile = function (fileName) {\n    for (var i = 0, files = self.files(), len = files.length; i < len; i++) {\n      if (files[i].fileName() == fileName) {\n        return files[i];\n      }\n    }\n  };\n\n  self.saveFile = function (file) {\n    if (file.isNew()) {\n      self.files.push(cached.pop());\n      file.isNew(false);\n    }\n    Storage.setItem(file.fileName(), file.serialize());\n  };\n  self.deleteFile = function (file) {\n    self.files.remove(file);\n    Storage.removeItem(file.fileName());\n  };\n\n  self.load = function () {\n    var storedFileNames = JSON.parse(Storage.getItem(\"stored-files\") || \"[]\");\n    for (var i = 0, len = storedFileNames.length; i < len; i++) {\n      var item = Storage.getItem(storedFileNames[i]);\n\n      if (item) {\n        var fileInfo = JSON.parse(item);\n        self.files.push(new File(fileInfo.name, fileInfo.content, false));\n      }\n    }\n    if (!self.files().length) {\n      self.files.push(File.example());\n    }\n  };\n  self.save = function () {\n    var storedFiles = [];\n    for (var i = 0, files = self.files(), len = files.length; i < len; i++) {\n      self.saveFile(files[i]);\n      storedFiles[storedFiles.length] = files[i].fileName();\n    }\n    Storage.setItem(\"stored-files\", JSON.stringify(storedFiles));\n  };\n  self.load();\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/store/modules/fileManager.js\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-c9051204!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-c9051204!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"App\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 122\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-65b83951!vue-loader/lib/selector?type=styles&index=0!./Console.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Console.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-65b83951!vue-loader/lib/selector?type=template&index=0!./Console.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"Console\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Console.vue\n ** module id = 123\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Editor.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-36860c63!vue-loader/lib/selector?type=template&index=0!./Editor.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"Editor\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Editor.vue\n ** module id = 124\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-b0b080c0!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./Layout.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Layout.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-b0b080c0!vue-loader/lib/selector?type=template&index=0!./Layout.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"Layout\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Layout.vue\n ** module id = 125\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ParseTree.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-61c5b76b!vue-loader/lib/selector?type=template&index=0!./ParseTree.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"ParseTree\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ParseTree.vue\n ** module id = 126\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./SymbolTable.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-ceec9ee0!vue-loader/lib/selector?type=template&index=0!./SymbolTable.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"SymbolTable\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/SymbolTable.vue\n ** module id = 127\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-b1047556!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./ToolBar.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./ToolBar.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-b1047556!vue-loader/lib/selector?type=template&index=0!./ToolBar.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"ToolBar\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/ToolBar.vue\n ** module id = 128\n ** module chunks = 2\n **/","var __vue_exports__, __vue_options__\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-bb1c7de2!less-loader?sourceMap!vue-loader/lib/selector?type=styles&index=0!./Workspace.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Workspace.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-bb1c7de2!vue-loader/lib/selector?type=template&index=0!./Workspace.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n__vue_options__.name = __vue_options__.name || \"Workspace\"\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/Workspace.vue\n ** module id = 129\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"editor-box\",\n    on: {\n      \"click\": function($event) {\n        $emit('click')\n      }\n    }\n  }, [_h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!editorState.tabs.length),\n      expression: \"!editorState.tabs.length\"\n    }],\n    staticClass: \"editor-placeholder\"\n  }, [\"\\n    Choose a file from workspace or \", _h('a', {\n    attrs: {\n      \"id\": \"cover-open\"\n    },\n    on: {\n      \"click\": openNewFile\n    }\n  }, [\"create a new file\"])]), \" \", _h('div', {\n    staticClass: \"tab-bar\"\n  }, [(editorState.compilee) ? _h('div', {\n    staticClass: \"tab-bar-cover\"\n  }, [_h('span', {\n    attrs: {\n      \"id\": \"compiling-filename\"\n    }\n  }, [_s(editorState.compilee.fileName)])]) : _e(), \" \", _h('button', {\n    staticClass: \"tab-new\",\n    on: {\n      \"click\": openNewFile\n    }\n  }, [\"+\"]), \" \", _h('div', {\n    staticClass: \"tab-row\"\n  }, [_h('div', {\n    staticClass: \"tab-group\"\n  }, [_l((editorState.tabs), function(tab) {\n    return _h('div', {\n      staticClass: \"tab-cell\",\n      class: {\n        active: currentTab == tab\n      },\n      on: {\n        \"click\": function($event) {\n          switchTab(tab)\n        }\n      }\n    }, [_h('a', [_h('span', [_s(tab.file.fileName)]), \" \", _h('span', {\n      staticClass: \"tab-dismiss\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n          closeTab(tab)\n        }\n      }\n    }, [\"\"])])])\n  })])])]), \" \", _h('div', {\n    staticClass: \"editor-container\"\n  }, [_h('textarea', {\n    ref: \"textarea\",\n    attrs: {\n      \"id\": \"editor\"\n    }\n  })])])\n}},staticRenderFns: []}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-36860c63!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Editor.vue\n ** module id = 130\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"tree-box resizable\",\n    style: ({\n      width: width + 'px'\n    }),\n    on: {\n      \"click\": function($event) {\n        $emit('click')\n      }\n    }\n  }, [_h('resizer', {\n    attrs: {\n      \"type\": \"vertical\"\n    },\n    on: {\n      \"resizer:begin\": onResizeBegin,\n      \"resizer:resize\": onResize\n    }\n  }), \" \", _h('div', {\n    staticClass: \"box-header\"\n  }, [_h('div', {\n    staticClass: \"box-title\"\n  }, [_s(showAssembly ? 'Assembly' : 'Syntax Tree')]), \" \", _h('span', {\n    staticClass: \"box-caret glyphicon glyphicon-menu-right\",\n    on: {\n      \"click\": function($event) {\n        $emit('parse-tree:close')\n      }\n    }\n  })]), \" \", _h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!showAssembly),\n      expression: \"!showAssembly\"\n    }],\n    ref: \"boxBody\",\n    staticClass: \"box-body\",\n    attrs: {\n      \"id\": \"tree-pane\"\n    }\n  }, [_m(0)]), \" \", _h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (showAssembly),\n      expression: \"showAssembly\"\n    }],\n    staticClass: \"box-body\",\n    attrs: {\n      \"id\": \"assembly-pane\"\n    }\n  }, [_m(1), \" \", _h('textarea', {\n    ref: \"textarea\",\n    attrs: {\n      \"id\": \"assembly\"\n    }\n  })])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"placeholder\"\n  }, [\"Nothing to show\"])\n}},function (){with(this) {\n  return _h('div', {\n    attrs: {\n      \"style\": \"float: left;height: 100%;width: 18px;background: rgb(60, 63, 65)\"\n    }\n  })\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-61c5b76b!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ParseTree.vue\n ** module id = 131\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"bottom-box resizable\",\n    style: ({\n      height: height + 'px'\n    }),\n    on: {\n      \"click\": function($event) {\n        $emit('click')\n      }\n    }\n  }, [_h('resizer', {\n    attrs: {\n      \"type\": \"horizontal\"\n    },\n    on: {\n      \"resizer:begin\": onResizeBegin,\n      \"resizer:resize\": onResize\n    }\n  }), \" \", _h('div', {\n    staticClass: \"box-header\"\n  }, [_m(0), \" \", _h('span', {\n    staticClass: \"box-caret glyphicon glyphicon-menu-down\",\n    on: {\n      \"click\": function($event) {\n        $emit('console:close')\n      }\n    }\n  })]), \" \", _h('div', {\n    staticClass: \"console-container\"\n  }, [_m(1), \" \", _h('textarea', {\n    ref: \"textarea\",\n    attrs: {\n      \"id\": \"console\"\n    }\n  })])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"box-title\"\n  }, [\"Output\"])\n}},function (){with(this) {\n  return _h('div', {\n    staticClass: \"console-seal\"\n  })\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-65b83951!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Console.vue\n ** module id = 132\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"layout\",\n    attrs: {\n      \"id\": \"main\"\n    }\n  }, [_h('div', {\n    staticClass: \"upper-box\",\n    style: (upperStyleObj)\n  }, [_h('div', {\n    staticClass: \"center-box\"\n  }, [_h('div', {\n    staticClass: \"center-box-inner\",\n    style: (centerStyleObj)\n  }, [_h('parse-tree', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (parseTree.open),\n      expression: \"parseTree.open\"\n    }],\n    class: {\n      'active-box': currentActiveBox == 'parseTree'\n    },\n    attrs: {\n      \"width\": parseTreeWidth\n    },\n    on: {\n      \"parse-tree:resize\": onParseTreeResize,\n      \"parse-tree:close\": onParseTreeClose,\n      \"click\": function($event) {\n        currentActiveBox = 'parseTree'\n      }\n    }\n  }), \" \", _h('editor', {\n    style: ({\n      width: editorWidth + 'px'\n    }),\n    on: {\n      \"click\": function($event) {\n        currentActiveBox = 'editor'\n      }\n    }\n  })])]), \" \", _h('workspace', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (workspace.open),\n      expression: \"workspace.open\"\n    }],\n    class: {\n      'active-box': currentActiveBox == 'workspace'\n    },\n    style: (leftStyleObj),\n    attrs: {\n      \"width\": workspaceWidth\n    },\n    on: {\n      \"workspace:resize\": onWorkspaceResize,\n      \"workspace:close\": onWorkspaceClose,\n      \"click\": function($event) {\n        currentActiveBox = 'workspace'\n      }\n    }\n  }), \" \", _h('symbol-table', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (symbolTable.open),\n      expression: \"symbolTable.open\"\n    }],\n    class: {\n      'active-box': currentActiveBox == 'symbolTable'\n    },\n    style: (rightStyleObj),\n    attrs: {\n      \"width\": symbolTableWidth\n    },\n    on: {\n      \"symbol-table:resize\": onSymbolTableResize,\n      \"symbol-table:close\": onSymbolTableClose,\n      \"click\": function($event) {\n        currentActiveBox = 'symbolTable'\n      }\n    }\n  })]), \" \", _h('console', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (console.open),\n      expression: \"console.open\"\n    }],\n    class: {\n      'active-box': currentActiveBox == 'console'\n    },\n    attrs: {\n      \"height\": consoleHeight\n    },\n    on: {\n      \"console:close\": onConsoleClose,\n      \"console:resize\": onConsoleResize,\n      \"click\": function($event) {\n        currentActiveBox = 'console'\n      }\n    }\n  })])\n}},staticRenderFns: []}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-b0b080c0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Layout.vue\n ** module id = 133\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('nav', {\n    staticClass: \"tool-bar navbar navbar-inverse navbar-fixed-top\",\n    attrs: {\n      \"style\": \"margin-bottom: 0\"\n    }\n  }, [_h('div', {\n    staticClass: \"container-fluid\",\n    attrs: {\n      \"style\": \"padding-right: 15px\"\n    }\n  }, [_m(0), \" \", _h('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (ui.mode == 'edit'),\n      expression: \"ui.mode == 'edit'\"\n    }],\n    staticClass: \"nav navbar-nav navbar-right\",\n    attrs: {\n      \"id\": \"editing-btn-group\",\n      \"data-bind\": \"with: controls\"\n    }\n  }, [_h('li', [_h('button', {\n    staticClass: \"btn navbar-btn-o\",\n    class: {\n      unsaved: editorNeedSave\n    },\n    attrs: {\n      \"id\": \"btn-save\"\n    },\n    on: {\n      \"click\": save\n    }\n  }, [_m(1), \" Save\\n        \"])]), \" \", _h('li', [_h('button', {\n    staticClass: \"btn navbar-btn\",\n    attrs: {\n      \"id\": \"btn-tidy\"\n    },\n    on: {\n      \"click\": tidy\n    }\n  }, [_m(2), \" Tidy\\n        \"])]), \" \", _m(3), \" \", _h('li', [_h('button', {\n    staticClass: \"btn navbar-btn\",\n    attrs: {\n      \"id\": \"btn-compile\"\n    },\n    on: {\n      \"click\": compile\n    }\n  }, [_m(4), \" Compile\\n        \"])])]), \" \", _h('ul', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (ui.mode == 'compile'),\n      expression: \"ui.mode == 'compile'\"\n    }],\n    staticClass: \"nav navbar-nav navbar-right\",\n    attrs: {\n      \"id\": \"compiling-btn-group\",\n      \"style\": \"margin-right: -15px\",\n      \"data-bind\": \"with: controls\"\n    }\n  }, [_h('li', [_h('button', {\n    staticClass: \"btn navbar-btn-o\",\n    attrs: {\n      \"id\": \"btn-stop\"\n    },\n    on: {\n      \"click\": stop\n    }\n  }, [_m(5), \" Stop\\n        \"])]), \" \", _h('li', [_h('button', {\n    staticClass: \"btn navbar-btn\",\n    attrs: {\n      \"id\": \"btn-next\"\n    },\n    on: {\n      \"click\": next\n    }\n  }, [_m(6), \" Next\\n        \"])]), \" \", _h('li', [_h('button', {\n    staticClass: \"btn navbar-btn\",\n    attrs: {\n      \"id\": \"btn-ff\"\n    },\n    on: {\n      \"click\": ff\n    }\n  }, [_m(7), \" Fast Forward\\n        \"])])])])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"navbar-header\"\n  }, [_h('div', {\n    staticClass: \"navbar-brand\"\n  }, [_h('span', {\n    staticClass: \"glyphicon glyphicon-console\"\n  }), \"\\n        Compiler\\n      \"])])\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-floppy-disk\"\n  })\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-flash\"\n  })\n}},function (){with(this) {\n  return _h('li', [_h('button', {\n    staticClass: \"btn navbar-btn\",\n    attrs: {\n      \"id\": \"btn-import\",\n      \"data-bind\": \"click: importFile\"\n    }\n  }, [_h('span', {\n    staticClass: \"glyphicon glyphicon-import\"\n  }), \" Import\\n        \"])])\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-download-alt\"\n  })\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-stop\"\n  })\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-share-alt\"\n  })\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-fast-forward\"\n  })\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-b1047556!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/ToolBar.vue\n ** module id = 134\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"resizer\",\n    class: [type, {\n      resizing: resizing\n    }],\n    on: {\n      \"mousedown\": onMouseDown,\n      \"mousemove\": onMouseMove,\n      \"mouseleave\": onMouseUp,\n      \"mouseup\": onMouseUp\n    }\n  })\n}},staticRenderFns: []}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-b516fa90!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Resizer.vue\n ** module id = 135\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"left-box resizable\",\n    style: ({\n      width: width + 'px'\n    }),\n    attrs: {\n      \"id\": \"workspace\"\n    },\n    on: {\n      \"click\": function($event) {\n        $emit('click')\n      }\n    }\n  }, [_h('resizer', {\n    attrs: {\n      \"type\": \"vertical\"\n    },\n    on: {\n      \"resizer:begin\": onResizeBegin,\n      \"resizer:resize\": onResize\n    }\n  }), \" \", _h('div', {\n    staticClass: \"box-header\"\n  }, [_m(0), \" \", _h('span', {\n    staticClass: \"box-caret glyphicon glyphicon-menu-left\",\n    on: {\n      \"click\": function($event) {\n        $emit('workspace:close')\n      }\n    }\n  })]), \" \", _h('div', {\n    staticClass: \"box-body\"\n  }, [_h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!files.length),\n      expression: \"!files.length\"\n    }],\n    staticClass: \"placeholder\"\n  }, [\"Nothing to show\"]), \" \", _h('ul', {\n    staticClass: \"list\",\n    attrs: {\n      \"id\": \"file-list\"\n    }\n  }, [_l((files), function(file) {\n    return _h('li', {\n      class: {\n        active: file == selectedFile\n      },\n      attrs: {\n        \"data-bind\": \"attr: {id: attrId}, css: {active: isActive},\\n                      event: {contextmenu: $parents[0].setActive.bind($data)}\"\n      },\n      on: {\n        \"click\": function($event) {\n          selectedFile = file\n        },\n        \"dblclick\": function($event) {\n          openFileInEditor(file)\n        }\n      }\n    }, [_m(1, true), \" \", _h('span', [_s(file.fileName)])])\n  })])])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"box-title\"\n  }, [\"Workspace\"])\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon glyphicon-file\"\n  })\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-bb1c7de2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Workspace.vue\n ** module id = 136\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    attrs: {\n      \"id\": \"app\"\n    },\n    on: {\n      \"contextmenu\": function($event) {\n        $event.preventDefault();\n      }\n    }\n  }, [_h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (about.show),\n      expression: \"about.show\"\n    }],\n    attrs: {\n      \"id\": \"about-mask\"\n    }\n  }, [_h('div', {\n    staticClass: \"mask-backdrop\",\n    on: {\n      \"click\": hideAbout\n    }\n  }), \" \", _m(0)]), \" \", \" \", _h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (renameDialog.show),\n      expression: \"renameDialog.show\"\n    }],\n    attrs: {\n      \"id\": \"dialog-mask\"\n    }\n  }, [_h('div', {\n    staticClass: \"dialog\",\n    attrs: {\n      \"id\": \"rename-dialog\"\n    }\n  }, [_m(1), \" \", _h('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (renameDialog.name),\n      expression: \"renameDialog.name\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"filename\"\n    },\n    domProps: {\n      \"value\": _s(renameDialog.name)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) return;\n        renameDialog.name = $event.target.value\n      }\n    }\n  }), \" \", _m(2), \" \", _h('div', {\n    staticClass: \"dialog-btn-group\"\n  }, [_h('button', {\n    staticClass: \"dialog-btn\",\n    attrs: {\n      \"id\": \"rename-cancel\"\n    },\n    on: {\n      \"click\": onRenameCancel\n    }\n  }, [\"Cancel\"]), \" \", _h('button', {\n    staticClass: \"dialog-btn\",\n    attrs: {\n      \"id\": \"rename-confirm\"\n    },\n    on: {\n      \"click\": onRenameConfirm\n    }\n  }, [\"Confirm\"])])])]), \" \", _h('tool-bar'), \" \", _h('layout'), \" \", _h('div', {\n    attrs: {\n      \"id\": \"footer\"\n    }\n  }, [(ui.mode != 'compile') ? _h('div', {\n    staticClass: \"footer-text footer-btn\",\n    class: {\n      active: workspace.open\n    },\n    on: {\n      \"click\": toggleWorkspace\n    }\n  }, [\"Workspace\\n    \"]) : _e(), \" \", _h('div', {\n    staticClass: \"footer-text footer-btn\",\n    class: {\n      active: console.open\n    },\n    on: {\n      \"click\": toggleConsole\n    }\n  }, [\"Output\\n    \"]), \" \", (ui.mode == 'compile') ? _h('div', {\n    staticClass: \"footer-text footer-btn\",\n    class: {\n      active: parseTree.open\n    },\n    on: {\n      \"click\": toggleParseTree\n    }\n  }, [\"Syntax Tree\\n    \"]) : _e(), \" \", (ui.mode == 'compile') ? _h('div', {\n    staticClass: \"footer-text footer-btn\",\n    class: {\n      active: symbolTable.open\n    },\n    on: {\n      \"click\": toggleSymbolTable\n    }\n  }, [\"Symbol Table\\n    \"]) : _e(), \" \", (currentCursorPos) ? _h('div', {\n    staticClass: \"footer-text\",\n    attrs: {\n      \"id\": \"cursor-position\"\n    }\n  }, [_s(currentCursorPos.line + 1) + \":\" + _s(currentCursorPos.ch + 1) + \"\\n    \"]) : _e(), \" \", _h('div', {\n    staticClass: \"footer-text footer-btn\",\n    class: {\n      active: about.show\n    },\n    attrs: {\n      \"style\": \"float: right;margin: 0 1px 0 0;\"\n    },\n    on: {\n      \"click\": toggleAbout\n    }\n  }, [\"About\\n    \"])])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"dialog\",\n    attrs: {\n      \"id\": \"about-dialog\"\n    }\n  }, [_h('div', {\n    staticClass: \"dialog-banner\"\n  }, [_h('h1', [_h('span', {\n    staticClass: \"glyphicon glyphicon-console\"\n  }), \" Compiler\"]), \" \", _h('p', [\"Presented by \", _h('a', {\n    attrs: {\n      \"href\": \"https://github.com/SevenOutman\",\n      \"target\": \"_blank\"\n    }\n  }, [\"SevenOutman\"]), \". Compiler implemented\\n          by \", _h('a', {\n    attrs: {\n      \"href\": \"https://github.com/ExinCoda\",\n      \"target\": \"_blank\"\n    }\n  }, [\"ExinCoda\"]), \".\"])])])\n}},function (){with(this) {\n  return _h('p', [\"New name:\"])\n}},function (){with(this) {\n  return _h('p', [\"File type: .toy\"])\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-c9051204!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 137\n ** module chunks = 2\n **/","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"right-box resizable\",\n    style: ({\n      width: width + 'px'\n    }),\n    on: {\n      \"click\": function($event) {\n        $emit('click')\n      }\n    }\n  }, [_h('resizer', {\n    attrs: {\n      \"type\": \"vertical\"\n    },\n    on: {\n      \"resizer:begin\": onResizeBegin,\n      \"resizer:resize\": onResize\n    }\n  }), \" \", _h('div', {\n    staticClass: \"box-header\"\n  }, [_m(0), \" \", _h('span', {\n    staticClass: \"box-caret glyphicon glyphicon-menu-right\",\n    on: {\n      \"click\": function($event) {\n        $emit('symbol-table:close')\n      }\n    }\n  })]), \" \", _h('div', {\n    staticClass: \"box-body\"\n  }, [_h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (symbols.length < 1),\n      expression: \"symbols.length < 1\"\n    }],\n    staticClass: \"placeholder\"\n  }, [\"Nothing to show\"]), \" \", _h('ul', {\n    staticClass: \"list\",\n    attrs: {\n      \"id\": \"symbol-list\"\n    }\n  }, [_l((symbols), function(symbol) {\n    return [_h('li', {\n      attrs: {\n        \"data-bind\": \"attr: {id: attrId}, css: {active: isActive}, event: {click: $parents[0].setActive.bind($data), dblclick: toggle}\"\n      }\n    }, [_m(1), \" \", _h('span', [_s(symbol.name)]), \" \", _h('span', {\n      staticClass: \"extra\",\n      attrs: {\n        \"data-bind\": \"text: rowText\"\n      }\n    }, [\"type: \" + _s(symbol.type || 'unknown') + \", occurance: \" + _s(symbol.positions.length)])]), \" \", _l((symbol.positions), function(position, $index) {\n      return _h('li', {\n        staticClass: \"position-row\",\n        attrs: {\n          \"data-bind\": \"text: rowText, visible: $parents[0].isOpen, css: {active: isActive}, click: $parents[1].setActive.bind($data)\"\n        }\n      }, [\"\\n          [\" + _s($index + 1) + \"] line: \" + _s(position.first_row) + \", ch: \" + _s(position.first_col) + \"\\n        \"])\n    }), \" \"]\n  })])])])\n}},staticRenderFns: [function (){with(this) {\n  return _h('div', {\n    staticClass: \"box-title\"\n  }, [\"Symbol Table\"])\n}},function (){with(this) {\n  return _h('span', {\n    staticClass: \"glyphicon li-caret\",\n    attrs: {\n      \"data-bind\": \"css: {'glyphicon-triangle-right': !isOpen(), 'glyphicon-triangle-bottom': isOpen}, click: toggle\"\n    }\n  })\n}}]}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-loader/lib/template-compiler.js?id=data-v-ceec9ee0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/SymbolTable.vue\n ** module id = 138\n ** module chunks = 2\n **/"],"sourceRoot":""}